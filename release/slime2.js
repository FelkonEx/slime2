(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var zp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function es(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function tP(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var Zw={exports:{}},bu={},ex={exports:{}},Z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zo=Symbol.for("react.element"),rP=Symbol.for("react.portal"),nP=Symbol.for("react.fragment"),iP=Symbol.for("react.strict_mode"),sP=Symbol.for("react.profiler"),oP=Symbol.for("react.provider"),aP=Symbol.for("react.context"),lP=Symbol.for("react.forward_ref"),uP=Symbol.for("react.suspense"),cP=Symbol.for("react.memo"),dP=Symbol.for("react.lazy"),ey=Symbol.iterator;function hP(t){return t===null||typeof t!="object"?null:(t=ey&&t[ey]||t["@@iterator"],typeof t=="function"?t:null)}var tx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},rx=Object.assign,nx={};function ts(t,e,r){this.props=t,this.context=e,this.refs=nx,this.updater=r||tx}ts.prototype.isReactComponent={};ts.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ts.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ix(){}ix.prototype=ts.prototype;function Gp(t,e,r){this.props=t,this.context=e,this.refs=nx,this.updater=r||tx}var Wp=Gp.prototype=new ix;Wp.constructor=Gp;rx(Wp,ts.prototype);Wp.isPureReactComponent=!0;var ty=Array.isArray,sx=Object.prototype.hasOwnProperty,Qp={current:null},ox={key:!0,ref:!0,__self:!0,__source:!0};function ax(t,e,r){var n,i={},s=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)sx.call(e,n)&&!ox.hasOwnProperty(n)&&(i[n]=e[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:zo,type:t,key:s,ref:o,props:i,_owner:Qp.current}}function fP(t,e){return{$$typeof:zo,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Kp(t){return typeof t=="object"&&t!==null&&t.$$typeof===zo}function pP(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var ry=/\/+/g;function xc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?pP(""+t.key):e.toString(36)}function Ua(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case zo:case rP:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+xc(o,0):n,ty(i)?(r="",t!=null&&(r=t.replace(ry,"$&/")+"/"),Ua(i,e,r,"",function(u){return u})):i!=null&&(Kp(i)&&(i=fP(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(ry,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",ty(t))for(var a=0;a<t.length;a++){s=t[a];var l=n+xc(s,a);o+=Ua(s,e,r,l,i)}else if(l=hP(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=n+xc(s,a++),o+=Ua(s,e,r,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ha(t,e,r){if(t==null)return t;var n=[],i=0;return Ua(t,n,"","",function(s){return e.call(r,s,i++)}),n}function mP(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var rt={current:null},Fa={transition:null},gP={ReactCurrentDispatcher:rt,ReactCurrentBatchConfig:Fa,ReactCurrentOwner:Qp};Z.Children={map:ha,forEach:function(t,e,r){ha(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return ha(t,function(){e++}),e},toArray:function(t){return ha(t,function(e){return e})||[]},only:function(t){if(!Kp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Z.Component=ts;Z.Fragment=nP;Z.Profiler=sP;Z.PureComponent=Gp;Z.StrictMode=iP;Z.Suspense=uP;Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gP;Z.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=rx({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Qp.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)sx.call(e,l)&&!ox.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:zo,type:t.type,key:i,ref:s,props:n,_owner:o}};Z.createContext=function(t){return t={$$typeof:aP,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:oP,_context:t},t.Consumer=t};Z.createElement=ax;Z.createFactory=function(t){var e=ax.bind(null,t);return e.type=t,e};Z.createRef=function(){return{current:null}};Z.forwardRef=function(t){return{$$typeof:lP,render:t}};Z.isValidElement=Kp;Z.lazy=function(t){return{$$typeof:dP,_payload:{_status:-1,_result:t},_init:mP}};Z.memo=function(t,e){return{$$typeof:cP,type:t,compare:e===void 0?null:e}};Z.startTransition=function(t){var e=Fa.transition;Fa.transition={};try{t()}finally{Fa.transition=e}};Z.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Z.useCallback=function(t,e){return rt.current.useCallback(t,e)};Z.useContext=function(t){return rt.current.useContext(t)};Z.useDebugValue=function(){};Z.useDeferredValue=function(t){return rt.current.useDeferredValue(t)};Z.useEffect=function(t,e){return rt.current.useEffect(t,e)};Z.useId=function(){return rt.current.useId()};Z.useImperativeHandle=function(t,e,r){return rt.current.useImperativeHandle(t,e,r)};Z.useInsertionEffect=function(t,e){return rt.current.useInsertionEffect(t,e)};Z.useLayoutEffect=function(t,e){return rt.current.useLayoutEffect(t,e)};Z.useMemo=function(t,e){return rt.current.useMemo(t,e)};Z.useReducer=function(t,e,r){return rt.current.useReducer(t,e,r)};Z.useRef=function(t){return rt.current.useRef(t)};Z.useState=function(t){return rt.current.useState(t)};Z.useSyncExternalStore=function(t,e,r){return rt.current.useSyncExternalStore(t,e,r)};Z.useTransition=function(){return rt.current.useTransition()};Z.version="18.2.0";ex.exports=Z;var U=ex.exports;const Yp=es(U);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yP=U,vP=Symbol.for("react.element"),_P=Symbol.for("react.fragment"),wP=Object.prototype.hasOwnProperty,xP=yP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,SP={key:!0,ref:!0,__self:!0,__source:!0};function lx(t,e,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)wP.call(e,n)&&!SP.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:vP,type:t,key:s,ref:o,props:i,_owner:xP.current}}bu.Fragment=_P;bu.jsx=lx;bu.jsxs=lx;Zw.exports=bu;var ue=Zw.exports,zh={},ux={exports:{}},_t={},cx={exports:{}},dx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,F){var W=L.length;L.push(F);e:for(;0<W;){var H=W-1>>>1,ae=L[H];if(0<i(ae,F))L[H]=F,L[W]=ae,W=H;else break e}}function r(L){return L.length===0?null:L[0]}function n(L){if(L.length===0)return null;var F=L[0],W=L.pop();if(W!==F){L[0]=W;e:for(var H=0,ae=L.length,or=ae>>>1;H<or;){var st=2*(H+1)-1,Tr=L[st],Ge=st+1,ar=L[Ge];if(0>i(Tr,W))Ge<ae&&0>i(ar,Tr)?(L[H]=ar,L[Ge]=W,H=Ge):(L[H]=Tr,L[st]=W,H=st);else if(Ge<ae&&0>i(ar,W))L[H]=ar,L[Ge]=W,H=Ge;else break e}}return F}function i(L,F){var W=L.sortIndex-F.sortIndex;return W!==0?W:L.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,d=3,p=!1,m=!1,_=!1,w=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(L){for(var F=r(u);F!==null;){if(F.callback===null)n(u);else if(F.startTime<=L)n(u),F.sortIndex=F.expirationTime,e(l,F);else break;F=r(u)}}function x(L){if(_=!1,y(L),!m)if(r(l)!==null)m=!0,V(b);else{var F=r(u);F!==null&&de(x,F.startTime-L)}}function b(L,F){m=!1,_&&(_=!1,v(A),A=-1),p=!0;var W=d;try{for(y(F),h=r(l);h!==null&&(!(h.expirationTime>F)||L&&!K());){var H=h.callback;if(typeof H=="function"){h.callback=null,d=h.priorityLevel;var ae=H(h.expirationTime<=F);F=t.unstable_now(),typeof ae=="function"?h.callback=ae:h===r(l)&&n(l),y(F)}else n(l);h=r(l)}if(h!==null)var or=!0;else{var st=r(u);st!==null&&de(x,st.startTime-F),or=!1}return or}finally{h=null,d=W,p=!1}}var R=!1,O=null,A=-1,B=5,j=-1;function K(){return!(t.unstable_now()-j<B)}function oe(){if(O!==null){var L=t.unstable_now();j=L;var F=!0;try{F=O(!0,L)}finally{F?ee():(R=!1,O=null)}}else R=!1}var ee;if(typeof g=="function")ee=function(){g(oe)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,I=T.port2;T.port1.onmessage=oe,ee=function(){I.postMessage(null)}}else ee=function(){w(oe,0)};function V(L){O=L,R||(R=!0,ee())}function de(L,F){A=w(function(){L(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,V(b))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(L){switch(d){case 1:case 2:case 3:var F=3;break;default:F=d}var W=d;d=F;try{return L()}finally{d=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,F){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var W=d;d=L;try{return F()}finally{d=W}},t.unstable_scheduleCallback=function(L,F,W){var H=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?H+W:H):W=H,L){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=W+ae,L={id:c++,callback:F,priorityLevel:L,startTime:W,expirationTime:ae,sortIndex:-1},W>H?(L.sortIndex=W,e(u,L),r(l)===null&&L===r(u)&&(_?(v(A),A=-1):_=!0,de(x,W-H))):(L.sortIndex=ae,e(l,L),m||p||(m=!0,V(b))),L},t.unstable_shouldYield=K,t.unstable_wrapCallback=function(L){var F=d;return function(){var W=d;d=F;try{return L.apply(this,arguments)}finally{d=W}}}})(dx);cx.exports=dx;var CP=cx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hx=U,yt=CP;function N(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var fx=new Set,Ys={};function Kn(t,e){Fi(t,e),Fi(t+"Capture",e)}function Fi(t,e){for(Ys[t]=e,t=0;t<e.length;t++)fx.add(e[t])}var vr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gh=Object.prototype.hasOwnProperty,bP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ny={},iy={};function TP(t){return Gh.call(iy,t)?!0:Gh.call(ny,t)?!1:bP.test(t)?iy[t]=!0:(ny[t]=!0,!1)}function EP(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function PP(t,e,r,n){if(e===null||typeof e>"u"||EP(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function nt(t,e,r,n,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var ze={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ze[t]=new nt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ze[e]=new nt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ze[t]=new nt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ze[t]=new nt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ze[t]=new nt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ze[t]=new nt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ze[t]=new nt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ze[t]=new nt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ze[t]=new nt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Jp=/[\-:]([a-z])/g;function Xp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Jp,Xp);ze[e]=new nt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Jp,Xp);ze[e]=new nt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Jp,Xp);ze[e]=new nt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ze[t]=new nt(t,1,!1,t.toLowerCase(),null,!1,!1)});ze.xlinkHref=new nt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ze[t]=new nt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Zp(t,e,r,n){var i=ze.hasOwnProperty(e)?ze[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(PP(e,r,i,n)&&(r=null),n||i===null?TP(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Cr=hx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fa=Symbol.for("react.element"),ui=Symbol.for("react.portal"),ci=Symbol.for("react.fragment"),em=Symbol.for("react.strict_mode"),Wh=Symbol.for("react.profiler"),px=Symbol.for("react.provider"),mx=Symbol.for("react.context"),tm=Symbol.for("react.forward_ref"),Qh=Symbol.for("react.suspense"),Kh=Symbol.for("react.suspense_list"),rm=Symbol.for("react.memo"),Lr=Symbol.for("react.lazy"),gx=Symbol.for("react.offscreen"),sy=Symbol.iterator;function hs(t){return t===null||typeof t!="object"?null:(t=sy&&t[sy]||t["@@iterator"],typeof t=="function"?t:null)}var Ee=Object.assign,Sc;function Es(t){if(Sc===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Sc=e&&e[1]||""}return`
`+Sc+t}var Cc=!1;function bc(t,e){if(!t||Cc)return"";Cc=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Cc=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Es(t):""}function AP(t){switch(t.tag){case 5:return Es(t.type);case 16:return Es("Lazy");case 13:return Es("Suspense");case 19:return Es("SuspenseList");case 0:case 2:case 15:return t=bc(t.type,!1),t;case 11:return t=bc(t.type.render,!1),t;case 1:return t=bc(t.type,!0),t;default:return""}}function Yh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ci:return"Fragment";case ui:return"Portal";case Wh:return"Profiler";case em:return"StrictMode";case Qh:return"Suspense";case Kh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case mx:return(t.displayName||"Context")+".Consumer";case px:return(t._context.displayName||"Context")+".Provider";case tm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case rm:return e=t.displayName||null,e!==null?e:Yh(t.type)||"Memo";case Lr:e=t._payload,t=t._init;try{return Yh(t(e))}catch{}}return null}function IP(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Yh(e);case 8:return e===em?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function on(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function yx(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function kP(t){var e=yx(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function pa(t){t._valueTracker||(t._valueTracker=kP(t))}function vx(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=yx(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function ul(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Jh(t,e){var r=e.checked;return Ee({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function oy(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=on(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function _x(t,e){e=e.checked,e!=null&&Zp(t,"checked",e,!1)}function Xh(t,e){_x(t,e);var r=on(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Zh(t,e.type,r):e.hasOwnProperty("defaultValue")&&Zh(t,e.type,on(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ay(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Zh(t,e,r){(e!=="number"||ul(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Ps=Array.isArray;function Ei(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+on(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function ef(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(N(91));return Ee({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ly(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(N(92));if(Ps(r)){if(1<r.length)throw Error(N(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:on(r)}}function wx(t,e){var r=on(e.value),n=on(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function uy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function xx(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?xx(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ma,Sx=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ma=ma||document.createElement("div"),ma.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ma.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Js(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Ms={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},RP=["Webkit","ms","Moz","O"];Object.keys(Ms).forEach(function(t){RP.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ms[e]=Ms[t]})});function Cx(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Ms.hasOwnProperty(t)&&Ms[t]?(""+e).trim():e+"px"}function bx(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=Cx(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var MP=Ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rf(t,e){if(e){if(MP[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(N(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(N(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(N(61))}if(e.style!=null&&typeof e.style!="object")throw Error(N(62))}}function nf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sf=null;function nm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var of=null,Pi=null,Ai=null;function cy(t){if(t=Qo(t)){if(typeof of!="function")throw Error(N(280));var e=t.stateNode;e&&(e=Iu(e),of(t.stateNode,t.type,e))}}function Tx(t){Pi?Ai?Ai.push(t):Ai=[t]:Pi=t}function Ex(){if(Pi){var t=Pi,e=Ai;if(Ai=Pi=null,cy(t),e)for(t=0;t<e.length;t++)cy(e[t])}}function Px(t,e){return t(e)}function Ax(){}var Tc=!1;function Ix(t,e,r){if(Tc)return t(e,r);Tc=!0;try{return Px(t,e,r)}finally{Tc=!1,(Pi!==null||Ai!==null)&&(Ax(),Ex())}}function Xs(t,e){var r=t.stateNode;if(r===null)return null;var n=Iu(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(N(231,e,typeof r));return r}var af=!1;if(vr)try{var fs={};Object.defineProperty(fs,"passive",{get:function(){af=!0}}),window.addEventListener("test",fs,fs),window.removeEventListener("test",fs,fs)}catch{af=!1}function OP(t,e,r,n,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(c){this.onError(c)}}var Os=!1,cl=null,dl=!1,lf=null,DP={onError:function(t){Os=!0,cl=t}};function NP(t,e,r,n,i,s,o,a,l){Os=!1,cl=null,OP.apply(DP,arguments)}function BP(t,e,r,n,i,s,o,a,l){if(NP.apply(this,arguments),Os){if(Os){var u=cl;Os=!1,cl=null}else throw Error(N(198));dl||(dl=!0,lf=u)}}function Yn(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function kx(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function dy(t){if(Yn(t)!==t)throw Error(N(188))}function LP(t){var e=t.alternate;if(!e){if(e=Yn(t),e===null)throw Error(N(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return dy(i),t;if(s===n)return dy(i),e;s=s.sibling}throw Error(N(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o)throw Error(N(189))}}if(r.alternate!==n)throw Error(N(190))}if(r.tag!==3)throw Error(N(188));return r.stateNode.current===r?t:e}function Rx(t){return t=LP(t),t!==null?Mx(t):null}function Mx(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Mx(t);if(e!==null)return e;t=t.sibling}return null}var Ox=yt.unstable_scheduleCallback,hy=yt.unstable_cancelCallback,UP=yt.unstable_shouldYield,FP=yt.unstable_requestPaint,ke=yt.unstable_now,jP=yt.unstable_getCurrentPriorityLevel,im=yt.unstable_ImmediatePriority,Dx=yt.unstable_UserBlockingPriority,hl=yt.unstable_NormalPriority,$P=yt.unstable_LowPriority,Nx=yt.unstable_IdlePriority,Tu=null,Zt=null;function qP(t){if(Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(Tu,t,void 0,(t.current.flags&128)===128)}catch{}}var $t=Math.clz32?Math.clz32:zP,VP=Math.log,HP=Math.LN2;function zP(t){return t>>>=0,t===0?32:31-(VP(t)/HP|0)|0}var ga=64,ya=4194304;function As(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function fl(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~i;a!==0?n=As(a):(s&=o,s!==0&&(n=As(s)))}else o=r&~i,o!==0?n=As(o):s!==0&&(n=As(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-$t(e),i=1<<r,n|=t[r],e&=~i;return n}function GP(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function WP(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-$t(s),a=1<<o,l=i[o];l===-1?(!(a&r)||a&n)&&(i[o]=GP(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function uf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Bx(){var t=ga;return ga<<=1,!(ga&4194240)&&(ga=64),t}function Ec(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Go(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-$t(e),t[e]=r}function QP(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-$t(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function sm(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-$t(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var he=0;function Lx(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Ux,om,Fx,jx,$x,cf=!1,va=[],Qr=null,Kr=null,Yr=null,Zs=new Map,eo=new Map,jr=[],KP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fy(t,e){switch(t){case"focusin":case"focusout":Qr=null;break;case"dragenter":case"dragleave":Kr=null;break;case"mouseover":case"mouseout":Yr=null;break;case"pointerover":case"pointerout":Zs.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":eo.delete(e.pointerId)}}function ps(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Qo(e),e!==null&&om(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function YP(t,e,r,n,i){switch(e){case"focusin":return Qr=ps(Qr,t,e,r,n,i),!0;case"dragenter":return Kr=ps(Kr,t,e,r,n,i),!0;case"mouseover":return Yr=ps(Yr,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return Zs.set(s,ps(Zs.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,eo.set(s,ps(eo.get(s)||null,t,e,r,n,i)),!0}return!1}function qx(t){var e=En(t.target);if(e!==null){var r=Yn(e);if(r!==null){if(e=r.tag,e===13){if(e=kx(r),e!==null){t.blockedOn=e,$x(t.priority,function(){Fx(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ja(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=df(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);sf=n,r.target.dispatchEvent(n),sf=null}else return e=Qo(r),e!==null&&om(e),t.blockedOn=r,!1;e.shift()}return!0}function py(t,e,r){ja(t)&&r.delete(e)}function JP(){cf=!1,Qr!==null&&ja(Qr)&&(Qr=null),Kr!==null&&ja(Kr)&&(Kr=null),Yr!==null&&ja(Yr)&&(Yr=null),Zs.forEach(py),eo.forEach(py)}function ms(t,e){t.blockedOn===e&&(t.blockedOn=null,cf||(cf=!0,yt.unstable_scheduleCallback(yt.unstable_NormalPriority,JP)))}function to(t){function e(i){return ms(i,t)}if(0<va.length){ms(va[0],t);for(var r=1;r<va.length;r++){var n=va[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Qr!==null&&ms(Qr,t),Kr!==null&&ms(Kr,t),Yr!==null&&ms(Yr,t),Zs.forEach(e),eo.forEach(e),r=0;r<jr.length;r++)n=jr[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<jr.length&&(r=jr[0],r.blockedOn===null);)qx(r),r.blockedOn===null&&jr.shift()}var Ii=Cr.ReactCurrentBatchConfig,pl=!0;function XP(t,e,r,n){var i=he,s=Ii.transition;Ii.transition=null;try{he=1,am(t,e,r,n)}finally{he=i,Ii.transition=s}}function ZP(t,e,r,n){var i=he,s=Ii.transition;Ii.transition=null;try{he=4,am(t,e,r,n)}finally{he=i,Ii.transition=s}}function am(t,e,r,n){if(pl){var i=df(t,e,r,n);if(i===null)Bc(t,e,n,ml,r),fy(t,n);else if(YP(i,t,e,r,n))n.stopPropagation();else if(fy(t,n),e&4&&-1<KP.indexOf(t)){for(;i!==null;){var s=Qo(i);if(s!==null&&Ux(s),s=df(t,e,r,n),s===null&&Bc(t,e,n,ml,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else Bc(t,e,n,null,r)}}var ml=null;function df(t,e,r,n){if(ml=null,t=nm(n),t=En(t),t!==null)if(e=Yn(t),e===null)t=null;else if(r=e.tag,r===13){if(t=kx(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ml=t,null}function Vx(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jP()){case im:return 1;case Dx:return 4;case hl:case $P:return 16;case Nx:return 536870912;default:return 16}default:return 16}}var Hr=null,lm=null,$a=null;function Hx(){if($a)return $a;var t,e=lm,r=e.length,n,i="value"in Hr?Hr.value:Hr.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[s-n];n++);return $a=i.slice(t,1<n?1-n:void 0)}function qa(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function _a(){return!0}function my(){return!1}function wt(t){function e(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?_a:my,this.isPropagationStopped=my,this}return Ee(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=_a)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=_a)},persist:function(){},isPersistent:_a}),e}var rs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},um=wt(rs),Wo=Ee({},rs,{view:0,detail:0}),eA=wt(Wo),Pc,Ac,gs,Eu=Ee({},Wo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==gs&&(gs&&t.type==="mousemove"?(Pc=t.screenX-gs.screenX,Ac=t.screenY-gs.screenY):Ac=Pc=0,gs=t),Pc)},movementY:function(t){return"movementY"in t?t.movementY:Ac}}),gy=wt(Eu),tA=Ee({},Eu,{dataTransfer:0}),rA=wt(tA),nA=Ee({},Wo,{relatedTarget:0}),Ic=wt(nA),iA=Ee({},rs,{animationName:0,elapsedTime:0,pseudoElement:0}),sA=wt(iA),oA=Ee({},rs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),aA=wt(oA),lA=Ee({},rs,{data:0}),yy=wt(lA),uA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=dA[t])?!!e[t]:!1}function cm(){return hA}var fA=Ee({},Wo,{key:function(t){if(t.key){var e=uA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=qa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?cA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cm,charCode:function(t){return t.type==="keypress"?qa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),pA=wt(fA),mA=Ee({},Eu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vy=wt(mA),gA=Ee({},Wo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cm}),yA=wt(gA),vA=Ee({},rs,{propertyName:0,elapsedTime:0,pseudoElement:0}),_A=wt(vA),wA=Ee({},Eu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),xA=wt(wA),SA=[9,13,27,32],dm=vr&&"CompositionEvent"in window,Ds=null;vr&&"documentMode"in document&&(Ds=document.documentMode);var CA=vr&&"TextEvent"in window&&!Ds,zx=vr&&(!dm||Ds&&8<Ds&&11>=Ds),_y=String.fromCharCode(32),wy=!1;function Gx(t,e){switch(t){case"keyup":return SA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wx(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var di=!1;function bA(t,e){switch(t){case"compositionend":return Wx(e);case"keypress":return e.which!==32?null:(wy=!0,_y);case"textInput":return t=e.data,t===_y&&wy?null:t;default:return null}}function TA(t,e){if(di)return t==="compositionend"||!dm&&Gx(t,e)?(t=Hx(),$a=lm=Hr=null,di=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return zx&&e.locale!=="ko"?null:e.data;default:return null}}var EA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!EA[t.type]:e==="textarea"}function Qx(t,e,r,n){Tx(n),e=gl(e,"onChange"),0<e.length&&(r=new um("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Ns=null,ro=null;function PA(t){sS(t,0)}function Pu(t){var e=pi(t);if(vx(e))return t}function AA(t,e){if(t==="change")return e}var Kx=!1;if(vr){var kc;if(vr){var Rc="oninput"in document;if(!Rc){var Sy=document.createElement("div");Sy.setAttribute("oninput","return;"),Rc=typeof Sy.oninput=="function"}kc=Rc}else kc=!1;Kx=kc&&(!document.documentMode||9<document.documentMode)}function Cy(){Ns&&(Ns.detachEvent("onpropertychange",Yx),ro=Ns=null)}function Yx(t){if(t.propertyName==="value"&&Pu(ro)){var e=[];Qx(e,ro,t,nm(t)),Ix(PA,e)}}function IA(t,e,r){t==="focusin"?(Cy(),Ns=e,ro=r,Ns.attachEvent("onpropertychange",Yx)):t==="focusout"&&Cy()}function kA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Pu(ro)}function RA(t,e){if(t==="click")return Pu(e)}function MA(t,e){if(t==="input"||t==="change")return Pu(e)}function OA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ht=typeof Object.is=="function"?Object.is:OA;function no(t,e){if(Ht(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Gh.call(e,i)||!Ht(t[i],e[i]))return!1}return!0}function by(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ty(t,e){var r=by(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=by(r)}}function Jx(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Jx(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Xx(){for(var t=window,e=ul();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=ul(t.document)}return e}function hm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function DA(t){var e=Xx(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Jx(r.ownerDocument.documentElement,r)){if(n!==null&&hm(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=Ty(r,s);var o=Ty(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var NA=vr&&"documentMode"in document&&11>=document.documentMode,hi=null,hf=null,Bs=null,ff=!1;function Ey(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ff||hi==null||hi!==ul(n)||(n=hi,"selectionStart"in n&&hm(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Bs&&no(Bs,n)||(Bs=n,n=gl(hf,"onSelect"),0<n.length&&(e=new um("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=hi)))}function wa(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var fi={animationend:wa("Animation","AnimationEnd"),animationiteration:wa("Animation","AnimationIteration"),animationstart:wa("Animation","AnimationStart"),transitionend:wa("Transition","TransitionEnd")},Mc={},Zx={};vr&&(Zx=document.createElement("div").style,"AnimationEvent"in window||(delete fi.animationend.animation,delete fi.animationiteration.animation,delete fi.animationstart.animation),"TransitionEvent"in window||delete fi.transitionend.transition);function Au(t){if(Mc[t])return Mc[t];if(!fi[t])return t;var e=fi[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Zx)return Mc[t]=e[r];return t}var eS=Au("animationend"),tS=Au("animationiteration"),rS=Au("animationstart"),nS=Au("transitionend"),iS=new Map,Py="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function pn(t,e){iS.set(t,e),Kn(e,[t])}for(var Oc=0;Oc<Py.length;Oc++){var Dc=Py[Oc],BA=Dc.toLowerCase(),LA=Dc[0].toUpperCase()+Dc.slice(1);pn(BA,"on"+LA)}pn(eS,"onAnimationEnd");pn(tS,"onAnimationIteration");pn(rS,"onAnimationStart");pn("dblclick","onDoubleClick");pn("focusin","onFocus");pn("focusout","onBlur");pn(nS,"onTransitionEnd");Fi("onMouseEnter",["mouseout","mouseover"]);Fi("onMouseLeave",["mouseout","mouseover"]);Fi("onPointerEnter",["pointerout","pointerover"]);Fi("onPointerLeave",["pointerout","pointerover"]);Kn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Kn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Kn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Kn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Kn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Kn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Is="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UA=new Set("cancel close invalid load scroll toggle".split(" ").concat(Is));function Ay(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,BP(n,e,void 0,t),t.currentTarget=null}function sS(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Ay(i,a,u),s=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Ay(i,a,u),s=l}}}if(dl)throw t=lf,dl=!1,lf=null,t}function ye(t,e){var r=e[vf];r===void 0&&(r=e[vf]=new Set);var n=t+"__bubble";r.has(n)||(oS(e,t,2,!1),r.add(n))}function Nc(t,e,r){var n=0;e&&(n|=4),oS(r,t,n,e)}var xa="_reactListening"+Math.random().toString(36).slice(2);function io(t){if(!t[xa]){t[xa]=!0,fx.forEach(function(r){r!=="selectionchange"&&(UA.has(r)||Nc(r,!1,t),Nc(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[xa]||(e[xa]=!0,Nc("selectionchange",!1,e))}}function oS(t,e,r,n){switch(Vx(e)){case 1:var i=XP;break;case 4:i=ZP;break;default:i=am}r=i.bind(null,e,r,t),i=void 0,!af||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Bc(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=En(a),o===null)return;if(l=o.tag,l===5||l===6){n=s=o;continue e}a=a.parentNode}}n=n.return}Ix(function(){var u=s,c=nm(r),h=[];e:{var d=iS.get(t);if(d!==void 0){var p=um,m=t;switch(t){case"keypress":if(qa(r)===0)break e;case"keydown":case"keyup":p=pA;break;case"focusin":m="focus",p=Ic;break;case"focusout":m="blur",p=Ic;break;case"beforeblur":case"afterblur":p=Ic;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=gy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=rA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=yA;break;case eS:case tS:case rS:p=sA;break;case nS:p=_A;break;case"scroll":p=eA;break;case"wheel":p=xA;break;case"copy":case"cut":case"paste":p=aA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=vy}var _=(e&4)!==0,w=!_&&t==="scroll",v=_?d!==null?d+"Capture":null:d;_=[];for(var g=u,y;g!==null;){y=g;var x=y.stateNode;if(y.tag===5&&x!==null&&(y=x,v!==null&&(x=Xs(g,v),x!=null&&_.push(so(g,x,y)))),w)break;g=g.return}0<_.length&&(d=new p(d,m,null,r,c),h.push({event:d,listeners:_}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",d&&r!==sf&&(m=r.relatedTarget||r.fromElement)&&(En(m)||m[_r]))break e;if((p||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,p?(m=r.relatedTarget||r.toElement,p=u,m=m?En(m):null,m!==null&&(w=Yn(m),m!==w||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(_=gy,x="onMouseLeave",v="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(_=vy,x="onPointerLeave",v="onPointerEnter",g="pointer"),w=p==null?d:pi(p),y=m==null?d:pi(m),d=new _(x,g+"leave",p,r,c),d.target=w,d.relatedTarget=y,x=null,En(c)===u&&(_=new _(v,g+"enter",m,r,c),_.target=y,_.relatedTarget=w,x=_),w=x,p&&m)t:{for(_=p,v=m,g=0,y=_;y;y=ni(y))g++;for(y=0,x=v;x;x=ni(x))y++;for(;0<g-y;)_=ni(_),g--;for(;0<y-g;)v=ni(v),y--;for(;g--;){if(_===v||v!==null&&_===v.alternate)break t;_=ni(_),v=ni(v)}_=null}else _=null;p!==null&&Iy(h,d,p,_,!1),m!==null&&w!==null&&Iy(h,w,m,_,!0)}}e:{if(d=u?pi(u):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var b=AA;else if(xy(d))if(Kx)b=MA;else{b=kA;var R=IA}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(b=RA);if(b&&(b=b(t,u))){Qx(h,b,r,c);break e}R&&R(t,d,u),t==="focusout"&&(R=d._wrapperState)&&R.controlled&&d.type==="number"&&Zh(d,"number",d.value)}switch(R=u?pi(u):window,t){case"focusin":(xy(R)||R.contentEditable==="true")&&(hi=R,hf=u,Bs=null);break;case"focusout":Bs=hf=hi=null;break;case"mousedown":ff=!0;break;case"contextmenu":case"mouseup":case"dragend":ff=!1,Ey(h,r,c);break;case"selectionchange":if(NA)break;case"keydown":case"keyup":Ey(h,r,c)}var O;if(dm)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else di?Gx(t,r)&&(A="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(zx&&r.locale!=="ko"&&(di||A!=="onCompositionStart"?A==="onCompositionEnd"&&di&&(O=Hx()):(Hr=c,lm="value"in Hr?Hr.value:Hr.textContent,di=!0)),R=gl(u,A),0<R.length&&(A=new yy(A,t,null,r,c),h.push({event:A,listeners:R}),O?A.data=O:(O=Wx(r),O!==null&&(A.data=O)))),(O=CA?bA(t,r):TA(t,r))&&(u=gl(u,"onBeforeInput"),0<u.length&&(c=new yy("onBeforeInput","beforeinput",null,r,c),h.push({event:c,listeners:u}),c.data=O))}sS(h,e)})}function so(t,e,r){return{instance:t,listener:e,currentTarget:r}}function gl(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Xs(t,r),s!=null&&n.unshift(so(t,s,i)),s=Xs(t,e),s!=null&&n.push(so(t,s,i))),t=t.return}return n}function ni(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Iy(t,e,r,n,i){for(var s=e._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,i?(l=Xs(r,s),l!=null&&o.unshift(so(r,l,a))):i||(l=Xs(r,s),l!=null&&o.push(so(r,l,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var FA=/\r\n?/g,jA=/\u0000|\uFFFD/g;function ky(t){return(typeof t=="string"?t:""+t).replace(FA,`
`).replace(jA,"")}function Sa(t,e,r){if(e=ky(e),ky(t)!==e&&r)throw Error(N(425))}function yl(){}var pf=null,mf=null;function gf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var yf=typeof setTimeout=="function"?setTimeout:void 0,$A=typeof clearTimeout=="function"?clearTimeout:void 0,Ry=typeof Promise=="function"?Promise:void 0,qA=typeof queueMicrotask=="function"?queueMicrotask:typeof Ry<"u"?function(t){return Ry.resolve(null).then(t).catch(VA)}:yf;function VA(t){setTimeout(function(){throw t})}function Lc(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),to(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);to(e)}function Jr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function My(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var ns=Math.random().toString(36).slice(2),Jt="__reactFiber$"+ns,oo="__reactProps$"+ns,_r="__reactContainer$"+ns,vf="__reactEvents$"+ns,HA="__reactListeners$"+ns,zA="__reactHandles$"+ns;function En(t){var e=t[Jt];if(e)return e;for(var r=t.parentNode;r;){if(e=r[_r]||r[Jt]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=My(t);t!==null;){if(r=t[Jt])return r;t=My(t)}return e}t=r,r=t.parentNode}return null}function Qo(t){return t=t[Jt]||t[_r],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function pi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(N(33))}function Iu(t){return t[oo]||null}var _f=[],mi=-1;function mn(t){return{current:t}}function ve(t){0>mi||(t.current=_f[mi],_f[mi]=null,mi--)}function ge(t,e){mi++,_f[mi]=t.current,t.current=e}var an={},Xe=mn(an),ut=mn(!1),$n=an;function ji(t,e){var r=t.type.contextTypes;if(!r)return an;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ct(t){return t=t.childContextTypes,t!=null}function vl(){ve(ut),ve(Xe)}function Oy(t,e,r){if(Xe.current!==an)throw Error(N(168));ge(Xe,e),ge(ut,r)}function aS(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(N(108,IP(t)||"Unknown",i));return Ee({},r,n)}function _l(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||an,$n=Xe.current,ge(Xe,t),ge(ut,ut.current),!0}function Dy(t,e,r){var n=t.stateNode;if(!n)throw Error(N(169));r?(t=aS(t,e,$n),n.__reactInternalMemoizedMergedChildContext=t,ve(ut),ve(Xe),ge(Xe,t)):ve(ut),ge(ut,r)}var ur=null,ku=!1,Uc=!1;function lS(t){ur===null?ur=[t]:ur.push(t)}function GA(t){ku=!0,lS(t)}function gn(){if(!Uc&&ur!==null){Uc=!0;var t=0,e=he;try{var r=ur;for(he=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}ur=null,ku=!1}catch(i){throw ur!==null&&(ur=ur.slice(t+1)),Ox(im,gn),i}finally{he=e,Uc=!1}}return null}var gi=[],yi=0,wl=null,xl=0,St=[],Ct=0,qn=null,dr=1,hr="";function Sn(t,e){gi[yi++]=xl,gi[yi++]=wl,wl=t,xl=e}function uS(t,e,r){St[Ct++]=dr,St[Ct++]=hr,St[Ct++]=qn,qn=t;var n=dr;t=hr;var i=32-$t(n)-1;n&=~(1<<i),r+=1;var s=32-$t(e)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,dr=1<<32-$t(e)+i|r<<i|n,hr=s+t}else dr=1<<s|r<<i|n,hr=t}function fm(t){t.return!==null&&(Sn(t,1),uS(t,1,0))}function pm(t){for(;t===wl;)wl=gi[--yi],gi[yi]=null,xl=gi[--yi],gi[yi]=null;for(;t===qn;)qn=St[--Ct],St[Ct]=null,hr=St[--Ct],St[Ct]=null,dr=St[--Ct],St[Ct]=null}var gt=null,mt=null,Se=!1,Ut=null;function cS(t,e){var r=Tt(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Ny(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,gt=t,mt=Jr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,gt=t,mt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=qn!==null?{id:dr,overflow:hr}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Tt(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,gt=t,mt=null,!0):!1;default:return!1}}function wf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function xf(t){if(Se){var e=mt;if(e){var r=e;if(!Ny(t,e)){if(wf(t))throw Error(N(418));e=Jr(r.nextSibling);var n=gt;e&&Ny(t,e)?cS(n,r):(t.flags=t.flags&-4097|2,Se=!1,gt=t)}}else{if(wf(t))throw Error(N(418));t.flags=t.flags&-4097|2,Se=!1,gt=t}}}function By(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;gt=t}function Ca(t){if(t!==gt)return!1;if(!Se)return By(t),Se=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!gf(t.type,t.memoizedProps)),e&&(e=mt)){if(wf(t))throw dS(),Error(N(418));for(;e;)cS(t,e),e=Jr(e.nextSibling)}if(By(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(N(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){mt=Jr(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}mt=null}}else mt=gt?Jr(t.stateNode.nextSibling):null;return!0}function dS(){for(var t=mt;t;)t=Jr(t.nextSibling)}function $i(){mt=gt=null,Se=!1}function mm(t){Ut===null?Ut=[t]:Ut.push(t)}var WA=Cr.ReactCurrentBatchConfig;function Bt(t,e){if(t&&t.defaultProps){e=Ee({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var Sl=mn(null),Cl=null,vi=null,gm=null;function ym(){gm=vi=Cl=null}function vm(t){var e=Sl.current;ve(Sl),t._currentValue=e}function Sf(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function ki(t,e){Cl=t,gm=vi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(lt=!0),t.firstContext=null)}function kt(t){var e=t._currentValue;if(gm!==t)if(t={context:t,memoizedValue:e,next:null},vi===null){if(Cl===null)throw Error(N(308));vi=t,Cl.dependencies={lanes:0,firstContext:t}}else vi=vi.next=t;return e}var Pn=null;function _m(t){Pn===null?Pn=[t]:Pn.push(t)}function hS(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,_m(e)):(r.next=i.next,i.next=r),e.interleaved=r,wr(t,n)}function wr(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Ur=!1;function wm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function pr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Xr(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,ie&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,wr(t,r)}return i=n.interleaved,i===null?(e.next=e,_m(n)):(e.next=i.next,i.next=e),n.interleaved=e,wr(t,r)}function Va(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,sm(t,r)}}function Ly(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function bl(t,e,r,n){var i=t.updateQueue;Ur=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,c=u=l=null,a=s;do{var d=a.lane,p=a.eventTime;if((n&d)===d){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,_=a;switch(d=e,p=r,_.tag){case 1:if(m=_.payload,typeof m=="function"){h=m.call(p,h,d);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=_.payload,d=typeof m=="function"?m.call(p,h,d):m,d==null)break e;h=Ee({},h,d);break e;case 2:Ur=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else p={eventTime:p,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=h):c=c.next=p,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Hn|=o,t.lanes=o,t.memoizedState=h}}function Uy(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(N(191,i));i.call(n)}}}var pS=new hx.Component().refs;function Cf(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Ee({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Ru={isMounted:function(t){return(t=t._reactInternals)?Yn(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=tt(),i=en(t),s=pr(n,i);s.payload=e,r!=null&&(s.callback=r),e=Xr(t,s,i),e!==null&&(qt(e,t,i,n),Va(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=tt(),i=en(t),s=pr(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=Xr(t,s,i),e!==null&&(qt(e,t,i,n),Va(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=tt(),n=en(t),i=pr(r,n);i.tag=2,e!=null&&(i.callback=e),e=Xr(t,i,n),e!==null&&(qt(e,t,n,r),Va(e,t,n))}};function Fy(t,e,r,n,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,o):e.prototype&&e.prototype.isPureReactComponent?!no(r,n)||!no(i,s):!0}function mS(t,e,r){var n=!1,i=an,s=e.contextType;return typeof s=="object"&&s!==null?s=kt(s):(i=ct(e)?$n:Xe.current,n=e.contextTypes,s=(n=n!=null)?ji(t,i):an),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ru,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function jy(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Ru.enqueueReplaceState(e,e.state,null)}function bf(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs=pS,wm(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=kt(s):(s=ct(e)?$n:Xe.current,i.context=ji(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Cf(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Ru.enqueueReplaceState(i,i.state,null),bl(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ys(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(N(309));var n=r.stateNode}if(!n)throw Error(N(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===pS&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(N(284));if(!r._owner)throw Error(N(290,t))}return t}function ba(t,e){throw t=Object.prototype.toString.call(e),Error(N(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function $y(t){var e=t._init;return e(t._payload)}function gS(t){function e(v,g){if(t){var y=v.deletions;y===null?(v.deletions=[g],v.flags|=16):y.push(g)}}function r(v,g){if(!t)return null;for(;g!==null;)e(v,g),g=g.sibling;return null}function n(v,g){for(v=new Map;g!==null;)g.key!==null?v.set(g.key,g):v.set(g.index,g),g=g.sibling;return v}function i(v,g){return v=tn(v,g),v.index=0,v.sibling=null,v}function s(v,g,y){return v.index=y,t?(y=v.alternate,y!==null?(y=y.index,y<g?(v.flags|=2,g):y):(v.flags|=2,g)):(v.flags|=1048576,g)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,g,y,x){return g===null||g.tag!==6?(g=zc(y,v.mode,x),g.return=v,g):(g=i(g,y),g.return=v,g)}function l(v,g,y,x){var b=y.type;return b===ci?c(v,g,y.props.children,x,y.key):g!==null&&(g.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Lr&&$y(b)===g.type)?(x=i(g,y.props),x.ref=ys(v,g,y),x.return=v,x):(x=Ka(y.type,y.key,y.props,null,v.mode,x),x.ref=ys(v,g,y),x.return=v,x)}function u(v,g,y,x){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=Gc(y,v.mode,x),g.return=v,g):(g=i(g,y.children||[]),g.return=v,g)}function c(v,g,y,x,b){return g===null||g.tag!==7?(g=Dn(y,v.mode,x,b),g.return=v,g):(g=i(g,y),g.return=v,g)}function h(v,g,y){if(typeof g=="string"&&g!==""||typeof g=="number")return g=zc(""+g,v.mode,y),g.return=v,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case fa:return y=Ka(g.type,g.key,g.props,null,v.mode,y),y.ref=ys(v,null,g),y.return=v,y;case ui:return g=Gc(g,v.mode,y),g.return=v,g;case Lr:var x=g._init;return h(v,x(g._payload),y)}if(Ps(g)||hs(g))return g=Dn(g,v.mode,y,null),g.return=v,g;ba(v,g)}return null}function d(v,g,y,x){var b=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return b!==null?null:a(v,g,""+y,x);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case fa:return y.key===b?l(v,g,y,x):null;case ui:return y.key===b?u(v,g,y,x):null;case Lr:return b=y._init,d(v,g,b(y._payload),x)}if(Ps(y)||hs(y))return b!==null?null:c(v,g,y,x,null);ba(v,y)}return null}function p(v,g,y,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return v=v.get(y)||null,a(g,v,""+x,b);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case fa:return v=v.get(x.key===null?y:x.key)||null,l(g,v,x,b);case ui:return v=v.get(x.key===null?y:x.key)||null,u(g,v,x,b);case Lr:var R=x._init;return p(v,g,y,R(x._payload),b)}if(Ps(x)||hs(x))return v=v.get(y)||null,c(g,v,x,b,null);ba(g,x)}return null}function m(v,g,y,x){for(var b=null,R=null,O=g,A=g=0,B=null;O!==null&&A<y.length;A++){O.index>A?(B=O,O=null):B=O.sibling;var j=d(v,O,y[A],x);if(j===null){O===null&&(O=B);break}t&&O&&j.alternate===null&&e(v,O),g=s(j,g,A),R===null?b=j:R.sibling=j,R=j,O=B}if(A===y.length)return r(v,O),Se&&Sn(v,A),b;if(O===null){for(;A<y.length;A++)O=h(v,y[A],x),O!==null&&(g=s(O,g,A),R===null?b=O:R.sibling=O,R=O);return Se&&Sn(v,A),b}for(O=n(v,O);A<y.length;A++)B=p(O,v,A,y[A],x),B!==null&&(t&&B.alternate!==null&&O.delete(B.key===null?A:B.key),g=s(B,g,A),R===null?b=B:R.sibling=B,R=B);return t&&O.forEach(function(K){return e(v,K)}),Se&&Sn(v,A),b}function _(v,g,y,x){var b=hs(y);if(typeof b!="function")throw Error(N(150));if(y=b.call(y),y==null)throw Error(N(151));for(var R=b=null,O=g,A=g=0,B=null,j=y.next();O!==null&&!j.done;A++,j=y.next()){O.index>A?(B=O,O=null):B=O.sibling;var K=d(v,O,j.value,x);if(K===null){O===null&&(O=B);break}t&&O&&K.alternate===null&&e(v,O),g=s(K,g,A),R===null?b=K:R.sibling=K,R=K,O=B}if(j.done)return r(v,O),Se&&Sn(v,A),b;if(O===null){for(;!j.done;A++,j=y.next())j=h(v,j.value,x),j!==null&&(g=s(j,g,A),R===null?b=j:R.sibling=j,R=j);return Se&&Sn(v,A),b}for(O=n(v,O);!j.done;A++,j=y.next())j=p(O,v,A,j.value,x),j!==null&&(t&&j.alternate!==null&&O.delete(j.key===null?A:j.key),g=s(j,g,A),R===null?b=j:R.sibling=j,R=j);return t&&O.forEach(function(oe){return e(v,oe)}),Se&&Sn(v,A),b}function w(v,g,y,x){if(typeof y=="object"&&y!==null&&y.type===ci&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case fa:e:{for(var b=y.key,R=g;R!==null;){if(R.key===b){if(b=y.type,b===ci){if(R.tag===7){r(v,R.sibling),g=i(R,y.props.children),g.return=v,v=g;break e}}else if(R.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Lr&&$y(b)===R.type){r(v,R.sibling),g=i(R,y.props),g.ref=ys(v,R,y),g.return=v,v=g;break e}r(v,R);break}else e(v,R);R=R.sibling}y.type===ci?(g=Dn(y.props.children,v.mode,x,y.key),g.return=v,v=g):(x=Ka(y.type,y.key,y.props,null,v.mode,x),x.ref=ys(v,g,y),x.return=v,v=x)}return o(v);case ui:e:{for(R=y.key;g!==null;){if(g.key===R)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){r(v,g.sibling),g=i(g,y.children||[]),g.return=v,v=g;break e}else{r(v,g);break}else e(v,g);g=g.sibling}g=Gc(y,v.mode,x),g.return=v,v=g}return o(v);case Lr:return R=y._init,w(v,g,R(y._payload),x)}if(Ps(y))return m(v,g,y,x);if(hs(y))return _(v,g,y,x);ba(v,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,g!==null&&g.tag===6?(r(v,g.sibling),g=i(g,y),g.return=v,v=g):(r(v,g),g=zc(y,v.mode,x),g.return=v,v=g),o(v)):r(v,g)}return w}var qi=gS(!0),yS=gS(!1),Ko={},er=mn(Ko),ao=mn(Ko),lo=mn(Ko);function An(t){if(t===Ko)throw Error(N(174));return t}function xm(t,e){switch(ge(lo,e),ge(ao,t),ge(er,Ko),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:tf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=tf(e,t)}ve(er),ge(er,e)}function Vi(){ve(er),ve(ao),ve(lo)}function vS(t){An(lo.current);var e=An(er.current),r=tf(e,t.type);e!==r&&(ge(ao,t),ge(er,r))}function Sm(t){ao.current===t&&(ve(er),ve(ao))}var Ce=mn(0);function Tl(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Fc=[];function Cm(){for(var t=0;t<Fc.length;t++)Fc[t]._workInProgressVersionPrimary=null;Fc.length=0}var Ha=Cr.ReactCurrentDispatcher,jc=Cr.ReactCurrentBatchConfig,Vn=0,Te=null,Le=null,$e=null,El=!1,Ls=!1,uo=0,QA=0;function We(){throw Error(N(321))}function bm(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Ht(t[r],e[r]))return!1;return!0}function Tm(t,e,r,n,i,s){if(Vn=s,Te=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ha.current=t===null||t.memoizedState===null?XA:ZA,t=r(n,i),Ls){s=0;do{if(Ls=!1,uo=0,25<=s)throw Error(N(301));s+=1,$e=Le=null,e.updateQueue=null,Ha.current=eI,t=r(n,i)}while(Ls)}if(Ha.current=Pl,e=Le!==null&&Le.next!==null,Vn=0,$e=Le=Te=null,El=!1,e)throw Error(N(300));return t}function Em(){var t=uo!==0;return uo=0,t}function Qt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $e===null?Te.memoizedState=$e=t:$e=$e.next=t,$e}function Rt(){if(Le===null){var t=Te.alternate;t=t!==null?t.memoizedState:null}else t=Le.next;var e=$e===null?Te.memoizedState:$e.next;if(e!==null)$e=e,Le=t;else{if(t===null)throw Error(N(310));Le=t,t={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},$e===null?Te.memoizedState=$e=t:$e=$e.next=t}return $e}function co(t,e){return typeof e=="function"?e(t):e}function $c(t){var e=Rt(),r=e.queue;if(r===null)throw Error(N(311));r.lastRenderedReducer=t;var n=Le,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Vn&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=n):l=l.next=h,Te.lanes|=c,Hn|=c}u=u.next}while(u!==null&&u!==s);l===null?o=n:l.next=a,Ht(n,e.memoizedState)||(lt=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,Te.lanes|=s,Hn|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function qc(t){var e=Rt(),r=e.queue;if(r===null)throw Error(N(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Ht(s,e.memoizedState)||(lt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function _S(){}function wS(t,e){var r=Te,n=Rt(),i=e(),s=!Ht(n.memoizedState,i);if(s&&(n.memoizedState=i,lt=!0),n=n.queue,Pm(CS.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||$e!==null&&$e.memoizedState.tag&1){if(r.flags|=2048,ho(9,SS.bind(null,r,n,i,e),void 0,null),qe===null)throw Error(N(349));Vn&30||xS(r,e,i)}return i}function xS(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Te.updateQueue,e===null?(e={lastEffect:null,stores:null},Te.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function SS(t,e,r,n){e.value=r,e.getSnapshot=n,bS(e)&&TS(t)}function CS(t,e,r){return r(function(){bS(e)&&TS(t)})}function bS(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Ht(t,r)}catch{return!0}}function TS(t){var e=wr(t,1);e!==null&&qt(e,t,1,-1)}function qy(t){var e=Qt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:co,lastRenderedState:t},e.queue=t,t=t.dispatch=JA.bind(null,Te,t),[e.memoizedState,t]}function ho(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Te.updateQueue,e===null?(e={lastEffect:null,stores:null},Te.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function ES(){return Rt().memoizedState}function za(t,e,r,n){var i=Qt();Te.flags|=t,i.memoizedState=ho(1|e,r,void 0,n===void 0?null:n)}function Mu(t,e,r,n){var i=Rt();n=n===void 0?null:n;var s=void 0;if(Le!==null){var o=Le.memoizedState;if(s=o.destroy,n!==null&&bm(n,o.deps)){i.memoizedState=ho(e,r,s,n);return}}Te.flags|=t,i.memoizedState=ho(1|e,r,s,n)}function Vy(t,e){return za(8390656,8,t,e)}function Pm(t,e){return Mu(2048,8,t,e)}function PS(t,e){return Mu(4,2,t,e)}function AS(t,e){return Mu(4,4,t,e)}function IS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function kS(t,e,r){return r=r!=null?r.concat([t]):null,Mu(4,4,IS.bind(null,e,t),r)}function Am(){}function RS(t,e){var r=Rt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&bm(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function MS(t,e){var r=Rt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&bm(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function OS(t,e,r){return Vn&21?(Ht(r,e)||(r=Bx(),Te.lanes|=r,Hn|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,lt=!0),t.memoizedState=r)}function KA(t,e){var r=he;he=r!==0&&4>r?r:4,t(!0);var n=jc.transition;jc.transition={};try{t(!1),e()}finally{he=r,jc.transition=n}}function DS(){return Rt().memoizedState}function YA(t,e,r){var n=en(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},NS(t))BS(e,r);else if(r=hS(t,e,r,n),r!==null){var i=tt();qt(r,t,n,i),LS(r,e,n)}}function JA(t,e,r){var n=en(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(NS(t))BS(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,r);if(i.hasEagerState=!0,i.eagerState=a,Ht(a,o)){var l=e.interleaved;l===null?(i.next=i,_m(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=hS(t,e,i,n),r!==null&&(i=tt(),qt(r,t,n,i),LS(r,e,n))}}function NS(t){var e=t.alternate;return t===Te||e!==null&&e===Te}function BS(t,e){Ls=El=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function LS(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,sm(t,r)}}var Pl={readContext:kt,useCallback:We,useContext:We,useEffect:We,useImperativeHandle:We,useInsertionEffect:We,useLayoutEffect:We,useMemo:We,useReducer:We,useRef:We,useState:We,useDebugValue:We,useDeferredValue:We,useTransition:We,useMutableSource:We,useSyncExternalStore:We,useId:We,unstable_isNewReconciler:!1},XA={readContext:kt,useCallback:function(t,e){return Qt().memoizedState=[t,e===void 0?null:e],t},useContext:kt,useEffect:Vy,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,za(4194308,4,IS.bind(null,e,t),r)},useLayoutEffect:function(t,e){return za(4194308,4,t,e)},useInsertionEffect:function(t,e){return za(4,2,t,e)},useMemo:function(t,e){var r=Qt();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Qt();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=YA.bind(null,Te,t),[n.memoizedState,t]},useRef:function(t){var e=Qt();return t={current:t},e.memoizedState=t},useState:qy,useDebugValue:Am,useDeferredValue:function(t){return Qt().memoizedState=t},useTransition:function(){var t=qy(!1),e=t[0];return t=KA.bind(null,t[1]),Qt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Te,i=Qt();if(Se){if(r===void 0)throw Error(N(407));r=r()}else{if(r=e(),qe===null)throw Error(N(349));Vn&30||xS(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,Vy(CS.bind(null,n,s,t),[t]),n.flags|=2048,ho(9,SS.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=Qt(),e=qe.identifierPrefix;if(Se){var r=hr,n=dr;r=(n&~(1<<32-$t(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=uo++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=QA++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ZA={readContext:kt,useCallback:RS,useContext:kt,useEffect:Pm,useImperativeHandle:kS,useInsertionEffect:PS,useLayoutEffect:AS,useMemo:MS,useReducer:$c,useRef:ES,useState:function(){return $c(co)},useDebugValue:Am,useDeferredValue:function(t){var e=Rt();return OS(e,Le.memoizedState,t)},useTransition:function(){var t=$c(co)[0],e=Rt().memoizedState;return[t,e]},useMutableSource:_S,useSyncExternalStore:wS,useId:DS,unstable_isNewReconciler:!1},eI={readContext:kt,useCallback:RS,useContext:kt,useEffect:Pm,useImperativeHandle:kS,useInsertionEffect:PS,useLayoutEffect:AS,useMemo:MS,useReducer:qc,useRef:ES,useState:function(){return qc(co)},useDebugValue:Am,useDeferredValue:function(t){var e=Rt();return Le===null?e.memoizedState=t:OS(e,Le.memoizedState,t)},useTransition:function(){var t=qc(co)[0],e=Rt().memoizedState;return[t,e]},useMutableSource:_S,useSyncExternalStore:wS,useId:DS,unstable_isNewReconciler:!1};function Hi(t,e){try{var r="",n=e;do r+=AP(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Vc(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Tf(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var tI=typeof WeakMap=="function"?WeakMap:Map;function US(t,e,r){r=pr(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Il||(Il=!0,Nf=n),Tf(t,e)},r}function FS(t,e,r){r=pr(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){Tf(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){Tf(t,e),typeof n!="function"&&(Zr===null?Zr=new Set([this]):Zr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function Hy(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new tI;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=mI.bind(null,t,e,r),e.then(t,t))}function zy(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Gy(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=pr(-1,1),e.tag=2,Xr(r,e,1))),r.lanes|=1),t)}var rI=Cr.ReactCurrentOwner,lt=!1;function et(t,e,r,n){e.child=t===null?yS(e,null,r,n):qi(e,t.child,r,n)}function Wy(t,e,r,n,i){r=r.render;var s=e.ref;return ki(e,i),n=Tm(t,e,r,n,s,i),r=Em(),t!==null&&!lt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,xr(t,e,i)):(Se&&r&&fm(e),e.flags|=1,et(t,e,n,i),e.child)}function Qy(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!Bm(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,jS(t,e,s,n,i)):(t=Ka(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:no,r(o,n)&&t.ref===e.ref)return xr(t,e,i)}return e.flags|=1,t=tn(s,n),t.ref=e.ref,t.return=e,e.child=t}function jS(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(no(s,n)&&t.ref===e.ref)if(lt=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(lt=!0);else return e.lanes=t.lanes,xr(t,e,i)}return Ef(t,e,r,n,i)}function $S(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ge(wi,pt),pt|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ge(wi,pt),pt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,ge(wi,pt),pt|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,ge(wi,pt),pt|=n;return et(t,e,i,r),e.child}function qS(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Ef(t,e,r,n,i){var s=ct(r)?$n:Xe.current;return s=ji(e,s),ki(e,i),r=Tm(t,e,r,n,s,i),n=Em(),t!==null&&!lt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,xr(t,e,i)):(Se&&n&&fm(e),e.flags|=1,et(t,e,r,i),e.child)}function Ky(t,e,r,n,i){if(ct(r)){var s=!0;_l(e)}else s=!1;if(ki(e,i),e.stateNode===null)Ga(t,e),mS(e,r,n),bf(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=kt(u):(u=ct(r)?$n:Xe.current,u=ji(e,u));var c=r.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==u)&&jy(e,o,n,u),Ur=!1;var d=e.memoizedState;o.state=d,bl(e,n,o,i),l=e.memoizedState,a!==n||d!==l||ut.current||Ur?(typeof c=="function"&&(Cf(e,r,c,n),l=e.memoizedState),(a=Ur||Fy(e,r,a,n,d,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=u,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,fS(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Bt(e.type,a),o.props=u,h=e.pendingProps,d=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=kt(l):(l=ct(r)?$n:Xe.current,l=ji(e,l));var p=r.getDerivedStateFromProps;(c=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||d!==l)&&jy(e,o,n,l),Ur=!1,d=e.memoizedState,o.state=d,bl(e,n,o,i);var m=e.memoizedState;a!==h||d!==m||ut.current||Ur?(typeof p=="function"&&(Cf(e,r,p,n),m=e.memoizedState),(u=Ur||Fy(e,r,u,n,d,m,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=m),o.props=n,o.state=m,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),n=!1)}return Pf(t,e,r,n,s,i)}function Pf(t,e,r,n,i,s){qS(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&Dy(e,r,!1),xr(t,e,s);n=e.stateNode,rI.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=qi(e,t.child,null,s),e.child=qi(e,null,a,s)):et(t,e,a,s),e.memoizedState=n.state,i&&Dy(e,r,!0),e.child}function VS(t){var e=t.stateNode;e.pendingContext?Oy(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Oy(t,e.context,!1),xm(t,e.containerInfo)}function Yy(t,e,r,n,i){return $i(),mm(i),e.flags|=256,et(t,e,r,n),e.child}var Af={dehydrated:null,treeContext:null,retryLane:0};function If(t){return{baseLanes:t,cachePool:null,transitions:null}}function HS(t,e,r){var n=e.pendingProps,i=Ce.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ge(Ce,i&1),t===null)return xf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,s?(n=e.mode,s=e.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Nu(o,n,0,null),t=Dn(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=If(r),e.memoizedState=Af,t):Im(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return nI(t,e,o,n,a,i,r);if(s){s=n.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=tn(i,l),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=tn(a,s):(s=Dn(s,o,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,o=t.child.memoizedState,o=o===null?If(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~r,e.memoizedState=Af,n}return s=t.child,t=s.sibling,n=tn(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Im(t,e){return e=Nu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ta(t,e,r,n){return n!==null&&mm(n),qi(e,t.child,null,r),t=Im(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function nI(t,e,r,n,i,s,o){if(r)return e.flags&256?(e.flags&=-257,n=Vc(Error(N(422))),Ta(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=Nu({mode:"visible",children:n.children},i,0,null),s=Dn(s,i,o,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&qi(e,t.child,null,o),e.child.memoizedState=If(o),e.memoizedState=Af,s);if(!(e.mode&1))return Ta(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(N(419)),n=Vc(s,n,void 0),Ta(t,e,o,n)}if(a=(o&t.childLanes)!==0,lt||a){if(n=qe,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,wr(t,i),qt(n,t,i,-1))}return Nm(),n=Vc(Error(N(421))),Ta(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=gI.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,mt=Jr(i.nextSibling),gt=e,Se=!0,Ut=null,t!==null&&(St[Ct++]=dr,St[Ct++]=hr,St[Ct++]=qn,dr=t.id,hr=t.overflow,qn=e),e=Im(e,n.children),e.flags|=4096,e)}function Jy(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Sf(t.return,e,r)}function Hc(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function zS(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(et(t,e,n.children,r),n=Ce.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Jy(t,r,e);else if(t.tag===19)Jy(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(ge(Ce,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Tl(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Hc(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Tl(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Hc(e,!0,r,null,s);break;case"together":Hc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ga(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function xr(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Hn|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(N(153));if(e.child!==null){for(t=e.child,r=tn(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=tn(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function iI(t,e,r){switch(e.tag){case 3:VS(e),$i();break;case 5:vS(e);break;case 1:ct(e.type)&&_l(e);break;case 4:xm(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;ge(Sl,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(ge(Ce,Ce.current&1),e.flags|=128,null):r&e.child.childLanes?HS(t,e,r):(ge(Ce,Ce.current&1),t=xr(t,e,r),t!==null?t.sibling:null);ge(Ce,Ce.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return zS(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ge(Ce,Ce.current),n)break;return null;case 22:case 23:return e.lanes=0,$S(t,e,r)}return xr(t,e,r)}var GS,kf,WS,QS;GS=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};kf=function(){};WS=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,An(er.current);var s=null;switch(r){case"input":i=Jh(t,i),n=Jh(t,n),s=[];break;case"select":i=Ee({},i,{value:void 0}),n=Ee({},n,{value:void 0}),s=[];break;case"textarea":i=ef(t,i),n=ef(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=yl)}rf(r,n);var o;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ys.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var l=n[u];if(a=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(s||(s=[]),s.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ys.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ye("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}r&&(s=s||[]).push("style",r);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};QS=function(t,e,r,n){r!==n&&(e.flags|=4)};function vs(t,e){if(!Se)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Qe(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function sI(t,e,r){var n=e.pendingProps;switch(pm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qe(e),null;case 1:return ct(e.type)&&vl(),Qe(e),null;case 3:return n=e.stateNode,Vi(),ve(ut),ve(Xe),Cm(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Ca(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ut!==null&&(Uf(Ut),Ut=null))),kf(t,e),Qe(e),null;case 5:Sm(e);var i=An(lo.current);if(r=e.type,t!==null&&e.stateNode!=null)WS(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(N(166));return Qe(e),null}if(t=An(er.current),Ca(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[Jt]=e,n[oo]=s,t=(e.mode&1)!==0,r){case"dialog":ye("cancel",n),ye("close",n);break;case"iframe":case"object":case"embed":ye("load",n);break;case"video":case"audio":for(i=0;i<Is.length;i++)ye(Is[i],n);break;case"source":ye("error",n);break;case"img":case"image":case"link":ye("error",n),ye("load",n);break;case"details":ye("toggle",n);break;case"input":oy(n,s),ye("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},ye("invalid",n);break;case"textarea":ly(n,s),ye("invalid",n)}rf(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&Sa(n.textContent,a,t),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Sa(n.textContent,a,t),i=["children",""+a]):Ys.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ye("scroll",n)}switch(r){case"input":pa(n),ay(n,s,!0);break;case"textarea":pa(n),uy(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=yl)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=xx(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[Jt]=e,t[oo]=n,GS(t,e,!1,!1),e.stateNode=t;e:{switch(o=nf(r,n),r){case"dialog":ye("cancel",t),ye("close",t),i=n;break;case"iframe":case"object":case"embed":ye("load",t),i=n;break;case"video":case"audio":for(i=0;i<Is.length;i++)ye(Is[i],t);i=n;break;case"source":ye("error",t),i=n;break;case"img":case"image":case"link":ye("error",t),ye("load",t),i=n;break;case"details":ye("toggle",t),i=n;break;case"input":oy(t,n),i=Jh(t,n),ye("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Ee({},n,{value:void 0}),ye("invalid",t);break;case"textarea":ly(t,n),i=ef(t,n),ye("invalid",t);break;default:i=n}rf(r,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?bx(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Sx(t,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Js(t,l):typeof l=="number"&&Js(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ys.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ye("scroll",t):l!=null&&Zp(t,s,l,o))}switch(r){case"input":pa(t),ay(t,n,!1);break;case"textarea":pa(t),uy(t);break;case"option":n.value!=null&&t.setAttribute("value",""+on(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?Ei(t,!!n.multiple,s,!1):n.defaultValue!=null&&Ei(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=yl)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Qe(e),null;case 6:if(t&&e.stateNode!=null)QS(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(N(166));if(r=An(lo.current),An(er.current),Ca(e)){if(n=e.stateNode,r=e.memoizedProps,n[Jt]=e,(s=n.nodeValue!==r)&&(t=gt,t!==null))switch(t.tag){case 3:Sa(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Sa(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Jt]=e,e.stateNode=n}return Qe(e),null;case 13:if(ve(Ce),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Se&&mt!==null&&e.mode&1&&!(e.flags&128))dS(),$i(),e.flags|=98560,s=!1;else if(s=Ca(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(N(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(N(317));s[Jt]=e}else $i(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Qe(e),s=!1}else Ut!==null&&(Uf(Ut),Ut=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Ce.current&1?Ue===0&&(Ue=3):Nm())),e.updateQueue!==null&&(e.flags|=4),Qe(e),null);case 4:return Vi(),kf(t,e),t===null&&io(e.stateNode.containerInfo),Qe(e),null;case 10:return vm(e.type._context),Qe(e),null;case 17:return ct(e.type)&&vl(),Qe(e),null;case 19:if(ve(Ce),s=e.memoizedState,s===null)return Qe(e),null;if(n=(e.flags&128)!==0,o=s.rendering,o===null)if(n)vs(s,!1);else{if(Ue!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Tl(t),o!==null){for(e.flags|=128,vs(s,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return ge(Ce,Ce.current&1|2),e.child}t=t.sibling}s.tail!==null&&ke()>zi&&(e.flags|=128,n=!0,vs(s,!1),e.lanes=4194304)}else{if(!n)if(t=Tl(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),vs(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Se)return Qe(e),null}else 2*ke()-s.renderingStartTime>zi&&r!==1073741824&&(e.flags|=128,n=!0,vs(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(r=s.last,r!==null?r.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ke(),e.sibling=null,r=Ce.current,ge(Ce,n?r&1|2:r&1),e):(Qe(e),null);case 22:case 23:return Dm(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?pt&1073741824&&(Qe(e),e.subtreeFlags&6&&(e.flags|=8192)):Qe(e),null;case 24:return null;case 25:return null}throw Error(N(156,e.tag))}function oI(t,e){switch(pm(e),e.tag){case 1:return ct(e.type)&&vl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Vi(),ve(ut),ve(Xe),Cm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Sm(e),null;case 13:if(ve(Ce),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(N(340));$i()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ve(Ce),null;case 4:return Vi(),null;case 10:return vm(e.type._context),null;case 22:case 23:return Dm(),null;case 24:return null;default:return null}}var Ea=!1,Je=!1,aI=typeof WeakSet=="function"?WeakSet:Set,$=null;function _i(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Pe(t,e,n)}else r.current=null}function Rf(t,e,r){try{r()}catch(n){Pe(t,e,n)}}var Xy=!1;function lI(t,e){if(pf=pl,t=Xx(),hm(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=t,d=null;t:for(;;){for(var p;h!==r||i!==0&&h.nodeType!==3||(a=o+i),h!==s||n!==0&&h.nodeType!==3||(l=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)d=h,h=p;for(;;){if(h===t)break t;if(d===r&&++u===i&&(a=o),d===s&&++c===n&&(l=o),(p=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=p}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(mf={focusedElem:t,selectionRange:r},pl=!1,$=e;$!==null;)if(e=$,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,$=t;else for(;$!==null;){e=$;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var _=m.memoizedProps,w=m.memoizedState,v=e.stateNode,g=v.getSnapshotBeforeUpdate(e.elementType===e.type?_:Bt(e.type,_),w);v.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(x){Pe(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,$=t;break}$=e.return}return m=Xy,Xy=!1,m}function Us(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Rf(e,r,s)}i=i.next}while(i!==n)}}function Ou(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Mf(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function KS(t){var e=t.alternate;e!==null&&(t.alternate=null,KS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Jt],delete e[oo],delete e[vf],delete e[HA],delete e[zA])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function YS(t){return t.tag===5||t.tag===3||t.tag===4}function Zy(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||YS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Of(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=yl));else if(n!==4&&(t=t.child,t!==null))for(Of(t,e,r),t=t.sibling;t!==null;)Of(t,e,r),t=t.sibling}function Df(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Df(t,e,r),t=t.sibling;t!==null;)Df(t,e,r),t=t.sibling}var Ve=null,Lt=!1;function kr(t,e,r){for(r=r.child;r!==null;)JS(t,e,r),r=r.sibling}function JS(t,e,r){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(Tu,r)}catch{}switch(r.tag){case 5:Je||_i(r,e);case 6:var n=Ve,i=Lt;Ve=null,kr(t,e,r),Ve=n,Lt=i,Ve!==null&&(Lt?(t=Ve,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Ve.removeChild(r.stateNode));break;case 18:Ve!==null&&(Lt?(t=Ve,r=r.stateNode,t.nodeType===8?Lc(t.parentNode,r):t.nodeType===1&&Lc(t,r),to(t)):Lc(Ve,r.stateNode));break;case 4:n=Ve,i=Lt,Ve=r.stateNode.containerInfo,Lt=!0,kr(t,e,r),Ve=n,Lt=i;break;case 0:case 11:case 14:case 15:if(!Je&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Rf(r,e,o),i=i.next}while(i!==n)}kr(t,e,r);break;case 1:if(!Je&&(_i(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Pe(r,e,a)}kr(t,e,r);break;case 21:kr(t,e,r);break;case 22:r.mode&1?(Je=(n=Je)||r.memoizedState!==null,kr(t,e,r),Je=n):kr(t,e,r);break;default:kr(t,e,r)}}function ev(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new aI),e.forEach(function(n){var i=yI.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Nt(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ve=a.stateNode,Lt=!1;break e;case 3:Ve=a.stateNode.containerInfo,Lt=!0;break e;case 4:Ve=a.stateNode.containerInfo,Lt=!0;break e}a=a.return}if(Ve===null)throw Error(N(160));JS(s,o,i),Ve=null,Lt=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Pe(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)XS(e,t),e=e.sibling}function XS(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Nt(e,t),Gt(t),n&4){try{Us(3,t,t.return),Ou(3,t)}catch(_){Pe(t,t.return,_)}try{Us(5,t,t.return)}catch(_){Pe(t,t.return,_)}}break;case 1:Nt(e,t),Gt(t),n&512&&r!==null&&_i(r,r.return);break;case 5:if(Nt(e,t),Gt(t),n&512&&r!==null&&_i(r,r.return),t.flags&32){var i=t.stateNode;try{Js(i,"")}catch(_){Pe(t,t.return,_)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=r!==null?r.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&_x(i,s),nf(a,o);var u=nf(a,s);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?bx(i,h):c==="dangerouslySetInnerHTML"?Sx(i,h):c==="children"?Js(i,h):Zp(i,c,h,u)}switch(a){case"input":Xh(i,s);break;case"textarea":wx(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Ei(i,!!s.multiple,p,!1):d!==!!s.multiple&&(s.defaultValue!=null?Ei(i,!!s.multiple,s.defaultValue,!0):Ei(i,!!s.multiple,s.multiple?[]:"",!1))}i[oo]=s}catch(_){Pe(t,t.return,_)}}break;case 6:if(Nt(e,t),Gt(t),n&4){if(t.stateNode===null)throw Error(N(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(_){Pe(t,t.return,_)}}break;case 3:if(Nt(e,t),Gt(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{to(e.containerInfo)}catch(_){Pe(t,t.return,_)}break;case 4:Nt(e,t),Gt(t);break;case 13:Nt(e,t),Gt(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Mm=ke())),n&4&&ev(t);break;case 22:if(c=r!==null&&r.memoizedState!==null,t.mode&1?(Je=(u=Je)||c,Nt(e,t),Je=u):Nt(e,t),Gt(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for($=t,c=t.child;c!==null;){for(h=$=c;$!==null;){switch(d=$,p=d.child,d.tag){case 0:case 11:case 14:case 15:Us(4,d,d.return);break;case 1:_i(d,d.return);var m=d.stateNode;if(typeof m.componentWillUnmount=="function"){n=d,r=d.return;try{e=n,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(_){Pe(n,r,_)}}break;case 5:_i(d,d.return);break;case 22:if(d.memoizedState!==null){rv(h);continue}}p!==null?(p.return=d,$=p):rv(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Cx("display",o))}catch(_){Pe(t,t.return,_)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(_){Pe(t,t.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Nt(e,t),Gt(t),n&4&&ev(t);break;case 21:break;default:Nt(e,t),Gt(t)}}function Gt(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(YS(r)){var n=r;break e}r=r.return}throw Error(N(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Js(i,""),n.flags&=-33);var s=Zy(t);Df(t,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,a=Zy(t);Of(t,a,o);break;default:throw Error(N(161))}}catch(l){Pe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function uI(t,e,r){$=t,ZS(t)}function ZS(t,e,r){for(var n=(t.mode&1)!==0;$!==null;){var i=$,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||Ea;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Je;a=Ea;var u=Je;if(Ea=o,(Je=l)&&!u)for($=i;$!==null;)o=$,l=o.child,o.tag===22&&o.memoizedState!==null?nv(i):l!==null?(l.return=o,$=l):nv(i);for(;s!==null;)$=s,ZS(s),s=s.sibling;$=i,Ea=a,Je=u}tv(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,$=s):tv(t)}}function tv(t){for(;$!==null;){var e=$;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Je||Ou(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Je)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Bt(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Uy(e,s,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Uy(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&to(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}Je||e.flags&512&&Mf(e)}catch(d){Pe(e,e.return,d)}}if(e===t){$=null;break}if(r=e.sibling,r!==null){r.return=e.return,$=r;break}$=e.return}}function rv(t){for(;$!==null;){var e=$;if(e===t){$=null;break}var r=e.sibling;if(r!==null){r.return=e.return,$=r;break}$=e.return}}function nv(t){for(;$!==null;){var e=$;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Ou(4,e)}catch(l){Pe(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){Pe(e,i,l)}}var s=e.return;try{Mf(e)}catch(l){Pe(e,s,l)}break;case 5:var o=e.return;try{Mf(e)}catch(l){Pe(e,o,l)}}}catch(l){Pe(e,e.return,l)}if(e===t){$=null;break}var a=e.sibling;if(a!==null){a.return=e.return,$=a;break}$=e.return}}var cI=Math.ceil,Al=Cr.ReactCurrentDispatcher,km=Cr.ReactCurrentOwner,Et=Cr.ReactCurrentBatchConfig,ie=0,qe=null,Oe=null,He=0,pt=0,wi=mn(0),Ue=0,fo=null,Hn=0,Du=0,Rm=0,Fs=null,at=null,Mm=0,zi=1/0,lr=null,Il=!1,Nf=null,Zr=null,Pa=!1,zr=null,kl=0,js=0,Bf=null,Wa=-1,Qa=0;function tt(){return ie&6?ke():Wa!==-1?Wa:Wa=ke()}function en(t){return t.mode&1?ie&2&&He!==0?He&-He:WA.transition!==null?(Qa===0&&(Qa=Bx()),Qa):(t=he,t!==0||(t=window.event,t=t===void 0?16:Vx(t.type)),t):1}function qt(t,e,r,n){if(50<js)throw js=0,Bf=null,Error(N(185));Go(t,r,n),(!(ie&2)||t!==qe)&&(t===qe&&(!(ie&2)&&(Du|=r),Ue===4&&$r(t,He)),dt(t,n),r===1&&ie===0&&!(e.mode&1)&&(zi=ke()+500,ku&&gn()))}function dt(t,e){var r=t.callbackNode;WP(t,e);var n=fl(t,t===qe?He:0);if(n===0)r!==null&&hy(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&hy(r),e===1)t.tag===0?GA(iv.bind(null,t)):lS(iv.bind(null,t)),qA(function(){!(ie&6)&&gn()}),r=null;else{switch(Lx(n)){case 1:r=im;break;case 4:r=Dx;break;case 16:r=hl;break;case 536870912:r=Nx;break;default:r=hl}r=aC(r,eC.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function eC(t,e){if(Wa=-1,Qa=0,ie&6)throw Error(N(327));var r=t.callbackNode;if(Ri()&&t.callbackNode!==r)return null;var n=fl(t,t===qe?He:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Rl(t,n);else{e=n;var i=ie;ie|=2;var s=rC();(qe!==t||He!==e)&&(lr=null,zi=ke()+500,On(t,e));do try{fI();break}catch(a){tC(t,a)}while(1);ym(),Al.current=s,ie=i,Oe!==null?e=0:(qe=null,He=0,e=Ue)}if(e!==0){if(e===2&&(i=uf(t),i!==0&&(n=i,e=Lf(t,i))),e===1)throw r=fo,On(t,0),$r(t,n),dt(t,ke()),r;if(e===6)$r(t,n);else{if(i=t.current.alternate,!(n&30)&&!dI(i)&&(e=Rl(t,n),e===2&&(s=uf(t),s!==0&&(n=s,e=Lf(t,s))),e===1))throw r=fo,On(t,0),$r(t,n),dt(t,ke()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(N(345));case 2:Cn(t,at,lr);break;case 3:if($r(t,n),(n&130023424)===n&&(e=Mm+500-ke(),10<e)){if(fl(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){tt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=yf(Cn.bind(null,t,at,lr),e);break}Cn(t,at,lr);break;case 4:if($r(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-$t(n);s=1<<o,o=e[o],o>i&&(i=o),n&=~s}if(n=i,n=ke()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*cI(n/1960))-n,10<n){t.timeoutHandle=yf(Cn.bind(null,t,at,lr),n);break}Cn(t,at,lr);break;case 5:Cn(t,at,lr);break;default:throw Error(N(329))}}}return dt(t,ke()),t.callbackNode===r?eC.bind(null,t):null}function Lf(t,e){var r=Fs;return t.current.memoizedState.isDehydrated&&(On(t,e).flags|=256),t=Rl(t,e),t!==2&&(e=at,at=r,e!==null&&Uf(e)),t}function Uf(t){at===null?at=t:at.push.apply(at,t)}function dI(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Ht(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function $r(t,e){for(e&=~Rm,e&=~Du,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-$t(e),n=1<<r;t[r]=-1,e&=~n}}function iv(t){if(ie&6)throw Error(N(327));Ri();var e=fl(t,0);if(!(e&1))return dt(t,ke()),null;var r=Rl(t,e);if(t.tag!==0&&r===2){var n=uf(t);n!==0&&(e=n,r=Lf(t,n))}if(r===1)throw r=fo,On(t,0),$r(t,e),dt(t,ke()),r;if(r===6)throw Error(N(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Cn(t,at,lr),dt(t,ke()),null}function Om(t,e){var r=ie;ie|=1;try{return t(e)}finally{ie=r,ie===0&&(zi=ke()+500,ku&&gn())}}function zn(t){zr!==null&&zr.tag===0&&!(ie&6)&&Ri();var e=ie;ie|=1;var r=Et.transition,n=he;try{if(Et.transition=null,he=1,t)return t()}finally{he=n,Et.transition=r,ie=e,!(ie&6)&&gn()}}function Dm(){pt=wi.current,ve(wi)}function On(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,$A(r)),Oe!==null)for(r=Oe.return;r!==null;){var n=r;switch(pm(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&vl();break;case 3:Vi(),ve(ut),ve(Xe),Cm();break;case 5:Sm(n);break;case 4:Vi();break;case 13:ve(Ce);break;case 19:ve(Ce);break;case 10:vm(n.type._context);break;case 22:case 23:Dm()}r=r.return}if(qe=t,Oe=t=tn(t.current,null),He=pt=e,Ue=0,fo=null,Rm=Du=Hn=0,at=Fs=null,Pn!==null){for(e=0;e<Pn.length;e++)if(r=Pn[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}Pn=null}return t}function tC(t,e){do{var r=Oe;try{if(ym(),Ha.current=Pl,El){for(var n=Te.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}El=!1}if(Vn=0,$e=Le=Te=null,Ls=!1,uo=0,km.current=null,r===null||r.return===null){Ue=1,fo=e,Oe=null;break}e:{var s=t,o=r.return,a=r,l=e;if(e=He,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=zy(o);if(p!==null){p.flags&=-257,Gy(p,o,a,s,e),p.mode&1&&Hy(s,u,e),e=p,l=u;var m=e.updateQueue;if(m===null){var _=new Set;_.add(l),e.updateQueue=_}else m.add(l);break e}else{if(!(e&1)){Hy(s,u,e),Nm();break e}l=Error(N(426))}}else if(Se&&a.mode&1){var w=zy(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Gy(w,o,a,s,e),mm(Hi(l,a));break e}}s=l=Hi(l,a),Ue!==4&&(Ue=2),Fs===null?Fs=[s]:Fs.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=US(s,l,e);Ly(s,v);break e;case 1:a=l;var g=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof g.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Zr===null||!Zr.has(y)))){s.flags|=65536,e&=-e,s.lanes|=e;var x=FS(s,a,e);Ly(s,x);break e}}s=s.return}while(s!==null)}iC(r)}catch(b){e=b,Oe===r&&r!==null&&(Oe=r=r.return);continue}break}while(1)}function rC(){var t=Al.current;return Al.current=Pl,t===null?Pl:t}function Nm(){(Ue===0||Ue===3||Ue===2)&&(Ue=4),qe===null||!(Hn&268435455)&&!(Du&268435455)||$r(qe,He)}function Rl(t,e){var r=ie;ie|=2;var n=rC();(qe!==t||He!==e)&&(lr=null,On(t,e));do try{hI();break}catch(i){tC(t,i)}while(1);if(ym(),ie=r,Al.current=n,Oe!==null)throw Error(N(261));return qe=null,He=0,Ue}function hI(){for(;Oe!==null;)nC(Oe)}function fI(){for(;Oe!==null&&!UP();)nC(Oe)}function nC(t){var e=oC(t.alternate,t,pt);t.memoizedProps=t.pendingProps,e===null?iC(t):Oe=e,km.current=null}function iC(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=oI(r,e),r!==null){r.flags&=32767,Oe=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ue=6,Oe=null;return}}else if(r=sI(r,e,pt),r!==null){Oe=r;return}if(e=e.sibling,e!==null){Oe=e;return}Oe=e=t}while(e!==null);Ue===0&&(Ue=5)}function Cn(t,e,r){var n=he,i=Et.transition;try{Et.transition=null,he=1,pI(t,e,r,n)}finally{Et.transition=i,he=n}return null}function pI(t,e,r,n){do Ri();while(zr!==null);if(ie&6)throw Error(N(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(N(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(QP(t,s),t===qe&&(Oe=qe=null,He=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Pa||(Pa=!0,aC(hl,function(){return Ri(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Et.transition,Et.transition=null;var o=he;he=1;var a=ie;ie|=4,km.current=null,lI(t,r),XS(r,t),DA(mf),pl=!!pf,mf=pf=null,t.current=r,uI(r),FP(),ie=a,he=o,Et.transition=s}else t.current=r;if(Pa&&(Pa=!1,zr=t,kl=i),s=t.pendingLanes,s===0&&(Zr=null),qP(r.stateNode),dt(t,ke()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Il)throw Il=!1,t=Nf,Nf=null,t;return kl&1&&t.tag!==0&&Ri(),s=t.pendingLanes,s&1?t===Bf?js++:(js=0,Bf=t):js=0,gn(),null}function Ri(){if(zr!==null){var t=Lx(kl),e=Et.transition,r=he;try{if(Et.transition=null,he=16>t?16:t,zr===null)var n=!1;else{if(t=zr,zr=null,kl=0,ie&6)throw Error(N(331));var i=ie;for(ie|=4,$=t.current;$!==null;){var s=$,o=s.child;if($.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for($=u;$!==null;){var c=$;switch(c.tag){case 0:case 11:case 15:Us(8,c,s)}var h=c.child;if(h!==null)h.return=c,$=h;else for(;$!==null;){c=$;var d=c.sibling,p=c.return;if(KS(c),c===u){$=null;break}if(d!==null){d.return=p,$=d;break}$=p}}}var m=s.alternate;if(m!==null){var _=m.child;if(_!==null){m.child=null;do{var w=_.sibling;_.sibling=null,_=w}while(_!==null)}}$=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,$=o;else e:for(;$!==null;){if(s=$,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Us(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,$=v;break e}$=s.return}}var g=t.current;for($=g;$!==null;){o=$;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,$=y;else e:for(o=g;$!==null;){if(a=$,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ou(9,a)}}catch(b){Pe(a,a.return,b)}if(a===o){$=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,$=x;break e}$=a.return}}if(ie=i,gn(),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(Tu,t)}catch{}n=!0}return n}finally{he=r,Et.transition=e}}return!1}function sv(t,e,r){e=Hi(r,e),e=US(t,e,1),t=Xr(t,e,1),e=tt(),t!==null&&(Go(t,1,e),dt(t,e))}function Pe(t,e,r){if(t.tag===3)sv(t,t,r);else for(;e!==null;){if(e.tag===3){sv(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Zr===null||!Zr.has(n))){t=Hi(r,t),t=FS(e,t,1),e=Xr(e,t,1),t=tt(),e!==null&&(Go(e,1,t),dt(e,t));break}}e=e.return}}function mI(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=tt(),t.pingedLanes|=t.suspendedLanes&r,qe===t&&(He&r)===r&&(Ue===4||Ue===3&&(He&130023424)===He&&500>ke()-Mm?On(t,0):Rm|=r),dt(t,e)}function sC(t,e){e===0&&(t.mode&1?(e=ya,ya<<=1,!(ya&130023424)&&(ya=4194304)):e=1);var r=tt();t=wr(t,e),t!==null&&(Go(t,e,r),dt(t,r))}function gI(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),sC(t,r)}function yI(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(N(314))}n!==null&&n.delete(e),sC(t,r)}var oC;oC=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||ut.current)lt=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return lt=!1,iI(t,e,r);lt=!!(t.flags&131072)}else lt=!1,Se&&e.flags&1048576&&uS(e,xl,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Ga(t,e),t=e.pendingProps;var i=ji(e,Xe.current);ki(e,r),i=Tm(null,e,n,t,i,r);var s=Em();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ct(n)?(s=!0,_l(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,wm(e),i.updater=Ru,e.stateNode=i,i._reactInternals=e,bf(e,n,t,r),e=Pf(null,e,n,!0,s,r)):(e.tag=0,Se&&s&&fm(e),et(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Ga(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=_I(n),t=Bt(n,t),i){case 0:e=Ef(null,e,n,t,r);break e;case 1:e=Ky(null,e,n,t,r);break e;case 11:e=Wy(null,e,n,t,r);break e;case 14:e=Qy(null,e,n,Bt(n.type,t),r);break e}throw Error(N(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Bt(n,i),Ef(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Bt(n,i),Ky(t,e,n,i,r);case 3:e:{if(VS(e),t===null)throw Error(N(387));n=e.pendingProps,s=e.memoizedState,i=s.element,fS(t,e),bl(e,n,null,r);var o=e.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Hi(Error(N(423)),e),e=Yy(t,e,n,r,i);break e}else if(n!==i){i=Hi(Error(N(424)),e),e=Yy(t,e,n,r,i);break e}else for(mt=Jr(e.stateNode.containerInfo.firstChild),gt=e,Se=!0,Ut=null,r=yS(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if($i(),n===i){e=xr(t,e,r);break e}et(t,e,n,r)}e=e.child}return e;case 5:return vS(e),t===null&&xf(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,gf(n,i)?o=null:s!==null&&gf(n,s)&&(e.flags|=32),qS(t,e),et(t,e,o,r),e.child;case 6:return t===null&&xf(e),null;case 13:return HS(t,e,r);case 4:return xm(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=qi(e,null,n,r):et(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Bt(n,i),Wy(t,e,n,i,r);case 7:return et(t,e,e.pendingProps,r),e.child;case 8:return et(t,e,e.pendingProps.children,r),e.child;case 12:return et(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ge(Sl,n._currentValue),n._currentValue=o,s!==null)if(Ht(s.value,o)){if(s.children===i.children&&!ut.current){e=xr(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=pr(-1,r&-r),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),Sf(s.return,r,e),a.lanes|=r;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(N(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),Sf(o,r,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}et(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,ki(e,r),i=kt(i),n=n(i),e.flags|=1,et(t,e,n,r),e.child;case 14:return n=e.type,i=Bt(n,e.pendingProps),i=Bt(n.type,i),Qy(t,e,n,i,r);case 15:return jS(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Bt(n,i),Ga(t,e),e.tag=1,ct(n)?(t=!0,_l(e)):t=!1,ki(e,r),mS(e,n,i),bf(e,n,i,r),Pf(null,e,n,!0,t,r);case 19:return zS(t,e,r);case 22:return $S(t,e,r)}throw Error(N(156,e.tag))};function aC(t,e){return Ox(t,e)}function vI(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tt(t,e,r,n){return new vI(t,e,r,n)}function Bm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function _I(t){if(typeof t=="function")return Bm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===tm)return 11;if(t===rm)return 14}return 2}function tn(t,e){var r=t.alternate;return r===null?(r=Tt(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Ka(t,e,r,n,i,s){var o=2;if(n=t,typeof t=="function")Bm(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ci:return Dn(r.children,i,s,e);case em:o=8,i|=8;break;case Wh:return t=Tt(12,r,e,i|2),t.elementType=Wh,t.lanes=s,t;case Qh:return t=Tt(13,r,e,i),t.elementType=Qh,t.lanes=s,t;case Kh:return t=Tt(19,r,e,i),t.elementType=Kh,t.lanes=s,t;case gx:return Nu(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case px:o=10;break e;case mx:o=9;break e;case tm:o=11;break e;case rm:o=14;break e;case Lr:o=16,n=null;break e}throw Error(N(130,t==null?t:typeof t,""))}return e=Tt(o,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function Dn(t,e,r,n){return t=Tt(7,t,n,e),t.lanes=r,t}function Nu(t,e,r,n){return t=Tt(22,t,n,e),t.elementType=gx,t.lanes=r,t.stateNode={isHidden:!1},t}function zc(t,e,r){return t=Tt(6,t,null,e),t.lanes=r,t}function Gc(t,e,r){return e=Tt(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function wI(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ec(0),this.expirationTimes=Ec(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ec(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Lm(t,e,r,n,i,s,o,a,l){return t=new wI(t,e,r,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Tt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},wm(s),t}function xI(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ui,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function lC(t){if(!t)return an;t=t._reactInternals;e:{if(Yn(t)!==t||t.tag!==1)throw Error(N(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ct(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(N(171))}if(t.tag===1){var r=t.type;if(ct(r))return aS(t,r,e)}return e}function uC(t,e,r,n,i,s,o,a,l){return t=Lm(r,n,!0,t,i,s,o,a,l),t.context=lC(null),r=t.current,n=tt(),i=en(r),s=pr(n,i),s.callback=e??null,Xr(r,s,i),t.current.lanes=i,Go(t,i,n),dt(t,n),t}function Bu(t,e,r,n){var i=e.current,s=tt(),o=en(i);return r=lC(r),e.context===null?e.context=r:e.pendingContext=r,e=pr(s,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Xr(i,e,o),t!==null&&(qt(t,i,o,s),Va(t,i,o)),o}function Ml(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ov(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Um(t,e){ov(t,e),(t=t.alternate)&&ov(t,e)}function SI(){return null}var cC=typeof reportError=="function"?reportError:function(t){console.error(t)};function Fm(t){this._internalRoot=t}Lu.prototype.render=Fm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(N(409));Bu(t,e,null,null)};Lu.prototype.unmount=Fm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;zn(function(){Bu(null,t,null,null)}),e[_r]=null}};function Lu(t){this._internalRoot=t}Lu.prototype.unstable_scheduleHydration=function(t){if(t){var e=jx();t={blockedOn:null,target:t,priority:e};for(var r=0;r<jr.length&&e!==0&&e<jr[r].priority;r++);jr.splice(r,0,t),r===0&&qx(t)}};function jm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Uu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function av(){}function CI(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var u=Ml(o);s.call(u)}}var o=uC(e,n,t,0,null,!1,!1,"",av);return t._reactRootContainer=o,t[_r]=o.current,io(t.nodeType===8?t.parentNode:t),zn(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var u=Ml(l);a.call(u)}}var l=Lm(t,0,!1,null,null,!1,!1,"",av);return t._reactRootContainer=l,t[_r]=l.current,io(t.nodeType===8?t.parentNode:t),zn(function(){Bu(e,l,r,n)}),l}function Fu(t,e,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Ml(o);a.call(l)}}Bu(e,o,t,i)}else o=CI(r,e,t,i,n);return Ml(o)}Ux=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=As(e.pendingLanes);r!==0&&(sm(e,r|1),dt(e,ke()),!(ie&6)&&(zi=ke()+500,gn()))}break;case 13:zn(function(){var n=wr(t,1);if(n!==null){var i=tt();qt(n,t,1,i)}}),Um(t,1)}};om=function(t){if(t.tag===13){var e=wr(t,134217728);if(e!==null){var r=tt();qt(e,t,134217728,r)}Um(t,134217728)}};Fx=function(t){if(t.tag===13){var e=en(t),r=wr(t,e);if(r!==null){var n=tt();qt(r,t,e,n)}Um(t,e)}};jx=function(){return he};$x=function(t,e){var r=he;try{return he=t,e()}finally{he=r}};of=function(t,e,r){switch(e){case"input":if(Xh(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Iu(n);if(!i)throw Error(N(90));vx(n),Xh(n,i)}}}break;case"textarea":wx(t,r);break;case"select":e=r.value,e!=null&&Ei(t,!!r.multiple,e,!1)}};Px=Om;Ax=zn;var bI={usingClientEntryPoint:!1,Events:[Qo,pi,Iu,Tx,Ex,Om]},_s={findFiberByHostInstance:En,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},TI={bundleType:_s.bundleType,version:_s.version,rendererPackageName:_s.rendererPackageName,rendererConfig:_s.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Cr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Rx(t),t===null?null:t.stateNode},findFiberByHostInstance:_s.findFiberByHostInstance||SI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Aa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Aa.isDisabled&&Aa.supportsFiber)try{Tu=Aa.inject(TI),Zt=Aa}catch{}}_t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bI;_t.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jm(e))throw Error(N(200));return xI(t,e,null,r)};_t.createRoot=function(t,e){if(!jm(t))throw Error(N(299));var r=!1,n="",i=cC;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Lm(t,1,!1,null,null,r,!1,n,i),t[_r]=e.current,io(t.nodeType===8?t.parentNode:t),new Fm(e)};_t.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(N(188)):(t=Object.keys(t).join(","),Error(N(268,t)));return t=Rx(e),t=t===null?null:t.stateNode,t};_t.flushSync=function(t){return zn(t)};_t.hydrate=function(t,e,r){if(!Uu(e))throw Error(N(200));return Fu(null,t,e,!0,r)};_t.hydrateRoot=function(t,e,r){if(!jm(t))throw Error(N(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=cC;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=uC(e,null,t,1,r??null,i,!1,s,o),t[_r]=e.current,io(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Lu(e)};_t.render=function(t,e,r){if(!Uu(e))throw Error(N(200));return Fu(null,t,e,!1,r)};_t.unmountComponentAtNode=function(t){if(!Uu(t))throw Error(N(40));return t._reactRootContainer?(zn(function(){Fu(null,null,t,!1,function(){t._reactRootContainer=null,t[_r]=null})}),!0):!1};_t.unstable_batchedUpdates=Om;_t.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Uu(r))throw Error(N(200));if(t==null||t._reactInternals===void 0)throw Error(N(38));return Fu(t,e,r,!1,n)};_t.version="18.2.0-next-9e3b772b8-20220608";function dC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(dC)}catch(t){console.error(t)}}dC(),ux.exports=_t;var EI=ux.exports,lv=EI;zh.createRoot=lv.createRoot,zh.hydrateRoot=lv.hydrateRoot;function q(t){return t===void 0&&(t=!0),function(e,r){Object.defineProperty(e,r,{get:function(){},set:function(n){Object.defineProperty(this,r,{value:n,writable:!0,enumerable:t})},enumerable:t})}}var Ff=function(t,e){return Ff=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Ff(t,e)};function is(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Ff(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Gn=function(){return Gn=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Gn.apply(this,arguments)};function S(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function Vt(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(c){try{u(n.next(c))}catch(h){o(h)}}function l(c){try{u(n.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})}function Pt(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(c){return l([u,c])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(c){u=[6,c],i=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Ya(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function br(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function ln(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}function uv(t){var e;return(e=[]).concat.apply(e,ln([],br(t),!1))}function jf(t){return Vt(this,void 0,Promise,function(){return Pt(this,function(e){switch(e.label){case 0:return typeof t!="function"?[3,2]:[4,t()];case 1:return[2,e.sent()];case 2:return[2,t]}})})}function PI(t){return typeof t=="function"?t():t}function hC(t){var e,r,n;return Pt(this,function(i){switch(i.label){case 0:e=0,r=1,i.label=1;case 1:return e<t?[4,e]:[3,3];case 2:return i.sent(),n=br([r,e+r],2),e=n[0],r=n[1],[3,1];case 3:return[4,t];case 4:return i.sent(),[3,3];case 5:return[2]}})}function ks(t,e){return Object.assign.apply(Object,ln([{}],br(t.map(e)),!1))}function $f(t,e){Object.entries(t).forEach(function(r){var n=br(r,2),i=n[0],s=n[1];return e(s,i)})}function fC(t,e){if(typeof e!="function"){var r=e;e=function(n){return n[r].toString()}}return ks(t,function(n){var i;return i={},i[e(n)]=n,i})}function pC(t){return t==null}function nr(t,e){return pC(t)?null:e(t)}function rr(t,e){return pC(t)?void 0:e(t)}function AI(t){return Vt(this,void 0,Promise,function(){return Pt(this,function(e){switch(e.label){case 0:return[4,new Promise(function(r){return setTimeout(r,t)})];case 1:return e.sent(),[2]}})})}function po(){var t,e,r=new Promise(function(n,i){t=n,e=i});return{promise:r,resolve:t,reject:e}}function II(t,e,r){if(typeof t=="number"&&(t=t.toString()),e=e-t.length,e<=0)return t;r===void 0&&(r=" ");var n="";do(e&1)===1&&(n+=r),e>>=1,e&&(r+=r);while(e);return n+t}function Nn(t,e,r){var n=t.split(e);return n.length<=r?n:ln(ln([],br(n.slice(0,r-1)),!1),[n.slice(r-1).join(e)],!1)}function mC(t){return ln([],br(t),!1).length}function qf(t,e,r){return ln([],br(t),!1).slice(e,r).join("")}const kI=6e4;function RI(t){return nr(t.expiresIn,e=>t.obtainmentTimestamp+e*1e3-kI)}function Mi(t){var e;return(e=nr(RI(t),r=>Date.now()>r))!==null&&e!==void 0?e:!1}var Vf={exports:{}};(function(t,e){var r=typeof self<"u"?self:zp,n=function(){function s(){this.fetch=!1,this.DOMException=r.DOMException}return s.prototype=r,new s}();(function(s){(function(o){var a={searchParams:"URLSearchParams"in s,iterable:"Symbol"in s&&"iterator"in Symbol,blob:"FileReader"in s&&"Blob"in s&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in s,arrayBuffer:"ArrayBuffer"in s};function l(T){return T&&DataView.prototype.isPrototypeOf(T)}if(a.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(T){return T&&u.indexOf(Object.prototype.toString.call(T))>-1};function h(T){if(typeof T!="string"&&(T=String(T)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(T))throw new TypeError("Invalid character in header field name");return T.toLowerCase()}function d(T){return typeof T!="string"&&(T=String(T)),T}function p(T){var I={next:function(){var V=T.shift();return{done:V===void 0,value:V}}};return a.iterable&&(I[Symbol.iterator]=function(){return I}),I}function m(T){this.map={},T instanceof m?T.forEach(function(I,V){this.append(V,I)},this):Array.isArray(T)?T.forEach(function(I){this.append(I[0],I[1])},this):T&&Object.getOwnPropertyNames(T).forEach(function(I){this.append(I,T[I])},this)}m.prototype.append=function(T,I){T=h(T),I=d(I);var V=this.map[T];this.map[T]=V?V+", "+I:I},m.prototype.delete=function(T){delete this.map[h(T)]},m.prototype.get=function(T){return T=h(T),this.has(T)?this.map[T]:null},m.prototype.has=function(T){return this.map.hasOwnProperty(h(T))},m.prototype.set=function(T,I){this.map[h(T)]=d(I)},m.prototype.forEach=function(T,I){for(var V in this.map)this.map.hasOwnProperty(V)&&T.call(I,this.map[V],V,this)},m.prototype.keys=function(){var T=[];return this.forEach(function(I,V){T.push(V)}),p(T)},m.prototype.values=function(){var T=[];return this.forEach(function(I){T.push(I)}),p(T)},m.prototype.entries=function(){var T=[];return this.forEach(function(I,V){T.push([V,I])}),p(T)},a.iterable&&(m.prototype[Symbol.iterator]=m.prototype.entries);function _(T){if(T.bodyUsed)return Promise.reject(new TypeError("Already read"));T.bodyUsed=!0}function w(T){return new Promise(function(I,V){T.onload=function(){I(T.result)},T.onerror=function(){V(T.error)}})}function v(T){var I=new FileReader,V=w(I);return I.readAsArrayBuffer(T),V}function g(T){var I=new FileReader,V=w(I);return I.readAsText(T),V}function y(T){for(var I=new Uint8Array(T),V=new Array(I.length),de=0;de<I.length;de++)V[de]=String.fromCharCode(I[de]);return V.join("")}function x(T){if(T.slice)return T.slice(0);var I=new Uint8Array(T.byteLength);return I.set(new Uint8Array(T)),I.buffer}function b(){return this.bodyUsed=!1,this._initBody=function(T){this._bodyInit=T,T?typeof T=="string"?this._bodyText=T:a.blob&&Blob.prototype.isPrototypeOf(T)?this._bodyBlob=T:a.formData&&FormData.prototype.isPrototypeOf(T)?this._bodyFormData=T:a.searchParams&&URLSearchParams.prototype.isPrototypeOf(T)?this._bodyText=T.toString():a.arrayBuffer&&a.blob&&l(T)?(this._bodyArrayBuffer=x(T.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(T)||c(T))?this._bodyArrayBuffer=x(T):this._bodyText=T=Object.prototype.toString.call(T):this._bodyText="",this.headers.get("content-type")||(typeof T=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):a.searchParams&&URLSearchParams.prototype.isPrototypeOf(T)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a.blob&&(this.blob=function(){var T=_(this);if(T)return T;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?_(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(v)}),this.text=function(){var T=_(this);if(T)return T;if(this._bodyBlob)return g(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(y(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a.formData&&(this.formData=function(){return this.text().then(B)}),this.json=function(){return this.text().then(JSON.parse)},this}var R=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function O(T){var I=T.toUpperCase();return R.indexOf(I)>-1?I:T}function A(T,I){I=I||{};var V=I.body;if(T instanceof A){if(T.bodyUsed)throw new TypeError("Already read");this.url=T.url,this.credentials=T.credentials,I.headers||(this.headers=new m(T.headers)),this.method=T.method,this.mode=T.mode,this.signal=T.signal,!V&&T._bodyInit!=null&&(V=T._bodyInit,T.bodyUsed=!0)}else this.url=String(T);if(this.credentials=I.credentials||this.credentials||"same-origin",(I.headers||!this.headers)&&(this.headers=new m(I.headers)),this.method=O(I.method||this.method||"GET"),this.mode=I.mode||this.mode||null,this.signal=I.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&V)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(V)}A.prototype.clone=function(){return new A(this,{body:this._bodyInit})};function B(T){var I=new FormData;return T.trim().split("&").forEach(function(V){if(V){var de=V.split("="),L=de.shift().replace(/\+/g," "),F=de.join("=").replace(/\+/g," ");I.append(decodeURIComponent(L),decodeURIComponent(F))}}),I}function j(T){var I=new m,V=T.replace(/\r?\n[\t ]+/g," ");return V.split(/\r?\n/).forEach(function(de){var L=de.split(":"),F=L.shift().trim();if(F){var W=L.join(":").trim();I.append(F,W)}}),I}b.call(A.prototype);function K(T,I){I||(I={}),this.type="default",this.status=I.status===void 0?200:I.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in I?I.statusText:"OK",this.headers=new m(I.headers),this.url=I.url||"",this._initBody(T)}b.call(K.prototype),K.prototype.clone=function(){return new K(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new m(this.headers),url:this.url})},K.error=function(){var T=new K(null,{status:0,statusText:""});return T.type="error",T};var oe=[301,302,303,307,308];K.redirect=function(T,I){if(oe.indexOf(I)===-1)throw new RangeError("Invalid status code");return new K(null,{status:I,headers:{location:T}})},o.DOMException=s.DOMException;try{new o.DOMException}catch{o.DOMException=function(I,V){this.message=I,this.name=V;var de=Error(I);this.stack=de.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function ee(T,I){return new Promise(function(V,de){var L=new A(T,I);if(L.signal&&L.signal.aborted)return de(new o.DOMException("Aborted","AbortError"));var F=new XMLHttpRequest;function W(){F.abort()}F.onload=function(){var H={status:F.status,statusText:F.statusText,headers:j(F.getAllResponseHeaders()||"")};H.url="responseURL"in F?F.responseURL:H.headers.get("X-Request-URL");var ae="response"in F?F.response:F.responseText;V(new K(ae,H))},F.onerror=function(){de(new TypeError("Network request failed"))},F.ontimeout=function(){de(new TypeError("Network request failed"))},F.onabort=function(){de(new o.DOMException("Aborted","AbortError"))},F.open(L.method,L.url,!0),L.credentials==="include"?F.withCredentials=!0:L.credentials==="omit"&&(F.withCredentials=!1),"responseType"in F&&a.blob&&(F.responseType="blob"),L.headers.forEach(function(H,ae){F.setRequestHeader(ae,H)}),L.signal&&(L.signal.addEventListener("abort",W),F.onreadystatechange=function(){F.readyState===4&&L.signal.removeEventListener("abort",W)}),F.send(typeof L._bodyInit>"u"?null:L._bodyInit)})}return ee.polyfill=!0,s.fetch||(s.fetch=ee,s.Headers=m,s.Request=A,s.Response=K),o.Headers=m,o.Request=A,o.Response=K,o.fetch=ee,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=n;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e})(Vf,Vf.exports);var gC=Vf.exports;const MI=es(gC);var Wc=Object.prototype.hasOwnProperty,si=Array.isArray,Wt=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),OI=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(si(n)){for(var i=[],s=0;s<n.length;++s)typeof n[s]<"u"&&i.push(n[s]);r.obj[r.prop]=i}}},yC=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},DI=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(si(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!Wc.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return si(e)&&!si(r)&&(i=yC(e,n)),si(e)&&si(r)?(r.forEach(function(s,o){if(Wc.call(e,o)){var a=e[o];a&&typeof a=="object"&&s&&typeof s=="object"?e[o]=t(a,s,n):e.push(s)}else e[o]=s}),e):Object.keys(r).reduce(function(s,o){var a=r[o];return Wc.call(s,o)?s[o]=t(s[o],a,n):s[o]=a,s},i)},NI=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},BI=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},LI=function(e,r,n){if(e.length===0)return e;var i=e;if(typeof e=="symbol"?i=Symbol.prototype.toString.call(e):typeof e!="string"&&(i=String(e)),n==="iso-8859-1")return escape(i).replace(/%u[0-9a-f]{4}/gi,function(l){return"%26%23"+parseInt(l.slice(2),16)+"%3B"});for(var s="",o=0;o<i.length;++o){var a=i.charCodeAt(o);if(a===45||a===46||a===95||a===126||a>=48&&a<=57||a>=65&&a<=90||a>=97&&a<=122){s+=i.charAt(o);continue}if(a<128){s=s+Wt[a];continue}if(a<2048){s=s+(Wt[192|a>>6]+Wt[128|a&63]);continue}if(a<55296||a>=57344){s=s+(Wt[224|a>>12]+Wt[128|a>>6&63]+Wt[128|a&63]);continue}o+=1,a=65536+((a&1023)<<10|i.charCodeAt(o)&1023),s+=Wt[240|a>>18]+Wt[128|a>>12&63]+Wt[128|a>>6&63]+Wt[128|a&63]}return s},UI=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var s=r[i],o=s.obj[s.prop],a=Object.keys(o),l=0;l<a.length;++l){var u=a[l],c=o[u];typeof c=="object"&&c!==null&&n.indexOf(c)===-1&&(r.push({obj:o,prop:u}),n.push(c))}return OI(r),e},FI=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},jI=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},$I=function(e,r){return[].concat(e,r)},$m={arrayToObject:yC,assign:NI,combine:$I,compact:UI,decode:BI,encode:LI,isBuffer:jI,isRegExp:FI,merge:DI},qI=String.prototype.replace,VI=/%20/g,HI=$m,cv={RFC1738:"RFC1738",RFC3986:"RFC3986"},zI=HI.assign({default:cv.RFC3986,formatters:{RFC1738:function(t){return qI.call(t,VI,"+")},RFC3986:function(t){return String(t)}}},cv),vC=$m,$s=zI,GI=Object.prototype.hasOwnProperty,dv={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},Oi=Array.isArray,WI=Array.prototype.push,Hf=function(t,e){WI.apply(t,Oi(e)?e:[e])},QI=Date.prototype.toISOString,hv=$s.default,Ye={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:vC.encode,encodeValuesOnly:!1,format:hv,formatter:$s.formatters[hv],indices:!1,serializeDate:function(e){return QI.call(e)},skipNulls:!1,strictNullHandling:!1},KI=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},YI=function t(e,r,n,i,s,o,a,l,u,c,h,d,p){var m=e;if(typeof a=="function"?m=a(r,m):m instanceof Date?m=c(m):n==="comma"&&Oi(m)&&(m=m.join(",")),m===null){if(i)return o&&!d?o(r,Ye.encoder,p,"key"):r;m=""}if(KI(m)||vC.isBuffer(m)){if(o){var _=d?r:o(r,Ye.encoder,p,"key");return[h(_)+"="+h(o(m,Ye.encoder,p,"value"))]}return[h(r)+"="+h(String(m))]}var w=[];if(typeof m>"u")return w;var v;if(Oi(a))v=a;else{var g=Object.keys(m);v=l?g.sort(l):g}for(var y=0;y<v.length;++y){var x=v[y];s&&m[x]===null||(Oi(m)?Hf(w,t(m[x],typeof n=="function"?n(r,x):r,n,i,s,o,a,l,u,c,h,d,p)):Hf(w,t(m[x],r+(u?"."+x:"["+x+"]"),n,i,s,o,a,l,u,c,h,d,p)))}return w},JI=function(e){if(!e)return Ye;if(e.encoder!==null&&e.encoder!==void 0&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||Ye.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=$s.default;if(typeof e.format<"u"){if(!GI.call($s.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=$s.formatters[n],s=Ye.filter;return(typeof e.filter=="function"||Oi(e.filter))&&(s=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Ye.addQueryPrefix,allowDots:typeof e.allowDots>"u"?Ye.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Ye.charsetSentinel,delimiter:typeof e.delimiter>"u"?Ye.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Ye.encode,encoder:typeof e.encoder=="function"?e.encoder:Ye.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Ye.encodeValuesOnly,filter:s,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Ye.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Ye.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Ye.strictNullHandling}},XI=function(t,e){var r=t,n=JI(e),i,s;typeof n.filter=="function"?(s=n.filter,r=s("",r)):Oi(n.filter)&&(s=n.filter,i=s);var o=[];if(typeof r!="object"||r===null)return"";var a;e&&e.arrayFormat in dv?a=e.arrayFormat:e&&"indices"in e?a=e.indices?"indices":"repeat":a="indices";var l=dv[a];i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var u=0;u<i.length;++u){var c=i[u];n.skipNulls&&r[c]===null||Hf(o,YI(r[c],c,l,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.formatter,n.encodeValuesOnly,n.charset))}var h=o.join(n.delimiter),d=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?d+="utf8=%26%2310003%3B&":d+="utf8=%E2%9C%93&"),h.length>0?d+h:""};const _C=es(XI);var ZI=$m;ZI.decode;const f=Symbol("twurpleRawData");class z{constructor(e){this[f]=e}}let ir=class extends Error{constructor(e,r){var n;super(e,r),Object.setPrototypeOf(this,new.target.prototype),(n=Error.captureStackTrace)===null||n===void 0||n.call(Error,this,new.target.constructor)}get name(){return this.constructor.name}};class ek extends ir{constructor(){super("Relation returned null - this may be a library bug or a race condition in your own code")}}function Y(t){if(t==null)throw new ek;return t}function D(t,e,r){return n=>{const i=r?function(){return`[${e}#${this[r]} - please check https://twurple.js.org/reference/${t}/classes/${e}.html for available properties]`}:function(){return`[${e} - please check https://twurple.js.org/reference/${t}/classes/${e}.html for available properties]`};Object.defineProperty(n.prototype,Symbol.for("nodejs.util.inspect.custom"),{value:i,enumerable:!1})}}let zf=class extends z{get authorName(){return this[f].author_name}get bitsEnabled(){return this[f].bits_enabled}get installable(){return this[f].can_install}get configurationLocation(){return this[f].configuration_location}get description(){return this[f].description}get tosUrl(){return this[f].eula_tos_url}get hasChatSupport(){return this[f].has_chat_support}get iconUrl(){return this[f].icon_url}getIconUrl(e){return this[f].icon_urls[e]}get id(){return this[f].id}get name(){return this[f].name}get privacyPolicyUrl(){return this[f].privacy_policy_url}get requestsIdentityLink(){return this[f].request_identity_link}get screenshotUrls(){return this[f].screenshot_urls}get state(){return this[f].state}get subscriptionsSupportLevel(){return this[f].subscriptions_support_level}get summary(){return this[f].summary}get supportEmail(){return this[f].support_email}get version(){return this[f].version}get viewerSummery(){return this[f].viewer_summary}get allowedConfigUrls(){return this[f].allowlisted_config_urls}get allowedPanelUrls(){return this[f].allowlisted_panel_urls}get mobileViewerUrl(){var e,r;return(r=(e=this[f].views.mobile)===null||e===void 0?void 0:e.viewer_url)!==null&&r!==void 0?r:null}get panelViewerUrl(){var e,r;return(r=(e=this[f].views.panel)===null||e===void 0?void 0:e.viewer_url)!==null&&r!==void 0?r:null}get panelHeight(){var e,r;return(r=(e=this[f].views.panel)===null||e===void 0?void 0:e.height)!==null&&r!==void 0?r:null}get panelCanLinkExternalContent(){var e,r;return(r=(e=this[f].views.panel)===null||e===void 0?void 0:e.can_link_external_content)!==null&&r!==void 0?r:null}get overlayViewerUrl(){var e,r;return(r=(e=this[f].views.video_overlay)===null||e===void 0?void 0:e.viewer_url)!==null&&r!==void 0?r:null}get overlayCanLinkExternalContent(){var e,r;return(r=(e=this[f].views.video_overlay)===null||e===void 0?void 0:e.can_link_external_content)!==null&&r!==void 0?r:null}get componentViewerUrl(){var e,r;return(r=(e=this[f].views.component)===null||e===void 0?void 0:e.viewer_url)!==null&&r!==void 0?r:null}get componentAspectWidth(){var e,r;return(r=(e=this[f].views.component)===null||e===void 0?void 0:e.aspect_width)!==null&&r!==void 0?r:null}get componentAspectHeight(){var e,r;return(r=(e=this[f].views.component)===null||e===void 0?void 0:e.aspect_height)!==null&&r!==void 0?r:null}get componentAspectRatioX(){var e,r;return(r=(e=this[f].views.component)===null||e===void 0?void 0:e.aspect_ratio_x)!==null&&r!==void 0?r:null}get componentAspectRatioY(){var e,r;return(r=(e=this[f].views.component)===null||e===void 0?void 0:e.aspect_ratio_y)!==null&&r!==void 0?r:null}get componentAutoScales(){var e,r;return(r=(e=this[f].views.component)===null||e===void 0?void 0:e.autoscale)!==null&&r!==void 0?r:null}get componentScalePixels(){var e,r;return(r=(e=this[f].views.component)===null||e===void 0?void 0:e.scale_pixels)!==null&&r!==void 0?r:null}get componentTargetHeight(){var e,r;return(r=(e=this[f].views.component)===null||e===void 0?void 0:e.target_height)!==null&&r!==void 0?r:null}get componentSize(){var e,r;return(r=(e=this[f].views.component)===null||e===void 0?void 0:e.size)!==null&&r!==void 0?r:null}get componentZoom(){var e,r;return(r=(e=this[f].views.component)===null||e===void 0?void 0:e.zoom)!==null&&r!==void 0?r:null}get componentZoomPixels(){var e,r;return(r=(e=this[f].views.component)===null||e===void 0?void 0:e.zoom_pixels)!==null&&r!==void 0?r:null}get componentCanLinkExternalContent(){var e,r;return(r=(e=this[f].views.component)===null||e===void 0?void 0:e.can_link_external_content)!==null&&r!==void 0?r:null}get configViewerUrl(){var e,r;return(r=(e=this[f].views.config)===null||e===void 0?void 0:e.viewer_url)!==null&&r!==void 0?r:null}get configCanLinkExternalContent(){var e,r;return(r=(e=this[f].views.config)===null||e===void 0?void 0:e.can_link_external_content)!==null&&r!==void 0?r:null}};zf=S([D("api","HelixExtension","id")],zf);class un extends ir{constructor(e){super(`${e} - this should never happen, please file a bug in the GitHub issue tracker`)}}function C(t){return typeof t=="string"?t:typeof t=="number"?t.toString(10):t.id}function qs(t){return typeof t=="string"?t:t.name}class Wn extends ir{constructor(e,r,n,i,s,o){super(`Encountered HTTP status code ${e}: ${r}

URL: ${n}
Method: ${i}
Body:
${!o&&s.length>150?`${s.slice(0,147)}...`:s}`),this._statusCode=e,this._url=n,this._method=i,this._body=s}get statusCode(){return this._statusCode}get url(){return this._url}get method(){return this._method}get body(){return this._body}}async function Gf(t,e){var r;if(!t.ok){const n=t.headers.get("Content-Type")==="application/json",i=n?JSON.stringify(await t.json(),null,2):await t.text(),s=_C(e.query,{arrayFormat:"repeat",addQueryPrefix:!0}),o=`${e.url}${s}`;throw new Wn(t.status,t.statusText,o,(r=e.method)!==null&&r!==void 0?r:"GET",i,n)}}async function wC(t){if(t.status===204)return;const e=await t.text();if(e)return JSON.parse(e)}function tk(t,e){switch(e){case"helix":return`https://api.twitch.tv/helix/${t.replace(/^\//,"")}`;case"auth":return`https://id.twitch.tv/oauth2/${t.replace(/^\//,"")}`;case"custom":return t;default:return t}}async function ju(t,e,r,n,i={}){var s,o;const a=(s=t.type)!==null&&s!==void 0?s:"helix",l=tk(t.url,a),u=_C(t.query,{arrayFormat:"repeat",addQueryPrefix:!0}),c=new gC.Headers({Accept:"application/json"});let h;t.jsonBody&&(h=JSON.stringify(t.jsonBody),c.append("Content-Type","application/json")),e&&a!=="auth"&&c.append("Client-ID",e),r&&c.append("Authorization",`${a==="helix"?n??"Bearer":"OAuth"} ${r}`);const d={...i,method:(o=t.method)!==null&&o!==void 0?o:"GET",headers:c,body:h};return await MI(`${l}${u}`,d)}async function Yo(t,e,r,n,i={}){const s=await ju(t,e,r,n,i);return await Gf(s,t),await wC(s)}function ce(t){return{broadcaster_id:C(t)}}class Bn extends ir{constructor(e){super("Invalid token supplied",e)}}class Ja extends ir{}function rk(t,e,r,n){return{grant_type:"authorization_code",client_id:t,client_secret:e,code:r,redirect_uri:n}}function nk(t,e){return{grant_type:"client_credentials",client_id:t,client_secret:e}}function ik(t,e,r){return{grant_type:"refresh_token",client_id:t,client_secret:e,refresh_token:r}}let Ol=class extends z{constructor(e){super(e),this._obtainmentDate=new Date}get clientId(){return this[f].client_id}get userId(){var e;return(e=this[f].user_id)!==null&&e!==void 0?e:null}get userName(){var e;return(e=this[f].login)!==null&&e!==void 0?e:null}get scopes(){return this[f].scopes}get expiryDate(){return nr(this[f].expires_in,e=>new Date(this._obtainmentDate.getTime()+e*1e3))}};Ol=S([D("auth","TokenInfo","clientId")],Ol);function qm(t){var e,r;return{accessToken:t.access_token,refreshToken:t.refresh_token||null,scope:(e=t.scope)!==null&&e!==void 0?e:[],expiresIn:(r=t.expires_in)!==null&&r!==void 0?r:null,obtainmentTimestamp:Date.now()}}async function sk(t,e,r,n){return qm(await Yo({type:"auth",url:"token",method:"POST",query:rk(t,e,r,n)}))}async function ok(t,e){return qm(await Yo({type:"auth",url:"token",method:"POST",query:nk(t,e)}))}async function fv(t,e,r){return qm(await Yo({type:"auth",url:"token",method:"POST",query:ik(t,e,r)}))}async function Gi(t,e){try{const r=await Yo({type:"auth",url:"validate"},e,t);return new Ol(r)}catch(r){throw r instanceof Wn&&r.statusCode===401?new Bn({cause:r}):r}}const ak=new Map([["channel_commercial",["channel:edit:commercial"]],["channel_editor",["channel:manage:broadcast"]],["channel_read",["channel:read:stream_key"]],["channel_subscriptions",["channel:read:subscriptions"]],["user_blocks_read",["user:read:blocked_users"]],["user_blocks_edit",["user:manage:blocked_users"]],["user_follows_edit",["user:edit:follows"]],["user_read",["user:read:email"]],["user_subscriptions",["user:read:subscriptions"]],["user:edit:broadcast",["channel:manage:broadcast","channel:manage:extensions"]]]);function lk(t,e){if(e!=null&&e.length){const r=new Set(t.flatMap(n=>{var i;return[n,...(i=ak.get(n))!==null&&i!==void 0?i:[]]}));if(e.every(n=>!r.has(n))){const n=e.join(", ");throw new Error(`This token does not have any of the requested scopes (${n}) and can not be upgraded.
If you need dynamically upgrading scopes, please implement the AuthProvider interface accordingly:

	https://twurple.js.org/reference/auth/interfaces/AuthProvider.html`)}}}function Wf(t,e){for(const r of e)lk(t,r)}async function xC(t,e,r,n,i){if(i!=null&&i.length||!r){const s=await Gi(e,t);if(!s.userId)throw new Error("Trying to use an app access token as a user access token");const o=n??s.scopes;return i&&Wf(o,i.filter(a=>!!a)),[o,s.userId]}return[n,r]}class pv{constructor(e){this._newTokenScopeSets=[],this._newTokenPromise=null,this._queuedScopeSets=[],this._queueExecutor=null,this._queuePromise=null,this._executor=e}async fetch(...e){var r;const n=e.filter(a=>!!a);if(this._newTokenPromise){if(!n.length)return await this._newTokenPromise;if(this._queueExecutor?this._queuedScopeSets.push(...n):this._queuedScopeSets=[...n],!this._queuePromise){const{promise:a,resolve:l,reject:u}=po();this._queuePromise=a,this._queueExecutor=async()=>{var c;if(this._queuePromise){this._newTokenScopeSets=this._queuedScopeSets,this._queuedScopeSets=[],this._newTokenPromise=this._queuePromise,this._queuePromise=null,this._queueExecutor=null;try{l(await this._executor(this._newTokenScopeSets))}catch(h){u(h)}finally{this._newTokenPromise=null,this._newTokenScopeSets=[],(c=this._queueExecutor)===null||c===void 0||c.call(this)}}}}return await this._queuePromise}this._newTokenScopeSets=[...n];const{promise:i,resolve:s,reject:o}=po();this._newTokenPromise=i;try{s(await this._executor(this._newTokenScopeSets))}catch(a){o(a)}finally{this._newTokenPromise=null,this._newTokenScopeSets=[],(r=this._queueExecutor)===null||r===void 0||r.call(this)}return await i}}class uk{constructor(e,r,n,i=!1){this.owner=e,this.event=r,this.listener=n,this._internal=i}unbind(){this.owner.removeListener(this)}}class ss{constructor(){this._eventListeners=new Map,this._internalEventListeners=new Map}on(e,r){return this._addListener(!1,e,r)}addListener(e,r){return this._addListener(!1,e,r)}removeListener(e,r){this._removeListener(!1,e,r)}registerEvent(){const e=r=>this.addListener(e,r);return e}emit(e,...r){if(this._eventListeners.has(e))for(const n of this._eventListeners.get(e))n(...r);if(this._internalEventListeners.has(e))for(const n of this._internalEventListeners.get(e))n(...r)}registerInternalEvent(){const e=r=>this.addInternalListener(e,r);return e}addInternalListener(e,r){return this._addListener(!0,e,r)}removeInternalListener(e,r){this._removeListener(!0,e,r)}_addListener(e,r,n){const i=e?this._eventListeners:this._internalEventListeners;return i.has(r)?i.get(r).push(n):i.set(r,[n]),new uk(this,r,n,e)}_removeListener(e,r,n){const i=e?this._eventListeners:this._internalEventListeners;if(!r)i.clear();else if(typeof r=="object"){const s=r;this._removeListener(s._internal,s.event,s.listener)}else{const s=r;if(i.has(s))if(n){const o=i.get(s);let a=0;for(;(a=o.indexOf(n))!==-1;)o.splice(a,1)}else i.delete(s)}}}class mv extends ir{constructor(e){super(`The user context for the user ${e} has been disabled.
This happened because the access token became invalid (e.g. by expiry) and refreshing it failed (e.g. because the account's password was changed).

Use .addUser(), .addUserForToken() or .addUserForCode() for the same user context to re-enable the user with a new, valid token.`),this.userId=e}}class ck extends ir{constructor(e){super(`User ${e} was removed while trying to fetch a token.

Make sure you're not executing any actions when you want to remove a user.`),this.userId=e}}class dk extends ir{constructor(e){super(`Unknown intent: ${e}`),this.intent=e}}let cn=class extends ss{constructor(e){var r;super(),this._userAccessTokens=new Map,this._userTokenFetchers=new Map,this._intentToUserId=new Map,this._userIdToIntents=new Map,this._cachedRefreshFailures=new Set,this.onRefresh=this.registerEvent(),this.onRefreshFailure=this.registerEvent(),this._clientId=e.clientId,this._clientSecret=e.clientSecret,this._redirectUri=e.redirectUri,this._appImpliedScopes=(r=e.appImpliedScopes)!==null&&r!==void 0?r:[],this._appTokenFetcher=new pv(async n=>await this._fetchAppToken(n))}addUser(e,r,n){const i=C(e);if(!r.refreshToken)throw new Error(`Trying to add user ${i} without refresh token`);this._cachedRefreshFailures.delete(i),this._userAccessTokens.set(i,{...r,userId:i}),this._userTokenFetchers.has(i)||this._userTokenFetchers.set(i,new pv(async s=>await this._fetchUserToken(i,s))),n&&this.addIntentsToUser(e,n)}async addUserForToken(e,r){let n=null;if(e.accessToken&&!Mi(e))try{const a=await Gi(e.accessToken);n=[e,a]}catch(a){if(!(a instanceof Bn))throw a}if(!n){if(!e.refreshToken)throw new Bn;const a=await fv(this._clientId,this._clientSecret,e.refreshToken),l=await Gi(a.accessToken);this.emit(this.onRefresh,l.userId,a),n=[a,l]}const[i,s]=n;if(!s.userId)throw new Ja("Could not determine a user ID for your token; you might be trying to disguise an app token as a user token.");const o=i.scope?i:{...i,scope:s.scopes};return this.addUser(s.userId,o,r),s.userId}async addUserForCode(e,r){if(!this._redirectUri)throw new Error("This method requires you to pass a `redirectUri` as a configuration property");const n=await sk(this._clientId,this._clientSecret,e,this._redirectUri);return await this.addUserForToken(n,r)}hasUser(e){return this._userTokenFetchers.has(C(e))}removeUser(e){const r=C(e);if(this._userIdToIntents.has(r)){const n=this._userIdToIntents.get(r);for(const i of n)this._intentToUserId.delete(i);this._userIdToIntents.delete(r)}this._userAccessTokens.delete(r),this._userTokenFetchers.delete(r),this._cachedRefreshFailures.delete(r)}addIntentsToUser(e,r){const n=C(e);if(!this._userAccessTokens.has(n))throw new Error("Trying to add intents to a user that was not added to this provider");for(const i of r)this._intentToUserId.has(i)&&this._userIdToIntents.get(this._intentToUserId.get(i)).delete(i),this._intentToUserId.set(i,n),this._userIdToIntents.has(n)?this._userIdToIntents.get(n).add(i):this._userIdToIntents.set(n,new Set([i]))}getIntentsForUser(e){const r=C(e);return this._userIdToIntents.has(r)?Array.from(this._userIdToIntents.get(r)):[]}removeIntents(e){var r;for(const n of e)if(this._intentToUserId.has(n)){const i=this._intentToUserId.get(n);(r=this._userIdToIntents.get(i))===null||r===void 0||r.delete(n),this._intentToUserId.delete(n)}}async refreshAccessTokenForUser(e){const r=C(e);if(this._cachedRefreshFailures.has(r))throw new mv(r);const n=this._userAccessTokens.get(r);if(!n)throw new Error("Trying to refresh token for user that was not added to the provider");const i=await this._refreshUserTokenWithCallback(r,n.refreshToken);return this._checkIntermediateUserRemoval(r),this._userAccessTokens.set(r,{...i,userId:r}),this.emit(this.onRefresh,r,i),{...i,userId:r}}async refreshAccessTokenForIntent(e){if(!this._intentToUserId.has(e))throw new dk(e);const r=this._intentToUserId.get(e);return await this.refreshAccessTokenForUser(r)}get clientId(){return this._clientId}getCurrentScopesForUser(e){var r;const n=this._userAccessTokens.get(C(e));if(!n)throw new Error("Trying to get scopes for user that was not added to the provider");return(r=n.scope)!==null&&r!==void 0?r:[]}async getAccessTokenForUser(e,...r){const n=C(e),i=this._userTokenFetchers.get(n);if(!i)return null;if(this._cachedRefreshFailures.has(n))throw new mv(n);return await i.fetch(...r)}async getAccessTokenForIntent(e,...r){if(!this._intentToUserId.has(e))return null;const n=this._intentToUserId.get(e),i=await this.getAccessTokenForUser(n,...r);if(!i)throw new un(`Found intent ${e} corresponding to user ID ${n} but no token was found`);return{...i,userId:n}}async getAnyAccessToken(e){if(e){const r=C(e);if(this._userAccessTokens.has(r)){const n=await this.getAccessTokenForUser(r);if(!n)throw new un(`Token for user ID ${r} exists but nothing was returned by getAccessTokenForUser`);return{...n,userId:r}}}return await this.getAppAccessToken()}async getAppAccessToken(e=!1){return e&&(this._appAccessToken=void 0),await this._appTokenFetcher.fetch(...this._appImpliedScopes.map(r=>[r]))}_checkIntermediateUserRemoval(e){if(!this._userTokenFetchers.has(e))throw this._cachedRefreshFailures.delete(e),new ck(e)}async _fetchUserToken(e,r){const n=this._userAccessTokens.get(e);if(!n)throw new Error("Trying to get token for user that was not added to the provider");if(n.accessToken&&!Mi(n))try{if(n.scope)return Wf(n.scope,r),n;const[s=[]]=await xC(this._clientId,n.accessToken,e,n.scope,r),o={...n,scope:s};return this._checkIntermediateUserRemoval(e),this._userAccessTokens.set(e,o),o}catch(s){if(!(s instanceof Bn))throw s}this._checkIntermediateUserRemoval(e);const i=await this.refreshAccessTokenForUser(e);return Wf(i.scope,r),i}async _refreshUserTokenWithCallback(e,r){try{return await fv(this.clientId,this._clientSecret,r)}catch(n){throw this._cachedRefreshFailures.add(e),this.emit(this.onRefreshFailure,e),n}}async _fetchAppToken(e){if(e.length>0)for(const r of e)if(this._appImpliedScopes.length){if(r.every(n=>!this._appImpliedScopes.includes(n)))throw new Error(`One of the scopes ${r.join(", ")} requested but only the scope ${this._appImpliedScopes.join(", ")} is implied`)}else throw new Error(`One of the scopes ${r.join(", ")} requested but the client credentials flow does not support scopes`);return!this._appAccessToken||Mi(this._appAccessToken)?await this._refreshAppToken():this._appAccessToken}async _refreshAppToken(){return this._appAccessToken=await ok(this._clientId,this._clientSecret)}};S([q(!1)],cn.prototype,"_clientSecret",void 0);S([q(!1)],cn.prototype,"_userAccessTokens",void 0);S([q(!1)],cn.prototype,"_userTokenFetchers",void 0);S([q(!1)],cn.prototype,"_appAccessToken",void 0);S([q(!1)],cn.prototype,"_appTokenFetcher",void 0);cn=S([D("auth","RefreshingAuthProvider","clientId")],cn);let mo=class{constructor(e,r,n){this._clientId=e||"",this._accessToken=typeof r=="string"?{accessToken:r,refreshToken:null,scope:n??[],expiresIn:null,obtainmentTimestamp:Date.now()}:r,this._scopes=n}get clientId(){return this._clientId}async getAccessTokenForUser(e,...r){return await this._getAccessToken(r)}async getAccessTokenForIntent(e,...r){return await this._getAccessToken(r)}async getAnyAccessToken(){return await this._getAccessToken()}getCurrentScopesForUser(){var e;return(e=this._scopes)!==null&&e!==void 0?e:[]}async _getAccessToken(e){const[r,n]=await xC(this._clientId,this._accessToken.accessToken,this._userId,this._scopes,e);return this._scopes=r,this._userId=n,{...this._accessToken,userId:n}}};S([q(!1)],mo.prototype,"_clientId",void 0);S([q(!1)],mo.prototype,"_accessToken",void 0);mo=S([D("auth","StaticAuthProvider","clientId")],mo);const $u=Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]";var Rr,G;(function(t){t[t.CRITICAL=0]="CRITICAL",t[t.ERROR=1]="ERROR",t[t.WARNING=2]="WARNING",t[t.INFO=3]="INFO",t[t.DEBUG=4]="DEBUG",t[t.TRACE=7]="TRACE"})(G||(G={}));function Vm(t){if(typeof t=="number"){if(Object.prototype.hasOwnProperty.call(G,t))return t;var e=Object.keys(G).map(function(n){return parseInt(n,10)}).filter(function(n){return!isNaN(n)&&n<t});return e.length?Math.max.apply(Math,e):G.WARNING}var r=t.replace(/\d+$/,"").toUpperCase();if(!Object.prototype.hasOwnProperty.call(G,r))throw new Error("Unknown log level string: ".concat(t));return G[r]}var hk=$u?console.log.bind(console):console.debug.bind(console),SC=(Rr={},Rr[G.CRITICAL]=console.error.bind(console),Rr[G.ERROR]=console.error.bind(console),Rr[G.WARNING]=console.warn.bind(console),Rr[G.INFO]=console.info.bind(console),Rr[G.DEBUG]=hk.bind(console),Rr[G.TRACE]=console.trace.bind(console),Rr),Qc,Kc,Dl=typeof process>"u"?[]:(Kc=(Qc={}.LOGGING)===null||Qc===void 0?void 0:Qc.split(";").map(function(t){var e=t.split("=",2),r=e[0],n=e[1];return n?[r==="default"?void 0:r.split(":"),Vm(n)]:null}).filter(function(t){return!!t}).sort(function(t,e){var r,n,i=t[0],s=e[0];return((r=s==null?void 0:s.length)!==null&&r!==void 0?r:0)-((n=i==null?void 0:i.length)!==null&&n!==void 0?n:0)}))!==null&&Kc!==void 0?Kc:[],Yc=Dl.findIndex(function(t){var e=t[0];return!e}),CC=void 0;Yc!==-1&&(CC=Dl[Yc][1],Dl.splice(Yc));function fk(t,e){return e.length<=t.length&&e.every(function(r,n){return r===t[n]})}function bC(t){for(var e=t.split(":"),r=0,n=Dl;r<n.length;r++){var i=n[r],s=i[0],o=i[1];if(fk(e,s))return o}return CC}var TC=function(){function t(e){var r=e.name,n=e.minLevel,i=e.emoji,s=i===void 0?!1:i,o=e.colors,a=e.timestamps,l=a===void 0?$u:a,u,c;this._name=r,this._minLevel=(c=(u=rr(n,function(h){return Vm(h)}))!==null&&u!==void 0?u:bC(r))!==null&&c!==void 0?c:G.WARNING,this._emoji=s,this._colors=o,this._timestamps=l}return t.prototype.crit=function(e){this.log(G.CRITICAL,e)},t.prototype.error=function(e){this.log(G.ERROR,e)},t.prototype.warn=function(e){this.log(G.WARNING,e)},t.prototype.info=function(e){this.log(G.INFO,e)},t.prototype.debug=function(e){this.log(G.DEBUG,e)},t.prototype.trace=function(e){this.log(G.TRACE,e)},t}(),pk=function(t){is(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.log=function(r,n){if(!(r>this._minLevel)){var i=SC[r],s="[".concat(this._name,"] ").concat(n);this._timestamps&&(s="[".concat(new Date().toISOString(),"] ").concat(n)),i(s)}},e}(TC),mk=function(){function t(e){var r=e.name,n=e.minLevel,i=e.custom,s;this._minLevel=(s=rr(n,function(o){return Vm(o)}))!==null&&s!==void 0?s:bC(r),this._override=typeof i=="function"?{log:i}:i}return t.prototype.log=function(e,r){this._shouldLog(e)&&this._override.log(e,r)},t.prototype.crit=function(e){this._override.crit?this._shouldLog(G.CRITICAL)&&this._override.crit(e):this.log(G.CRITICAL,e)},t.prototype.error=function(e){this._override.error?this._shouldLog(G.ERROR)&&this._override.error(e):this.log(G.ERROR,e)},t.prototype.warn=function(e){this._override.warn?this._shouldLog(G.WARNING)&&this._override.warn(e):this.log(G.WARNING,e)},t.prototype.info=function(e){this._override.info?this._shouldLog(G.INFO)&&this._override.info(e):this.log(G.INFO,e)},t.prototype.debug=function(e){this._override.debug?this._shouldLog(G.DEBUG)&&this._override.debug(e):this.log(G.DEBUG,e)},t.prototype.trace=function(e){this._override.trace?this._shouldLog(G.TRACE)&&this._override.trace(e):this.log(G.TRACE,e)},t.prototype._shouldLog=function(e){return this._minLevel===void 0||this._minLevel>=e},t}(),Mr,Or,Dr,gk=(Mr={},Mr[G.CRITICAL]="🛑",Mr[G.ERROR]="❌",Mr[G.WARNING]="⚠️ ",Mr[G.INFO]="ℹ️ ",Mr[G.DEBUG]="🐞",Mr[G.TRACE]="🐾",Mr),yk={black:30,red:31,green:32,yellow:33,blue:34,magenta:35,cyan:36,white:37,blackBright:90,redBright:91,greenBright:92,yellowBright:93,blueBright:94,magentaBright:95,cyanBright:96,whiteBright:97},vk={bgBlack:40,bgRed:41,bgGreen:42,bgYellow:43,bgBlue:44,bgMagenta:45,bgCyan:46,bgWhite:47,bgBlackBright:100,bgRedBright:101,bgGreenBright:102,bgYellowBright:103,bgBlueBright:104,bgMagentaBright:105,bgCyanBright:106,bgWhiteBright:107};function qu(t,e,r){return function(n){return"\x1B[".concat(t,"m").concat(r?r(n):n,"\x1B[").concat(e,"m")}}function Xt(t){return qu(yk[t],39)}function ws(t,e){return qu(vk[t],49,e)}var _k=(Or={},Or[G.CRITICAL]=Xt("red"),Or[G.ERROR]=Xt("redBright"),Or[G.WARNING]=Xt("yellow"),Or[G.INFO]=Xt("blue"),Or[G.DEBUG]=Xt("magenta"),Or[G.TRACE]=qu(0,0),Or),gv=(Dr={},Dr[G.CRITICAL]=ws("bgRed",Xt("white")),Dr[G.ERROR]=ws("bgRedBright",Xt("white")),Dr[G.WARNING]=ws("bgYellow",Xt("black")),Dr[G.INFO]=ws("bgBlue",Xt("white")),Dr[G.DEBUG]=ws("bgMagenta",Xt("black")),Dr[G.TRACE]=qu(7,27),Dr),wk=function(t){is(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.log=function(r,n){var i,s,o;if(!(r>this._minLevel)){var a=SC[r],l="";if(this._timestamps&&(l+="[".concat(new Date().toISOString(),"] ")),this._emoji){var u=gk[r];l+="".concat(u," ")}var c=(o=(i=this._colors)!==null&&i!==void 0?i:(s=process.stdout)===null||s===void 0?void 0:s.isTTY)!==null&&o!==void 0?o:!0;c?l+="".concat(gv[r](this._name)," ").concat(gv[r](G[r])," ").concat(_k[r](n)):l+="[".concat(this._name,":").concat(G[r].toLowerCase(),"] ").concat(n),a(l)}},e}(TC);function os(t){return t.custom?new mk(t):$u?new wk(t):new pk(t)}var EC=function(t){is(e,t);function e(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=this.constructor,s=this,o;return s=t.apply(this,ln([],br(r),!1))||this,Object.setPrototypeOf(s,i.prototype),(o=Error.captureStackTrace)===null||o===void 0||o.call(Error,s,i.constructor),s}return Object.defineProperty(e.prototype,"name",{get:function(){return this.constructor.name},enumerable:!1,configurable:!0}),e}(Error),yv=function(t){is(e,t);function e(r){var n=t.call(this,"Need to retry after ".concat(r," ms"))||this;return n._retryAt=Date.now()+r,n}return Object.defineProperty(e.prototype,"retryAt",{get:function(){return this._retryAt},enumerable:!1,configurable:!0}),e}(EC),Hm=function(t){is(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(EC),PC={exports:{}},AC={exports:{}},xk="Function.prototype.bind called on incompatible ",Jc=Array.prototype.slice,Sk=Object.prototype.toString,Ck="[object Function]",bk=function(e){var r=this;if(typeof r!="function"||Sk.call(r)!==Ck)throw new TypeError(xk+r);for(var n=Jc.call(arguments,1),i,s=function(){if(this instanceof i){var c=r.apply(this,n.concat(Jc.call(arguments)));return Object(c)===c?c:this}else return r.apply(e,n.concat(Jc.call(arguments)))},o=Math.max(0,r.length-n.length),a=[],l=0;l<o;l++)a.push("$"+l);if(i=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var u=function(){};u.prototype=r.prototype,i.prototype=new u,u.prototype=null}return i},Tk=bk,zm=Function.prototype.bind||Tk,Gm=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0},vv=typeof Symbol<"u"&&Symbol,Ek=Gm,Wm=function(){return typeof vv!="function"||typeof Symbol!="function"||typeof vv("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Ek()},_v={foo:{}},Pk=Object,IC=function(){return{__proto__:_v}.foo===_v.foo&&!({__proto__:null}instanceof Pk)},Ak=zm,yn=Ak.call(Function.call,Object.prototype.hasOwnProperty),X,Wi=SyntaxError,kC=Function,Di=TypeError,Xc=function(t){try{return kC('"use strict"; return ('+t+").constructor;")()}catch{}},Ln=Object.getOwnPropertyDescriptor;if(Ln)try{Ln({},"")}catch{Ln=null}var Zc=function(){throw new Di},Ik=Ln?function(){try{return arguments.callee,Zc}catch{try{return Ln(arguments,"callee").get}catch{return Zc}}}():Zc,ii=Wm(),kk=IC(),Fe=Object.getPrototypeOf||(kk?function(t){return t.__proto__}:null),oi={},Rk=typeof Uint8Array>"u"||!Fe?X:Fe(Uint8Array),Un={"%AggregateError%":typeof AggregateError>"u"?X:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?X:ArrayBuffer,"%ArrayIteratorPrototype%":ii&&Fe?Fe([][Symbol.iterator]()):X,"%AsyncFromSyncIteratorPrototype%":X,"%AsyncFunction%":oi,"%AsyncGenerator%":oi,"%AsyncGeneratorFunction%":oi,"%AsyncIteratorPrototype%":oi,"%Atomics%":typeof Atomics>"u"?X:Atomics,"%BigInt%":typeof BigInt>"u"?X:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?X:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?X:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?X:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?X:Float32Array,"%Float64Array%":typeof Float64Array>"u"?X:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?X:FinalizationRegistry,"%Function%":kC,"%GeneratorFunction%":oi,"%Int8Array%":typeof Int8Array>"u"?X:Int8Array,"%Int16Array%":typeof Int16Array>"u"?X:Int16Array,"%Int32Array%":typeof Int32Array>"u"?X:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":ii&&Fe?Fe(Fe([][Symbol.iterator]())):X,"%JSON%":typeof JSON=="object"?JSON:X,"%Map%":typeof Map>"u"?X:Map,"%MapIteratorPrototype%":typeof Map>"u"||!ii||!Fe?X:Fe(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?X:Promise,"%Proxy%":typeof Proxy>"u"?X:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?X:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?X:Set,"%SetIteratorPrototype%":typeof Set>"u"||!ii||!Fe?X:Fe(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?X:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":ii&&Fe?Fe(""[Symbol.iterator]()):X,"%Symbol%":ii?Symbol:X,"%SyntaxError%":Wi,"%ThrowTypeError%":Ik,"%TypedArray%":Rk,"%TypeError%":Di,"%Uint8Array%":typeof Uint8Array>"u"?X:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?X:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?X:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?X:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?X:WeakMap,"%WeakRef%":typeof WeakRef>"u"?X:WeakRef,"%WeakSet%":typeof WeakSet>"u"?X:WeakSet};if(Fe)try{null.error}catch(t){var Mk=Fe(Fe(t));Un["%Error.prototype%"]=Mk}var Ok=function t(e){var r;if(e==="%AsyncFunction%")r=Xc("async function () {}");else if(e==="%GeneratorFunction%")r=Xc("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=Xc("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&Fe&&(r=Fe(i.prototype))}return Un[e]=r,r},wv={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Jo=zm,Nl=yn,Dk=Jo.call(Function.call,Array.prototype.concat),Nk=Jo.call(Function.apply,Array.prototype.splice),xv=Jo.call(Function.call,String.prototype.replace),Bl=Jo.call(Function.call,String.prototype.slice),Bk=Jo.call(Function.call,RegExp.prototype.exec),Lk=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Uk=/\\(\\)?/g,Fk=function(e){var r=Bl(e,0,1),n=Bl(e,-1);if(r==="%"&&n!=="%")throw new Wi("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new Wi("invalid intrinsic syntax, expected opening `%`");var i=[];return xv(e,Lk,function(s,o,a,l){i[i.length]=a?xv(l,Uk,"$1"):o||s}),i},jk=function(e,r){var n=e,i;if(Nl(wv,n)&&(i=wv[n],n="%"+i[0]+"%"),Nl(Un,n)){var s=Un[n];if(s===oi&&(s=Ok(n)),typeof s>"u"&&!r)throw new Di("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new Wi("intrinsic "+e+" does not exist!")},re=function(e,r){if(typeof e!="string"||e.length===0)throw new Di("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Di('"allowMissing" argument must be a boolean');if(Bk(/^%?[^%]*%?$/,e)===null)throw new Wi("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=Fk(e),i=n.length>0?n[0]:"",s=jk("%"+i+"%",r),o=s.name,a=s.value,l=!1,u=s.alias;u&&(i=u[0],Nk(n,Dk([0,1],u)));for(var c=1,h=!0;c<n.length;c+=1){var d=n[c],p=Bl(d,0,1),m=Bl(d,-1);if((p==='"'||p==="'"||p==="`"||m==='"'||m==="'"||m==="`")&&p!==m)throw new Wi("property names with quotes must have matching quotes");if((d==="constructor"||!h)&&(l=!0),i+="."+d,o="%"+i+"%",Nl(Un,o))a=Un[o];else if(a!=null){if(!(d in a)){if(!r)throw new Di("base intrinsic for "+e+" exists, but the property is not available.");return}if(Ln&&c+1>=n.length){var _=Ln(a,d);h=!!_,h&&"get"in _&&!("originalValue"in _.get)?a=_.get:a=a[d]}else h=Nl(a,d),a=a[d];h&&!l&&(Un[o]=a)}}return a};(function(t){var e=zm,r=re,n=r("%Function.prototype.apply%"),i=r("%Function.prototype.call%"),s=r("%Reflect.apply%",!0)||e.call(i,n),o=r("%Object.getOwnPropertyDescriptor%",!0),a=r("%Object.defineProperty%",!0),l=r("%Math.max%");if(a)try{a({},"a",{value:1})}catch{a=null}t.exports=function(h){var d=s(e,i,arguments);if(o&&a){var p=o(d,"length");p.configurable&&a(d,"length",{value:1+l(0,h.length-(arguments.length-1))})}return d};var u=function(){return s(e,n,arguments)};a?a(t.exports,"apply",{value:u}):t.exports.apply=u})(AC);var Xo=AC.exports,Sv=Object.prototype.toString,RC=function(e){var r=Sv.call(e),n=r==="[object Arguments]";return n||(n=r!=="[object Array]"&&e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&Sv.call(e.callee)==="[object Function]"),n},ed,Cv;function $k(){if(Cv)return ed;Cv=1;var t;if(!Object.keys){var e=Object.prototype.hasOwnProperty,r=Object.prototype.toString,n=RC,i=Object.prototype.propertyIsEnumerable,s=!i.call({toString:null},"toString"),o=i.call(function(){},"prototype"),a=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],l=function(d){var p=d.constructor;return p&&p.prototype===d},u={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},c=function(){if(typeof window>"u")return!1;for(var d in window)try{if(!u["$"+d]&&e.call(window,d)&&window[d]!==null&&typeof window[d]=="object")try{l(window[d])}catch{return!0}}catch{return!0}return!1}(),h=function(d){if(typeof window>"u"||!c)return l(d);try{return l(d)}catch{return!1}};t=function(p){var m=p!==null&&typeof p=="object",_=r.call(p)==="[object Function]",w=n(p),v=m&&r.call(p)==="[object String]",g=[];if(!m&&!_&&!w)throw new TypeError("Object.keys called on a non-object");var y=o&&_;if(v&&p.length>0&&!e.call(p,0))for(var x=0;x<p.length;++x)g.push(String(x));if(w&&p.length>0)for(var b=0;b<p.length;++b)g.push(String(b));else for(var R in p)!(y&&R==="prototype")&&e.call(p,R)&&g.push(String(R));if(s)for(var O=h(p),A=0;A<a.length;++A)!(O&&a[A]==="constructor")&&e.call(p,a[A])&&g.push(a[A]);return g}}return ed=t,ed}var qk=Array.prototype.slice,Vk=RC,bv=Object.keys,Xa=bv?function(e){return bv(e)}:$k(),Tv=Object.keys;Xa.shim=function(){if(Object.keys){var e=function(){var r=Object.keys(arguments);return r&&r.length===arguments.length}(1,2);e||(Object.keys=function(n){return Vk(n)?Tv(qk.call(n)):Tv(n)})}else Object.keys=Xa;return Object.keys||Xa};var Hk=Xa,zk=re,Qf=zk("%Object.defineProperty%",!0),Kf=function(){if(Qf)try{return Qf({},"a",{value:1}),!0}catch{return!1}return!1};Kf.hasArrayLengthDefineBug=function(){if(!Kf())return null;try{return Qf([],"length",{value:1}).length!==1}catch{return!0}};var MC=Kf,Gk=Hk,Wk=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",Qk=Object.prototype.toString,Kk=Array.prototype.concat,OC=Object.defineProperty,Yk=function(t){return typeof t=="function"&&Qk.call(t)==="[object Function]"},Jk=MC(),DC=OC&&Jk,Xk=function(t,e,r,n){if(e in t){if(n===!0){if(t[e]===r)return}else if(!Yk(n)||!n())return}DC?OC(t,e,{configurable:!0,enumerable:!1,value:r,writable:!0}):t[e]=r},NC=function(t,e){var r=arguments.length>2?arguments[2]:{},n=Gk(e);Wk&&(n=Kk.call(n,Object.getOwnPropertySymbols(e)));for(var i=0;i<n.length;i+=1)Xk(t,n[i],e[n[i]],r[n[i]])};NC.supportsDescriptors=!!DC;var as=NC,Vu=function(){if(typeof Promise!="function")throw new TypeError("`Promise.allSettled` requires a global `Promise` be available.")},td,Ev;function Zk(){if(Ev)return td;Ev=1;var t=re,e=Xo,r=t("%Promise.resolve%",!0),n=r&&e(r);return td=function(s,o){if(!n)throw new SyntaxError("This environment does not support Promises.");return n(s,o)},td}var rd,Pv;function BC(){return Pv||(Pv=1,rd=function(e){if(e===null)return"Null";if(typeof e>"u")return"Undefined";if(typeof e=="function"||typeof e=="object")return"Object";if(typeof e=="number")return"Number";if(typeof e=="boolean")return"Boolean";if(typeof e=="string")return"String"}),rd}var nd,Av;function eR(){if(Av)return nd;Av=1;var t=BC();return nd=function(r){return typeof r=="symbol"?"Symbol":typeof r=="bigint"?"BigInt":t(r)},nd}var xs={exports:{}},id,Iv;function Hu(){if(Iv)return id;Iv=1;var t=Gm;return id=function(){return t()&&!!Symbol.toStringTag},id}var sd,kv;function Ot(){if(kv)return sd;kv=1;var t=re,e=Xo,r=e(t("String.prototype.indexOf"));return sd=function(i,s){var o=t(i,!!s);return typeof o=="function"&&r(i,".prototype.")>-1?e(o):o},sd}var od,Rv;function tR(){if(Rv)return od;Rv=1;var t=Hu()(),e=Ot(),r=e("Object.prototype.toString"),n=function(a){return t&&a&&typeof a=="object"&&Symbol.toStringTag in a?!1:r(a)==="[object Arguments]"},i=function(a){return n(a)?!0:a!==null&&typeof a=="object"&&typeof a.length=="number"&&a.length>=0&&r(a)!=="[object Array]"&&r(a.callee)==="[object Function]"},s=function(){return n(arguments)}();return n.isLegacyArguments=i,od=s?n:i,od}const rR={},nR=Object.freeze(Object.defineProperty({__proto__:null,default:rR},Symbol.toStringTag,{value:"Module"})),iR=tP(nR);var ad,Mv;function LC(){if(Mv)return ad;Mv=1;var t=typeof Map=="function"&&Map.prototype,e=Object.getOwnPropertyDescriptor&&t?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,r=t&&e&&typeof e.get=="function"?e.get:null,n=t&&Map.prototype.forEach,i=typeof Set=="function"&&Set.prototype,s=Object.getOwnPropertyDescriptor&&i?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,o=i&&s&&typeof s.get=="function"?s.get:null,a=i&&Set.prototype.forEach,l=typeof WeakMap=="function"&&WeakMap.prototype,u=l?WeakMap.prototype.has:null,c=typeof WeakSet=="function"&&WeakSet.prototype,h=c?WeakSet.prototype.has:null,d=typeof WeakRef=="function"&&WeakRef.prototype,p=d?WeakRef.prototype.deref:null,m=Boolean.prototype.valueOf,_=Object.prototype.toString,w=Function.prototype.toString,v=String.prototype.match,g=String.prototype.slice,y=String.prototype.replace,x=String.prototype.toUpperCase,b=String.prototype.toLowerCase,R=RegExp.prototype.test,O=Array.prototype.concat,A=Array.prototype.join,B=Array.prototype.slice,j=Math.floor,K=typeof BigInt=="function"?BigInt.prototype.valueOf:null,oe=Object.getOwnPropertySymbols,ee=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,T=typeof Symbol=="function"&&typeof Symbol.iterator=="object",I=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===T||"symbol")?Symbol.toStringTag:null,V=Object.prototype.propertyIsEnumerable,de=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(E){return E.__proto__}:null);function L(E,P){if(E===1/0||E===-1/0||E!==E||E&&E>-1e3&&E<1e3||R.call(/e/,P))return P;var le=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof E=="number"){var me=E<0?-j(-E):j(E);if(me!==E){var Ie=String(me),J=g.call(P,Ie.length+1);return y.call(Ie,le,"$&_")+"."+y.call(y.call(J,/([0-9]{3})/g,"$&_"),/_$/,"")}}return y.call(P,le,"$&_")}var F=iR,W=F.custom,H=zt(W)?W:null;ad=function E(P,le,me,Ie){var J=le||{};if(Er(J,"quoteStyle")&&J.quoteStyle!=="single"&&J.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Er(J,"maxStringLength")&&(typeof J.maxStringLength=="number"?J.maxStringLength<0&&J.maxStringLength!==1/0:J.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var Ar=Er(J,"customInspect")?J.customInspect:!0;if(typeof Ar!="boolean"&&Ar!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Er(J,"indent")&&J.indent!==null&&J.indent!=="	"&&!(parseInt(J.indent,10)===J.indent&&J.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Er(J,"numericSeparator")&&typeof J.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var wn=J.numericSeparator;if(typeof P>"u")return"undefined";if(P===null)return"null";if(typeof P=="boolean")return P?"true":"false";if(typeof P=="string")return Hg(P,J);if(typeof P=="number"){if(P===0)return 1/0/P>0?"0":"-0";var ft=String(P);return wn?L(P,ft):ft}if(typeof P=="bigint"){var Ir=String(P)+"n";return wn?L(P,Ir):Ir}var pc=typeof J.depth>"u"?5:J.depth;if(typeof me>"u"&&(me=0),me>=pc&&pc>0&&typeof P=="object")return st(P)?"[Array]":"[Object]";var ti=XE(J,me);if(typeof Ie>"u")Ie=[];else if(Vg(Ie,P)>=0)return"[Circular]";function Dt(ri,da,eP){if(da&&(Ie=B.call(Ie),Ie.push(da)),eP){var Zg={depth:J.depth};return Er(J,"quoteStyle")&&(Zg.quoteStyle=J.quoteStyle),E(ri,Zg,me+1,Ie)}return E(ri,J,me+1,Ie)}if(typeof P=="function"&&!Ge(P)){var Gg=VE(P),Wg=ua(P,Dt);return"[Function"+(Gg?": "+Gg:" (anonymous)")+"]"+(Wg.length>0?" { "+A.call(Wg,", ")+" }":"")}if(zt(P)){var Qg=T?y.call(String(P),/^(Symbol\(.*\))_[^)]*$/,"$1"):ee.call(P);return typeof P=="object"&&!T?cs(Qg):Qg}if(KE(P)){for(var ds="<"+b.call(String(P.nodeName)),mc=P.attributes||[],ca=0;ca<mc.length;ca++)ds+=" "+mc[ca].name+"="+ae(or(mc[ca].value),"double",J);return ds+=">",P.childNodes&&P.childNodes.length&&(ds+="..."),ds+="</"+b.call(String(P.nodeName))+">",ds}if(st(P)){if(P.length===0)return"[]";var gc=ua(P,Dt);return ti&&!JE(gc)?"["+fc(gc,ti)+"]":"[ "+A.call(gc,", ")+" ]"}if(ar(P)){var yc=ua(P,Dt);return!("cause"in Error.prototype)&&"cause"in P&&!V.call(P,"cause")?"{ ["+String(P)+"] "+A.call(O.call("[cause]: "+Dt(P.cause),yc),", ")+" }":yc.length===0?"["+String(P)+"]":"{ ["+String(P)+"] "+A.call(yc,", ")+" }"}if(typeof P=="object"&&Ar){if(H&&typeof P[H]=="function"&&F)return F(P,{depth:pc-me});if(Ar!=="symbol"&&typeof P.inspect=="function")return P.inspect()}if(HE(P)){var Kg=[];return n&&n.call(P,function(ri,da){Kg.push(Dt(da,P,!0)+" => "+Dt(ri,P))}),zg("Map",r.call(P),Kg,ti)}if(WE(P)){var Yg=[];return a&&a.call(P,function(ri){Yg.push(Dt(ri,P))}),zg("Set",o.call(P),Yg,ti)}if(zE(P))return hc("WeakMap");if(QE(P))return hc("WeakSet");if(GE(P))return hc("WeakRef");if(us(P))return cs(Dt(Number(P)));if(aa(P))return cs(Dt(K.call(P)));if(ei(P))return cs(m.call(P));if(dc(P))return cs(Dt(String(P)));if(!Tr(P)&&!Ge(P)){var vc=ua(P,Dt),Jg=de?de(P)===Object.prototype:P instanceof Object||P.constructor===Object,_c=P instanceof Object?"":"null prototype",Xg=!Jg&&I&&Object(P)===P&&I in P?g.call(Pr(P),8,-1):_c?"Object":"",ZE=Jg||typeof P.constructor!="function"?"":P.constructor.name?P.constructor.name+" ":"",wc=ZE+(Xg||_c?"["+A.call(O.call([],Xg||[],_c||[]),": ")+"] ":"");return vc.length===0?wc+"{}":ti?wc+"{"+fc(vc,ti)+"}":wc+"{ "+A.call(vc,", ")+" }"}return String(P)};function ae(E,P,le){var me=(le.quoteStyle||P)==="double"?'"':"'";return me+E+me}function or(E){return y.call(String(E),/"/g,"&quot;")}function st(E){return Pr(E)==="[object Array]"&&(!I||!(typeof E=="object"&&I in E))}function Tr(E){return Pr(E)==="[object Date]"&&(!I||!(typeof E=="object"&&I in E))}function Ge(E){return Pr(E)==="[object RegExp]"&&(!I||!(typeof E=="object"&&I in E))}function ar(E){return Pr(E)==="[object Error]"&&(!I||!(typeof E=="object"&&I in E))}function dc(E){return Pr(E)==="[object String]"&&(!I||!(typeof E=="object"&&I in E))}function us(E){return Pr(E)==="[object Number]"&&(!I||!(typeof E=="object"&&I in E))}function ei(E){return Pr(E)==="[object Boolean]"&&(!I||!(typeof E=="object"&&I in E))}function zt(E){if(T)return E&&typeof E=="object"&&E instanceof Symbol;if(typeof E=="symbol")return!0;if(!E||typeof E!="object"||!ee)return!1;try{return ee.call(E),!0}catch{}return!1}function aa(E){if(!E||typeof E!="object"||!K)return!1;try{return K.call(E),!0}catch{}return!1}var la=Object.prototype.hasOwnProperty||function(E){return E in this};function Er(E,P){return la.call(E,P)}function Pr(E){return _.call(E)}function VE(E){if(E.name)return E.name;var P=v.call(w.call(E),/^function\s*([\w$]+)/);return P?P[1]:null}function Vg(E,P){if(E.indexOf)return E.indexOf(P);for(var le=0,me=E.length;le<me;le++)if(E[le]===P)return le;return-1}function HE(E){if(!r||!E||typeof E!="object")return!1;try{r.call(E);try{o.call(E)}catch{return!0}return E instanceof Map}catch{}return!1}function zE(E){if(!u||!E||typeof E!="object")return!1;try{u.call(E,u);try{h.call(E,h)}catch{return!0}return E instanceof WeakMap}catch{}return!1}function GE(E){if(!p||!E||typeof E!="object")return!1;try{return p.call(E),!0}catch{}return!1}function WE(E){if(!o||!E||typeof E!="object")return!1;try{o.call(E);try{r.call(E)}catch{return!0}return E instanceof Set}catch{}return!1}function QE(E){if(!h||!E||typeof E!="object")return!1;try{h.call(E,h);try{u.call(E,u)}catch{return!0}return E instanceof WeakSet}catch{}return!1}function KE(E){return!E||typeof E!="object"?!1:typeof HTMLElement<"u"&&E instanceof HTMLElement?!0:typeof E.nodeName=="string"&&typeof E.getAttribute=="function"}function Hg(E,P){if(E.length>P.maxStringLength){var le=E.length-P.maxStringLength,me="... "+le+" more character"+(le>1?"s":"");return Hg(g.call(E,0,P.maxStringLength),P)+me}var Ie=y.call(y.call(E,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,YE);return ae(Ie,"single",P)}function YE(E){var P=E.charCodeAt(0),le={8:"b",9:"t",10:"n",12:"f",13:"r"}[P];return le?"\\"+le:"\\x"+(P<16?"0":"")+x.call(P.toString(16))}function cs(E){return"Object("+E+")"}function hc(E){return E+" { ? }"}function zg(E,P,le,me){var Ie=me?fc(le,me):A.call(le,", ");return E+" ("+P+") {"+Ie+"}"}function JE(E){for(var P=0;P<E.length;P++)if(Vg(E[P],`
`)>=0)return!1;return!0}function XE(E,P){var le;if(E.indent==="	")le="	";else if(typeof E.indent=="number"&&E.indent>0)le=A.call(Array(E.indent+1)," ");else return null;return{base:le,prev:A.call(Array(P+1),le)}}function fc(E,P){if(E.length===0)return"";var le=`
`+P.prev+P.base;return le+A.call(E,","+le)+`
`+P.prev}function ua(E,P){var le=st(E),me=[];if(le){me.length=E.length;for(var Ie=0;Ie<E.length;Ie++)me[Ie]=Er(E,Ie)?P(E[Ie],E):""}var J=typeof oe=="function"?oe(E):[],Ar;if(T){Ar={};for(var wn=0;wn<J.length;wn++)Ar["$"+J[wn]]=J[wn]}for(var ft in E)Er(E,ft)&&(le&&String(Number(ft))===ft&&ft<E.length||T&&Ar["$"+ft]instanceof Symbol||(R.call(/[^\w$]/,ft)?me.push(P(ft,E)+": "+P(E[ft],E)):me.push(ft+": "+P(E[ft],E))));if(typeof oe=="function")for(var Ir=0;Ir<J.length;Ir++)V.call(E,J[Ir])&&me.push("["+P(J[Ir])+"]: "+P(E[J[Ir]],E));return me}return ad}var ld,Ov;function sR(){if(Ov)return ld;Ov=1;var t=re,e=Ot(),r=LC(),n=t("%TypeError%"),i=t("%WeakMap%",!0),s=t("%Map%",!0),o=e("WeakMap.prototype.get",!0),a=e("WeakMap.prototype.set",!0),l=e("WeakMap.prototype.has",!0),u=e("Map.prototype.get",!0),c=e("Map.prototype.set",!0),h=e("Map.prototype.has",!0),d=function(w,v){for(var g=w,y;(y=g.next)!==null;g=y)if(y.key===v)return g.next=y.next,y.next=w.next,w.next=y,y},p=function(w,v){var g=d(w,v);return g&&g.value},m=function(w,v,g){var y=d(w,v);y?y.value=g:w.next={key:v,next:w.next,value:g}},_=function(w,v){return!!d(w,v)};return ld=function(){var v,g,y,x={assert:function(b){if(!x.has(b))throw new n("Side channel does not contain "+r(b))},get:function(b){if(i&&b&&(typeof b=="object"||typeof b=="function")){if(v)return o(v,b)}else if(s){if(g)return u(g,b)}else if(y)return p(y,b)},has:function(b){if(i&&b&&(typeof b=="object"||typeof b=="function")){if(v)return l(v,b)}else if(s){if(g)return h(g,b)}else if(y)return _(y,b);return!1},set:function(b,R){i&&b&&(typeof b=="object"||typeof b=="function")?(v||(v=new i),a(v,b,R)):s?(g||(g=new s),c(g,b,R)):(y||(y={key:{},next:null}),m(y,b,R))}};return x},ld}var ud,Dv;function oR(){if(Dv)return ud;Dv=1;var t=re,e=yn,r=sR()(),n=t("%TypeError%"),i={assert:function(s,o){if(!s||typeof s!="object"&&typeof s!="function")throw new n("`O` is not an object");if(typeof o!="string")throw new n("`slot` must be a string");if(r.assert(s),!i.has(s,o))throw new n("`"+o+"` is not present on `O`")},get:function(s,o){if(!s||typeof s!="object"&&typeof s!="function")throw new n("`O` is not an object");if(typeof o!="string")throw new n("`slot` must be a string");var a=r.get(s);return a&&a["$"+o]},has:function(s,o){if(!s||typeof s!="object"&&typeof s!="function")throw new n("`O` is not an object");if(typeof o!="string")throw new n("`slot` must be a string");var a=r.get(s);return!!a&&e(a,"$"+o)},set:function(s,o,a){if(!s||typeof s!="object"&&typeof s!="function")throw new n("`O` is not an object");if(typeof o!="string")throw new n("`slot` must be a string");var l=r.get(s);l||(l={},r.set(s,l)),l["$"+o]=a}};return Object.freeze&&Object.freeze(i),ud=i,ud}var cd,Nv;function aR(){if(Nv)return cd;Nv=1;var t=oR(),e=SyntaxError,r=typeof StopIteration=="object"?StopIteration:null;return cd=function(i){if(!r)throw new e("this environment lacks StopIteration");t.set(i,"[[Done]]",!1);var s={next:function(){var a=t.get(this,"[[Iterator]]"),l=t.get(a,"[[Done]]");try{return{done:l,value:l?void 0:a.next()}}catch(u){if(t.set(a,"[[Done]]",!0),u!==r)throw u;return{done:!0,value:void 0}}}};return t.set(s,"[[Iterator]]",i),s},cd}var dd,Bv;function lR(){if(Bv)return dd;Bv=1;var t={}.toString;return dd=Array.isArray||function(e){return t.call(e)=="[object Array]"},dd}var hd,Lv;function UC(){if(Lv)return hd;Lv=1;var t=String.prototype.valueOf,e=function(o){try{return t.call(o),!0}catch{return!1}},r=Object.prototype.toString,n="[object String]",i=Hu()();return hd=function(o){return typeof o=="string"?!0:typeof o!="object"?!1:i?e(o):r.call(o)===n},hd}var fd,Uv;function uR(){if(Uv)return fd;Uv=1;var t=typeof Map=="function"&&Map.prototype?Map:null,e=typeof Set=="function"&&Set.prototype?Set:null,r;t||(r=function(o){return!1});var n=t?Map.prototype.has:null,i=e?Set.prototype.has:null;return!r&&!n&&(r=function(o){return!1}),fd=r||function(o){if(!o||typeof o!="object")return!1;try{if(n.call(o),i)try{i.call(o)}catch{return!0}return o instanceof t}catch{}return!1},fd}var pd,Fv;function cR(){if(Fv)return pd;Fv=1;var t=typeof Map=="function"&&Map.prototype?Map:null,e=typeof Set=="function"&&Set.prototype?Set:null,r;e||(r=function(o){return!1});var n=t?Map.prototype.has:null,i=e?Set.prototype.has:null;return!r&&!i&&(r=function(o){return!1}),pd=r||function(o){if(!o||typeof o!="object")return!1;try{if(i.call(o),n)try{n.call(o)}catch{return!0}return o instanceof e}catch{}return!1},pd}var jv;function dR(){if(jv)return xs.exports;jv=1;var t=tR(),e=aR();if(Wm()||Gm()){var r=Symbol.iterator;xs.exports=function(B){if(B!=null&&typeof B[r]<"u")return B[r]();if(t(B))return Array.prototype[r].call(B)}}else{var n=lR(),i=UC(),s=re,o=s("%Map%",!0),a=s("%Set%",!0),l=Ot(),u=l("Array.prototype.push"),c=l("String.prototype.charCodeAt"),h=l("String.prototype.slice"),d=function(B,j){var K=B.length;if(j+1>=K)return j+1;var oe=c(B,j);if(oe<55296||oe>56319)return j+1;var ee=c(B,j+1);return ee<56320||ee>57343?j+1:j+2},p=function(B){var j=0;return{next:function(){var oe=j>=B.length,ee;return oe||(ee=B[j],j+=1),{done:oe,value:ee}}}},m=function(B,j){if(n(B)||t(B))return p(B);if(i(B)){var K=0;return{next:function(){var ee=d(B,K),T=h(B,K,ee);return K=ee,{done:ee>B.length,value:T}}}}if(j&&typeof B["_es6-shim iterator_"]<"u")return B["_es6-shim iterator_"]()};if(!o&&!a)xs.exports=function(B){if(B!=null)return m(B,!0)};else{var _=uR(),w=cR(),v=l("Map.prototype.forEach",!0),g=l("Set.prototype.forEach",!0);if(typeof process>"u"||!process.versions||!process.versions.node)var y=l("Map.prototype.iterator",!0),x=l("Set.prototype.iterator",!0);var b=l("Map.prototype.@@iterator",!0)||l("Map.prototype._es6-shim iterator_",!0),R=l("Set.prototype.@@iterator",!0)||l("Set.prototype._es6-shim iterator_",!0),O=function(B){if(_(B)){if(y)return e(y(B));if(b)return b(B);if(v){var j=[];return v(B,function(oe,ee){u(j,[ee,oe])}),p(j)}}if(w(B)){if(x)return e(x(B));if(R)return R(B);if(g){var K=[];return g(B,function(oe){u(K,oe)}),p(K)}}};xs.exports=function(B){return O(B)||m(B)}}}return xs.exports}var md,$v;function hR(){if($v)return md;$v=1;var t=TypeError;return md=function(r){if(!r||typeof r.next!="function")throw new t("iterator must be an object with a `next` method");if(arguments.length>1){var n=arguments[1];if(typeof n!="function")throw new t("`callback`, if provided, must be a function")}for(var i=n||[],s;(s=r.next())&&!s.done;)n?n(s.value):i.push(s.value);if(!n)return i},md}var gd,qv;function fR(){if(qv)return gd;qv=1;var t=dR(),e=TypeError,r=hR();return gd=function(i){var s=t(i);if(!s)throw new e("non-iterable value provided");return arguments.length>1?r(s,arguments[1]):r(s)},gd}var yd,Vv;function pR(){if(Vv)return yd;Vv=1;var t=re,e=t("%TypeError%");return yd=function(n,i){if(n==null)throw new e(i||"Cannot call method on "+n);return n},yd}var vd,Hv;function zu(){return Hv||(Hv=1,vd=pR()),vd}var _d,zv;function Qm(){return zv||(zv=1,_d=Number.isNaN||function(e){return e!==e}),_d}var wd,Gv;function FC(){if(Gv)return wd;Gv=1;var t=Qm();return wd=function(e){return(typeof e=="number"||typeof e=="bigint")&&!t(e)&&e!==1/0&&e!==-1/0},wd}var xd,Wv;function Km(){if(Wv)return xd;Wv=1;var t=re,e=t("%Math.abs%"),r=t("%Math.floor%"),n=Qm(),i=FC();return xd=function(o){if(typeof o!="number"||n(o)||!i(o))return!1;var a=e(o);return r(a)===a},xd}var Sd,Qv;function mR(){if(Qv)return Sd;Qv=1;var t=re,e=t("%Array.prototype%"),r=t("%RangeError%"),n=t("%SyntaxError%"),i=t("%TypeError%"),s=Km(),o=Math.pow(2,32)-1,a=IC(),l=t("%Object.setPrototypeOf%",!0)||(a?function(u,c){return u.__proto__=c,u}:null);return Sd=function(c){if(!s(c)||c<0)throw new i("Assertion failed: `length` must be an integer Number >= 0");if(c>o)throw new r("length is greater than (2**32 - 1)");var h=arguments.length>1?arguments[1]:e,d=[];if(h!==e){if(!l)throw new n("ArrayCreate: a `proto` argument that is not `Array.prototype` is not supported in an environment that does not support setting the [[Prototype]]");l(d,h)}return c!==0&&(d.length=c),d},Sd}var Cd,Kv;function Jn(){return Kv||(Kv=1,Cd=function(e){return typeof e=="string"||typeof e=="symbol"}),Cd}var bd,Yv;function it(){if(Yv)return bd;Yv=1;var t=BC();return bd=function(r){return typeof r=="symbol"?"Symbol":typeof r=="bigint"?"BigInt":t(r)},bd}var Td,Jv;function jC(){if(Jv)return Td;Jv=1;var t=re,e=t("%TypeError%"),r=LC(),n=Jn(),i=it();return Td=function(o,a){if(i(o)!=="Object")throw new e("Assertion failed: Type(O) is not Object");if(!n(a))throw new e("Assertion failed: IsPropertyKey(P) is not true, got "+r(a));return o[a]},Td}var Ed,Xv;function $C(){if(Xv)return Ed;Xv=1;var t=re,e=t("%Array%"),r=!e.isArray&&Ot()("Object.prototype.toString");return Ed=e.isArray||function(i){return r(i)==="[object Array]"},Ed}var Pd,Zv;function qC(){return Zv||(Zv=1,Pd=$C()),Pd}var Ia={exports:{}},Ad,e_;function gR(){return e_||(e_=1,Ad=re),Ad}var Id,t_;function Ym(){if(t_)return Id;t_=1;var t=re,e=yn,r=t("%TypeError%");return Id=function(i,s){if(i.Type(s)!=="Object")return!1;var o={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var a in s)if(e(s,a)&&!o[a])return!1;if(i.IsDataDescriptor(s)&&i.IsAccessorDescriptor(s))throw new r("Property Descriptors may not be both accessor and data descriptors");return!0},Id}var kd,r_;function VC(){if(r_)return kd;r_=1;var t=MC,e=re,r=t()&&e("%Object.defineProperty%",!0),n=t.hasArrayLengthDefineBug(),i=n&&$C(),s=Ot(),o=s("Object.prototype.propertyIsEnumerable");return kd=function(l,u,c,h,d,p){if(!r){if(!l(p)||!p["[[Configurable]]"]||!p["[[Writable]]"]||d in h&&o(h,d)!==!!p["[[Enumerable]]"])return!1;var m=p["[[Value]]"];return h[d]=m,u(h[d],m)}return n&&d==="length"&&"[[Value]]"in p&&i(h)&&h.length!==p["[[Value]]"]?(h.length=p["[[Value]]"],h.length===p["[[Value]]"]):(r(h,d,c(p)),!0)},kd}var Rd,n_;function yR(){if(n_)return Rd;n_=1;var t=yn;return Rd=function(r){return t(r,"[[StartIndex]]")&&t(r,"[[EndIndex]]")&&r["[[StartIndex]]"]>=0&&r["[[EndIndex]]"]>=r["[[StartIndex]]"]&&String(parseInt(r["[[StartIndex]]"],10))===String(r["[[StartIndex]]"])&&String(parseInt(r["[[EndIndex]]"],10))===String(r["[[EndIndex]]"])},Rd}var Md,i_;function Gu(){if(i_)return Md;i_=1;var t=re,e=t("%TypeError%"),r=t("%SyntaxError%"),n=yn,i=Km(),s=yR(),o={"Property Descriptor":function(l){var u={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};if(!l)return!1;for(var c in l)if(n(l,c)&&!u[c])return!1;var h=n(l,"[[Value]]"),d=n(l,"[[Get]]")||n(l,"[[Set]]");if(h&&d)throw new e("Property Descriptors may not be both accessor and data descriptors");return!0},"Match Record":s,"Iterator Record":function(l){return n(l,"[[Iterator]]")&&n(l,"[[NextMethod]]")&&n(l,"[[Done]]")},"PromiseCapability Record":function(l){return!!l&&n(l,"[[Resolve]]")&&typeof l["[[Resolve]]"]=="function"&&n(l,"[[Reject]]")&&typeof l["[[Reject]]"]=="function"&&n(l,"[[Promise]]")&&l["[[Promise]]"]&&typeof l["[[Promise]]"].then=="function"},"AsyncGeneratorRequest Record":function(l){return!!l&&n(l,"[[Completion]]")&&n(l,"[[Capability]]")&&o["PromiseCapability Record"](l["[[Capability]]"])},"RegExp Record":function(l){return l&&n(l,"[[IgnoreCase]]")&&typeof l["[[IgnoreCase]]"]=="boolean"&&n(l,"[[Multiline]]")&&typeof l["[[Multiline]]"]=="boolean"&&n(l,"[[DotAll]]")&&typeof l["[[DotAll]]"]=="boolean"&&n(l,"[[Unicode]]")&&typeof l["[[Unicode]]"]=="boolean"&&n(l,"[[CapturingGroupsCount]]")&&typeof l["[[CapturingGroupsCount]]"]=="number"&&i(l["[[CapturingGroupsCount]]"])&&l["[[CapturingGroupsCount]]"]>=0}};return Md=function(l,u,c,h){var d=o[u];if(typeof d!="function")throw new r("unknown record type: "+u);if(l(h)!=="Object"||!d(h))throw new e(c+" must be a "+u)},Md}var Od,s_;function vR(){return s_||(s_=1,Od=function(e){if(typeof e>"u")return e;var r={};return"[[Value]]"in e&&(r.value=e["[[Value]]"]),"[[Writable]]"in e&&(r.writable=!!e["[[Writable]]"]),"[[Get]]"in e&&(r.get=e["[[Get]]"]),"[[Set]]"in e&&(r.set=e["[[Set]]"]),"[[Enumerable]]"in e&&(r.enumerable=!!e["[[Enumerable]]"]),"[[Configurable]]"in e&&(r.configurable=!!e["[[Configurable]]"]),r}),Od}var Dd,o_;function HC(){if(o_)return Dd;o_=1;var t=Gu(),e=vR(),r=it();return Dd=function(i){return typeof i<"u"&&t(r,"Property Descriptor","Desc",i),e(i)},Dd}var Nd,a_;function Wu(){if(a_)return Nd;a_=1;var t=yn,e=it(),r=Gu();return Nd=function(i){return!(typeof i>"u"||(r(e,"Property Descriptor","Desc",i),!t(i,"[[Get]]")&&!t(i,"[[Set]]")))},Nd}var Bd,l_;function Qu(){if(l_)return Bd;l_=1;var t=yn,e=it(),r=Gu();return Bd=function(i){return!(typeof i>"u"||(r(e,"Property Descriptor","Desc",i),!t(i,"[[Value]]")&&!t(i,"[[Writable]]")))},Bd}var Ld,u_;function Jm(){if(u_)return Ld;u_=1;var t=Qm();return Ld=function(r,n){return r===n?r===0?1/r===1/n:!0:t(r)&&t(n)},Ld}var Ud,c_;function _R(){return c_||(c_=1,Ud=function(e){return!!e}),Ud}var Fd,d_;function zC(){if(d_)return Fd;d_=1;var t=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,r,n;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{r=Object.defineProperty({},"length",{get:function(){throw n}}),n={},e(function(){throw 42},null,r)}catch(g){g!==n&&(e=null)}else e=null;var i=/^\s*class\b/,s=function(y){try{var x=t.call(y);return i.test(x)}catch{return!1}},o=function(y){try{return s(y)?!1:(t.call(y),!0)}catch{return!1}},a=Object.prototype.toString,l="[object Object]",u="[object Function]",c="[object GeneratorFunction]",h="[object HTMLAllCollection]",d="[object HTML document.all class]",p="[object HTMLCollection]",m=typeof Symbol=="function"&&!!Symbol.toStringTag,_=!(0 in[,]),w=function(){return!1};if(typeof document=="object"){var v=document.all;a.call(v)===a.call(document.all)&&(w=function(y){if((_||!y)&&(typeof y>"u"||typeof y=="object"))try{var x=a.call(y);return(x===h||x===d||x===p||x===l)&&y("")==null}catch{}return!1})}return Fd=e?function(y){if(w(y))return!0;if(!y||typeof y!="function"&&typeof y!="object")return!1;try{e(y,null,r)}catch(x){if(x!==n)return!1}return!s(y)&&o(y)}:function(y){if(w(y))return!0;if(!y||typeof y!="function"&&typeof y!="object")return!1;if(m)return o(y);if(s(y))return!1;var x=a.call(y);return x!==u&&x!==c&&!/^\[object HTML/.test(x)?!1:o(y)},Fd}var jd,h_;function GC(){return h_||(h_=1,jd=zC()),jd}var $d,f_;function WC(){if(f_)return $d;f_=1;var t=yn,e=re,r=e("%TypeError%"),n=it(),i=_R(),s=GC();return $d=function(a){if(n(a)!=="Object")throw new r("ToPropertyDescriptor requires an object");var l={};if(t(a,"enumerable")&&(l["[[Enumerable]]"]=i(a.enumerable)),t(a,"configurable")&&(l["[[Configurable]]"]=i(a.configurable)),t(a,"value")&&(l["[[Value]]"]=a.value),t(a,"writable")&&(l["[[Writable]]"]=i(a.writable)),t(a,"get")){var u=a.get;if(typeof u<"u"&&!s(u))throw new r("getter must be a function");l["[[Get]]"]=u}if(t(a,"set")){var c=a.set;if(typeof c<"u"&&!s(c))throw new r("setter must be a function");l["[[Set]]"]=c}if((t(l,"[[Get]]")||t(l,"[[Set]]"))&&(t(l,"[[Value]]")||t(l,"[[Writable]]")))throw new r("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return l},$d}var qd,p_;function wR(){if(p_)return qd;p_=1;var t=re,e=t("%TypeError%"),r=Ym(),n=VC(),i=HC(),s=Wu(),o=Qu(),a=Jn(),l=Jm(),u=WC(),c=it();return qd=function(d,p,m){if(c(d)!=="Object")throw new e("Assertion failed: Type(O) is not Object");if(!a(p))throw new e("Assertion failed: IsPropertyKey(P) is not true");var _=r({Type:c,IsDataDescriptor:o,IsAccessorDescriptor:s},m)?m:u(m);if(!r({Type:c,IsDataDescriptor:o,IsAccessorDescriptor:s},_))throw new e("Assertion failed: Desc is not a valid Property Descriptor");return n(o,l,i,d,p,_)},qd}var m_;function xR(){if(m_)return Ia.exports;m_=1;var t=gR(),e=t("%Reflect.construct%",!0),r=wR();try{r({},"",{"[[Get]]":function(){}})}catch{r=null}if(r&&e){var n={},i={};r(i,"length",{"[[Get]]":function(){throw n},"[[Enumerable]]":!0}),Ia.exports=function(o){try{e(o,i)}catch(a){return a===n}}}else Ia.exports=function(o){return typeof o=="function"&&!!o.prototype};return Ia.exports}var Vd,g_;function SR(){if(g_)return Vd;g_=1;var t=re,e=t("%Symbol.species%",!0),r=t("%TypeError%"),n=mR(),i=jC(),s=qC(),o=xR(),a=it(),l=Km();return Vd=function(c,h){if(!l(h)||h<0)throw new r("Assertion failed: length must be an integer >= 0");var d=s(c);if(!d)return n(h);var p=i(c,"constructor");if(e&&a(p)==="Object"&&(p=i(p,e),p===null&&(p=void 0)),typeof p>"u")return n(h);if(!o(p))throw new r("C must be a constructor");return new p(h)},Vd}var Hd,y_;function CR(){if(y_)return Hd;y_=1;var t=re,e=Ot(),r=t("%TypeError%"),n=qC(),i=t("%Reflect.apply%",!0)||e("Function.prototype.apply");return Hd=function(o,a){var l=arguments.length>2?arguments[2]:[];if(!n(l))throw new r("Assertion failed: optional `argumentsList`, if provided, must be a List");return i(o,a,l)},Hd}var zd,v_;function bR(){if(v_)return zd;v_=1;var t=re,e=t("%Object.getOwnPropertyDescriptor%",!0);if(e)try{e([],"length")}catch{e=null}return zd=e,zd}var Gd,__;function QC(){return __||(__=1,Gd=function(e){return e===null||typeof e!="function"&&typeof e!="object"}),Gd}var Wd,w_;function TR(){if(w_)return Wd;w_=1;var t=re,e=t("%Object.preventExtensions%",!0),r=t("%Object.isExtensible%",!0),n=QC();return Wd=e?function(s){return!n(s)&&r(s)}:function(s){return!n(s)},Wd}var Qd,x_;function ER(){return x_||(x_=1,Qd=function(e,r){return!!r&&typeof r=="object"&&"[[Enumerable]]"in r&&"[[Configurable]]"in r&&(e.IsAccessorDescriptor(r)||e.IsDataDescriptor(r))}),Qd}var Kd,S_;function PR(){if(S_)return Kd;S_=1;var t=Gu(),e=Wu(),r=Qu(),n=it();return Kd=function(s){return typeof s>"u"?!1:(t(n,"Property Descriptor","Desc",s),!e(s)&&!r(s))},Kd}var Yd,C_;function AR(){if(C_)return Yd;C_=1;var t=re,e=t("%TypeError%"),r=VC(),n=ER(),i=Ym(),s=HC(),o=Wu(),a=Qu(),l=PR(),u=Jn(),c=Jm(),h=it();return Yd=function(p,m,_,w,v){var g=h(p);if(g!=="Undefined"&&g!=="Object")throw new e("Assertion failed: O must be undefined or an Object");if(!u(m))throw new e("Assertion failed: P must be a Property Key");if(h(_)!=="Boolean")throw new e("Assertion failed: extensible must be a Boolean");if(!i({Type:h,IsDataDescriptor:a,IsAccessorDescriptor:o},w))throw new e("Assertion failed: Desc must be a Property Descriptor");if(h(v)!=="Undefined"&&!i({Type:h,IsDataDescriptor:a,IsAccessorDescriptor:o},v))throw new e("Assertion failed: current must be a Property Descriptor, or undefined");if(h(v)==="Undefined")return _?g==="Undefined"?!0:o(w)?r(a,c,s,p,m,w):r(a,c,s,p,m,{"[[Configurable]]":!!w["[[Configurable]]"],"[[Enumerable]]":!!w["[[Enumerable]]"],"[[Value]]":w["[[Value]]"],"[[Writable]]":!!w["[[Writable]]"]}):!1;if(!n({IsAccessorDescriptor:o,IsDataDescriptor:a},v))throw new e("`current`, when present, must be a fully populated and valid Property Descriptor");if(!v["[[Configurable]]"]){if("[[Configurable]]"in w&&w["[[Configurable]]"]||"[[Enumerable]]"in w&&!c(w["[[Enumerable]]"],v["[[Enumerable]]"])||!l(w)&&!c(o(w),o(v)))return!1;if(o(v)){if("[[Get]]"in w&&!c(w["[[Get]]"],v["[[Get]]"])||"[[Set]]"in w&&!c(w["[[Set]]"],v["[[Set]]"]))return!1}else if(!v["[[Writable]]"]&&("[[Writable]]"in w&&w["[[Writable]]"]||"[[Value]]"in w&&!c(w["[[Value]]"],v["[[Value]]"])))return!1}if(g!=="Undefined"){var y,x;return a(v)&&o(w)?(y=("[[Configurable]]"in w?w:v)["[[Configurable]]"],x=("[[Enumerable]]"in w?w:v)["[[Enumerable]]"],r(a,c,s,p,m,{"[[Configurable]]":!!y,"[[Enumerable]]":!!x,"[[Get]]":("[[Get]]"in w?w:v)["[[Get]]"],"[[Set]]":("[[Set]]"in w?w:v)["[[Set]]"]})):o(v)&&a(w)?(y=("[[Configurable]]"in w?w:v)["[[Configurable]]"],x=("[[Enumerable]]"in w?w:v)["[[Enumerable]]"],r(a,c,s,p,m,{"[[Configurable]]":!!y,"[[Enumerable]]":!!x,"[[Value]]":("[[Value]]"in w?w:v)["[[Value]]"],"[[Writable]]":!!("[[Writable]]"in w?w:v)["[[Writable]]"]})):r(a,c,s,p,m,w)}return!0},Yd}var Jd,b_;function IR(){if(b_)return Jd;b_=1;var t=re,e=bR(),r=t("%SyntaxError%"),n=t("%TypeError%"),i=Ym(),s=Wu(),o=Qu(),a=TR(),l=Jn(),u=WC(),c=Jm(),h=it(),d=AR();return Jd=function(m,_,w){if(h(m)!=="Object")throw new n("Assertion failed: O must be an Object");if(!l(_))throw new n("Assertion failed: P must be a Property Key");if(!i({Type:h,IsDataDescriptor:o,IsAccessorDescriptor:s},w))throw new n("Assertion failed: Desc must be a Property Descriptor");if(!e){if(s(w))throw new r("This environment does not support accessor property descriptors.");var v=!(_ in m)&&w["[[Writable]]"]&&w["[[Enumerable]]"]&&w["[[Configurable]]"]&&"[[Value]]"in w,g=_ in m&&(!("[[Configurable]]"in w)||w["[[Configurable]]"])&&(!("[[Enumerable]]"in w)||w["[[Enumerable]]"])&&(!("[[Writable]]"in w)||w["[[Writable]]"])&&"[[Value]]"in w;if(v||g)return m[_]=w["[[Value]]"],c(m[_],w["[[Value]]"]);throw new r("This environment does not support defining non-writable, non-enumerable, or non-configurable properties")}var y=e(m,_),x=y&&u(y),b=a(m);return d(m,_,b,w,x)},Jd}var Xd,T_;function kR(){if(T_)return Xd;T_=1;var t=re,e=t("%TypeError%"),r=Jn(),n=IR(),i=it();return Xd=function(o,a,l){if(i(o)!=="Object")throw new e("Assertion failed: Type(O) is not Object");if(!r(a))throw new e("Assertion failed: IsPropertyKey(P) is not true");var u={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Value]]":l,"[[Writable]]":!0};return n(o,a,u)},Xd}var Zd,E_;function RR(){if(E_)return Zd;E_=1;var t=re,e=t("%TypeError%"),r=kR(),n=Jn(),i=it();return Zd=function(o,a,l){if(i(o)!=="Object")throw new e("Assertion failed: Type(O) is not Object");if(!n(a))throw new e("Assertion failed: IsPropertyKey(P) is not true");var u=r(o,a,l);if(!u)throw new e("unable to create data property")},Zd}var eh,P_;function MR(){if(P_)return eh;P_=1;var t=re,e=t("%TypeError%"),r=Jn(),n=it();return eh=function(s,o){if(n(s)!=="Object")throw new e("Assertion failed: `O` must be an Object");if(!r(o))throw new e("Assertion failed: `P` must be a Property Key");return o in s},eh}var th,A_;function OR(){if(A_)return th;A_=1;var t=Math.floor;return th=function(r,n){var i=r%n;return t(i>=0?i:i+n)},th}var rh,I_;function DR(){if(I_)return rh;I_=1;var t=OR();return rh=function(r,n){return t(r,n)},rh}var nh,k_;function NR(){return k_||(k_=1,nh=function(e){return e===null||typeof e!="function"&&typeof e!="object"}),nh}var ih,R_;function BR(){if(R_)return ih;R_=1;var t=Date.prototype.getDay,e=function(o){try{return t.call(o),!0}catch{return!1}},r=Object.prototype.toString,n="[object Date]",i=Hu()();return ih=function(o){return typeof o!="object"||o===null?!1:i?e(o):r.call(o)===n},ih}var ka={exports:{}},M_;function LR(){if(M_)return ka.exports;M_=1;var t=Object.prototype.toString,e=Wm();if(e){var r=Symbol.prototype.toString,n=/^Symbol\(.*\)$/,i=function(o){return typeof o.valueOf()!="symbol"?!1:n.test(r.call(o))};ka.exports=function(o){if(typeof o=="symbol")return!0;if(t.call(o)!=="[object Symbol]")return!1;try{return i(o)}catch{return!1}}}else ka.exports=function(o){return!1};return ka.exports}var sh,O_;function UR(){if(O_)return sh;O_=1;var t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol",e=NR(),r=zC(),n=BR(),i=LR(),s=function(l,u){if(typeof l>"u"||l===null)throw new TypeError("Cannot call method on "+l);if(typeof u!="string"||u!=="number"&&u!=="string")throw new TypeError('hint must be "string" or "number"');var c=u==="string"?["toString","valueOf"]:["valueOf","toString"],h,d,p;for(p=0;p<c.length;++p)if(h=l[c[p]],r(h)&&(d=h.call(l),e(d)))return d;throw new TypeError("No default value")},o=function(l,u){var c=l[u];if(c!==null&&typeof c<"u"){if(!r(c))throw new TypeError(c+" returned for property "+u+" of object "+l+" is not a function");return c}};return sh=function(l){if(e(l))return l;var u="default";arguments.length>1&&(arguments[1]===String?u="string":arguments[1]===Number&&(u="number"));var c;if(t&&(Symbol.toPrimitive?c=o(l,Symbol.toPrimitive):i(l)&&(c=Symbol.prototype.valueOf)),typeof c<"u"){var h=c.call(l,u);if(e(h))return h;throw new TypeError("unable to convert exotic object to primitive")}return u==="default"&&(n(l)||i(l))&&(u="string"),s(l,u==="default"?"number":u)},sh}var oh,D_;function FR(){if(D_)return oh;D_=1;var t=UR();return oh=function(r){return arguments.length>1?t(r,arguments[1]):t(r)},oh}var ah,N_;function jR(){if(N_)return ah;N_=1;var t=Ot(),e=Hu()(),r,n,i,s;if(e){r=t("Object.prototype.hasOwnProperty"),n=t("RegExp.prototype.exec"),i={};var o=function(){throw i};s={toString:o,valueOf:o},typeof Symbol.toPrimitive=="symbol"&&(s[Symbol.toPrimitive]=o)}var a=t("Object.prototype.toString"),l=Object.getOwnPropertyDescriptor,u="[object RegExp]";return ah=e?function(h){if(!h||typeof h!="object")return!1;var d=l(h,"lastIndex"),p=d&&r(d,"value");if(!p)return!1;try{n(h,s)}catch(m){return m===i}}:function(h){return!h||typeof h!="object"&&typeof h!="function"?!1:a(h)===u},ah}var lh,B_;function $R(){if(B_)return lh;B_=1;var t=Ot(),e=re,r=jR(),n=t("RegExp.prototype.exec"),i=e("%TypeError%");return lh=function(o){if(!r(o))throw new i("`regex` must be a RegExp");return function(l){return n(o,l)!==null}},lh}var uh,L_;function KC(){if(L_)return uh;L_=1;var t=re,e=t("%String%"),r=t("%TypeError%");return uh=function(i){if(typeof i=="symbol")throw new r("Cannot convert a Symbol value to a string");return e(i)},uh}var ch,U_;function YC(){if(U_)return ch;U_=1;var t=zu(),e=KC(),r=Ot(),n=r("String.prototype.replace"),i=/^\s$/.test("᠎"),s=i?/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/:/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,o=i?/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/:/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/;return ch=function(){var l=e(t(this));return n(n(l,s,""),o,"")},ch}var dh,F_;function JC(){if(F_)return dh;F_=1;var t=YC(),e="​",r="᠎";return dh=function(){return String.prototype.trim&&e.trim()===e&&r.trim()===r&&("_"+r).trim()==="_"+r&&(r+"_").trim()===r+"_"?String.prototype.trim:t},dh}var hh,j_;function qR(){if(j_)return hh;j_=1;var t=as,e=JC();return hh=function(){var n=e();return t(String.prototype,{trim:n},{trim:function(){return String.prototype.trim!==n}}),n},hh}var fh,$_;function VR(){if($_)return fh;$_=1;var t=Xo,e=as,r=zu(),n=YC(),i=JC(),s=qR(),o=t(i()),a=function(u){return r(u),o(u)};return e(a,{getPolyfill:i,implementation:n,shim:s}),fh=a,fh}var ph,q_;function HR(){if(q_)return ph;q_=1;var t=re,e=t("%Number%"),r=t("%RegExp%"),n=t("%TypeError%"),i=t("%parseInt%"),s=Ot(),o=$R(),a=s("String.prototype.slice"),l=o(/^0b[01]+$/i),u=o(/^0o[0-7]+$/i),c=o(/^[-+]0x[0-9a-f]+$/i),h=["","​","￾"].join(""),d=new r("["+h+"]","g"),p=o(d),m=VR(),_=it();return ph=function w(v){if(_(v)!=="String")throw new n("Assertion failed: `argument` is not a String");if(l(v))return e(i(a(v,2),2));if(u(v))return e(i(a(v,2),8));if(p(v)||c(v))return NaN;var g=m(v);return g!==v?w(g):e(v)},ph}var mh,V_;function zR(){if(V_)return mh;V_=1;var t=re,e=t("%TypeError%"),r=t("%Number%"),n=QC(),i=FR(),s=HR();return mh=function(a){var l=n(a)?a:i(a,r);if(typeof l=="symbol")throw new e("Cannot convert a Symbol value to a number");if(typeof l=="bigint")throw new e("Conversion from 'BigInt' to 'number' is not allowed.");return typeof l=="string"?s(l):r(l)},mh}var gh,H_;function GR(){if(H_)return gh;H_=1;var t=it(),e=Math.floor;return gh=function(n){return t(n)==="BigInt"?n:e(n)},gh}var yh,z_;function WR(){if(z_)return yh;z_=1;var t=re,e=GR(),r=t("%TypeError%");return yh=function(i){if(typeof i!="number"&&typeof i!="bigint")throw new r("argument must be a Number or a BigInt");var s=i<0?-e(-i):e(i);return s===0?0:s},yh}var vh,G_;function QR(){if(G_)return vh;G_=1;var t=DR(),e=zR(),r=WR(),n=FC(),i=4294967296;return vh=function(o){var a=e(o);if(!n(a)||a===0)return 0;var l=r(a),u=t(l,i);return u===0?0:u},vh}var _h,W_;function KR(){if(W_)return _h;W_=1;var t=re,e=t("%Object%"),r=zu();return _h=function(i){return r(i),e(i)},_h}var wh,Q_;function XC(){if(Q_)return wh;Q_=1;var t=SR(),e=CR(),r=RR(),n=jC(),i=MR(),s=GC(),o=QR(),a=KR(),l=KC(),u=Ot(),c=UC(),h=Object("a"),d=h[0]!=="a"||!(0 in h),p=u("String.prototype.split");return wh=function(_){var w=a(this),v=d&&c(w)?p(w,""):w,g=o(v.length);if(!s(_))throw new TypeError("Array.prototype.map callback must be a function");var y;arguments.length>1&&(y=arguments[1]);for(var x=t(w,g),b=0;b<g;){var R=l(b),O=i(w,R);if(O){var A=n(w,R),B=e(_,y,[A,b,w]);r(x,R,B)}b+=1}return x},wh}var xh,K_;function YR(){return K_||(K_=1,xh=function(e){var r=!0,n=!0,i=!1;if(typeof e=="function"){try{e.call("f",function(s,o,a){typeof a!="object"&&(r=!1)}),e.call([null],function(){"use strict";n=typeof this=="string"},"x")}catch{i=!0}return!i&&r&&n}return!1}),xh}var Sh,Y_;function ZC(){if(Y_)return Sh;Y_=1;var t=YR(),e=XC();return Sh=function(){var n=Array.prototype.map;return t(n)?n:e},Sh}var Ch,J_;function JR(){if(J_)return Ch;J_=1;var t=as,e=ZC();return Ch=function(){var n=e();return t(Array.prototype,{map:n},{map:function(){return Array.prototype.map!==n}}),n},Ch}var bh,X_;function XR(){if(X_)return bh;X_=1;var t=as,e=zu(),r=Ot(),n=XC(),i=ZC(),s=i(),o=JR(),a=r("Array.prototype.slice"),l=function(c,h){return e(c),s.apply(c,a(arguments,1))};return t(l,{getPolyfill:i,implementation:n,shim:o}),bh=l,bh}var ZR=Vu;ZR();var eM=Zk(),tM=eR(),rM=fR(),nM=XR(),e1=re,t1=Xo,iM=t1(e1("%Promise.all%")),sM=t1(e1("%Promise.reject%")),r1=function(e){var r=this;if(tM(r)!=="Object")throw new TypeError("`this` value must be an object");var n=rM(e);return iM(r,nM(n,function(i){var s=function(l){return{status:"fulfilled",value:l}},o=function(l){return{status:"rejected",reason:l}},a=eM(r,i);try{return a.then(s,o)}catch(l){return sM(r,l)}}))},oM=Vu,aM=r1,n1=function(){return oM(),typeof Promise.allSettled=="function"?Promise.allSettled:aM},lM=Vu,uM=n1,cM=as,dM=function(){lM();var e=uM();return cM(Promise,{allSettled:e},{allSettled:function(){return Promise.allSettled!==e}}),e};(function(t){var e=Xo,r=as,n=Vu,i=r1,s=n1,o=dM;n();var a=e(s()),l=function(c){return a(typeof this>"u"?Promise:this,c)};r(l,{getPolyfill:s,implementation:i,shim:o}),t.exports=l,t.exports.default=l})(PC);var hM=PC.exports;const fM=es(hM);var Xm=function(){function t(e){var r=e.logger;this._queue=[],this._batchRunning=!1,this._paused=!1,this._logger=os(Gn({name:"rate-limiter",emoji:!0},r))}return t.prototype.request=function(e,r){return Vt(this,void 0,Promise,function(){var n=this;return Pt(this,function(i){switch(i.label){case 0:return this._logger.trace("request start"),[4,new Promise(function(s,o){var a,l={req:e,resolve:s,reject:o,limitReachedBehavior:(a=r==null?void 0:r.limitReachedBehavior)!==null&&a!==void 0?a:"enqueue"};n._batchRunning||n._nextBatchTimer||n._paused?(n._logger.trace("request queued batchRunning:".concat(n._batchRunning.toString()," hasNextBatchTimer:").concat((!!n._nextBatchTimer).toString()," paused:").concat(n._paused.toString())),n._queue.push(l)):n._runRequestBatch([l])})];case 1:return[2,i.sent()]}})})},t.prototype.clear=function(){this._queue=[]},t.prototype.pause=function(){this._paused=!0},t.prototype.resume=function(){this._paused=!1,this._runNextBatch()},Object.defineProperty(t.prototype,"stats",{get:function(){var e,r,n,i,s;return{lastKnownLimit:(r=(e=this._parameters)===null||e===void 0?void 0:e.limit)!==null&&r!==void 0?r:null,lastKnownRemainingRequests:(i=(n=this._parameters)===null||n===void 0?void 0:n.remaining)!==null&&i!==void 0?i:null,lastKnownResetDate:nr((s=this._parameters)===null||s===void 0?void 0:s.resetsAt,function(o){return new Date(o)})}},enumerable:!1,configurable:!0}),t.prototype._runRequestBatch=function(e){return Vt(this,void 0,void 0,function(){var r,n,i,s,o,a,l,u,c=this;return Pt(this,function(h){switch(h.label){case 0:return this._logger.trace("runRequestBatch start specs:".concat(e.length)),this._batchRunning=!0,this._parameters&&this._logger.debug("Remaining requests: ".concat(this._parameters.remaining)),this._logger.debug("Doing ".concat(e.length," requests, new queue length is ").concat(this._queue.length)),r=e.map(function(d){return Vt(c,void 0,Promise,function(){var p,m,_,w,v,g,y;return Pt(this,function(x){switch(x.label){case 0:p=d.req,m=d.resolve,_=d.reject,x.label=1;case 1:return x.trys.push([1,3,,4]),[4,this.doRequest(p)];case 2:if(w=x.sent(),v=this.needsToRetryAfter(w),v!==null)throw this._queue.unshift(d),this._logger.info("Retrying after ".concat(v," ms")),new yv(v);return g=this.getParametersFromResponse(w),m(w),[2,g];case 3:if(y=x.sent(),y instanceof yv)throw y;return _(y),[2,void 0];case 4:return[2]}})})}),[4,fM.call(Promise,r)];case 1:return n=h.sent(),i=n.filter(function(d){return d.status==="rejected"}),s=Date.now(),i.length?(this._logger.trace("runRequestBatch some rejected"),o=Math.max.apply(Math,ln([s],br(i.map(function(d){return d.reason.retryAt})),!1)),a=o-s,this._logger.warn("Waiting for ".concat(a," ms because the rate limit was exceeded")),this._nextBatchTimer=setTimeout(function(){c._parameters=void 0,c._runNextBatch()},a)):(this._logger.trace("runRequestBatch none rejected"),l=n.filter(function(d){return d.status==="fulfilled"&&d.value!==void 0}).map(function(d){return d.value}).reduce(function(d,p){return d?p.remaining<d.remaining?p:d:p},void 0),this._batchRunning=!1,l&&(this._parameters=l,l.resetsAt<s||l.remaining>0?(this._logger.trace("runRequestBatch canRunMore"),this._runNextBatch()):(u=l.resetsAt-s,this._logger.trace("runRequestBatch delay:".concat(u)),this._logger.warn("Waiting for ".concat(u," ms because the rate limit was reached")),this._queue=this._queue.filter(function(d){switch(d.limitReachedBehavior){case"enqueue":return!0;case"null":return d.resolve(null),!1;case"throw":return d.reject(new Hm("Request removed from queue because the rate limit was reached")),!1;default:throw new Error("this should never happen")}}),this._nextBatchTimer=setTimeout(function(){c._parameters=void 0,c._runNextBatch()},u)))),this._logger.trace("runRequestBatch end"),[2]}})})},t.prototype._runNextBatch=function(){if(!this._paused){this._logger.trace("runNextBatch start"),this._nextBatchTimer&&(clearTimeout(this._nextBatchTimer),this._nextBatchTimer=void 0);var e=this._parameters?Math.min(this._parameters.remaining,this._parameters.limit/10):1,r=this._queue.splice(0,e);r.length&&this._runRequestBatch(r),this._logger.trace("runNextBatch end")}},t}(),pM=function(){function t(e){this._children=new Map,this._paused=!1,this._partitionKeyCallback=e.getPartitionKey,this._createChildCallback=e.createChild}return t.prototype.request=function(e,r){return Vt(this,void 0,Promise,function(){var n,i;return Pt(this,function(s){switch(s.label){case 0:return n=this._partitionKeyCallback(e),i=this._getChild(n),[4,i.request(e,r)];case 1:return[2,s.sent()]}})})},t.prototype.clear=function(){var e,r;try{for(var n=Ya(this._children.values()),i=n.next();!i.done;i=n.next()){var s=i.value;s.clear()}}catch(o){e={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t.prototype.pause=function(){var e,r;this._paused=!0;try{for(var n=Ya(this._children.values()),i=n.next();!i.done;i=n.next()){var s=i.value;s.pause()}}catch(o){e={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t.prototype.resume=function(){var e,r;this._paused=!1;try{for(var n=Ya(this._children.values()),i=n.next();!i.done;i=n.next()){var s=i.value;s.resume()}}catch(o){e={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t.prototype.getChildStats=function(e){if(!this._children.has(e))return null;var r=this._children.get(e);return r instanceof Xm?r.stats:null},t.prototype._getChild=function(e){if(this._children.has(e))return this._children.get(e);var r=this._createChildCallback(e);return this._paused&&r.pause(),this._children.set(e,r),r},t}(),i1=function(){function t(e){var r=e.logger,n=e.bucketSize,i=e.timeFrame,s=e.doRequest,o=e.getPartitionKey;this._partitionedQueue=new Map,this._usedFromBucket=new Map,this._paused=!1,this._logger=os(Gn({name:"rate-limiter",emoji:!0},r)),this._bucketSize=n,this._timeFrame=i,this._callback=s,this._partitionKeyCallback=o}return t.prototype.request=function(e,r){return Vt(this,void 0,Promise,function(){var n=this;return Pt(this,function(i){switch(i.label){case 0:return[4,new Promise(function(s,o){var a,l,u={req:e,resolve:s,reject:o,limitReachedBehavior:(a=r==null?void 0:r.limitReachedBehavior)!==null&&a!==void 0?a:"enqueue"},c=n._partitionKeyCallback(e),h=(l=n._usedFromBucket.get(c))!==null&&l!==void 0?l:0;if(h>=n._bucketSize||n._paused)switch(u.limitReachedBehavior){case"enqueue":{var d=n._getPartitionedQueue(c);d.push(u),h+d.length>=n._bucketSize?n._logger.warn("Rate limit of ".concat(n._bucketSize," for ").concat(c?"partition ".concat(c):"default partition"," was reached, waiting for ").concat(n._paused?"the limiter to be unpaused":"a free bucket entry","; queue size is ").concat(d.length)):n._logger.info("Enqueueing request for ".concat(c?"partition ".concat(c):"default partition"," because the rate limiter is paused; queue size is ").concat(d.length));break}case"null":{u.resolve(null),n._paused?n._logger.info("Returning null for request for ".concat(c?"partition ".concat(c):"default partition"," because the rate limiter is paused")):n._logger.warn("Rate limit of ".concat(n._bucketSize," for ").concat(c?"partition ".concat(c):"default partition"," was reached, dropping request and returning null"));break}case"throw":{u.reject(new Hm("Request dropped because ".concat(n._paused?"the rate limiter is paused":"the rate limit for ".concat(c?"partition ".concat(c):"default partition"," was reached"))));break}default:throw new Error("this should never happen")}else n._runRequest(u,c)})];case 1:return[2,i.sent()]}})})},t.prototype.clear=function(){this._partitionedQueue.clear()},t.prototype.pause=function(){this._paused=!0},t.prototype.resume=function(){var e,r;this._paused=!1;try{for(var n=Ya(this._partitionedQueue.keys()),i=n.next();!i.done;i=n.next()){var s=i.value;this._runNextRequest(s)}}catch(o){e={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t.prototype._getPartitionedQueue=function(e){if(this._partitionedQueue.has(e))return this._partitionedQueue.get(e);var r=[];return this._partitionedQueue.set(e,r),r},t.prototype._runRequest=function(e,r){var n;return Vt(this,void 0,void 0,function(){var i,s,o,a,l,u,c=this;return Pt(this,function(h){switch(h.label){case 0:i=this._getPartitionedQueue(r),this._logger.debug("doing a request for ".concat(r?"partition ".concat(r):"default partition",", new queue length is ").concat(i.length)),this._usedFromBucket.set(r,((n=this._usedFromBucket.get(r))!==null&&n!==void 0?n:0)+1),s=e.req,o=e.resolve,a=e.reject,h.label=1;case 1:return h.trys.push([1,3,4,5]),l=o,[4,this._callback(s)];case 2:return l.apply(void 0,[h.sent()]),[3,5];case 3:return u=h.sent(),a(u),[3,5];case 4:return setTimeout(function(){var d=c._usedFromBucket.get(r)-1;c._usedFromBucket.set(r,d),i.length&&d<c._bucketSize&&c._runNextRequest(r)},this._timeFrame),[7];case 5:return[2]}})})},t.prototype._runNextRequest=function(e){if(!this._paused){var r=this._getPartitionedQueue(e),n=r.shift();n&&this._runRequest(n,e)}},t}(),Yf=function(){function t(e){var r=e.logger,n=e.bucketSize,i=e.timeFrame,s=e.doRequest;this._queue=[],this._usedFromBucket=0,this._paused=!1,this._logger=os(Gn({name:"rate-limiter",emoji:!0},r)),this._bucketSize=n,this._timeFrame=i,this._callback=s}return t.prototype.request=function(e,r){return Vt(this,void 0,Promise,function(){var n=this;return Pt(this,function(i){switch(i.label){case 0:return[4,new Promise(function(s,o){var a,l={req:e,resolve:s,reject:o,limitReachedBehavior:(a=r==null?void 0:r.limitReachedBehavior)!==null&&a!==void 0?a:"enqueue"};if(n._usedFromBucket>=n._bucketSize||n._paused)switch(l.limitReachedBehavior){case"enqueue":{n._queue.push(l),n._usedFromBucket+n._queue.length>=n._bucketSize?n._logger.warn("Rate limit of ".concat(n._bucketSize," was reached, waiting for ").concat(n._paused?"the limiter to be unpaused":"a free bucket entry","; queue size is ").concat(n._queue.length)):n._logger.info("Enqueueing request because the rate limiter is paused; queue size is ".concat(n._queue.length));break}case"null":{l.resolve(null),n._logger.warn("Rate limit of ".concat(n._bucketSize," was reached, dropping request and returning null")),n._paused?n._logger.info("Returning null for request because the rate limiter is paused"):n._logger.warn("Rate limit of ".concat(n._bucketSize," was reached, dropping request and returning null"));break}case"throw":{l.reject(new Hm("Request dropped because ".concat(n._paused?"the rate limiter is paused":"the rate limit was reached")));break}default:throw new Error("this should never happen")}else n._runRequest(l)})];case 1:return[2,i.sent()]}})})},t.prototype.clear=function(){this._queue=[]},t.prototype.pause=function(){this._paused=!0},t.prototype.resume=function(){this._paused=!1,this._runNextRequest()},t.prototype._runRequest=function(e){return Vt(this,void 0,void 0,function(){var r,n,i,s,o,a=this;return Pt(this,function(l){switch(l.label){case 0:this._logger.debug("doing a request, new queue length is ".concat(this._queue.length)),this._usedFromBucket+=1,r=e.req,n=e.resolve,i=e.reject,l.label=1;case 1:return l.trys.push([1,3,4,5]),s=n,[4,this._callback(r)];case 2:return s.apply(void 0,[l.sent()]),[3,5];case 3:return o=l.sent(),i(o),[3,5];case 4:return setTimeout(function(){a._usedFromBucket-=1,a._queue.length&&a._usedFromBucket<a._bucketSize&&a._runNextRequest()},this._timeFrame),[7];case 5:return[2]}})})},t.prototype._runNextRequest=function(){if(!this._paused){var e=this._queue.shift();e&&this._runRequest(e)}},t}(),mM=function(t){is(e,t);function e(r,n){return t.call(this,Gn(Gn({},n),{doRequest:function(i,s){return Vt(this,void 0,Promise,function(){return Pt(this,function(o){switch(o.label){case 0:return[4,r.request(i,s)];case 1:return[2,o.sent()]}})})}}))||this}return e}(Yf);class gM extends ir{}class yM extends Xm{async doRequest({options:e,clientId:r,accessToken:n,authorizationType:i,fetchOptions:s}){return await ju(e,r,n,i,s)}needsToRetryAfter(e){return e.status===429&&(!e.headers.has("ratelimit-remaining")||Number(e.headers.get("ratelimit-remaining"))===0)?+e.headers.get("ratelimit-reset")*1e3-Date.now():null}getParametersFromResponse(e){const r=e.headers;return{limit:+r.get("ratelimit-limit"),remaining:+r.get("ratelimit-remaining"),resetsAt:+r.get("ratelimit-reset")*1e3}}}function vM(t){switch(typeof t){case"undefined":return"";case"object":{if(t===null)return"";if("cacheKey"in t)return t.cacheKey;const e=JSON.stringify(t);if(e!=="{}")return e}default:return t.toString()}}function s1(t,e,r){return[t,...e.map(vM)].join("/")+(r?"/":"")}function Zo(t){return class extends t{constructor(){super(...arguments),this.cache=new Map}getFromCache(e){if(this._cleanCache(),this.cache.has(e)){const r=this.cache.get(e);if(r)return r.value}}setCache(e,r,n){this.cache.set(e,{value:r,expires:Date.now()+n*1e3})}removeFromCache(e,r){const n=this._getInternalCacheKey(e,r);r?this.cache.forEach((i,s)=>{s.startsWith(n)&&this.cache.delete(s)}):this.cache.delete(n)}_cleanCache(){const e=Date.now();this.cache.forEach((r,n)=>{r.expires<e&&this.cache.delete(n)})}_getInternalCacheKey(e,r){if(typeof e=="string"){let n=e;return n.endsWith("/")||(n+="/"),n}else{const n=e.shift();return s1(n,e,r)}}}}function pe(t=1/0){return function(e,r,n){if(n.get){const i=n.get;n.get=function(){const s=s1(r,[]),o=this.getFromCache(s);if(o)return o;const a=i.call(this);return this.setCache(s,a,t),a}}return n}}var o1={};function Mt(t,e){typeof e=="boolean"&&(e={forever:e}),this._originalTimeouts=JSON.parse(JSON.stringify(t)),this._timeouts=t,this._options=e||{},this._maxRetryTime=e&&e.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}var _M=Mt;Mt.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)};Mt.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null};Mt.prototype.retry=function(t){if(this._timeout&&clearTimeout(this._timeout),!t)return!1;var e=new Date().getTime();if(t&&e-this._operationStart>=this._maxRetryTime)return this._errors.push(t),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(t);var r=this._timeouts.shift();if(r===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),r=this._cachedTimeouts.slice(-1);else return!1;var n=this;return this._timer=setTimeout(function(){n._attempts++,n._operationTimeoutCb&&(n._timeout=setTimeout(function(){n._operationTimeoutCb(n._attempts)},n._operationTimeout),n._options.unref&&n._timeout.unref()),n._fn(n._attempts)},r),this._options.unref&&this._timer.unref(),!0};Mt.prototype.attempt=function(t,e){this._fn=t,e&&(e.timeout&&(this._operationTimeout=e.timeout),e.cb&&(this._operationTimeoutCb=e.cb));var r=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){r._operationTimeoutCb()},r._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)};Mt.prototype.try=function(t){console.log("Using RetryOperation.try() is deprecated"),this.attempt(t)};Mt.prototype.start=function(t){console.log("Using RetryOperation.start() is deprecated"),this.attempt(t)};Mt.prototype.start=Mt.prototype.try;Mt.prototype.errors=function(){return this._errors};Mt.prototype.attempts=function(){return this._attempts};Mt.prototype.mainError=function(){if(this._errors.length===0)return null;for(var t={},e=null,r=0,n=0;n<this._errors.length;n++){var i=this._errors[n],s=i.message,o=(t[s]||0)+1;t[s]=o,o>=r&&(e=i,r=o)}return e};(function(t){var e=_M;t.operation=function(r){var n=t.timeouts(r);return new e(n,{forever:r&&(r.forever||r.retries===1/0),unref:r&&r.unref,maxRetryTime:r&&r.maxRetryTime})},t.timeouts=function(r){if(r instanceof Array)return[].concat(r);var n={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var i in r)n[i]=r[i];if(n.minTimeout>n.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var s=[],o=0;o<n.retries;o++)s.push(this.createTimeout(o,n));return r&&r.forever&&!s.length&&s.push(this.createTimeout(o,n)),s.sort(function(a,l){return a-l}),s},t.createTimeout=function(r,n){var i=n.randomize?Math.random()+1:1,s=Math.round(i*Math.max(n.minTimeout,1)*Math.pow(n.factor,r));return s=Math.min(s,n.maxTimeout),s},t.wrap=function(r,n,i){if(n instanceof Array&&(i=n,n=null),!i){i=[];for(var s in r)typeof r[s]=="function"&&i.push(s)}for(var o=0;o<i.length;o++){var a=i[o],l=r[a];r[a]=(function(c){var h=t.operation(n),d=Array.prototype.slice.call(arguments,1),p=d.pop();d.push(function(m){h.retry(m)||(m&&(arguments[0]=h.mainError()),p.apply(this,arguments))}),h.attempt(function(){c.apply(r,d)})}).bind(r,l),r[a].options=n}}})(o1);var wM=o1;function xM(t={}){const{count:e=10,period:r="all",startDate:n,contextUserId:i}=t;return{count:e.toString(),period:r,started_at:n==null?void 0:n.toISOString(),user_id:i}}class xe{constructor(e){this._client=e}_getUserContextIdWithDefault(e){var r;return(r=this._client._getUserIdFromRequestContext(e))!==null&&r!==void 0?r:e}}S([q(!1)],xe.prototype,"_client",void 0);let Ll=class extends z{constructor(e,r){super(e),this._client=r}get userId(){return this[f].user_id}get userName(){return this[f].user_login}get userDisplayName(){return this[f].user_name}get rank(){return this[f].rank}get amount(){return this[f].score}async getUser(){return Y(await this._client.users.getUserById(this[f].user_id))}};S([q(!1)],Ll.prototype,"_client",void 0);Ll=S([D("api","HelixBitsLeaderboardEntry","userId")],Ll);let go=class extends z{constructor(e,r){super(e),this._client=r}get entries(){return this[f].data.map(e=>new Ll(e,this._client))}get totalCount(){return this[f].total}};S([q(!1)],go.prototype,"_client",void 0);S([pe()],go.prototype,"entries",null);go=S([Zo,D("api","HelixBitsLeaderboard")],go);let Jf=class extends z{constructor(e){super(fC(e,r=>r.prefix.toLowerCase()))}getCheermoteDisplayInfo(e,r,n){e=e.toLowerCase();const{background:i,state:s,scale:o}=n,l=this[f][e].tiers.sort((u,c)=>c.min_bits-u.min_bits).find(u=>u.min_bits<=r);if(!l)throw new un(`Cheermote "${e}" does not have an applicable tier for ${r} bits`);return{url:l.images[i][s][o],color:l.color}}getPossibleNames(){return Object.keys(this[f])}};Jf=S([D("api","HelixCheermoteList")],Jf);let Xf=class extends xe{async getLeaderboard(e,r={}){const n=await this._client.callApi({type:"helix",url:"bits/leaderboard",userId:C(e),scopes:["bits:read"],query:xM(r)});return new go(n,this._client)}async getCheermotes(e){const r=await this._client.callApi({type:"helix",url:"bits/cheermotes",userId:rr(e,C),query:rr(e,ce)});return new Jf(r.data)}};Xf=S([D("api","HelixBitsApi")],Xf);function SM(t){var e;return{game_id:t.gameId,broadcaster_language:t.language,title:t.title,delay:(e=t.delay)===null||e===void 0?void 0:e.toString(),tags:t.tags}}function CM(t,e){return{broadcaster_id:C(t),length:e}}function Z_(t,e){return{broadcaster_id:C(t),user_id:C(e)}}function Th(t,e){return{broadcaster_id:C(t),user_id:rr(e,C)}}function e0(t,e){return{broadcaster_id:rr(e,C),user_id:C(t)}}function Me(t,e){return{[t]:e}}function t0(t){return{user_id:C(t)}}function a1(t,e){return{broadcaster_id:t,moderator_id:e}}function Ku(t,e){return{broadcaster_id:C(t),id:e}}function l1(t,e){return{broadcaster_id:C(t),user_id:e.map(C)}}let Fn=class extends z{constructor(e,r){super(e),this._client=r}get id(){return this[f].user_id}get name(){return this[f].user_login}get displayName(){return this[f].user_name}async getUser(){return Y(await this._client.users.getUserById(this[f].user_id))}};S([q(!1)],Fn.prototype,"_client",void 0);Fn=S([D("api","HelixUserRelation","id")],Fn);class At{constructor(e,r,n,i,s,o=100){this._callOptions=e,this._queryParamName=r,this._matchKey=n,this._mapper=s,this._limitPerRequest=o,this._requestedIds=[],this._requestResolversById=new Map,this._waitTimer=null,this._client=i,this._delay=i._batchDelay}async request(e){const{promise:r,resolve:n,reject:i}=po();return this._requestedIds.includes(e)||this._requestedIds.push(e),this._requestResolversById.has(e)?this._requestResolversById.get(e).push({resolve:n,reject:i}):this._requestResolversById.set(e,[{resolve:n,reject:i}]),this._waitTimer&&(clearTimeout(this._waitTimer),this._waitTimer=null),this._requestedIds.length>=this._limitPerRequest?this._handleBatch(this._requestedIds.splice(0,this._limitPerRequest)):this._waitTimer=setTimeout(()=>{this._handleBatch(this._requestedIds.splice(0,this._limitPerRequest))},this._delay),await r}async _handleBatch(e){var r;try{const{data:n}=await this._doRequest(e),i=fC(n,this._matchKey);for(const s of e){for(const o of(r=this._requestResolversById.get(s))!==null&&r!==void 0?r:[])Object.prototype.hasOwnProperty.call(i,s)?o.resolve(this._mapper(i[s])):o.resolve(null);this._requestResolversById.delete(s)}}catch{await Promise.all(e.map(async i=>{var s,o;try{const a=await this._doRequest([i]);for(const l of(s=this._requestResolversById.get(i))!==null&&s!==void 0?s:[])l.resolve(a.data.length?this._mapper(a.data[0]):null)}catch(a){for(const l of(o=this._requestResolversById.get(i))!==null&&o!==void 0?o:[])l.reject(a)}this._requestResolversById.delete(i)}))}}async _doRequest(e){return await this._client.callApi({type:"helix",...this._callOptions,query:{...this._callOptions.query,[this._queryParamName]:e}})}}S([q(!1)],At.prototype,"_client",void 0);var Eh;Object.prototype.hasOwnProperty.call(Symbol,"asyncIterator")||(Symbol.asyncIterator=(Eh=Symbol.asyncIterator)!==null&&Eh!==void 0?Eh:Symbol.for("Symbol.asyncIterator"));let _e=class{constructor(e,r,n,i=100){this._callOptions=e,this._mapper=n,this._limitPerPage=i,this._isFinished=!1,this._client=r}get current(){var e;return(e=this._currentData)===null||e===void 0?void 0:e.data}async getNext(){var e;if(this._isFinished)return[];const r=await this._fetchData();return!((e=r.data)===null||e===void 0)&&e.length?this._processResult(r):(this._isFinished=!0,[])}async getAll(){this.reset();const e=[];do{const r=await this.getNext();if(!r.length)break;e.push(...r)}while(this._currentCursor);return this.reset(),e}get currentCursor(){return this._currentCursor}reset(){this._currentCursor=void 0,this._isFinished=!1,this._currentData=void 0}async*[Symbol.asyncIterator](){for(this.reset();;){const e=await this.getNext();if(!e.length)break;yield*e[Symbol.iterator]()}}async _fetchData(e={}){return await this._client.callApi({type:"helix",...this._callOptions,...e,query:{...this._callOptions.query,after:this._currentCursor,first:this._limitPerPage.toString(),...e.query}})}_processResult(e){return this._currentCursor=e.pagination?e.pagination.cursor:void 0,this._currentCursor===void 0&&(this._isFinished=!0),this._currentData=e,e.data.reduce((r,n)=>{const i=this._mapper(n);return Array.isArray(i)?[...r,...i]:[...r,i]},[])}};S([q(!1)],_e.prototype,"_client",void 0);_e=S([D("api","HelixPaginatedRequest")],_e);let Qn=class extends _e{async getTotalCount(){var e;return((e=this._currentData)!==null&&e!==void 0?e:await this._fetchData({query:{after:void 0}})).total}};Qn=S([D("api","HelixPaginatedRequestWithTotal")],Qn);function De(t,e,r){var n;let i;return{get data(){var s,o;return i??(i=(o=(s=t.data)===null||s===void 0?void 0:s.map(a=>new e(a,r)))!==null&&o!==void 0?o:[])},cursor:(n=t.pagination)===null||n===void 0?void 0:n.cursor}}function Gr(t,e,r){let n;return{get data(){var i,s;return n??(n=(s=(i=t.data)===null||i===void 0?void 0:i.map(o=>new e(o,r)))!==null&&s!==void 0?s:[])},cursor:t.pagination.cursor,total:t.total}}function se({after:t,before:e,limit:r}={}){return{after:t,before:e,first:r==null?void 0:r.toString()}}let Ni=class extends z{constructor(e,r){super(e),this._client=r}get id(){return this[f].broadcaster_id}get name(){return this[f].broadcaster_login}get displayName(){return this[f].broadcaster_name}async getBroadcaster(){return Y(await this._client.users.getUserById(this[f].broadcaster_id))}get language(){return this[f].broadcaster_language}get gameId(){return this[f].game_id}get gameName(){return this[f].game_name}async getGame(){return this[f].game_id?Y(await this._client.games.getGameById(this[f].game_id)):null}get title(){return this[f].title}get delay(){return this[f].delay}get tags(){return this[f].tags}};S([q(!1)],Ni.prototype,"_client",void 0);Ni=S([D("api","HelixChannel","id")],Ni);let Ul=class extends z{constructor(e,r){super(e),this._client=r}get userId(){return this[f].user_id}get userDisplayName(){return this[f].user_name}async getUser(){return Y(await this._client.users.getUserById(this[f].user_id))}get creationDate(){return new Date(this[f].created_at)}};S([q(!1)],Ul.prototype,"_client",void 0);Ul=S([D("api","HelixChannelEditor","userId")],Ul);let yo=class extends z{constructor(e,r){super(e),this._client=r}get userId(){return this[f].user_id}get userName(){return this[f].user_login}get userDisplayName(){return this[f].user_name}async getUser(){return Y(await this._client.users.getUserById(this[f].user_id))}get followDate(){return new Date(this[f].followed_at)}};S([q(!1)],yo.prototype,"_client",void 0);yo=S([D("api","HelixChannelFollower","userId")],yo);let vo=class extends z{constructor(e,r){super(e),this._client=r}get broadcasterId(){return this[f].broadcaster_id}get broadcasterName(){return this[f].broadcaster_login}get broadcasterDisplayName(){return this[f].broadcaster_name}async getBroadcaster(){return Y(await this._client.users.getUserById(this[f].broadcaster_id))}get followDate(){return new Date(this[f].followed_at)}};S([q(!1)],vo.prototype,"_client",void 0);vo=S([D("api","HelixFollowedChannel","broadcasterId")],vo);let Fl=class extends xe{constructor(){super(...arguments),this._getChannelByIdBatcher=new At({url:"channels"},"broadcaster_id","broadcaster_id",this._client,e=>new Ni(e,this._client))}async getChannelInfoById(e){const r=C(e),n=await this._client.callApi({type:"helix",url:"channels",userId:r,query:ce(r)});return nr(n.data[0],i=>new Ni(i,this._client))}async getChannelInfoByIdBatched(e){return await this._getChannelByIdBatcher.request(C(e))}async getChannelInfoByIds(e){const r=e.map(C);return(await this._client.callApi({type:"helix",url:"channels",query:Me("broadcaster_id",r)})).data.map(i=>new Ni(i,this._client))}async updateChannelInfo(e,r){await this._client.callApi({type:"helix",url:"channels",method:"PATCH",userId:C(e),scopes:["channel:manage:broadcast"],query:ce(e),jsonBody:SM(r)})}async startChannelCommercial(e,r){await this._client.callApi({type:"helix",url:"channels/commercial",method:"POST",userId:C(e),scopes:["channel:edit:commercial"],jsonBody:CM(e,r)})}async getChannelEditors(e){return(await this._client.callApi({type:"helix",url:"channels/editors",userId:C(e),scopes:["channel:read:editors"],query:ce(e)})).data.map(n=>new Ul(n,this._client))}async getVips(e,r){const n=await this._client.callApi({type:"helix",url:"channels/vips",userId:C(e),scopes:["channel:read:vips","channel:manage:vips"],query:{...ce(e),...se(r)}});return De(n,Fn,this._client)}getVipsPaginated(e){return new _e({url:"channels/vips",userId:C(e),scopes:["channel:read:vips","channel:manage:vips"],query:ce(e)},this._client,r=>new Fn(r,this._client))}async checkVipForUsers(e,r){return(await this._client.callApi({type:"helix",url:"channels/vips",userId:C(e),scopes:["channel:read:vips","channel:manage:vips"],query:l1(e,r)})).data.map(i=>new Fn(i,this._client))}async checkVipForUser(e,r){const n=C(r);return(await this.checkVipForUsers(e,[n])).some(s=>s.id===n)}async addVip(e,r){await this._client.callApi({type:"helix",url:"channels/vips",method:"POST",userId:C(e),scopes:["channel:manage:vips"],query:Z_(e,r)})}async removeVip(e,r){await this._client.callApi({type:"helix",url:"channels/vips",method:"DELETE",userId:C(e),scopes:["channel:manage:vips"],query:Z_(e,r)})}async getChannelFollowerCount(e){return(await this._client.callApi({type:"helix",url:"channels/followers",method:"GET",userId:C(e),query:{...Th(e),...se({limit:1})}})).total}async getChannelFollowers(e,r,n){const i=await this._client.callApi({type:"helix",url:"channels/followers",method:"GET",userId:C(e),canOverrideScopedUserContext:!0,scopes:["moderator:read:followers"],query:{...Th(e,r),...se(n)}});return Gr(i,yo,this._client)}getChannelFollowersPaginated(e){return new Qn({url:"channels/followers",method:"GET",userId:C(e),canOverrideScopedUserContext:!0,scopes:["moderator:read:followers"],query:Th(e)},this._client,r=>new yo(r,this._client))}async getFollowedChannels(e,r,n){const i=await this._client.callApi({type:"helix",url:"channels/followed",method:"GET",userId:C(e),scopes:["user:read:follows"],query:{...e0(e,r),...se(n)}});return Gr(i,vo,this._client)}getFollowedChannelsPaginated(e,r){return new Qn({url:"channels/followed",method:"GET",userId:C(e),scopes:["user:read:follows"],query:e0(e,r)},this._client,n=>new vo(n,this._client))}};S([q(!1)],Fl.prototype,"_getChannelByIdBatcher",void 0);Fl=S([D("api","HelixChannelApi")],Fl);function bM(t,e){return{broadcaster_id:C(t),only_manageable_rewards:e==null?void 0:e.toString()}}function r0(t,e){return{broadcaster_id:C(t),id:e}}function n0(t){var e,r,n;const i={title:t.title,cost:t.cost,prompt:t.prompt,background_color:t.backgroundColor,is_enabled:t.isEnabled,is_user_input_required:t.userInputRequired,should_redemptions_skip_request_queue:t.autoFulfill};return t.maxRedemptionsPerStream!==void 0&&(i.is_max_per_stream_enabled=!!t.maxRedemptionsPerStream,i.max_per_stream=(e=t.maxRedemptionsPerStream)!==null&&e!==void 0?e:0),t.maxRedemptionsPerUserPerStream!==void 0&&(i.is_max_per_user_per_stream_enabled=!!t.maxRedemptionsPerUserPerStream,i.max_per_user_per_stream=(r=t.maxRedemptionsPerUserPerStream)!==null&&r!==void 0?r:0),t.globalCooldown!==void 0&&(i.is_global_cooldown_enabled=!!t.globalCooldown,i.global_cooldown_seconds=(n=t.globalCooldown)!==null&&n!==void 0?n:0),"isPaused"in t&&(i.is_paused=t.isPaused),i}function i0(t,e,r){return{broadcaster_id:C(t),reward_id:e,id:r}}function s0(t,e,r,n){return{broadcaster_id:C(t),reward_id:e,status:r,sort:n.newestFirst?"NEWEST":"OLDEST"}}let In=class extends z{constructor(e,r){super(e),this._client=r}get id(){return this[f].id}get broadcasterId(){return this[f].broadcaster_id}get broadcasterName(){return this[f].broadcaster_login}get broadcasterDisplayName(){return this[f].broadcaster_name}async getBroadcaster(){return Y(await this._client.users.getUserById(this[f].broadcaster_id))}getImageUrl(e){var r,n;const i=`url_${e}x`;return(n=(r=this[f].image)===null||r===void 0?void 0:r[i])!==null&&n!==void 0?n:this[f].default_image[i]}get backgroundColor(){return this[f].background_color}get isEnabled(){return this[f].is_enabled}get cost(){return this[f].cost}get title(){return this[f].title}get prompt(){return this[f].prompt}get userInputRequired(){return this[f].is_user_input_required}get maxRedemptionsPerStream(){return this[f].max_per_stream_setting.is_enabled?this[f].max_per_stream_setting.max_per_stream:null}get maxRedemptionsPerUserPerStream(){return this[f].max_per_user_per_stream_setting.is_enabled?this[f].max_per_user_per_stream_setting.max_per_user_per_stream:null}get globalCooldown(){return this[f].global_cooldown_setting.is_enabled?this[f].global_cooldown_setting.global_cooldown_seconds:null}get isPaused(){return this[f].is_paused}get isInStock(){return this[f].is_in_stock}get redemptionsThisStream(){return this[f].redemptions_redeemed_current_stream}get autoFulfill(){return this[f].should_redemptions_skip_request_queue}get cooldownExpiryDate(){return this[f].cooldown_expires_at?new Date(this[f].cooldown_expires_at):null}};S([q(!1)],In.prototype,"_client",void 0);In=S([D("api","HelixCustomReward","id")],In);let kn=class extends z{constructor(e,r){super(e),this._client=r}get id(){return this[f].id}get broadcasterId(){return this[f].broadcaster_id}get broadcasterName(){return this[f].broadcaster_login}get broadcasterDisplayName(){return this[f].broadcaster_name}async getBroadcaster(){return Y(await this._client.users.getUserById(this[f].broadcaster_id))}get userId(){return this[f].user_id}get userName(){return this[f].user_login}get userDisplayName(){return this[f].user_name}async getUser(){return Y(await this._client.users.getUserById(this[f].user_id))}get userInput(){return this[f].user_input}get isFulfilled(){return this[f].status==="FULFILLED"}get isCanceled(){return this[f].status==="CANCELED"}get redemptionDate(){return new Date(this[f].redeemed_at)}get rewardId(){return this[f].reward.id}get rewardTitle(){return this[f].reward.title}get rewardPrompt(){return this[f].reward.prompt}get rewardCost(){return this[f].reward.cost}async getReward(){return Y(await this._client.channelPoints.getCustomRewardById(this[f].broadcaster_id,this[f].reward.id))}async updateStatus(e){return(await this._client.channelPoints.updateRedemptionStatusByIds(this[f].broadcaster_id,this[f].reward.id,[this[f].id],e))[0]}};S([q(!1)],kn.prototype,"_client",void 0);kn=S([D("api","HelixCustomRewardRedemption","id")],kn);let Zf=class extends xe{async getCustomRewards(e,r){return(await this._client.callApi({type:"helix",url:"channel_points/custom_rewards",userId:C(e),scopes:["channel:read:redemptions","channel:manage:redemptions"],query:bM(e,r)})).data.map(i=>new In(i,this._client))}async getCustomRewardsByIds(e,r){return r.length?(await this._client.callApi({type:"helix",url:"channel_points/custom_rewards",userId:C(e),scopes:["channel:read:redemptions","channel:manage:redemptions"],query:Ku(e,r)})).data.map(i=>new In(i,this._client)):[]}async getCustomRewardById(e,r){const n=await this.getCustomRewardsByIds(e,[r]);return n.length?n[0]:null}async createCustomReward(e,r){const n=await this._client.callApi({type:"helix",url:"channel_points/custom_rewards",method:"POST",userId:C(e),scopes:["channel:manage:redemptions"],query:ce(e),jsonBody:n0(r)});return new In(n.data[0],this._client)}async updateCustomReward(e,r,n){const i=await this._client.callApi({type:"helix",url:"channel_points/custom_rewards",method:"PATCH",userId:C(e),scopes:["channel:manage:redemptions"],query:r0(e,r),jsonBody:n0(n)});return new In(i.data[0],this._client)}async deleteCustomReward(e,r){await this._client.callApi({type:"helix",url:"channel_points/custom_rewards",method:"DELETE",userId:C(e),scopes:["channel:manage:redemptions"],query:r0(e,r)})}async getRedemptionsByIds(e,r,n){return n.length?(await this._client.callApi({type:"helix",url:"channel_points/custom_rewards/redemptions",userId:C(e),scopes:["channel:read:redemptions","channel:manage:redemptions"],query:i0(e,r,n)})).data.map(s=>new kn(s,this._client)):[]}async getRedemptionById(e,r,n){const i=await this.getRedemptionsByIds(e,r,[n]);return i.length?i[0]:null}async getRedemptionsForBroadcaster(e,r,n,i){const s=await this._client.callApi({type:"helix",url:"channel_points/custom_rewards/redemptions",userId:C(e),scopes:["channel:read:redemptions","channel:manage:redemptions"],query:{...s0(e,r,n,i),...se(i)}});return De(s,kn,this._client)}getRedemptionsForBroadcasterPaginated(e,r,n,i){return new _e({url:"channel_points/custom_rewards/redemptions",userId:C(e),scopes:["channel:read:redemptions","channel:manage:redemptions"],query:s0(e,r,n,i)},this._client,s=>new kn(s,this._client),50)}async updateRedemptionStatusByIds(e,r,n,i){return n.length?(await this._client.callApi({type:"helix",url:"channel_points/custom_rewards/redemptions",method:"PATCH",userId:C(e),scopes:["channel:manage:redemptions"],query:i0(e,r,n),jsonBody:{status:i}})).data.map(o=>new kn(o,this._client)):[]}};Zf=S([D("api","HelixChannelPointsApi")],Zf);let _o=class extends z{get value(){return this[f].value}get decimalPlaces(){return this[f].decimal_places}get localizedValue(){return this.value/10**this.decimalPlaces}get currency(){return this[f].currency}};_o=S([D("api","HelixCharityCampaignAmount")],_o);let jl=class extends z{constructor(e,r){super(e),this._client=r}get id(){return this[f].id}get broadcasterId(){return this[f].broadcaster_id}get broadcasterName(){return this[f].broadcaster_login}get broadcasterDisplayName(){return this[f].broadcaster_name}async getBroadcaster(){return Y(await this._client.users.getUserById(this[f].broadcaster_id))}get charityName(){return this[f].charity_name}get charityDescription(){return this[f].charity_description}get charityLogo(){return this[f].charity_logo}get charityWebsite(){return this[f].charity_website}get currentAmount(){return new _o(this[f].current_amount)}get targetAmount(){return new _o(this[f].target_amount)}};S([q(!1)],jl.prototype,"_client",void 0);jl=S([D("api","HelixCharityCampaign","id")],jl);let $l=class extends z{constructor(e,r){super(e),this._client=r}get campaignId(){return this[f].campaign_id}get donorId(){return this[f].user_id}get donorName(){return this[f].user_login}get donorDisplayName(){return this[f].user_name}async getDonor(){return Y(await this._client.users.getUserById(this[f].user_id))}get amount(){return new _o(this[f].amount)}};S([q(!1)],$l.prototype,"_client",void 0);$l=S([D("api","HelixCharityCampaignDonation")],$l);let ep=class extends xe{async getCharityCampaign(e){const r=await this._client.callApi({type:"helix",url:"charity/campaigns",method:"GET",userId:C(e),scopes:["channel:read:charity"],query:ce(e)});return new jl(r.data[0],this._client)}async getCharityCampaignDonations(e,r){const n=await this._client.callApi({type:"helix",url:"charity/donations",userId:C(e),scopes:["channel:read:charity"],query:{...ce(e),...se(r)}});return De(n,$l,this._client)}};ep=S([D("api","HelixCharityApi")],ep);function TM(t){return{slow_mode:t.slowModeEnabled,slow_mode_wait_time:t.slowModeDelay,follower_mode:t.followerOnlyModeEnabled,follower_mode_duration:t.followerOnlyModeDelay,subscriber_mode:t.subscriberOnlyModeEnabled,emote_mode:t.emoteOnlyModeEnabled,unique_chat_mode:t.uniqueChatModeEnabled,non_moderator_chat_delay:t.nonModeratorChatDelayEnabled,non_moderator_chat_delay_duration:t.nonModeratorChatDelay}}function EM(t,e){return{user_id:C(t),color:e}}function PM(t,e,r){return{from_broadcaster_id:C(t),to_broadcaster_id:C(e),moderator_id:r}}let wo=class extends z{get id(){return this[f].id}get name(){return this[f].name}get formats(){return this[f].format}get scales(){return this[f].scale}get themeModes(){return this[f].theme_mode}getImageUrl(e){return this[f].images[`url_${e}x`]}getStaticImageUrl(e="1.0",r="light"){return this[f].format.includes("static")&&this[f].scale.includes(e)?this.getFormattedImageUrl(e,"static",r):null}getAnimatedImageUrl(e="1.0",r="light"){return this[f].format.includes("animated")&&this[f].scale.includes(e)?this.getFormattedImageUrl(e,"animated",r):null}getFormattedImageUrl(e="1.0",r="static",n="light"){return`https://static-cdn.jtvnw.net/emoticons/v2/${this[f].id}/${r}/${n}/${e}`}};wo=S([D("api","HelixEmote","id")],wo);let ql=class extends wo{constructor(e,r){super(e),this._client=r}get tier(){return this[f].tier||null}get type(){return this[f].emote_type}get emoteSetId(){return this[f].emote_set_id}async getAllEmotesFromSet(){return await this._client.chat.getEmotesFromSets([this[f].emote_set_id])}};S([q(!1)],ql.prototype,"_client",void 0);ql=S([D("api","HelixChannelEmote","id")],ql);let tp=class extends z{get id(){return this[f].id}getImageUrl(e){return this[f][`image_url_${e}x`]}get title(){return this[f].title}get description(){return this[f].description}get clickAction(){return this[f].click_action}get clickUrl(){return this[f].click_url}};tp=S([D("api","HelixChatBadgeVersion","id")],tp);let xo=class extends z{get id(){return this[f].set_id}get versions(){return this[f].versions.map(e=>new tp(e))}getVersion(e){var r;return(r=this.versions.find(n=>n.id===e))!==null&&r!==void 0?r:null}};S([pe()],xo.prototype,"versions",null);xo=S([Zo,D("api","HelixChatBadgeSet","id")],xo);let So=class extends z{constructor(e,r){super(e),this._client=r}get userId(){return this[f].user_id}get userName(){return this[f].user_login}get userDisplayName(){return this[f].user_name}async getUser(){return Y(await this._client.users.getUserById(this[f].user_id))}};S([q(!1)],So.prototype,"_client",void 0);So=S([D("api","HelixChatChatter")],So);let Vl=class extends z{get broadcasterId(){return this[f].broadcaster_id}get slowModeEnabled(){return this[f].slow_mode}get slowModeDelay(){return this[f].slow_mode_wait_time}get followerOnlyModeEnabled(){return this[f].follower_mode}get followerOnlyModeDelay(){return this[f].follower_mode_duration}get subscriberOnlyModeEnabled(){return this[f].subscriber_mode}get emoteOnlyModeEnabled(){return this[f].emote_mode}get uniqueChatModeEnabled(){return this[f].unique_chat_mode}};Vl=S([D("api","HelixChatSettings","broadcasterId")],Vl);let Hl=class extends wo{constructor(e,r){super(e),this._client=r}get type(){return this[f].emote_type}get emoteSetId(){return this[f].emote_set_id}get ownerId(){switch(this[f].owner_id){case"0":case"twitch":return null;default:return this[f].owner_id}}async getOwner(){switch(this[f].owner_id){case"0":case"twitch":return null;default:return await this._client.users.getUserById(this[f].owner_id)}}};S([q(!1)],Hl.prototype,"_client",void 0);Hl=S([D("api","HelixEmoteFromSet","id")],Hl);let zl=class extends Vl{get nonModeratorChatDelayEnabled(){return this[f].non_moderator_chat_delay}get nonModeratorChatDelay(){return this[f].non_moderator_chat_delay_duration}};zl=S([D("api","HelixPrivilegedChatSettings","broadcasterId")],zl);let rp=class extends xe{async getChatters(e,r){const n=C(e),i=await this._client.callApi({type:"helix",url:"chat/chatters",userId:n,canOverrideScopedUserContext:!0,scopes:["moderator:read:chatters"],query:{...this._createModeratorActionQuery(n),...se(r)}});return Gr(i,So,this._client)}getChattersPaginated(e){const r=C(e);return new Qn({url:"chat/chatters",userId:r,canOverrideScopedUserContext:!0,scopes:["moderator:read:chatters"],query:this._createModeratorActionQuery(r)},this._client,n=>new So(n,this._client))}async getGlobalBadges(){return(await this._client.callApi({type:"helix",url:"chat/badges/global"})).data.map(r=>new xo(r))}async getChannelBadges(e){return(await this._client.callApi({type:"helix",url:"chat/badges",userId:C(e),query:ce(e)})).data.map(n=>new xo(n))}async getGlobalEmotes(){return(await this._client.callApi({type:"helix",url:"chat/emotes/global"})).data.map(r=>new wo(r))}async getChannelEmotes(e){return(await this._client.callApi({type:"helix",url:"chat/emotes",userId:C(e),query:ce(e)})).data.map(n=>new ql(n,this._client))}async getEmotesFromSets(e){return(await this._client.callApi({type:"helix",url:"chat/emotes/set",query:Me("emote_set_id",e)})).data.map(n=>new Hl(n,this._client))}async getSettings(e){const r=await this._client.callApi({type:"helix",url:"chat/settings",userId:C(e),query:ce(e)});return new Vl(r.data[0])}async getSettingsPrivileged(e){const r=C(e),n=await this._client.callApi({type:"helix",url:"chat/settings",userId:r,canOverrideScopedUserContext:!0,scopes:["moderator:read:chat_settings"],query:this._createModeratorActionQuery(r)});return new zl(n.data[0])}async updateSettings(e,r){const n=C(e),i=await this._client.callApi({type:"helix",url:"chat/settings",method:"PATCH",userId:n,canOverrideScopedUserContext:!0,scopes:["moderator:manage:chat_settings"],query:this._createModeratorActionQuery(n),jsonBody:TM(r)});return new zl(i.data[0])}async sendAnnouncement(e,r){const n=C(e);await this._client.callApi({type:"helix",url:"chat/announcements",method:"POST",userId:n,canOverrideScopedUserContext:!0,scopes:["moderator:manage:announcements"],query:this._createModeratorActionQuery(n),jsonBody:{message:r.message,color:r.color}})}async getColorsForUsers(e){const r=await this._client.callApi({type:"helix",url:"chat/color",query:Me("user_id",e.map(C))});return new Map(r.data.map(n=>[n.user_id,n.color||null]))}async getColorForUser(e){const r=await this._client.callApi({type:"helix",url:"chat/color",userId:C(e),query:Me("user_id",C(e))});if(r.data.length)return r.data[0].color||null}async setColorForUser(e,r){await this._client.callApi({type:"helix",url:"chat/color",method:"PUT",userId:C(e),scopes:["user:manage:chat_color"],query:EM(e,r)})}async shoutoutUser(e,r){const n=C(e);await this._client.callApi({type:"helix",url:"chat/shoutouts",method:"POST",userId:n,canOverrideScopedUserContext:!0,scopes:["moderator:manage:shoutouts"],query:PM(e,r,this._getUserContextIdWithDefault(n))})}_createModeratorActionQuery(e){return a1(e,this._getUserContextIdWithDefault(e))}};rp=S([D("api","HelixChatApi")],rp);function AM(t,e){return{broadcaster_id:C(t),has_delay:e.toString()}}function o0(t){const{filterType:e,ids:r,startDate:n,endDate:i}=t;return{[e]:r,started_at:n,ended_at:i}}let Bi=class extends z{constructor(e,r){super(e),this._client=r}get id(){return this[f].id}get url(){return this[f].url}get embedUrl(){return this[f].embed_url}get broadcasterId(){return this[f].broadcaster_id}get broadcasterDisplayName(){return this[f].broadcaster_name}async getBroadcaster(){return Y(await this._client.users.getUserById(this[f].broadcaster_id))}get creatorId(){return this[f].creator_id}get creatorDisplayName(){return this[f].creator_name}async getCreator(){return Y(await this._client.users.getUserById(this[f].creator_id))}get videoId(){return this[f].video_id}async getVideo(){return Y(await this._client.videos.getVideoById(this[f].video_id))}get gameId(){return this[f].game_id}async getGame(){return this[f].game_id?Y(await this._client.games.getGameById(this[f].game_id)):null}get language(){return this[f].language}get title(){return this[f].title}get views(){return this[f].view_count}get creationDate(){return new Date(this[f].created_at)}get thumbnailUrl(){return this[f].thumbnail_url}get duration(){return this[f].duration}get vodOffset(){return this[f].vod_offset}};S([q(!1)],Bi.prototype,"_client",void 0);Bi=S([D("api","HelixClip","id")],Bi);let Gl=class extends xe{constructor(){super(...arguments),this._getClipByIdBatcher=new At({url:"clips"},"id","id",this._client,e=>new Bi(e,this._client))}async getClipsForBroadcaster(e,r={}){return await this._getClips({...r,filterType:"broadcaster_id",ids:C(e),userId:C(e)})}getClipsForBroadcasterPaginated(e,r={}){return this._getClipsPaginated({...r,filterType:"broadcaster_id",ids:C(e),userId:C(e)})}async getClipsForGame(e,r={}){return await this._getClips({...r,filterType:"game_id",ids:e})}getClipsForGamePaginated(e,r={}){return this._getClipsPaginated({...r,filterType:"game_id",ids:e})}async getClipsByIds(e){return(await this._getClips({filterType:"id",ids:e})).data}async getClipById(e){const r=await this.getClipsByIds([e]);return r.length?r[0]:null}async getClipByIdBatched(e){return await this._getClipByIdBatcher.request(e)}async createClip(e){const{channel:r,createAfterDelay:n=!1}=e;return(await this._client.callApi({type:"helix",url:"clips",method:"POST",userId:C(r),scopes:["clips:edit"],canOverrideScopedUserContext:!0,query:AM(r,n)})).data[0].id}async _getClips(e){if(!e.ids.length)return{data:[]};const r=await this._client.callApi({type:"helix",url:"clips",userId:e.userId,query:{...o0(e),...se(e)}});return De(r,Bi,this._client)}_getClipsPaginated(e){return new _e({url:"clips",userId:e.userId,query:o0(e)},this._client,r=>new Bi(r,this._client))}};S([q(!1)],Gl.prototype,"_getClipByIdBatcher",void 0);Gl=S([D("api","HelixClipApi")],Gl);function a0(t,e){return{user_id:e?rr(t.user,C):void 0,game_id:t.gameId,fulfillment_status:t.fulfillmentStatus}}function IM(t,e){return{fulfillment_status:e,entitlement_ids:t}}let Rn=class extends z{constructor(e,r){super(e),this._client=r}get id(){return this[f].id}get rewardId(){return this[f].benefit_id}get grantDate(){return new Date(this[f].timestamp)}get userId(){return this[f].user_id}async getUser(){return Y(await this._client.users.getUserById(this[f].user_id))}get gameId(){return this[f].game_id}async getGame(){return Y(await this._client.games.getGameById(this[f].game_id))}get fulfillmentStatus(){return this[f].fulfillment_status}get updateDate(){return new Date(this[f].last_updated)}};S([q(!1)],Rn.prototype,"_client",void 0);Rn=S([D("api","HelixDropsEntitlement")],Rn);let Wl=class extends xe{constructor(){super(...arguments),this._getDropsEntitlementByIdBatcher=new At({url:"entitlements/drops"},"id","id",this._client,e=>new Rn(e,this._client))}async getDropsEntitlements(e,r=!1){const n=await this._client.callApi({type:"helix",url:"entitlements/drops",userId:rr(e.user,C),forceType:e.user&&r?"app":void 0,query:{...a0(e,r),...se(e)}});return De(n,Rn,this._client)}getDropsEntitlementsPaginated(e,r=!1){return new _e({url:"entitlements/drops",userId:rr(e.user,C),forceType:e.user&&r?"app":void 0,query:a0(e,r)},this._client,n=>new Rn(n,this._client))}async getDropsEntitlementsByIds(e){return(await this._client.callApi({type:"helix",url:"entitlements/drops",query:{id:e}})).data.map(n=>new Rn(n,this._client))}async getDropsEntitlementById(e){var r;return(r=(await this.getDropsEntitlementsByIds([e]))[0])!==null&&r!==void 0?r:null}async getDropsEntitlementByIdBatched(e){return await this._getDropsEntitlementByIdBatcher.request(e)}async updateDropsEntitlements(e,r){const n=await this._client.callApi({type:"helix",url:"entitlements/drops",method:"PATCH",jsonBody:IM(e,r)});return new Map(n.data.flatMap(i=>i.ids.map(s=>[s,i.status])))}};S([q(!1)],Wl.prototype,"_getDropsEntitlementByIdBatcher",void 0);Wl=S([D("api","HelixEntitlementApi")],Wl);function te(t){return{broadcaster_user_id:C(t)}}function Ra(t,e){return{broadcaster_user_id:C(t),reward_id:e}}function Ss(t,e){return{broadcaster_user_id:t,moderator_user_id:e}}function kM(t){return{organization_id:t.organizationId,category_id:t.categoryId,campaign_id:t.campaignId}}let cr=class extends z{constructor(e,r){super(e),this._client=r}get id(){return this[f].id}get status(){return this[f].status}get type(){return this[f].type}get cost(){return this[f].cost}get condition(){return this[f].condition}get creationDate(){return new Date(this[f].created_at)}async unsubscribe(){await this._client.eventSub.deleteSubscription(this[f].id)}get _transport(){return this[f].transport}set _status(e){this[f].status=e}};S([q(!1)],cr.prototype,"_client",void 0);cr=S([D("api","HelixEventSubSubscription","id")],cr);let xi=class extends Qn{constructor(e,r,n){super({url:"eventsub/subscriptions",userId:r,query:e},n,i=>new cr(i,n))}async getTotalCost(){var e;return((e=this._currentData)!==null&&e!==void 0?e:await this._fetchData({query:{after:void 0}})).total_cost}async getMaxTotalCost(){var e;return((e=this._currentData)!==null&&e!==void 0?e:await this._fetchData({query:{after:void 0}})).max_total_cost}};xi=S([D("api","HelixPaginatedEventSubSubscriptionsRequest")],xi);let np=class extends xe{async getSubscriptions(e){const r=await this._client.callApi({type:"helix",url:"eventsub/subscriptions",query:se(e)});return{...Gr(r,cr,this._client),totalCost:r.total_cost,maxTotalCost:r.max_total_cost}}getSubscriptionsPaginated(){return new xi({},void 0,this._client)}async getSubscriptionsForStatus(e,r){const n=await this._client.callApi({type:"helix",url:"eventsub/subscriptions",query:{...se(r),status:e}});return{...Gr(n,cr,this._client),totalCost:n.total_cost,maxTotalCost:n.max_total_cost}}getSubscriptionsForStatusPaginated(e){return new xi({status:e},void 0,this._client)}async getSubscriptionsForType(e,r){const n=await this._client.callApi({type:"helix",url:"eventsub/subscriptions",query:{...se(r),type:e}});return{...Gr(n,cr,this._client),totalCost:n.total_cost,maxTotalCost:n.max_total_cost}}getSubscriptionsForTypePaginated(e){return new xi({type:e},void 0,this._client)}async getSubscriptionsForUser(e,r){const n=await this._client.callApi({type:"helix",url:"eventsub/subscriptions",userId:C(e),query:{...Me("user_id",C(e)),...se(r)}});return{...Gr(n,cr,this._client),totalCost:n.total_cost,maxTotalCost:n.max_total_cost}}getSubscriptionsForUserPaginated(e){const r=C(e);return new xi(Me("user_id",r),r,this._client)}async createSubscription(e,r,n,i,s,o,a,l){const u=i.method==="webhook",c=u?void 0:o;if(!u&&!s)throw new Error(`Transport ${i.method} can only handle subscriptions with user context`);const h={type:e,version:r,condition:n,transport:i};l&&(h.is_batching_enabled=!0);const d=await this._client.callApi({type:"helix",url:"eventsub/subscriptions",method:"POST",scopes:c,userId:rr(s,C),forceType:u?"app":"user",jsonBody:h});return new cr(d.data[0],this._client)}async deleteSubscription(e){await this._client.callApi({type:"helix",url:"eventsub/subscriptions",method:"DELETE",query:{id:e}})}async deleteAllSubscriptions(){await this._deleteSubscriptionsWithCondition()}async deleteBrokenSubscriptions(){await this._deleteSubscriptionsWithCondition(e=>e.status!=="enabled"&&e.status!=="webhook_callback_verification_pending")}async subscribeToStreamOnlineEvents(e,r){return await this.createSubscription("stream.online","1",te(e),r,e)}async subscribeToStreamOfflineEvents(e,r){return await this.createSubscription("stream.offline","1",te(e),r,e)}async subscribeToChannelUpdateEvents(e,r){return await this.createSubscription("channel.update","1",te(e),r,e)}async subscribeToChannelFollowEvents(e,r){const n=C(e);return await this.createSubscription("channel.follow","2",Ss(n,this._getUserContextIdWithDefault(n)),r,n,["moderator:read:followers"],!0)}async subscribeToChannelSubscriptionEvents(e,r){return await this.createSubscription("channel.subscribe","1",te(e),r,e,["channel:read:subscriptions"])}async subscribeToChannelSubscriptionGiftEvents(e,r){return await this.createSubscription("channel.subscription.gift","1",te(e),r,e,["channel:read:subscriptions"])}async subscribeToChannelSubscriptionMessageEvents(e,r){return await this.createSubscription("channel.subscription.message","1",te(e),r,e,["channel:read:subscriptions"])}async subscribeToChannelSubscriptionEndEvents(e,r){return await this.createSubscription("channel.subscription.end","1",te(e),r,e,["channel:read:subscriptions"])}async subscribeToChannelCheerEvents(e,r){return await this.createSubscription("channel.cheer","1",te(e),r,e,["bits:read"])}async subscribeToChannelCharityCampaignStartEvents(e,r){return await this.createSubscription("channel.charity_campaign.start","1",te(e),r,e,["channel:read:charity"])}async subscribeToChannelCharityCampaignStopEvents(e,r){return await this.createSubscription("channel.charity_campaign.stop","1",te(e),r,e,["channel:read:charity"])}async subscribeToChannelCharityDonationEvents(e,r){return await this.createSubscription("channel.charity_campaign.donate","1",te(e),r,e,["channel:read:charity"])}async subscribeToChannelCharityCampaignProgressEvents(e,r){return await this.createSubscription("channel.charity_campaign.progress","1",te(e),r,e,["channel:read:charity"])}async subscribeToChannelBanEvents(e,r){return await this.createSubscription("channel.ban","1",te(e),r,e,["channel:moderate"])}async subscribeToChannelUnbanEvents(e,r){return await this.createSubscription("channel.unban","1",te(e),r,e,["channel:moderate"])}async subscribeToChannelShieldModeBeginEvents(e,r){const n=C(e);return await this.createSubscription("channel.shield_mode.begin","1",Ss(n,this._getUserContextIdWithDefault(n)),r,n,["moderator:read:shield_mode","moderator:manage:shield_mode"],!0)}async subscribeToChannelShieldModeEndEvents(e,r){const n=C(e);return await this.createSubscription("channel.shield_mode.end","1",Ss(n,this._getUserContextIdWithDefault(n)),r,n,["moderator:read:shield_mode","moderator:manage:shield_mode"],!0)}async subscribeToChannelModeratorAddEvents(e,r){return await this.createSubscription("channel.moderator.add","1",te(e),r,e,["moderation:read"])}async subscribeToChannelModeratorRemoveEvents(e,r){return await this.createSubscription("channel.moderator.remove","1",te(e),r,e,["moderation:read"])}async subscribeToChannelRaidEventsFrom(e,r){return await this.createSubscription("channel.raid","1",Me("from_broadcaster_user_id",C(e)),r,e)}async subscribeToChannelRaidEventsTo(e,r){return await this.createSubscription("channel.raid","1",Me("to_broadcaster_user_id",C(e)),r,e)}async subscribeToChannelRewardAddEvents(e,r){return await this.createSubscription("channel.channel_points_custom_reward.add","1",te(e),r,e,["channel:read:redemptions","channel:manage:redemptions"])}async subscribeToChannelRewardUpdateEvents(e,r){return await this.createSubscription("channel.channel_points_custom_reward.update","1",te(e),r,e,["channel:read:redemptions","channel:manage:redemptions"])}async subscribeToChannelRewardUpdateEventsForReward(e,r,n){return await this.createSubscription("channel.channel_points_custom_reward.update","1",Ra(e,r),n,e,["channel:read:redemptions","channel:manage:redemptions"])}async subscribeToChannelRewardRemoveEvents(e,r){return await this.createSubscription("channel.channel_points_custom_reward.remove","1",te(e),r,e,["channel:read:redemptions","channel:manage:redemptions"])}async subscribeToChannelRewardRemoveEventsForReward(e,r,n){return await this.createSubscription("channel.channel_points_custom_reward.remove","1",Ra(e,r),n,e,["channel:read:redemptions","channel:manage:redemptions"])}async subscribeToChannelRedemptionAddEvents(e,r){return await this.createSubscription("channel.channel_points_custom_reward_redemption.add","1",te(e),r,e,["channel:read:redemptions","channel:manage:redemptions"])}async subscribeToChannelRedemptionAddEventsForReward(e,r,n){return await this.createSubscription("channel.channel_points_custom_reward_redemption.add","1",Ra(e,r),n,e,["channel:read:redemptions","channel:manage:redemptions"])}async subscribeToChannelRedemptionUpdateEvents(e,r){return await this.createSubscription("channel.channel_points_custom_reward_redemption.update","1",te(e),r,e,["channel:read:redemptions","channel:manage:redemptions"])}async subscribeToChannelRedemptionUpdateEventsForReward(e,r,n){return await this.createSubscription("channel.channel_points_custom_reward_redemption.update","1",Ra(e,r),n,e,["channel:read:redemptions","channel:manage:redemptions"])}async subscribeToChannelPollBeginEvents(e,r){return await this.createSubscription("channel.poll.begin","1",te(e),r,e,["channel:read:polls","channel:manage:polls"])}async subscribeToChannelPollProgressEvents(e,r){return await this.createSubscription("channel.poll.progress","1",te(e),r,e,["channel:read:polls","channel:manage:polls"])}async subscribeToChannelPollEndEvents(e,r){return await this.createSubscription("channel.poll.end","1",te(e),r,e,["channel:read:polls","channel:manage:polls"])}async subscribeToChannelPredictionBeginEvents(e,r){return await this.createSubscription("channel.prediction.begin","1",te(e),r,e,["channel:read:predictions","channel:manage:predictions"])}async subscribeToChannelPredictionProgressEvents(e,r){return await this.createSubscription("channel.prediction.progress","1",te(e),r,e,["channel:read:predictions","channel:manage:predictions"])}async subscribeToChannelPredictionLockEvents(e,r){return await this.createSubscription("channel.prediction.lock","1",te(e),r,e,["channel:read:predictions","channel:manage:predictions"])}async subscribeToChannelPredictionEndEvents(e,r){return await this.createSubscription("channel.prediction.end","1",te(e),r,e,["channel:read:predictions","channel:manage:predictions"])}async subscribeToChannelGoalBeginEvents(e,r){return await this.createSubscription("channel.goal.begin","1",te(e),r,e,["channel:read:goals"])}async subscribeToChannelGoalProgressEvents(e,r){return await this.createSubscription("channel.goal.progress","1",te(e),r,e,["channel:read:goals"])}async subscribeToChannelGoalEndEvents(e,r){return await this.createSubscription("channel.goal.end","1",te(e),r,e,["channel:read:goals"])}async subscribeToChannelHypeTrainBeginEvents(e,r){return await this.createSubscription("channel.hype_train.begin","1",te(e),r,e,["channel:read:hype_train"])}async subscribeToChannelHypeTrainProgressEvents(e,r){return await this.createSubscription("channel.hype_train.progress","1",te(e),r,e,["channel:read:hype_train"])}async subscribeToChannelHypeTrainEndEvents(e,r){return await this.createSubscription("channel.hype_train.end","1",te(e),r,e,["channel:read:hype_train"])}async subscribeToChannelShoutoutCreateEvents(e,r){const n=C(e);return await this.createSubscription("channel.shoutout.create","1",Ss(n,this._getUserContextIdWithDefault(n)),r,n,["moderator:read:shoutouts","moderator:manage:shoutouts"],!0)}async subscribeToChannelShoutoutReceiveEvents(e,r){const n=C(e);return await this.createSubscription("channel.shoutout.receive","1",Ss(n,this._getUserContextIdWithDefault(n)),r,n,["moderator:read:shoutouts","moderator:manage:shoutouts"],!0)}async subscribeToExtensionBitsTransactionCreateEvents(e,r){return await this.createSubscription("extension.bits_transaction.create","1",Me("extension_client_id",e),r)}async subscribeToUserAuthorizationGrantEvents(e,r){return await this.createSubscription("user.authorization.grant","1",Me("client_id",e),r)}async subscribeToUserAuthorizationRevokeEvents(e,r){return await this.createSubscription("user.authorization.revoke","1",Me("client_id",e),r)}async subscribeToUserUpdateEvents(e,r,n){return await this.createSubscription("user.update","1",Me("user_id",C(e)),r,e,n?["user:read:email"]:void 0)}async subscribeToDropEntitlementGrantEvents(e,r){return await this.createSubscription("drop.entitlement.grant","1",kM(e),r,void 0,void 0,!1,!0)}async _deleteSubscriptionsWithCondition(e){const r=this.getSubscriptionsPaginated();for await(const n of r)(!e||e(n))&&await n.unsubscribe()}};np=S([D("api","HelixEventSubApi")],np);function RM(t,e){return{extension_id:t,extension_version:e}}function MM(t){return{sku:t.sku,cost:{amount:t.cost,type:"bits"},display_name:t.displayName,in_development:t.inDevelopment,expiration:t.expirationDate,is_broadcast:t.broadcast}}function l0(t,e){return{extension_id:t,id:e.transactionIds}}let Co=class extends z{constructor(e,r){super(e),this._client=r}get id(){return this[f].broadcaster_id}get displayName(){return this[f].broadcaster_name}async getChannel(){return Y(await this._client.channels.getChannelInfoById(this[f].broadcaster_id))}async getBroadcaster(){return Y(await this._client.users.getUserById(this[f].broadcaster_id))}get gameId(){return this[f].game_id}get gameName(){return this[f].game_name}async getGame(){return this[f].game_id?Y(await this._client.games.getGameById(this[f].game_id)):null}get title(){return this[f].title}};S([q(!1)],Co.prototype,"_client",void 0);Co=S([D("api","HelixChannelReference","id")],Co);let Ql=class extends z{get sku(){return this[f].sku}get cost(){return this[f].cost.amount}get displayName(){return this[f].display_name}get inDevelopment(){return this[f].in_development}get isBroadcast(){return this[f].is_broadcast}get expirationDate(){return nr(this[f].expiration,e=>new Date(e))}};Ql=S([D("api","HelixExtensionBitsProduct","sku")],Ql);let bo=class extends z{constructor(e,r){super(e),this._client=r}get id(){return this[f].id}get transactionDate(){return new Date(this[f].timestamp)}get broadcasterId(){return this[f].broadcaster_id}get broadcasterName(){return this[f].broadcaster_name}get broadcasterDisplayName(){return this[f].broadcaster_name}async getBroadcaster(){return Y(await this._client.users.getUserById(this[f].broadcaster_id))}get userId(){return this[f].user_id}get userName(){return this[f].user_login}get userDisplayName(){return this[f].user_name}async getUser(){return Y(await this._client.users.getUserById(this[f].user_id))}get productType(){return this[f].product_type}get productSku(){return this[f].product_data.sku}get productCost(){return this[f].product_data.cost.amount}get productDisplayName(){return this[f].product_data.displayName}get productInDevelopment(){return this[f].product_data.inDevelopment}};S([q(!1)],bo.prototype,"_client",void 0);bo=S([D("api","HelixExtensionTransaction","id")],bo);let ip=class extends xe{async getReleasedExtension(e,r){const n=await this._client.callApi({type:"helix",url:"extensions/released",query:RM(e,r)});return new zf(n.data[0])}async getLiveChannelsWithExtension(e,r){const n=await this._client.callApi({type:"helix",url:"extensions/live",query:{...Me("extension_id",e),...se(r)}});return De(n,Co,this._client)}getLiveChannelsWithExtensionPaginated(e){return new _e({url:"extensions/live",query:Me("extension_id",e)},this._client,r=>new Co(r,this._client))}async getExtensionBitsProducts(e){return(await this._client.callApi({type:"helix",url:"bits/extensions",forceType:"app",query:Me("should_include_all",e==null?void 0:e.toString())})).data.map(n=>new Ql(n))}async putExtensionBitsProduct(e){const r=await this._client.callApi({type:"helix",url:"bits/extensions",method:"PUT",forceType:"app",jsonBody:MM(e)});return new Ql(r.data[0])}async getExtensionTransactions(e,r={}){const n=await this._client.callApi({type:"helix",url:"extensions/transactions",forceType:"app",query:{...l0(e,r),...se(r)}});return De(n,bo,this._client)}getExtensionTransactionsPaginated(e,r={}){return new _e({url:"extensions/transactions",forceType:"app",query:l0(e,r)},this._client,n=>new bo(n,this._client))}};ip=S([D("api","HelixExtensionsApi")],ip);let Ft=class extends z{constructor(e,r){super(e),this._client=r}get id(){return this[f].id}get name(){return this[f].name}get boxArtUrl(){return this[f].box_art_url}get igdbId(){return this[f].igdb_id||null}getBoxArtUrl(e,r){return this[f].box_art_url.replace("{width}",e.toString()).replace("{height}",r.toString())}async getStreams(e){return await this._client.streams.getStreams({...e,game:this[f].id})}getStreamsPaginated(){return this._client.streams.getStreamsPaginated({game:this[f].id})}};S([q(!1)],Ft.prototype,"_client",void 0);Ft=S([D("api","HelixGame","id")],Ft);let Qi=class extends xe{constructor(){super(...arguments),this._getGameByIdBatcher=new At({url:"games"},"id","id",this._client,e=>new Ft(e,this._client)),this._getGameByNameBatcher=new At({url:"games"},"name","name",this._client,e=>new Ft(e,this._client)),this._getGameByIgdbIdBatcher=new At({url:"games"},"igdb_id","igdb_id",this._client,e=>new Ft(e,this._client))}async getGamesByIds(e){return await this._getGames("id",e)}async getGamesByNames(e){return await this._getGames("name",e)}async getGamesByIgdbIds(e){return await this._getGames("igdb_id",e)}async getGameById(e){var r;return(r=(await this._getGames("id",[e]))[0])!==null&&r!==void 0?r:null}async getGameByName(e){var r;return(r=(await this._getGames("name",[e]))[0])!==null&&r!==void 0?r:null}async getGameByIgdbId(e){var r;return(r=(await this._getGames("igdb_id",[e]))[0])!==null&&r!==void 0?r:null}async getGameByIdBatched(e){return await this._getGameByIdBatcher.request(e)}async getGameByNameBatched(e){return await this._getGameByNameBatcher.request(e)}async getGameByIgdbIdBatched(e){return await this._getGameByIgdbIdBatcher.request(e)}async getTopGames(e){const r=await this._client.callApi({type:"helix",url:"games/top",query:se(e)});return De(r,Ft,this._client)}getTopGamesPaginated(){return new _e({url:"games/top"},this._client,e=>new Ft(e,this._client))}async _getGames(e,r){return r.length?(await this._client.callApi({type:"helix",url:"games",query:{[e]:r}})).data.map(i=>new Ft(i,this._client)):[]}};S([q(!1)],Qi.prototype,"_getGameByIdBatcher",void 0);S([q(!1)],Qi.prototype,"_getGameByNameBatcher",void 0);S([q(!1)],Qi.prototype,"_getGameByIgdbIdBatcher",void 0);Qi=S([D("api","HelixGameApi")],Qi);let Kl=class extends z{constructor(e,r){super(e),this._client=r}get id(){return this[f].id}get broadcasterId(){return this[f].broadcaster_id}get broadcasterDisplayName(){return this[f].broadcaster_name}get broadcasterName(){return this[f].broadcaster_login}async getBroadcaster(){return Y(await this._client.users.getUserById(this[f].broadcaster_id))}get type(){return this[f].type}get description(){return this[f].description}get currentAmount(){return this[f].current_amount}get targetAmount(){return this[f].target_amount}get creationDate(){return this[f].created_at}};S([q(!1)],Kl.prototype,"_client",void 0);Kl=S([D("api","HelixGoal","id")],Kl);let sp=class extends xe{async getGoals(e){return(await this._client.callApi({type:"helix",url:"goals",userId:C(e),scopes:["channel:read:goals"],query:ce(e)})).data.map(n=>new Kl(n,this._client))}};sp=S([D("api","HelixGoalApi")],sp);let To=class extends z{constructor(e,r){super(e),this._client=r}get userId(){return this[f].user}async getUser(){return Y(await this._client.users.getUserById(this[f].user))}get type(){return this[f].type}get total(){return this[f].total}};S([q(!1)],To.prototype,"_client",void 0);To=S([D("api","HelixHypeTrainContribution","userId")],To);let Eo=class extends z{constructor(e,r){super(e),this._client=r}get eventId(){return this[f].id}get eventType(){return this[f].event_type}get eventDate(){return new Date(this[f].event_timestamp)}get eventVersion(){return this[f].version}get id(){return this[f].event_data.id}get broadcasterId(){return this[f].event_data.broadcaster_id}async getBroadcaster(){return Y(await this._client.users.getUserById(this[f].event_data.broadcaster_id))}get level(){return this[f].event_data.level}get startDate(){return new Date(this[f].event_data.started_at)}get expiryDate(){return new Date(this[f].event_data.expires_at)}get cooldownDate(){return new Date(this[f].event_data.cooldown_end_time)}get total(){return this[f].event_data.total}get goal(){return this[f].event_data.goal}get lastContribution(){return new To(this[f].event_data.last_contribution,this._client)}get topContributions(){return this[f].event_data.top_contributions.map(e=>new To(e,this._client))}};S([q(!1)],Eo.prototype,"_client",void 0);Eo=S([D("api","HelixHypeTrainEvent","id")],Eo);class OM extends xe{async getHypeTrainEventsForBroadcaster(e,r){const n=await this._client.callApi({type:"helix",url:"hypetrain/events",userId:C(e),scopes:["channel:read:hype_train"],query:{...ce(e),...se(r)}});return De(n,Eo,this._client)}getHypeTrainEventsForBroadcasterPaginated(e){return new _e({url:"hypetrain/events",userId:C(e),scopes:["channel:read:hype_train"],query:ce(e)},this._client,r=>new Eo(r,this._client))}}function u0(t,e){return{broadcaster_id:C(t),user_id:e==null?void 0:e.userId}}function c0(t,e){return{broadcaster_id:C(t),user_id:C(e)}}function DM(t,e,r){return{user_id:C(t),msg_id:e,action:r?"ALLOW":"DENY"}}function NM(t){return{overall_level:t.overallLevel,aggression:t.aggression,bullying:t.bullying,disability:t.disability,misogyny:t.misogyny,race_ethnicity_or_religion:t.raceEthnicityOrReligion,sex_based_terms:t.sexBasedTerms,sexuality_sex_or_gender:t.sexualitySexOrGender,swearing:t.swearing}}function BM(t){return{data:{duration:t.duration,reason:t.reason,user_id:C(t.user)}}}function LM(t){return{is_active:t}}let Yl=class extends z{get broadcasterId(){return this[f].broadcaster_id}get moderatorId(){return this[f].moderator_id}get overallLevel(){return this[f].overall_level?this[f].overall_level:null}get disability(){return this[f].disability}get aggression(){return this[f].aggression}get sexualitySexOrGender(){return this[f].sexuality_sex_or_gender}get misogyny(){return this[f].misogyny}get bullying(){return this[f].bullying}get swearing(){return this[f].swearing}get raceEthnicityOrReligion(){return this[f].race_ethnicity_or_religion}get sexBasedTerms(){return this[f].sex_based_terms}};Yl=S([D("api","HelixAutoModSettings","broadcasterId")],Yl);let op=class extends z{get messageId(){return this[f].msg_id}get isPermitted(){return this[f].is_permitted}};op=S([D("api","HelixAutoModStatus","messageId")],op);let Ki=class extends z{constructor(e,r,n){super(e),this._expiryTimestamp=r,this._client=n}get creationDate(){return new Date(this[f].created_at)}get expiryDate(){return nr(this._expiryTimestamp,e=>new Date(e))}get moderatorId(){return this[f].moderator_id}async getModerator(){return Y(await this._client.users.getUserById(this[f].moderator_id))}get userId(){return this[f].user_id}async getUser(){return Y(await this._client.users.getUserById(this[f].user_id))}};S([q(!1)],Ki.prototype,"_client",void 0);S([q(!1)],Ki.prototype,"_expiryTimestamp",void 0);Ki=S([D("api","HelixBanUser","userId")],Ki);let Jl=class extends Ki{constructor(e,r){super(e,e.expires_at||null,r)}get userName(){return this[f].user_login}get userDisplayName(){return this[f].user_name}get moderatorName(){return this[f].moderator_login}get moderatorDisplayName(){return this[f].moderator_name}get reason(){return this[f].reason||null}};Jl=S([D("api","HelixBan","userId")],Jl);let Xl=class extends z{get broadcasterId(){return this[f].broadcaster_id}get creationDate(){return new Date(this[f].created_at)}get expirationDate(){return this[f].expires_at?new Date(this[f].expires_at):null}get id(){return this[f].id}get moderatorId(){return this[f].moderator_id}get text(){return this[f].text}get updatedDate(){return new Date(this[f].updated_at)}};Xl=S([D("api","HelixBlockedTerm","id")],Xl);let Po=class extends z{constructor(e,r){super(e),this._client=r}get userId(){return this[f].user_id}get userName(){return this[f].user_login}get userDisplayName(){return this[f].user_name}async getUser(){return Y(await this._client.users.getUserById(this[f].user_id))}};S([q(!1)],Po.prototype,"_client",void 0);Po=S([D("api","HelixModerator","userId")],Po);let Ao=class extends z{constructor(e,r){super(e),this._client=r}get isActive(){return this[f].is_active}get moderatorId(){return this[f].moderator_id}get moderatorName(){return this[f].moderator_login}get moderatorDisplayName(){return this[f].moderator_name}async getModerator(){return Y(await this._client.users.getUserById(this[f].moderator_id))}get lastActivationDate(){return this[f].last_activated_at===""?null:new Date(this[f].last_activated_at)}};S([q(!1)],Ao.prototype,"_client",void 0);Ao=S([D("api","HelixShieldModeStatus")],Ao);let ap=class extends xe{async getBannedUsers(e,r){const n=await this._client.callApi({type:"helix",url:"moderation/banned",userId:C(e),scopes:["moderation:read"],query:{...u0(e,r),...se(r)}});return De(n,Jl,this._client)}getBannedUsersPaginated(e){return new _e({url:"moderation/banned",userId:C(e),scopes:["moderation:read"],query:ce(e)},this._client,r=>new Jl(r,this._client),50)}async checkUserBan(e,r){const n=C(r);return(await this.getBannedUsers(e,{userId:n})).data.some(s=>s.userId===n)}async getModerators(e,r){const n=await this._client.callApi({type:"helix",url:"moderation/moderators",userId:C(e),scopes:["moderation:read","channel:manage:moderators"],query:{...u0(e,r),...se(r)}});return De(n,Po,this._client)}getModeratorsPaginated(e){return new _e({url:"moderation/moderators",userId:C(e),scopes:["moderation:read","channel:manage:moderators"],query:ce(e)},this._client,r=>new Po(r,this._client))}async checkUserMod(e,r){const n=C(r);return(await this.getModerators(e,{userId:n})).data.some(s=>s.userId===n)}async addModerator(e,r){await this._client.callApi({type:"helix",url:"moderation/moderators",method:"POST",userId:C(e),scopes:["channel:manage:moderators"],query:c0(e,r)})}async removeModerator(e,r){await this._client.callApi({type:"helix",url:"moderation/moderators",method:"DELETE",userId:C(e),scopes:["channel:manage:moderators"],query:c0(e,r)})}async checkAutoModStatus(e,r){return(await this._client.callApi({type:"helix",url:"moderation/enforcements/status",method:"POST",userId:C(e),scopes:["moderation:read"],query:ce(e),jsonBody:{data:r}})).data.map(i=>new op(i))}async processHeldAutoModMessage(e,r,n){await this._client.callApi({type:"helix",url:"moderation/automod/message",method:"POST",userId:C(e),scopes:["moderator:manage:automod"],jsonBody:DM(e,r,n)})}async getAutoModSettings(e){const r=C(e);return(await this._client.callApi({type:"helix",url:"moderation/automod/settings",userId:r,scopes:["moderator:read:automod_settings"],canOverrideScopedUserContext:!0,query:this._createModeratorActionQuery(r)})).data.map(i=>new Yl(i))}async updateAutoModSettings(e,r){const n=C(e);return(await this._client.callApi({type:"helix",url:"moderation/automod/settings",method:"PUT",userId:n,scopes:["moderator:manage:automod_settings"],canOverrideScopedUserContext:!0,query:this._createModeratorActionQuery(n),jsonBody:NM(r)})).data.map(s=>new Yl(s))}async banUser(e,r){const n=C(e);return(await this._client.callApi({type:"helix",url:"moderation/bans",method:"POST",userId:n,scopes:["moderator:manage:banned_users"],canOverrideScopedUserContext:!0,query:this._createModeratorActionQuery(n),jsonBody:BM(r)})).data.map(s=>new Ki(s,s.end_time,this._client))}async unbanUser(e,r){const n=C(e);await this._client.callApi({type:"helix",url:"moderation/bans",method:"DELETE",userId:n,scopes:["moderator:manage:banned_users"],canOverrideScopedUserContext:!0,query:{...this._createModeratorActionQuery(n),...Me("user_id",C(r))}})}async getBlockedTerms(e,r){const n=C(e),i=await this._client.callApi({type:"helix",url:"moderation/blocked_terms",userId:n,scopes:["moderator:read:blocked_terms"],canOverrideScopedUserContext:!0,query:{...this._createModeratorActionQuery(n),...se(r)}});return De(i,Xl,this._client)}async addBlockedTerm(e,r){const n=C(e);return(await this._client.callApi({type:"helix",url:"moderation/blocked_terms",method:"POST",userId:n,scopes:["moderator:manage:blocked_terms"],canOverrideScopedUserContext:!0,query:this._createModeratorActionQuery(n),jsonBody:{text:r}})).data.map(s=>new Xl(s))}async removeBlockedTerm(e,r,n){const i=C(e);await this._client.callApi({type:"helix",url:"moderation/blocked_terms",method:"DELETE",userId:i,scopes:["moderator:manage:blocked_terms"],canOverrideScopedUserContext:!0,query:{...this._createModeratorActionQuery(i),id:n}})}async deleteChatMessages(e,r){const n=C(e);await this._client.callApi({type:"helix",url:"moderation/chat",method:"DELETE",userId:n,scopes:["moderator:manage:chat_messages"],canOverrideScopedUserContext:!0,query:{...this._createModeratorActionQuery(n),...Me("message_id",r)}})}async getShieldModeStatus(e){const r=C(e),n=await this._client.callApi({type:"helix",url:"moderation/shield_mode",method:"GET",userId:r,scopes:["moderator:read:shield_mode","moderator:manage:shield_mode"],canOverrideScopedUserContext:!0,query:this._createModeratorActionQuery(r)});return new Ao(n.data[0],this._client)}async updateShieldModeStatus(e,r){const n=C(e),i=await this._client.callApi({type:"helix",url:"moderation/shield_mode",method:"PUT",userId:n,scopes:["moderator:manage:shield_mode"],canOverrideScopedUserContext:!0,query:this._createModeratorActionQuery(n),jsonBody:LM(r)});return new Ao(i.data[0],this._client)}_createModeratorActionQuery(e){return a1(e,this._getUserContextIdWithDefault(e))}};ap=S([D("api","HelixModerationApi")],ap);function UM(t,e){var r;return{broadcaster_id:C(t),title:e.title,choices:e.choices.map(n=>({title:n})),duration:e.duration,channel_points_voting_enabled:e.channelPointsPerVote!=null,channel_points_per_vote:(r=e.channelPointsPerVote)!==null&&r!==void 0?r:0}}function FM(t,e,r){return{broadcaster_id:C(t),id:e,status:r?"TERMINATED":"ARCHIVED"}}let lp=class extends z{get id(){return this[f].id}get title(){return this[f].title}get totalVotes(){return this[f].votes}get channelPointsVotes(){return this[f].channel_points_votes}};lp=S([D("api","HelixPollChoice","id")],lp);let qr=class extends z{constructor(e,r){super(e),this._client=r}get id(){return this[f].id}get broadcasterId(){return this[f].broadcaster_id}get broadcasterName(){return this[f].broadcaster_login}get broadcasterDisplayName(){return this[f].broadcaster_name}async getBroadcaster(){return Y(await this._client.users.getUserById(this[f].broadcaster_id))}get title(){return this[f].title}get isChannelPointsVotingEnabled(){return this[f].channel_points_voting_enabled}get channelPointsPerVote(){return this[f].channel_points_per_vote}get status(){return this[f].status}get durationInSeconds(){return this[f].duration}get startDate(){return new Date(this[f].started_at)}get endDate(){return new Date(this.startDate.getTime()+this[f].duration*1e3)}get choices(){return this[f].choices.map(e=>new lp(e))}};S([q(!1)],qr.prototype,"_client",void 0);qr=S([D("api","HelixPoll","id")],qr);let up=class extends xe{async getPolls(e,r){const n=await this._client.callApi({type:"helix",url:"polls",userId:C(e),scopes:["channel:read:polls"],query:{...ce(e),...se(r)}});return De(n,qr,this._client)}getPollsPaginated(e){return new _e({url:"polls",userId:C(e),scopes:["channel:read:polls"],query:ce(e)},this._client,r=>new qr(r,this._client),20)}async getPollsByIds(e,r){return r.length?(await this._client.callApi({type:"helix",url:"polls",userId:C(e),scopes:["channel:read:polls"],query:Ku(e,r)})).data.map(i=>new qr(i,this._client)):[]}async getPollById(e,r){const n=await this.getPollsByIds(e,[r]);return n.length?n[0]:null}async createPoll(e,r){const n=await this._client.callApi({type:"helix",url:"polls",method:"POST",userId:C(e),scopes:["channel:manage:polls"],jsonBody:UM(e,r)});return new qr(n.data[0],this._client)}async endPoll(e,r,n=!0){const i=await this._client.callApi({type:"helix",url:"polls",method:"PATCH",userId:C(e),scopes:["channel:manage:polls"],jsonBody:FM(e,r,n)});return new qr(i.data[0],this._client)}};up=S([D("api","HelixPollApi")],up);function jM(t,e){return{broadcaster_id:C(t),title:e.title,outcomes:e.outcomes.map(r=>({title:r})),prediction_window:e.autoLockAfter}}function $M(t,e,r,n){return{broadcaster_id:C(t),id:e,status:r,winning_outcome_id:n}}let Zl=class extends z{constructor(e,r){super(e),this._client=r}get userId(){return this[f].id}get userName(){return this[f].login}get userDisplayName(){return this[f].name}async getUser(){return await this._client.users.getUserById(this[f].id)}get channelPointsUsed(){return this[f].channel_points_used}get channelPointsWon(){return this[f].channel_points_won}};S([q(!1)],Zl.prototype,"_client",void 0);Zl=S([D("api","HelixPredictor","userId")],Zl);let Io=class extends z{constructor(e,r){super(e),this._client=r}get id(){return this[f].id}get title(){return this[f].title}get users(){return this[f].users}get totalChannelPoints(){return this[f].channel_points}get color(){return this[f].color}get topPredictors(){var e,r;return(r=(e=this[f].top_predictors)===null||e===void 0?void 0:e.map(n=>new Zl(n,this._client)))!==null&&r!==void 0?r:[]}};S([q(!1)],Io.prototype,"_client",void 0);Io=S([D("api","HelixPredictionOutcome","id")],Io);let Vr=class extends z{constructor(e,r){super(e),this._client=r}get id(){return this[f].id}get broadcasterId(){return this[f].broadcaster_id}get broadcasterName(){return this[f].broadcaster_login}get broadcasterDisplayName(){return this[f].broadcaster_name}async getBroadcaster(){return Y(await this._client.users.getUserById(this[f].broadcaster_id))}get title(){return this[f].title}get status(){return this[f].status}get autoLockAfter(){return this[f].prediction_window}get creationDate(){return new Date(this[f].created_at)}get endDate(){return this[f].ended_at?new Date(this[f].ended_at):null}get lockDate(){return this[f].locked_at?new Date(this[f].locked_at):null}get outcomes(){return this[f].outcomes.map(e=>new Io(e,this._client))}get winningOutcomeId(){return this[f].winning_outcome_id||null}get winningOutcome(){if(!this[f].winning_outcome_id)return null;const e=this[f].outcomes.find(r=>r.id===this[f].winning_outcome_id);if(!e)throw new un("Winning outcome not found in outcomes array");return new Io(e,this._client)}};S([q(!1)],Vr.prototype,"_client",void 0);Vr=S([D("api","HelixPrediction","id")],Vr);let cp=class extends xe{async getPredictions(e,r){const n=await this._client.callApi({type:"helix",url:"predictions",userId:C(e),scopes:["channel:read:predictions"],query:{...ce(e),...se(r)}});return De(n,Vr,this._client)}getPredictionsPaginated(e){return new _e({url:"predictions",userId:C(e),scopes:["channel:read:predictions"],query:ce(e)},this._client,r=>new Vr(r,this._client),20)}async getPredictionsByIds(e,r){return r.length?(await this._client.callApi({type:"helix",url:"predictions",userId:C(e),scopes:["channel:read:predictions"],query:Ku(e,r)})).data.map(i=>new Vr(i,this._client)):[]}async getPredictionById(e,r){const n=await this.getPredictionsByIds(e,[r]);return n.length?n[0]:null}async createPrediction(e,r){const n=await this._client.callApi({type:"helix",url:"predictions",method:"POST",userId:C(e),scopes:["channel:manage:predictions"],jsonBody:jM(e,r)});return new Vr(n.data[0],this._client)}async lockPrediction(e,r){return await this._endPrediction(e,r,"LOCKED")}async resolvePrediction(e,r,n){return await this._endPrediction(e,r,"RESOLVED",n)}async cancelPrediction(e,r){return await this._endPrediction(e,r,"CANCELED")}async _endPrediction(e,r,n,i){const s=await this._client.callApi({type:"helix",url:"predictions",method:"PATCH",userId:C(e),scopes:["channel:manage:predictions"],jsonBody:$M(e,r,n,i)});return new Vr(s.data[0],this._client)}};cp=S([D("api","HelixPredictionApi")],cp);function qM(t,e){return{from_broadcaster_id:C(t),to_broadcaster_id:C(e)}}let dp=class extends z{get creationDate(){return new Date(this[f].created_at)}get targetIsMature(){return this[f].is_mature}};dp=S([D("api","HelixRaid")],dp);let hp=class extends xe{async startRaid(e,r){const n=await this._client.callApi({type:"helix",url:"raids",method:"POST",userId:C(e),scopes:["channel:manage:raids"],query:qM(e,r)});return new dp(n.data[0])}async cancelRaid(e){await this._client.callApi({type:"helix",url:"raids",method:"DELETE",userId:C(e),scopes:["channel:manage:raids"],query:ce(e)})}};hp=S([D("api","HelixRaidApi")],hp);function u1(t,e){var r;return{broadcaster_id:C(t),start_time:e==null?void 0:e.startDate,utc_offset:(r=e==null?void 0:e.utcOffset)===null||r===void 0?void 0:r.toString()}}function VM(t,e){return e.vacation?{broadcaster_id:C(t),is_vacation_enabled:"true",vacation_start_time:e.vacation.startDate,vacation_end_time:e.vacation.endDate,timezone:e.vacation.timezone}:{broadcaster_id:C(t),is_vacation_enabled:"false"}}function HM(t){return{start_time:t.startDate,timezone:t.timezone,is_recurring:t.isRecurring,duration:t.duration,category_id:t.categoryId,title:t.title}}function d0(t,e){return{broadcaster_id:C(t),id:e}}function zM(t){return{start_time:t.startDate,timezone:t.timezone,is_canceled:t.isCanceled,duration:t.duration,category_id:t.categoryId,title:t.title}}let rn=class extends z{constructor(e,r){super(e),this._client=r}get id(){return this[f].id}get startDate(){return new Date(this[f].start_time)}get endDate(){return new Date(this[f].end_time)}get title(){return this[f].title}get cancelEndDate(){return nr(this[f].canceled_until,e=>new Date(e))}get categoryId(){var e,r;return(r=(e=this[f].category)===null||e===void 0?void 0:e.id)!==null&&r!==void 0?r:null}get categoryName(){var e,r;return(r=(e=this[f].category)===null||e===void 0?void 0:e.name)!==null&&r!==void 0?r:null}async getCategory(){var e;const r=(e=this[f].category)===null||e===void 0?void 0:e.id;return r?await this._client.games.getGameById(r):null}get isRecurring(){return this[f].is_recurring}};S([q(!1)],rn.prototype,"_client",void 0);rn=S([D("api","HelixScheduleSegment","id")],rn);let fp=class extends _e{constructor(e,r,n){super({url:"schedule",query:u1(e,n)},r,i=>new rn(i,r),25)}async _fetchData(e={}){var r;const n=await super._fetchData(e);return{data:(r=n.data.segments)!==null&&r!==void 0?r:[],pagination:n.pagination}}};fp=S([D("api","HelixPaginatedScheduleSegmentRequest")],fp);let eu=class extends z{constructor(e,r){super(e),this._client=r}get segments(){var e,r;return(r=(e=this[f].segments)===null||e===void 0?void 0:e.map(n=>new rn(n,this._client)))!==null&&r!==void 0?r:[]}get broadcasterId(){return this[f].broadcaster_id}get broadcasterName(){return this[f].broadcaster_login}get broadcasterDisplayName(){return this[f].broadcaster_name}async getBroadcaster(){return Y(await this._client.users.getUserById(this[f].broadcaster_id))}get vacationStartDate(){var e;const r=(e=this[f].vacation)===null||e===void 0?void 0:e.start_time;return r?new Date(r):null}get vacationEndDate(){var e;const r=(e=this[f].vacation)===null||e===void 0?void 0:e.end_time;return r?new Date(r):null}};S([q(!1)],eu.prototype,"_client",void 0);eu=S([D("api","HelixSchedule","broadcasterId")],eu);class GM extends xe{async getSchedule(e,r){const n=await this._client.callApi({type:"helix",url:"schedule",userId:C(e),query:{...u1(e,r),...se(r)}});return{data:new eu(n.data,this._client),cursor:n.pagination.cursor}}getScheduleSegmentsPaginated(e,r){return new fp(e,this._client,r)}async getScheduleSegmentsByIds(e,r){var n,i;return(i=(n=(await this._client.callApi({type:"helix",url:"schedule",userId:C(e),query:Ku(e,r)})).data.segments)===null||n===void 0?void 0:n.map(o=>new rn(o,this._client)))!==null&&i!==void 0?i:[]}async getScheduleSegmentById(e,r){const n=await this.getScheduleSegmentsByIds(e,[r]);return n.length?n[0]:null}async getScheduleAsIcal(e){return await this._client.callApi({type:"helix",url:"schedule/icalendar",query:ce(e)})}async updateScheduleSettings(e,r){await this._client.callApi({type:"helix",url:"schedule/settings",method:"PATCH",userId:C(e),scopes:["channel:manage:schedule"],query:VM(e,r)})}async createScheduleSegment(e,r){const n=await this._client.callApi({type:"helix",url:"schedule/segment",method:"POST",userId:C(e),scopes:["channel:manage:schedule"],query:ce(e),jsonBody:HM(r)});return new rn(n.data.segments[0],this._client)}async updateScheduleSegment(e,r,n){const i=await this._client.callApi({type:"helix",url:"schedule/segment",method:"PATCH",userId:C(e),scopes:["channel:manage:schedule"],query:d0(e,r),jsonBody:zM(n)});return new rn(i.data.segments[0],this._client)}async deleteScheduleSegment(e,r){await this._client.callApi({type:"helix",url:"schedule/segment",method:"DELETE",userId:C(e),scopes:["channel:manage:schedule"],query:d0(e,r)})}}function h0(t,e){var r;return{query:t,live_only:(r=e.liveOnly)===null||r===void 0?void 0:r.toString()}}let ko=class extends z{constructor(e,r){super(e),this._client=r}get language(){return this[f].broadcaster_language}get id(){return this[f].id}get name(){return this[f].broadcaster_login}get displayName(){return this[f].display_name}async getUser(){return Y(await this._client.users.getUserById(this[f].id))}get gameId(){return this[f].game_id}get gameName(){return this[f].game_name}async getGame(){return this[f].game_id?Y(await this._client.games.getGameById(this[f].game_id)):null}get isLive(){return this[f].is_live}get tags(){return this[f].tags}get thumbnailUrl(){return this[f].thumbnail_url}get startDate(){return this[f].is_live?new Date(this[f].started_at):null}};S([q(!1)],ko.prototype,"_client",void 0);ko=S([D("api","HelixChannelSearchResult","id")],ko);let pp=class extends xe{async searchCategories(e,r){const n=await this._client.callApi({type:"helix",url:"search/categories",query:{query:e,...se(r)}});return De(n,Ft,this._client)}searchCategoriesPaginated(e){return new _e({url:"search/categories",query:{query:e}},this._client,r=>new Ft(r,this._client))}async searchChannels(e,r={}){const n=await this._client.callApi({type:"helix",url:"search/channels",query:{...h0(e,r),...se(r)}});return De(n,ko,this._client)}searchChannelsPaginated(e,r={}){return new _e({url:"search/channels",query:h0(e,r)},this._client,n=>new ko(n,this._client))}};pp=S([D("api","HelixSearchApi")],pp);class WM extends ir{constructor(e){super("Your stream needs to be live to do this",e)}}function Ph(t){return{game_id:t.game,language:t.language,type:t.type,user_id:t.userId,user_login:t.userName}}function QM(t,e){return{user_id:C(t),description:e}}function f0(t){return{video_id:t}}let Yt=class extends z{constructor(e,r){super(e),this._client=r}get id(){return this[f].id}get userId(){return this[f].user_id}get userName(){return this[f].user_login}get userDisplayName(){return this[f].user_name}async getUser(){return Y(await this._client.users.getUserById(this[f].user_id))}get gameId(){return this[f].game_id}get gameName(){return this[f].game_name}async getGame(){return this[f].game_id?Y(await this._client.games.getGameById(this[f].game_id)):null}get type(){return this[f].type}get title(){return this[f].title}get viewers(){return this[f].viewer_count}get startDate(){return new Date(this[f].started_at)}get language(){return this[f].language}get thumbnailUrl(){return this[f].thumbnail_url}getThumbnailUrl(e,r){return this[f].thumbnail_url.replace("{width}",e.toString()).replace("{height}",r.toString())}get tags(){return this[f].tags}get isMature(){return this[f].is_mature}};S([q(!1)],Yt.prototype,"_client",void 0);Yt=S([D("api","HelixStream","id")],Yt);let Ro=class extends z{constructor(e,r){super(e),this._client=r}get id(){return this[f].id}get creationDate(){return new Date(this[f].created_at)}get description(){return this[f].description}get positionInSeconds(){return this[f].position_seconds}};S([q(!1)],Ro.prototype,"_client",void 0);Ro=S([D("api","HelixStreamMarker","id")],Ro);let mp=class extends Ro{constructor(e,r,n){super(e,n),this._videoId=r}get url(){return this[f].URL}get videoId(){return this._videoId}async getVideo(){return Y(await this._client.videos.getVideoById(this._videoId))}};mp=S([D("api","HelixStreamMarkerWithVideo","id")],mp);var ai;let Mo=ai=class extends xe{constructor(){super(...arguments),this._getStreamByUserIdBatcher=new At({url:"streams"},"user_id","user_id",this._client,e=>new Yt(e,this._client)),this._getStreamByUserNameBatcher=new At({url:"streams"},"user_login","user_login",this._client,e=>new Yt(e,this._client))}async getStreams(e={}){const r=await this._client.callApi({url:"streams",type:"helix",query:{...Ph(e),...se(e)}});return De(r,Yt,this._client)}getStreamsPaginated(e={}){return new _e({url:"streams",query:Ph(e)},this._client,r=>new Yt(r,this._client))}async getStreamsByUserNames(e){return(await this.getStreams({userName:e.map(qs)})).data}async getStreamByUserName(e){var r;return(r=(await this.getStreamsByUserNames([e]))[0])!==null&&r!==void 0?r:null}async getStreamByUserNameBatched(e){return await this._getStreamByUserNameBatcher.request(qs(e))}async getStreamsByUserIds(e){return(await this.getStreams({userId:e.map(C)})).data}async getStreamByUserId(e){const r=C(e),n=await this._client.callApi({url:"streams",type:"helix",userId:r,query:Ph({userId:r})});return nr(n.data[0],i=>new Yt(i,this._client))}async getStreamByUserIdBatched(e){return await this._getStreamByUserIdBatcher.request(C(e))}async getStreamMarkersForUser(e,r){var n;const i=await this._client.callApi({url:"streams/markers",type:"helix",query:{...t0(e),...se(r)},userId:C(e),scopes:["user:read:broadcast"],canOverrideScopedUserContext:!0});return{data:uv(i.data.map(s=>ai._mapGetStreamMarkersResult(s,this._client))),cursor:(n=i.pagination)===null||n===void 0?void 0:n.cursor}}getStreamMarkersForUserPaginated(e){return new _e({url:"streams/markers",query:t0(e),userId:C(e),scopes:["user:read:broadcast"],canOverrideScopedUserContext:!0},this._client,r=>ai._mapGetStreamMarkersResult(r,this._client))}async getStreamMarkersForVideo(e,r,n){var i;const s=await this._client.callApi({url:"streams/markers",type:"helix",query:{...f0(r),...se(n)},userId:C(e),scopes:["user:read:broadcast"],canOverrideScopedUserContext:!0});return{data:uv(s.data.map(o=>ai._mapGetStreamMarkersResult(o,this._client))),cursor:(i=s.pagination)===null||i===void 0?void 0:i.cursor}}getStreamMarkersForVideoPaginated(e,r){return new _e({url:"streams/markers",query:f0(r),userId:C(e),scopes:["user:read:broadcast"],canOverrideScopedUserContext:!0},this._client,n=>ai._mapGetStreamMarkersResult(n,this._client))}async createStreamMarker(e,r){try{const n=await this._client.callApi({url:"streams/markers",method:"POST",type:"helix",userId:C(e),scopes:["channel:manage:broadcast"],canOverrideScopedUserContext:!0,jsonBody:QM(e,r)});return new Ro(n.data[0],this._client)}catch(n){throw n instanceof Wn&&n.statusCode===404?new WM({cause:n}):n}}async getStreamKey(e){const r=C(e);return(await this._client.callApi({type:"helix",url:"streams/key",userId:r,scopes:["channel:read:stream_key"],query:ce(e)})).data[0].stream_key}async getFollowedStreams(e,r){const n=C(e),i=await this._client.callApi({type:"helix",url:"streams/followed",userId:n,scopes:["user:read:follows"],query:{...Me("user_id",n),...se(r)}});return De(i,Yt,this._client)}getFollowedStreamsPaginated(e){const r=C(e);return new _e({url:"streams/followed",userId:r,scopes:["user:read:follows"],query:Me("user_id",r)},this._client,n=>new Yt(n,this._client))}static _mapGetStreamMarkersResult(e,r){return e.videos.reduce((n,i)=>[...n,...i.markers.map(s=>new mp(s,i.video_id,r))],[])}};S([q(!1)],Mo.prototype,"_getStreamByUserIdBatcher",void 0);S([q(!1)],Mo.prototype,"_getStreamByUserNameBatcher",void 0);Mo=ai=S([D("api","HelixStreamApi")],Mo);function KM(t,e){return{broadcaster_id:C(t),user_id:C(e)}}let Oo=class extends z{constructor(e,r){super(e),this._client=r}get broadcasterId(){return this[f].broadcaster_id}get broadcasterName(){return this[f].broadcaster_login}get broadcasterDisplayName(){return this[f].broadcaster_name}async getBroadcaster(){return await this._client.users.getUserById(this[f].broadcaster_id)}get isGift(){return this[f].is_gift}get tier(){return this[f].tier}};S([q(!1)],Oo.prototype,"_client",void 0);Oo=S([D("api","HelixUserSubscription","broadcasterId")],Oo);let Do=class extends Oo{get broadcasterId(){return this[f].broadcaster_id}get broadcasterName(){return this[f].broadcaster_login}get broadcasterDisplayName(){return this[f].broadcaster_name}async getBroadcaster(){return Y(await this._client.users.getUserById(this[f].broadcaster_id))}get gifterId(){return this[f].is_gift?this[f].gifter_id:null}get gifterName(){return this[f].is_gift?this[f].gifter_login:null}get gifterDisplayName(){return this[f].is_gift?this[f].gifter_name:null}async getGifter(){return this[f].is_gift?Y(await this._client.users.getUserById(this[f].gifter_id)):null}get userId(){return this[f].user_id}get userName(){return this[f].user_login}get userDisplayName(){return this[f].user_name}async getUser(){return Y(await this._client.users.getUserById(this[f].user_id))}};Do=S([D("api","HelixSubscription","userId")],Do);let gp=class extends Qn{constructor(e,r){super({url:"subscriptions",scopes:["channel:read:subscriptions"],userId:C(e),query:ce(e)},r,n=>new Do(n,r))}async getPoints(){var e;return((e=this._currentData)!==null&&e!==void 0?e:await this._fetchData({query:{after:void 0}})).points}};gp=S([D("api","HelixPaginatedSubscriptionsRequest")],gp);let yp=class extends xe{async getSubscriptions(e,r){const n=await this._client.callApi({url:"subscriptions",scopes:["channel:read:subscriptions"],type:"helix",userId:C(e),query:{...ce(e),...se(r)}});return{...Gr(n,Do,this._client),points:n.points}}getSubscriptionsPaginated(e){return new gp(e,this._client)}async getSubscriptionsForUsers(e,r){return(await this._client.callApi({type:"helix",url:"subscriptions",userId:C(e),scopes:["channel:read:subscriptions"],query:l1(e,r)})).data.map(i=>new Do(i,this._client))}async getSubscriptionForUser(e,r){const n=await this.getSubscriptionsForUsers(e,[r]);return n.length?n[0]:null}async checkUserSubscription(e,r){try{const n=await this._client.callApi({type:"helix",url:"subscriptions/user",userId:C(e),scopes:["user:read:subscriptions"],query:KM(r,e)});return new Oo(n.data[0],this._client)}catch(n){if(n instanceof Wn&&n.statusCode===404)return null;throw n}}};yp=S([D("api","HelixSubscriptionApi")],yp);let No=class extends z{constructor(e,r){super(e),this._client=r}get id(){return this[f].id}get name(){return this[f].team_name}get displayName(){return this[f].team_display_name}get backgroundImageUrl(){return this[f].background_image_url}get bannerUrl(){return this[f].banner}get creationDate(){return new Date(this[f].created_at)}get updateDate(){return new Date(this[f].updated_at)}get info(){return this[f].info}get logoThumbnailUrl(){return this[f].thumbnail_url}async getUserRelations(){return(await this._client.teams.getTeamById(this.id)).userRelations}};S([q(!1)],No.prototype,"_client",void 0);No=S([D("api","HelixTeam","id")],No);let tu=class extends No{get userRelations(){return this[f].users.map(e=>new Fn(e,this._client))}};tu=S([D("api","HelixTeamWithUsers","id")],tu);let vp=class extends xe{async getTeamsForBroadcaster(e){var r,n;return(n=(r=(await this._client.callApi({type:"helix",url:"teams/channel",userId:C(e),query:ce(e)})).data)===null||r===void 0?void 0:r.map(s=>new No(s,this._client)))!==null&&n!==void 0?n:[]}async getTeamById(e){try{const r=await this._client.callApi({type:"helix",url:"teams",query:{id:e}});return new tu(r.data[0],this._client)}catch(r){if(r instanceof Wn&&r.statusCode===500)return null;throw r}}async getTeamByName(e){try{const r=await this._client.callApi({type:"helix",url:"teams",query:{name:e}});return new tu(r.data[0],this._client)}catch(r){if(r instanceof Wn&&r.statusCode===404)return null;throw r}}};vp=S([D("api","HelixTeamApi")],vp);function YM(t,e){return{target_user_id:C(t),source_context:e.sourceContext,reason:e.reason}}function JM(t){return{target_user_id:C(t)}}class c1 extends z{get id(){return this[f].id}get version(){return this[f].version}get name(){return this[f].name}}let Vs=class extends c1{constructor(e,r,n){super(n),this._slotType=e,this._slotId=r}get slotType(){return this._slotType}get slotId(){return this._slotId}};Vs=S([D("api","HelixInstalledExtension","id")],Vs);let ru=class extends z{getExtensionAtSlot(e,r){const n=this[f][e][r];return n.active?new Vs(e,r,n):null}getExtensionsForSlotType(e){return[...Object.entries(this[f][e])].filter(r=>r[1].active).map(([r,n])=>new Vs(e,r,n))}getAllExtensions(){return[...Object.entries(this[f])].flatMap(([e,r])=>[...Object.entries(r)].filter(n=>n[1].active).map(([n,i])=>new Vs(e,n,i)))}};ru=S([D("api","HelixInstalledExtensionList")],ru);let _p=class extends c1{get canActivate(){return this[f].can_activate}get types(){return this[f].type}};_p=S([D("api","HelixUserExtension","id")],_p);let Wr=class extends z{constructor(e,r){super(e),this._client=r}get id(){return this[f].id}get name(){return this[f].login}get displayName(){return this[f].display_name}get description(){return this[f].description}get type(){return this[f].type}get broadcasterType(){return this[f].broadcaster_type}get profilePictureUrl(){return this[f].profile_image_url}get offlinePlaceholderUrl(){return this[f].offline_image_url}get creationDate(){return new Date(this[f].created_at)}async getStream(){return await this._client.streams.getStreamByUserId(this)}async getFollowedChannels(){return await this._client.channels.getFollowedChannels(this)}async getFollowedChannel(e){var r;return(r=(await this._client.channels.getFollowedChannels(this,e)).data[0])!==null&&r!==void 0?r:null}async follows(e){return await this.getFollowedChannel(e)!==null}async getChannelFollowers(){return await this._client.channels.getChannelFollowers(this)}async getChannelFollower(e){var r;return(r=(await this._client.channels.getChannelFollowers(this,e)).data[0])!==null&&r!==void 0?r:null}async isFollowedBy(e){return await this.getChannelFollower(e)!==null}async getSubscriptionTo(e){return await this._client.subscriptions.checkUserSubscription(this,e)}async isSubscribedTo(e){return await this.getSubscriptionTo(e)!==null}async getSubscriber(e){return await this._client.subscriptions.getSubscriptionForUser(this,e)}async hasSubscriber(e){return await this.getSubscriber(e)!==null}};S([q(!1)],Wr.prototype,"_client",void 0);Wr=S([D("api","HelixUser","id")],Wr);let nu=class extends Wr{get email(){return this[f].email}async setDescription(e){return await this._client.users.updateAuthenticatedUser(this,{description:e})}};nu=S([D("api","HelixPrivilegedUser","id")],nu);let Bo=class extends z{constructor(e,r){super(e),this._client=r}get userId(){return this[f].user_id}get userName(){return this[f].user_login}get userDisplayName(){return this[f].display_name}async getUser(){return Y(await this._client.users.getUserById(this[f].user_id))}};S([q(!1)],Bo.prototype,"_client",void 0);Bo=S([D("api","HelixUserBlock","userId")],Bo);let Lo=class extends xe{constructor(){super(...arguments),this._getUserByIdBatcher=new At({url:"users"},"id","id",this._client,e=>new Wr(e,this._client)),this._getUserByNameBatcher=new At({url:"users"},"login","login",this._client,e=>new Wr(e,this._client))}async getUsersByIds(e){return await this._getUsers("id",e.map(C))}async getUsersByNames(e){return await this._getUsers("login",e.map(qs))}async getUserById(e){const r=C(e),n=await this._client.callApi({type:"helix",url:"users",userId:r,query:{id:r}});return nr(n.data[0],i=>new Wr(i,this._client))}async getUserByIdBatched(e){return await this._getUserByIdBatcher.request(C(e))}async getUserByName(e){const r=await this._getUsers("login",[qs(e)]);return r.length?r[0]:null}async getUserByNameBatched(e){return await this._getUserByNameBatcher.request(qs(e))}async getAuthenticatedUser(e,r=!1){var n;const i=await this._client.callApi({type:"helix",url:"users",forceType:"user",userId:C(e),scopes:r?["user:read:email"]:void 0});if(!(!((n=i.data)===null||n===void 0)&&n.length))throw new un("Could not get authenticated user");return new nu(i.data[0],this._client)}async updateAuthenticatedUser(e,r){const n=await this._client.callApi({type:"helix",url:"users",method:"PUT",userId:C(e),scopes:["user:edit"],query:{description:r.description}});return new nu(n.data[0],this._client)}async getBlocks(e,r){const n=await this._client.callApi({type:"helix",url:"users/blocks",userId:C(e),scopes:["user:read:blocked_users"],query:{...ce(e),...se(r)}});return De(n,Bo,this._client)}getBlocksPaginated(e){return new _e({url:"users/blocks",userId:C(e),scopes:["user:read:blocked_users"],query:ce(e)},this._client,r=>new Bo(r,this._client))}async createBlock(e,r,n={}){await this._client.callApi({type:"helix",url:"users/blocks",method:"PUT",userId:C(e),scopes:["user:manage:blocked_users"],query:YM(r,n)})}async deleteBlock(e,r){await this._client.callApi({type:"helix",url:"users/blocks",method:"DELETE",userId:C(e),scopes:["user:manage:blocked_users"],query:JM(r)})}async getExtensionsForAuthenticatedUser(e,r=!1){return(await this._client.callApi({type:"helix",url:"users/extensions/list",userId:C(e),scopes:r?["user:edit:broadcast"]:["user:read:broadcast","user:edit:broadcast"]})).data.map(i=>new _p(i))}async getActiveExtensions(e,r=!1){const n=C(e),i=await this._client.callApi({type:"helix",url:"users/extensions",userId:n,scopes:r?["user:read:broadcast","user:edit:broadcast"]:void 0,query:Me("user_id",n)});return new ru(i.data)}async updateActiveExtensionsForAuthenticatedUser(e,r){const n=await this._client.callApi({type:"helix",url:"users/extensions",method:"PUT",userId:C(e),scopes:["user:edit:broadcast"],jsonBody:{data:r}});return new ru(n.data)}async _getUsers(e,r){if(r.length===0)return[];const n={[e]:r};return(await this._client.callApi({type:"helix",url:"users",query:n})).data.map(s=>new Wr(s,this._client))}};S([q(!1)],Lo.prototype,"_getUserByIdBatcher",void 0);S([q(!1)],Lo.prototype,"_getUserByNameBatcher",void 0);Lo=S([D("api","HelixUserApi")],Lo);let jn=class extends z{constructor(e,r){super(e),this._client=r}get id(){return this[f].id}get userId(){return this[f].user_id}get userName(){return this[f].user_login}get userDisplayName(){return this[f].user_name}async getUser(){return Y(await this._client.users.getUserById(this[f].user_id))}get title(){return this[f].title}get description(){return this[f].description}get creationDate(){return new Date(this[f].created_at)}get publishDate(){return new Date(this[f].published_at)}get url(){return this[f].url}get thumbnailUrl(){return this[f].thumbnail_url}getThumbnailUrl(e,r){return this[f].thumbnail_url.replace("%{width}",e.toString()).replace("%{height}",r.toString())}get isPublic(){return this[f].viewable==="public"}get views(){return this[f].view_count}get language(){return this[f].language}get type(){return this[f].type}get duration(){return this[f].duration}get durationInSeconds(){const e=this[f].duration.match(/\d+[hms]/g);if(!e)throw new un(`Could not parse duration string: ${this[f].duration}`);return e.map(r=>{const n=/(\d+)([hms])/.exec(r);if(!n)throw new un(`Could not parse partial duration string: ${r}`);const[,i,s]=n;return parseInt(i,10)*{h:3600,m:60,s:1}[s]}).reduce((r,n)=>r+n)}get streamId(){return this[f].stream_id}get mutedSegmentData(){var e,r;return(r=(e=this[f].muted_segments)===null||e===void 0?void 0:e.slice())!==null&&r!==void 0?r:[]}isMutedAt(e,r,n=!1){if(this[f].muted_segments===null)return!1;if(r==null)return this[f].muted_segments.some(s=>s.offset<=e&&e<=s.offset+s.duration);const i=e+r;return n?this[f].muted_segments.some(s=>{const o=s.offset+s.duration;return e<o&&s.offset<i}):this[f].muted_segments.some(s=>{const o=s.offset+s.duration;return s.offset<=e&&i<=o})}};S([q(!1)],jn.prototype,"_client",void 0);S([pe()],jn.prototype,"durationInSeconds",null);jn=S([Zo,D("api","HelixVideo","id")],jn);var Za;let iu=Za=class extends xe{constructor(){super(...arguments),this._getVideoByIdBatcher=new At({url:"videos"},"id","id",this._client,e=>new jn(e,this._client))}async getVideosByIds(e){return(await this._getVideos("id",e)).data}async getVideoById(e){const r=await this.getVideosByIds([e]);return r.length?r[0]:null}async getVideoByIdBatched(e){return await this._getVideoByIdBatcher.request(e)}async getVideosByUser(e,r={}){const n=C(e);return await this._getVideos("user_id",[n],r)}getVideosByUserPaginated(e,r={}){const n=C(e);return this._getVideosPaginated("user_id",[n],r)}async getVideosByGame(e,r={}){return await this._getVideos("game_id",[e],r)}getVideosByGamePaginated(e,r={}){return this._getVideosPaginated("game_id",[e],r)}async deleteVideosByIds(e,r){await this._client.callApi({type:"helix",url:"videos",method:"DELETE",scopes:["channel:manage:videos"],userId:C(e),query:{id:r}})}async _getVideos(e,r,n={}){if(!r.length)return{data:[]};const i=await this._client.callApi({type:"helix",url:"videos",userId:e==="user_id"?r[0]:void 0,query:{...Za._makeVideosQuery(e,r,n),...se(n)}});return De(i,jn,this._client)}_getVideosPaginated(e,r,n={}){return new _e({url:"videos",userId:e==="user_id"?r[0]:void 0,query:Za._makeVideosQuery(e,r,n)},this._client,i=>new jn(i,this._client))}static _makeVideosQuery(e,r,n={}){const{language:i,period:s,orderBy:o,type:a}=n;return{[e]:r,language:i,period:s,sort:o,type:a}}};S([q(!1)],iu.prototype,"_getVideoByIdBatcher",void 0);iu=Za=S([D("api","HelixVideoApi")],iu);function XM(t,e){return{from_user_id:C(t),to_user_id:C(e)}}let wp=class extends xe{async sendWhisper(e,r,n){await this._client.callApi({type:"helix",url:"whispers",method:"POST",userId:C(e),scopes:["user:manage:whispers"],query:XM(e,r),jsonBody:{message:n}})}};wp=S([D("api","HelixWhisperApi")],wp);class ZM{constructor(e,r,n){this._options=e,this._httpStatus=r,this._resolvedUserId=n}get options(){return this._options}get httpStatus(){return this._httpStatus}get resolvedUserId(){return this._resolvedUserId}}let fe=class extends ss{constructor(e,r,n){super(),this.onRequest=this.registerEvent(),this._config=e,this._logger=r,this._rateLimiter=n}async requestScopesForUser(e,r){await this._config.authProvider.getAccessTokenForUser(e,...r.map(n=>[n]))}async getTokenInfo(){try{const e=await this.callApi({type:"auth",url:"validate"});return new Ol(e)}catch(e){throw e instanceof Wn&&e.statusCode===401?new Bn({cause:e}):e}}async callApi(e){var r;const{authProvider:n}=this._config;if(!((r=e.auth)!==null&&r!==void 0?r:!0))return await Yo(e,n.clientId,void 0,void 0,this._config.fetchOptions);let s=!1;if(e.forceType)switch(e.forceType){case"app":{if(!n.getAppAccessToken)throw new Error("Tried to make an API call that requires an app access token but your auth provider does not support that");const l=await n.getAppAccessToken();return await this._callApiUsingInitialToken(e,l)}case"user":{s=!0;break}default:throw new un(`Unknown forced token type: ${e.forceType}`)}if(e.scopes&&(s=!0),s){const l=e.canOverrideScopedUserContext?this._getUserIdFromRequestContext(e.userId):e.userId;if(!l)throw new Error("Tried to make an API call with a user context but no context user ID");const u=await n.getAccessTokenForUser(l,e.scopes);if(!u)throw new Error(`Tried to make an API call with a user context for user ID ${l} but no token was found`);if(Mi(u)&&n.refreshAccessTokenForUser){const c=await n.refreshAccessTokenForUser(l);return await this._callApiUsingInitialToken(e,c,!0)}return await this._callApiUsingInitialToken(e,u)}const o=this._getUserIdFromRequestContext(e.userId),a=o===null?await n.getAnyAccessToken():await n.getAnyAccessToken(o??e.userId);if(Mi(a)&&a.userId&&n.refreshAccessTokenForUser){const l=await n.refreshAccessTokenForUser(a.userId);return await this._callApiUsingInitialToken(e,l,!0)}return await this._callApiUsingInitialToken(e,a)}get bits(){return new Xf(this)}get channels(){return new Fl(this)}get channelPoints(){return new Zf(this)}get charity(){return new ep(this)}get chat(){return new rp(this)}get clips(){return new Gl(this)}get entitlements(){return new Wl(this)}get eventSub(){return new np(this)}get extensions(){return new ip(this)}get games(){return new Qi(this)}get hypeTrain(){return new OM(this)}get goals(){return new sp(this)}get moderation(){return new ap(this)}get polls(){return new up(this)}get predictions(){return new cp(this)}get raids(){return new hp(this)}get schedule(){return new GM(this)}get search(){return new pp(this)}get streams(){return new Mo(this)}get subscriptions(){return new yp(this)}get teams(){return new vp(this)}get users(){return new Lo(this)}get videos(){return new iu(this)}get whispers(){return new wp(this)}get rateLimiterStats(){return this._rateLimiter instanceof Xm?this._rateLimiter.stats:null}get _authProvider(){return this._config.authProvider}get _batchDelay(){var e;return(e=this._config.batchDelay)!==null&&e!==void 0?e:0}_getUserIdFromRequestContext(e){return e}async _callApiUsingInitialToken(e,r,n=!1){var i;const{authProvider:s}=this._config,o=s.authorizationType;let a=await this._callApiInternal(e,s.clientId,r.accessToken,o);if(a.status===401&&!n){if(r.userId){if(s.refreshAccessTokenForUser){const l=await s.refreshAccessTokenForUser(r.userId);a=await this._callApiInternal(e,s.clientId,l.accessToken,o)}}else if(s.getAppAccessToken){const l=await s.getAppAccessToken(!0);a=await this._callApiInternal(e,s.clientId,l.accessToken,o)}}return this.emit(this.onRequest,new ZM(e,a.status,(i=r.userId)!==null&&i!==void 0?i:null)),await Gf(a,e),await wC(a)}async _callApiInternal(e,r,n,i){var s,o,a;const{fetchOptions:l}=this._config,u=(s=e.type)!==null&&s!==void 0?s:"helix";this._logger.debug(`Calling ${u} API: ${(o=e.method)!==null&&o!==void 0?o:"GET"} ${e.url}`),this._logger.trace(`Query: ${JSON.stringify(e.query)}`),e.jsonBody&&this._logger.trace(`Request body: ${JSON.stringify(e.jsonBody)}`);const c=wM.operation({retries:3,minTimeout:500,factor:2}),{promise:h,resolve:d,reject:p}=po();c.attempt(async()=>{try{const _=u==="helix"?await this._rateLimiter.request({options:e,clientId:r,accessToken:n,authorizationType:i,fetchOptions:l}):await ju(e,r,n,i,l);!_.ok&&_.status>=500&&_.status<600&&await Gf(_,e),d(_)}catch(_){if(c.retry(_))return;p(c.mainError())}});const m=await h;return this._logger.debug(`Called ${u} API: ${(a=e.method)!==null&&a!==void 0?a:"GET"} ${e.url} - result: ${m.status}`),m}};S([pe()],fe.prototype,"bits",null);S([pe()],fe.prototype,"channels",null);S([pe()],fe.prototype,"channelPoints",null);S([pe()],fe.prototype,"charity",null);S([pe()],fe.prototype,"chat",null);S([pe()],fe.prototype,"clips",null);S([pe()],fe.prototype,"entitlements",null);S([pe()],fe.prototype,"eventSub",null);S([pe()],fe.prototype,"extensions",null);S([pe()],fe.prototype,"games",null);S([pe()],fe.prototype,"hypeTrain",null);S([pe()],fe.prototype,"goals",null);S([pe()],fe.prototype,"moderation",null);S([pe()],fe.prototype,"polls",null);S([pe()],fe.prototype,"predictions",null);S([pe()],fe.prototype,"raids",null);S([pe()],fe.prototype,"schedule",null);S([pe()],fe.prototype,"search",null);S([pe()],fe.prototype,"streams",null);S([pe()],fe.prototype,"subscriptions",null);S([pe()],fe.prototype,"teams",null);S([pe()],fe.prototype,"users",null);S([pe()],fe.prototype,"videos",null);S([pe()],fe.prototype,"whispers",null);fe=S([Zo,D("api","ApiClient")],fe);let xp=class extends fe{_getUserIdFromRequestContext(){return null}};xp=S([D("api","ApiClient")],xp);let su=class extends fe{constructor(e,r,n,i){super(e,r,n),this._userId=i}_getUserIdFromRequestContext(){return this._userId}};su=S([D("api","ApiClient")],su);let Sp=class extends fe{constructor(e){if(!e.authProvider)throw new gM("No auth provider given. Please supply the `authProvider` option.");const r={name:"twurple:api:rate-limiter",...e.logger};super(e,os({name:"twurple:api:client",...e.logger}),$u?new pM({getPartitionKey:n=>{var i;return(i=n.userId)!==null&&i!==void 0?i:null},createChild:()=>new yM({logger:r})}):new i1({logger:r,bucketSize:800,timeFrame:64e3,doRequest:async({options:n,clientId:i,accessToken:s,authorizationType:o,fetchOptions:a})=>await ju(n,i,s,o,a),getPartitionKey:n=>{var i;return(i=n.userId)!==null&&i!==void 0?i:null}}))}async asUser(e,r){const n=new su(this._config,this._logger,this._rateLimiter,C(e));return await r(n)}async asIntent(e,r){if(!this._authProvider.getAccessTokenForIntent)throw new Error("Trying to use intents with an auth provider that does not support them");for(const n of e){const i=await this._authProvider.getAccessTokenForIntent(n);if(i){const s=new su(this._config,this._logger,this._rateLimiter,i.userId);return await r(s)}}throw new Error(`Intents [${e.join(", ")}] not found in auth provider`)}async withoutUser(e){const r=new xp(this._config,this._logger,this._rateLimiter);return await e(r)}};Sp=S([D("api","ApiClient")],Sp);const d1="xrjkdmui65qd33jdx8itfslt61qys8",h1=slime2Tokens.twitch||"",f1=new mo(d1,h1),Yi=new Sp({authProvider:f1});let ou=null,p0=!1;function vn(){if(!ou)throw new Error("tokenInfo is not defined!");const{userId:t,userName:e}=ou;return{broadcaster:{id:t,userName:e}}}function eO(){const[t,e]=U.useState(!0);return U.useEffect(()=>{async function r(){p0||(ou=await Gi(h1,d1).catch(()=>null)),e(!1),p0=!0}r()},[]),{loading:t,tokenInfo:ou}}var tO={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function rO(t){if(typeof t=="number")return{value:t,unit:"px"};var e,r=(t.match(/^[0-9.]*/)||"").toString();r.includes(".")?e=parseFloat(r):e=parseInt(r,10);var n=(t.match(/[^0-9]*$/)||"").toString();return tO[n]?{value:e,unit:n}:(console.warn("React Spinners: ".concat(t," is not a valid css value. Defaulting to ").concat(e,"px.")),{value:e,unit:"px"})}function Ma(t){var e=rO(t);return"".concat(e.value).concat(e.unit)}var nO=function(t,e,r){var n="react-spinners-".concat(t,"-").concat(r);if(typeof window>"u"||!window.document)return n;var i=document.createElement("style");document.head.appendChild(i);var s=i.sheet,o=`
    @keyframes `.concat(n,` {
      `).concat(e,`
    }
  `);return s&&s.insertRule(o,0),n},au=globalThis&&globalThis.__assign||function(){return au=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},au.apply(this,arguments)},iO=globalThis&&globalThis.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r},sO=nO("ScaleLoader","0% {transform: scaley(1.0)} 50% {transform: scaley(0.4)} 100% {transform: scaley(1.0)}","scale");function oO(t){var e=t.loading,r=e===void 0?!0:e,n=t.color,i=n===void 0?"#000000":n,s=t.speedMultiplier,o=s===void 0?1:s,a=t.cssOverride,l=a===void 0?{}:a,u=t.height,c=u===void 0?35:u,h=t.width,d=h===void 0?4:h,p=t.radius,m=p===void 0?2:p,_=t.margin,w=_===void 0?2:_,v=iO(t,["loading","color","speedMultiplier","cssOverride","height","width","radius","margin"]),g=au({display:"inherit"},l),y=function(x){return{backgroundColor:i,width:Ma(d),height:Ma(c),margin:Ma(w),borderRadius:Ma(m),display:"inline-block",animation:"".concat(sO," ").concat(1/o,"s ").concat(x*.1,"s infinite cubic-bezier(0.2, 0.68, 0.18, 1.08)"),animationFillMode:"both"}};return r?U.createElement("span",au({style:g},v),U.createElement("span",{style:y(1)}),U.createElement("span",{style:y(2)}),U.createElement("span",{style:y(3)}),U.createElement("span",{style:y(4)}),U.createElement("span",{style:y(5)})):null}function p1({message:t}){const e=ue.jsx(oO,{color:"#ecfccb",loading:!0,speedMultiplier:.5,height:16,width:3,radius:10});return ue.jsxs("div",{className:"bg-emerald-800 absolute top-3 inset-x-3 rounded-xl p-3 flex items-center justify-center",children:[e,ue.jsx("span",{className:"text-lime-100 text-md mx-3 font-grandstander",children:t}),e]})}function aO(){return ue.jsx("div",{className:"bg-rose-900 absolute top-3 inset-x-3 rounded-xl p-3 flex items-center justify-center",children:ue.jsxs("span",{className:"text-white text-md mx-3 font-radiocanada",children:[ue.jsx("strong",{className:"font-semibold",children:"Token Invalid"}),": You haven't set a token or your token expired. Get a new token at"," ","[",ue.jsx("a",{href:"https://slime2.stream/token",target:"_blank",rel:"noreferrer",className:"text-rose-200 underline",children:"slime2.stream/token"}),"]"]})})}const Zm=[],m1=U.createContext(Zm),g1=U.createContext(()=>null);function lO({children:t}){const[e,r]=U.useReducer(cO,Zm);return ue.jsx(m1.Provider,{value:e,children:ue.jsx(g1.Provider,{value:r,children:t})})}function uO(){return U.useContext(m1)}function eg(){return U.useContext(g1)}function cO(t,e){switch(e.type){case"add":{const r=[...t];return r.push(e.payload),r}case"clear":{const r=e.payload?t.filter(n=>n.user.id!==e.payload):Zm;return slime2Chat.onModDelete(e.payload?{type:"user",id:e.payload}:{type:"all",id:null}),r}case"remove":{const r=t.filter(n=>n.id!==e.payload);return e.moderator&&slime2Chat.onModDelete({type:"single",id:e.payload}),r}}}class dO extends ss{constructor({lineBased:e,logger:r,additionalOptions:n}={}){super(),this._currentLine="",this._connecting=!1,this._connected=!1,this.onReceive=this.registerEvent(),this.onConnect=this.registerEvent(),this.onDisconnect=this.registerEvent(),this.onEnd=this.registerEvent(),this._lineBased=e??!1,this._logger=r,this._additionalOptions=n}get isConnecting(){return this._connecting}get isConnected(){return this._connected}sendLine(e){this._connected&&(e=e.replace(/[\0\r\n]/g,""),this.sendRaw(`${e}\r
`))}assumeExternalDisconnect(){var e;(e=this._logger)===null||e===void 0||e.trace("AbstractConnection assumeExternalDisconnect"),this._connected=!1,this._connecting=!1,this.clearSocket(),this.emit(this.onDisconnect,!1)}receiveRaw(e){var r,n;if(!this._lineBased){this.emit(this.onReceive,e);return}const i=e.split(`\r
`);if(this._currentLine+=(r=i.shift())!==null&&r!==void 0?r:"",i.length){this.emit(this.onReceive,this._currentLine),this._currentLine=(n=i.pop())!==null&&n!==void 0?n:"";for(const s of i)this.emit(this.onReceive,s)}}}class hO{constructor(){throw new Error("DirectConnection is not implemented in a browser environment")}}class fO extends ss{constructor(e,r,n={}){var i;super(),this._type=e,this._target=r,this._config=n,this._retryLimit=1/0,this._initialRetryLimit=3,this._connecting=!1,this._connectionRetryCount=0,this.onReceive=this.registerEvent(),this.onConnect=this.registerEvent(),this.onDisconnect=this.registerEvent(),this.onEnd=this.registerEvent(),this._retryLimit=(i=n.retryLimit)!==null&&i!==void 0?i:1/0,this._logger=n.logger}get isConnected(){var e,r;return(r=(e=this._currentConnection)===null||e===void 0?void 0:e.isConnected)!==null&&r!==void 0?r:!1}get isConnecting(){var e,r;return(r=(e=this._currentConnection)===null||e===void 0?void 0:e.isConnecting)!==null&&r!==void 0?r:this._connecting}get hasSocket(){var e,r;return(r=(e=this._currentConnection)===null||e===void 0?void 0:e.hasSocket)!==null&&r!==void 0?r:!1}sendLine(e){var r;(r=this._currentConnection)===null||r===void 0||r.sendLine(e)}connect(){if(this._currentConnection||this._connecting)throw new Error("Connection already present");this._connecting=!0,this._connectionRetryCount=0,this._tryConnect(!0)}disconnect(){var e;if((e=this._logger)===null||e===void 0||e.trace(`PersistentConnection disconnect currentConnectionExists:${(!!this._currentConnection).toString()} connecting:${this._connecting.toString()}`),this._connecting=!1,this._currentConnection){const r=this._currentConnection;this._currentConnection=void 0,r.disconnect()}}assumeExternalDisconnect(){var e,r;(e=this._logger)===null||e===void 0||e.trace("PersistentConnection assumeExternalDisconnect"),(r=this._currentConnection)===null||r===void 0||r.assumeExternalDisconnect()}reconnect(){this._reconnect(!0)}acknowledgeSuccessfulReconnect(){this._previousConnection&&(this._previousConnection.disconnect(),this._previousConnection=void 0)}_startTryingToConnect(e=!1){this._connecting=!0,this._connectionRetryCount=0,this._tryConnect(e)}_tryConnect(e=!1){var r,n;(r=this._logger)===null||r===void 0||r.trace(`PersistentConnection tryConnect currentConnectionExists:${(!!this._currentConnection).toString()} connecting:${this._connecting.toString()}`);const i=e?this._initialRetryLimit:this._retryLimit;(n=this._retryTimerGenerator)!==null&&n!==void 0||(this._retryTimerGenerator=hC(120));const s=this._currentConnection=new this._type(PI(this._target),this._config);s.onReceive(o=>this.emit(this.onReceive,o)),s.onConnect(()=>{this.emit(this.onConnect),this._connecting=!1,this._retryTimerGenerator=void 0}),s.onDisconnect((o,a)=>{var l,u,c;if(this.emit(this.onDisconnect,o,a),o)this.emit(this.onEnd,!0),this._connecting=!1,this._retryTimerGenerator=void 0,s.disconnect(),this._currentConnection===s&&(this._currentConnection=void 0),this._previousConnection===s&&(this._previousConnection=void 0);else if(this._connecting){if((l=this._logger)===null||l===void 0||l.debug(`Connection error caught: ${(u=a==null?void 0:a.message)!==null&&u!==void 0?u:"unknown error"}`),this._connectionRetryCount>=i)return;this._connectionRetryCount++;const h=this._retryTimerGenerator.next().value;h!==0&&((c=this._logger)===null||c===void 0||c.info(`Retrying in ${h} seconds`)),setTimeout(()=>{var d;this._connecting&&((d=this._logger)===null||d===void 0||d.info(e?"Retrying connection":"Trying to reconnect"),this._tryConnect())},h*1e3)}else this._reconnect()}),s.connect()}_reconnect(e=!1){e&&this._config.overlapManualReconnect?(this._previousConnection=this._currentConnection,this._currentConnection=void 0):this.disconnect(),this._startTryingToConnect(e)}}var li=null;typeof WebSocket<"u"?li=WebSocket:typeof MozWebSocket<"u"?li=MozWebSocket:typeof global<"u"?li=global.WebSocket||global.MozWebSocket:typeof window<"u"?li=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(li=self.WebSocket||self.MozWebSocket);class pO extends dO{constructor(e,r){if(super(r),this._socket=null,this._closingOnDemand=!1,e.hostName&&e.port)this._url=`ws${e.secure?"s":""}://${e.hostName}:${e.port}`;else if(e.url)this._url=e.url;else throw new Error("WebSocketConnection requires either hostName & port or url to be set")}get hasSocket(){return!!this._socket}sendRaw(e){var r;(r=this._socket)===null||r===void 0||r.send(e)}connect(){var e,r;(e=this._logger)===null||e===void 0||e.trace("WebSocketConnection connect"),this._connecting=!0,this._socket=new li(this._url,(r=this._additionalOptions)===null||r===void 0?void 0:r.wsOptions),this._socket.onopen=()=>{var n;(n=this._logger)===null||n===void 0||n.trace("WebSocketConnection onOpen"),this._connected=!0,this._connecting=!1,this.emit(this.onConnect)},this._socket.onmessage=({data:n})=>{this.receiveRaw(n.toString())},this._socket.onerror=n=>{var i;(i=this._logger)===null||i===void 0||i.trace(`WebSocketConnection onError message:${n.message}`)},this._socket.onclose=n=>{var i;const s=this._connected,o=this._connecting;if((i=this._logger)===null||i===void 0||i.trace(`WebSocketConnection onClose wasConnected:${s.toString()} wasConnecting:${o.toString()} closingOnDemand:${this._closingOnDemand.toString()} wasClean:${n.wasClean.toString()}`),this._connected=!1,this._connecting=!1,n.wasClean||this._closingOnDemand)this._closingOnDemand=!1,this.emit(this.onDisconnect,!0),this.emit(this.onEnd,!0);else{const a=new Error(`[${n.code}] ${n.reason}`);this.emit(this.onDisconnect,!1,a),this.emit(this.onEnd,!1,a)}this.clearSocket()}}disconnect(){var e,r;(e=this._logger)===null||e===void 0||e.trace("WebSocketConnection disconnect"),this._closingOnDemand=!0,(r=this._socket)===null||r===void 0||r.close()}clearSocket(){this._socket&&(this._socket.onopen=null,this._socket.onmessage=null,this._socket.onerror=null,this._socket.onclose=null,this._socket=null)}}function Hs(t){var e,r,n;if(Array.isArray(t)){for(r=Array(e=t.length);e--;)r[e]=(n=t[e])&&typeof n=="object"?Hs(n):n;return r}if(Object.prototype.toString.call(t)==="[object Object]"){r={};for(e in t)e==="__proto__"?Object.defineProperty(r,e,{value:Hs(t[e]),configurable:!0,enumerable:!0,writable:!0}):r[e]=(n=t[e])&&typeof n=="object"?Hs(n):n;return r}return t}const mO={name:"away-notify"};class lu extends Error{constructor(e,r,n){super(`command "${e}" expected ${r} or more parameters, got ${n}`),this._command=e,this._expectedParams=r,this._actualParams=n,Object.setPrototypeOf(this,lu.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lu)}get command(){return this._command}get expectedParams(){return this._expectedParams}get actualParams(){return this._actualParams}}class uu extends Error{constructor(e,r,n,i){var s;super(`required parameter "${r}" did not validate against ${(s=n.type)!==null&&s!==void 0?s:"regex"} validation: "${i}"`),this._command=e,this._paramName=r,this._paramSpec=n,this._givenValue=i,Object.setPrototypeOf(this,uu.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,uu)}get command(){return this._command}get paramName(){return this._paramName}get paramSpec(){return this._paramSpec}get givenValue(){return this._givenValue}}const Li={channelTypes:"#&",supportedUserModes:"iwso",supportedChannelModes:{prefix:"ov",list:"b",alwaysWithParam:"ovk",paramWhenSet:"l",noParam:"imnpst"},prefixes:[{modeChar:"v",prefix:"+"},{modeChar:"o",prefix:"@"}]};var y1={exports:{}};(function(t){t.exports=e=>{if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")},t.exports.default=t.exports})(y1);var gO=y1.exports;const yO=es(gO);function Cp(t,e="#&"){return new RegExp(`^[${yO(e)}][^ \b\0
\r,]+$`).test(t)}const m0={0:"\0",n:`
`,r:"\r","":""};function g0(t){if(!t.startsWith("")||(t=t.substring(1),t.endsWith("")&&(t=t.slice(0,-1)),!t))return!1;t=t.replace(/\x10(.)/,(n,i)=>i in m0?m0[i]:"");let[e,r=""]=Nn(t," ",2);return e=e?e.toUpperCase():"",{command:e,params:r}}const vO={"\\":"\\",";":":","\n":"n","\r":"r"," ":"s"};function _O(t){return t.replace(/[\\;\n\r ]/g,e=>`\\${vO[e]}`)}function wO(t){let e=`${t.nick}`;return t.user&&(e+=`!${t.user}`),t.host&&(e+=`@${t.host}`),e}function xO(t,e,r,n,i=Li,s=!1){const o=new t(t.COMMAND,void 0,{serverProperties:i}),a={};if(o._paramSpec&&$f(o._paramSpec,(l,u)=>{if(!(s&&l.noServer)&&!(!s&&l.noClient)){if(u in e){const c=e[u];if(c!==void 0){if(t.checkParam(c,l,i))a[u]={value:c,trailing:!!l.trailing};else if(!l.optional)throw new Error(`required parameter "${u}" did not suit requirements: "${c}"`)}}if(!(u in a)&&!l.optional)throw new Error(`required parameter "${u}" not found in command "${t.COMMAND}"`)}}),o._parsedParams=a,o._paramSpec)for(const l of Object.keys(o._paramSpec))Object.defineProperty(o,l,{get(){var u,c;return(c=(u=this._parsedParams)===null||u===void 0?void 0:u[l])===null||c===void 0?void 0:c.value}});return o._initPrefixAndTags(r,n),o}let M=class v1{static checkParam(e,r,n=Li){return!(r.type==="channel"&&!Cp(e,n.channelTypes)||r.type==="channelList"&&!e.split(",").every(s=>Cp(s,n.channelTypes))||r.match&&!r.match.test(e))}constructor(e,{params:r,tags:n,prefix:i,rawLine:s}={},{serverProperties:o=Li,isServer:a=!1,shouldParseParams:l=!0}={},u){this._params=[],this._serverProperties=Li,this._paramSpec=u,this._command=e,this._params=r,this._tags=n??new Map,this._prefix=i,this._serverProperties=o,this._raw=s,l&&this.parseParams(a)}getMinParamCount(e=!1){return this._paramSpec?Object.values(this._paramSpec).filter(r=>r.noServer&&e||r.noClient&&!e?!1:!r.optional).length:0}get paramCount(){var e,r;return(r=(e=this._params)===null||e===void 0?void 0:e.length)!==null&&r!==void 0?r:0}prefixToString(){return this._prefix?wO(this._prefix):""}tagsToString(){return[...this._tags.entries()].map(([e,r])=>r?`${e}=${_O(r)}`:e).join(";")}toString(e=!1,r=!1){const i=[r?this._buildCommandFromRawParams():this._buildCommandFromNamedParams()];if(e){const o=this.prefixToString();o&&i.unshift(`:${o}`)}const s=this.tagsToString();return s&&i.unshift(`@${s}`),i.join(" ")}_initPrefixAndTags(e,r){this._prefix=e,r&&(this._tags=r)}parseParams(e=!1){if(this._params){let r=this.getMinParamCount(e);if(r>this._params.length)throw new lu(this._command,r,this._params.length);const n=this._paramSpec;if(!n)return;let i=0;const s={};for(const[o,a]of Object.entries(n)){if(a.noServer&&e||a.noClient&&!e)continue;if(this._params.length-i<=r){if(a.optional)continue;if(this._params.length-i!==r)throw new Error("not enough parameters left for required parameters parsing (this is a library bug)")}let l=this._params[i];if(!l){if(a.optional)break;throw new Error("unexpected parameter underflow")}if(a.rest){const u=[];for(;this._params[i]&&!this._params[i].trailing;)u.push(this._params[i].value),++i;if(!u.length){if(a.optional)continue;throw new Error(`no parameters left for required rest parameter "${o}"`)}l={value:u.join(" "),trailing:!1}}if(v1.checkParam(l.value,a))s[o]={...l},a.optional||--r,a.rest||++i;else if(!a.optional)throw new uu(this._command,o,a,l.value);if(a.trailing)break}if(this._parsedParams=s,this._paramSpec)for(const o of Object.keys(this._paramSpec))Object.defineProperty(this,o,{get(){var a,l;return(l=(a=this._parsedParams)===null||a===void 0?void 0:a[o])===null||l===void 0?void 0:l.value}})}}get rawParamValues(){var e,r;return(r=(e=this._params)===null||e===void 0?void 0:e.map(n=>n.value))!==null&&r!==void 0?r:[]}get prefix(){return this._prefix}get command(){return this._command}get tags(){return this._tags}get rawLine(){return this._raw}isResponseTo(e){return!1}endsResponseTo(e){return!1}_acceptsInReplyCollection(e){return e.isResponseTo(this)}_buildCommandFromNamedParams(){const e=this._paramSpec?Object.keys(this._paramSpec):[];return[this._command,...e.map(r=>{var n;const i=(n=this._parsedParams)===null||n===void 0?void 0:n[r];if(i)return(i.trailing?":":"")+i.value}).filter(r=>r!==void 0)].join(" ")}_buildCommandFromRawParams(){var e,r;return[this._command,...(r=(e=this._params)===null||e===void 0?void 0:e.map(n=>`${n.trailing?":":""}${n.value}`))!==null&&r!==void 0?r:[]].join(" ")}};M.COMMAND="";M.SUPPORTS_CAPTURE=!1;class _1 extends M{constructor(e,r,n){super(e,r,n,{reference:{},type:{optional:!0},additionalParams:{optional:!0}})}}_1.COMMAND="BATCH";const SO={name:"batch",messageTypes:[_1],usesTags:!0},CO={name:"cap-notify"};class w1 extends M{constructor(e,r,n){super(e,r,n,{newUser:{},newHost:{}})}}w1.COMMAND="CHGHOST";const bO={name:"chghost",messageTypes:[w1]},TO={name:"invite-notify"};class x1 extends M{}x1.COMMAND="ACK";const EO={name:"labeled-response",messageTypes:[x1],usesTags:!0},PO={name:"message-tags",usesTags:!0},AO={name:"multi-prefix"},IO=Object.freeze(Object.defineProperty({__proto__:null,AwayNotify:mO,Batch:SO,CapNotify:CO,ChgHost:bO,InviteNotify:TO,LabeledResponse:EO,MessageTags:PO,MultiPrefix:AO},Symbol.toStringTag,{value:"Module"}));class kO{constructor(e,r,...n){this._client=e,this._originalMessage=r,this._messages=[],this._endEventHandlers=new Map,this._types=new Set(n)}untilEvent(e){this._cleanEndEventHandler(e);const r=this._client.on(e,()=>this.end());this._endEventHandlers.set(e,r)}async promise(){return this._promise||(this._promise=new Promise(e=>this._promiseResolve=e)),await this._promise}collect(e){return this._originalMessage._acceptsInReplyCollection(e)?(this._messages.push(e),e.endsResponseTo(this._originalMessage)&&this.end(),!0):!1}end(){this._client.stopCollect(this),this._cleanEndEventHandlers(),this._promiseResolve&&this._promiseResolve(this._messages)}_cleanEndEventHandlers(){this._endEventHandlers.forEach(e=>this._client.removeListener(e)),this._endEventHandlers.clear()}_cleanEndEventHandler(e){this._endEventHandlers.has(e)&&(this._client.removeListener(this._endEventHandlers.get(e)),this._endEventHandlers.delete(e))}}class tg extends M{constructor(e,r,n){super(e,r,n,{password:{}})}}tg.COMMAND="PASS";class zs extends M{constructor(e,r,n){super(e,r,n,{nick:{}})}}zs.COMMAND="NICK";class rg extends M{constructor(e,r,n){super(e,r,n,{user:{},mode:{},unused:{},realName:{trailing:!0}})}}rg.COMMAND="USER";class S1 extends M{constructor(e,r,n){super(e,r,n,{name:{},password:{}})}}S1.COMMAND="OPER";class ng extends M{constructor(e,r,n){super(e,r,n,{text:{trailing:!0,optional:!0}})}}ng.COMMAND="QUIT";class C1 extends M{constructor(e,r,n){super(e,r,n,{server:{},reason:{trailing:!0}})}}C1.COMMAND="SQUIT";class Uo extends M{constructor(e,r,n){super(e,r,n,{channel:{type:"channel"},key:{optional:!0}})}}Uo.COMMAND="JOIN";class Fo extends M{constructor(e,r,n){super(e,r,n,{channel:{type:"channel"},reason:{trailing:!0,optional:!0}})}}Fo.COMMAND="PART";class cu extends Error{constructor(e){super(`Unknown channel mode character ${e}`),this._char=e,Object.setPrototypeOf(this,cu.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cu)}get char(){return this._char}}class b1 extends M{constructor(e,r,n){super(e,r,n,{target:{},modes:{rest:!0,optional:!0}})}get isChannel(){return Cp(this.target,this._serverProperties.channelTypes)}separate(){const e=[],r=this.modes;if(!r)throw new Error("can't separate a channel mode request, just set actions");const n=r.split(" "),i=n.shift();let s="add";for(const o of i){let a=s;switch(o){case"+":{s="add";break}case"-":{s="remove";break}default:{let l=!1,u=!0;if(this.isChannel){if(this._serverProperties.supportedChannelModes.alwaysWithParam.includes(o)||this._serverProperties.supportedChannelModes.prefix.includes(o))l=!0;else if(this._serverProperties.supportedChannelModes.paramWhenSet.includes(o))s==="add"&&(l=!0);else if(this._serverProperties.supportedChannelModes.list.includes(o))n.length?l=!0:a="getList";else if(!this._serverProperties.supportedChannelModes.noParam.includes(o))throw new cu(o)}else u=this._serverProperties.supportedUserModes.includes(o);if(l&&!n.length)continue;e.push({prefix:this._prefix,action:a,letter:o,param:l?n.shift():void 0,known:u})}}}return e}}b1.COMMAND="MODE";class T1 extends M{constructor(e,r,n){super(e,r,n,{channel:{type:"channel"},newTopic:{optional:!0,trailing:!0}})}}T1.COMMAND="TOPIC";class ea extends M{constructor(e,r,n){super(e,r,n,{channel:{type:"channelList",optional:!0}})}}ea.COMMAND="NAMES";ea.SUPPORTS_CAPTURE=!0;class E1 extends M{constructor(e,r,n){super(e,r,n,{channel:{optional:!0},server:{optional:!0}})}}E1.COMMAND="LIST";class P1 extends M{constructor(e,r,n){super(e,r,n,{target:{},channel:{type:"channel"}})}}P1.COMMAND="INVITE";class A1 extends M{constructor(e,r,n){super(e,r,n,{channel:{type:"channel"},target:{},reason:{trailing:!0,optional:!0}})}}A1.COMMAND="KICK";class I1 extends M{constructor(e,r,n){super(e,r,n,{server:{optional:!0}})}}I1.COMMAND="TIME";class jo extends M{constructor(e,r,n){super(e,r,n,{target:{},text:{trailing:!0}})}}jo.COMMAND="PRIVMSG";class Yu extends M{constructor(e,r,n){super(e,r,n,{target:{},text:{trailing:!0}})}}Yu.COMMAND="NOTICE";class Ju extends M{constructor(e,r,n){super(e,r,n,{mask:{},flags:{optional:!0},extendedMask:{optional:!0,trailing:!0}})}}Ju.COMMAND="WHO";class k1 extends M{constructor(e,r,n){super(e,r,n,{server:{optional:!0},nickMask:{}})}}k1.COMMAND="WHOIS";class R1 extends M{constructor(e,r,n){super(e,r,n,{nick:{},count:{optional:!0},server:{optional:!0}})}}R1.COMMAND="WHOWAS";class M1 extends M{constructor(e,r,n){super(e,r,n,{target:{},reason:{trailing:!0,optional:!0}})}}M1.COMMAND="KILL";class du extends M{constructor(e,r,n){super(e,r,n,{text:{trailing:!0}})}}du.COMMAND="PING";class hu extends M{constructor(e,r,n){super(e,r,n,{server:{noClient:!0},text:{trailing:!0}})}}hu.COMMAND="PONG";class O1 extends M{constructor(e,r,n){super(e,r,n,{text:{trailing:!0}})}}O1.COMMAND="ERROR";class D1 extends M{constructor(e,r,n){super(e,r,n,{text:{trailing:!0,optional:!0}})}}D1.COMMAND="AWAY";class N1 extends M{}N1.COMMAND="REHASH";class B1 extends M{}B1.COMMAND="RESTART";class L1 extends M{constructor(e,r,n){super(e,r,n,{text:{trailing:!0}})}}L1.COMMAND="WALLOPS";class U1 extends M{constructor(e,r,n){super(e,r,n,{nicks:{rest:!0}})}}U1.COMMAND="USERHOST";class F1 extends M{constructor(e,r,n){super(e,r,n,{nicks:{rest:!0}})}}F1.COMMAND="ISON";class bt extends M{constructor(e,r,n){super(e,r,n,{target:{match:/^(?:[a-z_\-\[\]\\^{}|`][a-z0-9_\-\[\]\\^{}|`]+|\*)$/i,optional:!0,noClient:!0},subCommand:{match:/^(?:LS|LIST|REQ|ACK|NAK|END|NEW|DEL)$/i},version:{match:/^\d+$/,optional:!0},continued:{match:/^\*$/,optional:!0},capabilities:{trailing:!0,optional:!0}})}isResponseTo(e){if(!(e instanceof bt))return!1;switch(this.subCommand){case"ACK":case"NAK":return e.subCommand==="REQ"&&e.capabilities===this.capabilities.trim();case"LS":case"LIST":return e.subCommand===this.subCommand;default:return!1}}endsResponseTo(e){if(!(e instanceof bt))return!1;switch(this.subCommand){case"LS":case"LIST":return!this.continued;default:return!0}}}bt.COMMAND="CAP";bt.SUPPORTS_CAPTURE=!0;class j1 extends M{constructor(e,r,n){super(e,r,n,{target:{}})}}j1.COMMAND="TAGMSG";const $1=Object.freeze(Object.defineProperty({__proto__:null,Away:D1,CapabilityNegotiation:bt,ChannelInvite:P1,ChannelJoin:Uo,ChannelKick:A1,ChannelList:E1,ChannelPart:Fo,ClientQuit:ng,ErrorMessage:O1,IsOnQuery:F1,Kill:M1,Mode:b1,Names:ea,NickChange:zs,Notice:Yu,OperLogin:S1,Password:tg,Ping:du,Pong:hu,PrivateMessage:jo,Rehash:N1,Restart:B1,ServerQuit:C1,TagMessage:j1,Time:I1,Topic:T1,UserHostQuery:U1,UserRegistration:rg,Wallops:L1,WhoIsQuery:k1,WhoQuery:Ju,WhoWasQuery:R1},Symbol.toStringTag,{value:"Module"}));class ig extends M{constructor(e,r,n){super(e,r,n,{me:{},welcomeText:{trailing:!0}})}}ig.COMMAND="001";class q1 extends M{constructor(e,r,n){super(e,r,n,{me:{},yourHost:{trailing:!0}})}}q1.COMMAND="002";class V1 extends M{constructor(e,r,n){super(e,r,n,{me:{},createdText:{trailing:!0}})}}V1.COMMAND="003";class sg extends M{constructor(e,r,n){super(e,r,n,{me:{},serverName:{},version:{},userModes:{},channelModes:{},channelModesWithParam:{optional:!0}})}}sg.COMMAND="004";class og extends M{constructor(e,r,n){super(e,r,n,{me:{},supports:{rest:!0},suffix:{trailing:!0}})}}og.COMMAND="005";class H1 extends M{constructor(e,r,n){super(e,r,n,{me:{},modes:{}})}}H1.COMMAND="221";class z1 extends M{constructor(e,r,n){super(e,r,n,{me:{},nick:{},text:{trailing:!0}})}}z1.COMMAND="301";class G1 extends M{constructor(e,r,n){super(e,r,n,{me:{},hosts:{trailing:!0}})}}G1.COMMAND="302";class W1 extends M{constructor(e,r,n){super(e,r,n,{me:{},suffix:{trailing:!0}})}}W1.COMMAND="305";class Q1 extends M{constructor(e,r,n){super(e,r,n,{me:{},suffix:{trailing:!0}})}}Q1.COMMAND="306";class K1 extends M{constructor(e,r,n){super(e,r,n,{me:{},nick:{},username:{},host:{},_unused:{},realname:{trailing:!0}})}}K1.COMMAND="311";class Y1 extends M{constructor(e,r,n){super(e,r,n,{me:{},query:{},suffix:{trailing:!0}})}isResponseTo(e){return e instanceof Ju}endsResponseTo(){return!0}}Y1.COMMAND="315";class J1 extends M{constructor(e,r,n){super(e,r,n,{me:{},nickMask:{},suffix:{trailing:!0}})}}J1.COMMAND="318";class X1 extends M{constructor(e,r,n){super(e,r,n,{me:{},nick:{},channels:{trailing:!0}})}}X1.COMMAND="319";class Z1 extends M{constructor(e,r,n){super(e,r,n,{me:{},channel:{type:"channel"},memberCount:{},topic:{trailing:!0}})}}Z1.COMMAND="322";class eb extends M{constructor(e,r,n){super(e,r,n,{me:{},suffix:{trailing:!0}})}}eb.COMMAND="323";class tb extends M{constructor(e,r,n){super(e,r,n,{me:{},channel:{type:"channel"},modes:{rest:!0}})}}tb.COMMAND="324";class rb extends M{constructor(e,r,n){super(e,r,n,{me:{},channel:{type:"channel"},suffix:{trailing:!0}})}}rb.COMMAND="331";class nb extends M{constructor(e,r,n){super(e,r,n,{me:{},channel:{type:"channel"},topic:{trailing:!0}})}}nb.COMMAND="332";class ib extends M{constructor(e,r,n){super(e,r,n,{me:{},channel:{type:"channel"},who:{},ts:{}})}}ib.COMMAND="333";class sb extends M{constructor(e,r,n){super(e,r,n,{me:{},nick:{},channel:{type:"channel"}})}}sb.COMMAND="341";class ob extends M{constructor(e,r,n){super(e,r,n,{me:{},channel:{type:"channel"},mask:{},creatorName:{optional:!0},timestamp:{optional:!0}})}}ob.COMMAND="348";class ab extends M{constructor(e,r,n){super(e,r,n,{me:{},channel:{type:"channel"},suffix:{trailing:!0}})}}ab.COMMAND="349";class lb extends M{constructor(e,r,n){super(e,r,n,{me:{},channel:{},user:{},host:{},server:{},nick:{},flags:{},hopsAndRealName:{trailing:!0}})}get isAway(){return this.flags.includes("G")}get isOper(){return this.flags.includes("*")}get isBot(){return this.flags.includes("B")}isResponseTo(e){return e instanceof Ju}}lb.COMMAND="352";class ub extends M{constructor(e,r,n){super(e,r,n,{me:{},channelType:{},channel:{type:"channel"},names:{trailing:!0}})}isResponseTo(e){return e instanceof ea}}ub.COMMAND="353";class cb extends M{constructor(e,r,n){super(e,r,n,{me:{},channel:{},suffix:{trailing:!0}})}isResponseTo(e){return e instanceof ea}endsResponseTo(){return!0}}cb.COMMAND="366";class db extends M{constructor(e,r,n){super(e,r,n,{me:{},channel:{type:"channel"},mask:{},creatorName:{optional:!0},timestamp:{optional:!0}})}}db.COMMAND="367";class hb extends M{constructor(e,r,n){super(e,r,n,{me:{},channel:{type:"channel"},suffix:{trailing:!0}})}}hb.COMMAND="368";class fb extends M{constructor(e,r,n){super(e,r,n,{me:{},line:{trailing:!0}})}}fb.COMMAND="372";class pb extends M{constructor(e,r,n){super(e,r,n,{me:{},line:{trailing:!0}})}}pb.COMMAND="375";class ag extends M{constructor(e,r,n){super(e,r,n,{me:{},suffix:{trailing:!0}})}}ag.COMMAND="376";class mb extends M{constructor(e,r,n){super(e,r,n,{me:{},suffix:{trailing:!0}})}}mb.COMMAND="381";class gb extends M{constructor(e,r,n){super(e,r,n,{me:{},server:{optional:!0},timestamp:{trailing:!0}})}}gb.COMMAND="391";class yb extends M{constructor(e,r,n){super(e,r,n,{me:{},nick:{},suffix:{trailing:!0}})}}yb.COMMAND="401";class vb extends M{constructor(e,r,n){super(e,r,n,{me:{},server:{},suffix:{trailing:!0}})}}vb.COMMAND="402";class _b extends M{constructor(e,r,n){super(e,r,n,{me:{},channel:{},suffix:{trailing:!0}})}}_b.COMMAND="403";class wb extends M{constructor(e,r,n){super(e,r,n,{me:{},channel:{type:"channel"},suffix:{trailing:!0}})}}wb.COMMAND="404";class xb extends M{constructor(e,r,n){super(e,r,n,{me:{},channel:{type:"channel"},suffix:{trailing:!0}})}}xb.COMMAND="405";class Sb extends M{constructor(e,r,n){super(e,r,n,{me:{},subCommand:{},suffix:{trailing:!0}})}}Sb.COMMAND="410";class Cb extends M{constructor(e,r,n){super(e,r,n,{me:{},originalCommand:{},suffix:{trailing:!0}})}isResponseTo(e){return e.command===this.originalCommand}endsResponseTo(){return!0}}Cb.COMMAND="421";class lg extends M{constructor(e,r,n){super(e,r,n,{me:{},suffix:{trailing:!0}})}}lg.COMMAND="422";class bb extends M{constructor(e,r,n){super(e,r,n,{me:{},suffix:{trailing:!0}})}isResponseTo(e){return e.command==="NICK"}endsResponseTo(){return!0}}bb.COMMAND="431";class Tb extends M{constructor(e,r,n){super(e,r,n,{me:{},nick:{},suffix:{trailing:!0}})}isResponseTo(e){return e.command==="NICK"}endsResponseTo(){return!0}}Tb.COMMAND="432";class Eb extends M{constructor(e,r,n){super(e,r,n,{me:{},nick:{},suffix:{trailing:!0}})}isResponseTo(e){return e.command==="NICK"}endsResponseTo(){return!0}}Eb.COMMAND="433";class Pb extends M{constructor(e,r,n){super(e,r,n,{me:{},nick:{},suffix:{trailing:!0}})}isResponseTo(e){return e.command==="NICK"}endsResponseTo(){return!0}}Pb.COMMAND="436";class Ab extends M{constructor(e,r,n){super(e,r,n,{me:{},nick:{},channel:{type:"channel"},suffix:{trailing:!0}})}isResponseTo(e){return e.command==="NICK"}endsResponseTo(){return!0}}Ab.COMMAND="441";class Ib extends M{constructor(e,r,n){super(e,r,n,{me:{},channel:{type:"channel"},suffix:{trailing:!0}})}isResponseTo(e){return e.command==="NICK"}endsResponseTo(){return!0}}Ib.COMMAND="442";class kb extends M{constructor(e,r,n){super(e,r,n,{me:{},nick:{},channel:{type:"channel"},suffix:{trailing:!0}})}isResponseTo(e){return e.command==="NICK"}endsResponseTo(){return!0}}kb.COMMAND="443";class Rb extends M{constructor(e,r,n){super(e,r,n,{me:{},suffix:{trailing:!0}})}}Rb.COMMAND="451";class Mb extends M{constructor(e,r,n){super(e,r,n,{me:{},originalCommand:{},suffix:{trailing:!0}})}}Mb.COMMAND="461";class ug extends M{constructor(e,r,n){super(e,r,n,{me:{},suffix:{trailing:!0}})}}ug.COMMAND="462";class Ob extends M{constructor(e,r,n){super(e,r,n,{me:{},channel:{type:"channel"},suffix:{trailing:!0}})}}Ob.COMMAND="471";class Db extends M{constructor(e,r,n){super(e,r,n,{me:{},char:{},suffix:{trailing:!0}})}}Db.COMMAND="472";class Nb extends M{constructor(e,r,n){super(e,r,n,{me:{},channel:{type:"channel"},suffix:{trailing:!0}})}}Nb.COMMAND="473";class Bb extends M{constructor(e,r,n){super(e,r,n,{me:{},channel:{type:"channel"},suffix:{trailing:!0}})}}Bb.COMMAND="474";class Lb extends M{constructor(e,r,n){super(e,r,n,{me:{},channel:{type:"channel"},suffix:{trailing:!0}})}}Lb.COMMAND="475";class Ub extends M{constructor(e,r,n){super(e,r,n,{me:{},channel:{},suffix:{trailing:!0}})}}Ub.COMMAND="479";class Fb extends M{constructor(e,r,n){super(e,r,n,{me:{},suffix:{trailing:!0}})}}Fb.COMMAND="481";class jb extends M{constructor(e,r,n){super(e,r,n,{me:{},channel:{},suffix:{trailing:!0}})}}jb.COMMAND="482";class $b extends M{constructor(e,r,n){super(e,r,n,{me:{},suffix:{trailing:!0}})}}$b.COMMAND="491";class qb extends M{constructor(e,r,n){super(e,r,n,{me:{},modeChar:{optional:!0,match:/^\w$/},suffix:{trailing:!0}})}}qb.COMMAND="501";class Vb extends M{constructor(e,r,n){super(e,r,n,{me:{},suffix:{trailing:!0}})}}Vb.COMMAND="502";const Hb=Object.freeze(Object.defineProperty({__proto__:null,Error401NoSuchNick:yb,Error402NoSuchServer:vb,Error403NoSuchChannel:_b,Error404CanNotSendToChan:wb,Error405TooManyChannels:xb,Error410InvalidCapCmd:Sb,Error421UnknownCommand:Cb,Error422NoMotd:lg,Error431NoNickNameGiven:bb,Error432ErroneusNickname:Tb,Error433NickNameInUse:Eb,Error436NickCollision:Pb,Error441UserNotInChannel:Ab,Error442NotOnChannel:Ib,Error443UserOnChannel:kb,Error451NotRegistered:Rb,Error461NeedMoreParams:Mb,Error462AlreadyRegistered:ug,Error471ChannelIsFull:Ob,Error472UnknownMode:Db,Error473InviteOnlyChan:Nb,Error474BannedFromChan:Bb,Error475BadChannelKey:Lb,Error479BadChanName:Ub,Error481NoPrivileges:Fb,Error482ChanOpPrivsNeeded:jb,Error491NoOperHost:$b,Error501UmodeUnknownFlag:qb,Error502UsersDontMatch:Vb,Reply001Welcome:ig,Reply002YourHost:q1,Reply003Created:V1,Reply004ServerInfo:sg,Reply005Isupport:og,Reply221UmodeIs:H1,Reply301Away:z1,Reply302UserHost:G1,Reply305UnAway:W1,Reply306NowAway:Q1,Reply311WhoisUser:K1,Reply315EndOfWho:Y1,Reply318EndOfWhois:J1,Reply319WhoisChannels:X1,Reply322List:Z1,Reply323ListEnd:eb,Reply324ChannelModeIs:tb,Reply331NoTopic:rb,Reply332Topic:nb,Reply333TopicWhoTime:ib,Reply341Inviting:sb,Reply348ExceptList:ob,Reply349EndOfExceptList:ab,Reply352WhoReply:lb,Reply353NamesReply:ub,Reply366EndOfNames:cb,Reply367BanList:db,Reply368EndOfBanList:hb,Reply372Motd:fb,Reply375MotdStart:pb,Reply376EndOfMotd:ag,Reply381YoureOper:mb,Reply391Time:gb},Symbol.toStringTag,{value:"Module"})),RO=new Map([...Object.values($1),...Object.values(Hb)].map(t=>[t.COMMAND,t]));function MO(t){const[e,r]=Nn(t,"!",2);if(r){const[n,i]=Nn(r,"@",2);return i?{nick:e,user:n,host:i}:{nick:e,host:n}}else return{nick:e}}const y0={":":";",n:`
`,r:"\r",s:" "};function OO(t){const e=new Map,r=t.split(";");for(const n of r){const[i,s]=Nn(n,"=",2);i!==""&&e.set(i,s?s.replace(/\\(.?)/g,(o,a)=>Object.prototype.hasOwnProperty.call(y0,a)?y0[a]:a):"")}return e}function DO(t,e=Li,r=RO,n=!1,i=[],s=!0){const o=t.split(" ");let a,l;const u=[];let c,h;for(;o.length;){if(a=o[0],a.startsWith("@")&&!c&&!l&&!h)c=OO(a.slice(1));else if(a.startsWith(":"))if(!h&&!l)a.length>1&&(h=MO(a.slice(1)));else{u.push({value:o.join(" ").slice(1),trailing:!0});break}else l?u.push({value:a,trailing:!1}):l=a.toUpperCase();o.shift()}if(c||(c=new Map),!l)throw new Error(`line without command received: ${t}`);s&&(s=!i.includes(l));let d=M;return r.has(l)&&(d=r.get(l)),new d(l,{params:u,tags:c,prefix:h,rawLine:t},{serverProperties:e,isServer:n,shouldParseParams:s})}class zb extends ss{constructor(e){super(),this._registered=!1,this._supportsCapabilities=!0,this._events=new Map,this._registeredMessageTypes=new Map,this.onConnect=this.registerEvent(),this.onRegister=this.registerEvent(),this.onDisconnect=this.registerEvent(),this.onPrivmsg=this.registerEvent(),this.onAction=this.registerEvent(),this.onNotice=this.registerEvent(),this.onNickChange=this.registerEvent(),this.onCtcp=this.registerEvent(),this.onCtcpReply=this.registerEvent(),this.onPasswordError=this.registerEvent(),this.onAnyMessage=this.registerEvent(),this._serverProperties=Hs(Li),this._supportedFeatures={},this._collectors=[],this._clientCapabilities=new Map,this._serverCapabilities=new Map,this._negotiatedCapabilities=new Map,this._currentChannels=new Set,this._hasRegisteredBefore=!1,this._channelsFromLastRegister=new Set,this._initialConnectionSetupDone=!1;const{connection:r,credentials:n,channels:i,channelTypes:s,webSocket:o,logger:a={}}=e;this._options=e;const{pingOnInactivity:l=60,pingTimeout:u=10}=r;this._pingOnInactivity=l,this._pingTimeout=u,this._currentNick=n.nick,this._logger=os({name:"ircv3",emoji:!0,...a}),this.registerCoreMessageTypes();const{hostName:c,secure:h,reconnect:d=!0}=r,p={hostName:c,port:this.port,secure:h},m={lineBased:!0,logger:this._logger,additionalOptions:e.connectionOptions},_=o?pO:hO;d?this._connection=new fO(_,p,m):this._connection=new _(m,this._logger,e.connectionOptions);for(const w of Object.values(IO))this.addCapability(w);this.addInternalListener(this.onRegister,async()=>{const w=this._hasRegisteredBefore,v=this._channelsFromLastRegister;this._hasRegisteredBefore=!0,this._channelsFromLastRegister=new Set;const g=w&&this._options.rejoinChannelsOnReconnect?v:await jf(i);if(g)for(const y of g)this.join(y)}),this.onTypedMessage(bt,async({subCommand:w,capabilities:v})=>{const g=v.split(" ");switch(w.toUpperCase()){case"NEW":{this._logger.debug(`Server registered new capabilities: ${g.join(", ")}`);const y=ks(g,b=>{if(!b)return{};const[R,O]=Nn(b,"=",2);return{[R]:{name:R,param:O||!0}}});for(const[b,R]of Object.entries(y))this._serverCapabilities.set(b,R);const x=Object.keys(y);await this._negotiateCapabilities(Array.from(this._clientCapabilities.entries()).filter(([b])=>x.includes(b)).map(([,b])=>b));break}case"DEL":{this._logger.debug(`Server removed capabilities: ${g.join(", ")}`);for(const y of g)this._serverCapabilities.delete(y),this._negotiatedCapabilities.delete(y)}}}),this.onTypedMessage(du,({text:w})=>{this.sendMessage(hu,{text:w})}),this.onTypedMessage(ig,({me:w})=>this._handleReceivedClientNick(w)),this.onTypedMessage(sg,({userModes:w})=>{w&&(this._serverProperties.supportedUserModes=w)}),this.onTypedMessage(og,({supports:w})=>{const v=ks(w.split(" "),g=>{const[y,x]=Nn(g,"=",2);return{[y]:x||!0}});this._supportedFeatures={...this._supportedFeatures,...v}}),this.onTypedMessage(ag,({me:w})=>{this._registered||(this._handleReceivedClientNick(w),this._registered=!0,this.emit(this.onRegister))}),this.onTypedMessage(lg,({me:w})=>{this._registered||(this._handleReceivedClientNick(w),this._registered=!0,this.emit(this.onRegister))}),this.onTypedMessage(ug,({me:w})=>{this._registered||(this._logger.warn("We thought we're not registered yet, but we actually are"),this._handleReceivedClientNick(w),this._registered=!0,this.emit(this.onRegister))}),this.onTypedMessage(jo,w=>{var v;const{target:g,text:y}=w,x=g0(y),b=(v=w.prefix)===null||v===void 0?void 0:v.nick;x?x.command==="ACTION"?this.emit(this.onAction,g,b,x.params,w):this.emit(this.onCtcp,g,b,x.command,x.params,w):this.emit(this.onPrivmsg,g,b,y,w)}),this.onTypedMessage(zs,w=>{var v;const{nick:g}=w,y=(v=w.prefix)===null||v===void 0?void 0:v.nick;y===this._currentNick&&(this._currentNick=g),this.emit(this.onNickChange,y,g,w)}),this.onTypedMessage(Yu,w=>{var v;const{target:g,text:y}=w,x=g0(y),b=(v=w.prefix)===null||v===void 0?void 0:v.nick;x&&this.emit(this.onCtcpReply,g,b,x.command,x.params,w),this.emit(this.onNotice,g,b,y,w)}),this._options.manuallyAcknowledgeJoins||this.onTypedMessage(Uo,({channel:w,prefix:v})=>{(v==null?void 0:v.nick)===this._currentNick&&this.acknowledgeJoin(w)}),this.onTypedMessage(Fo,w=>{var v;((v=w.prefix)===null||v===void 0?void 0:v.nick)===this._currentNick&&(this._currentChannels.delete(w.channel),this._channelsFromLastRegister.delete(w.channel))}),this.addInternalListener(this.onRegister,()=>this._startPingCheckTimer()),this._desiredNick=n.nick,this._userName=n.userName,this._realName=n.realName,s&&(this._serverProperties.channelTypes=s)}receiveLine(e){var r;this._logger.debug(`Received message: ${e}`);let n;try{n=DO(e,this._serverProperties,this._registeredMessageTypes,!0,this._options.nonConformingCommands)}catch(i){this._logger.error(`Error parsing message: ${i.message}`),this._logger.trace((r=i.stack)!==null&&r!==void 0?r:"No stack available");return}this._logger.trace(`Parsed message: ${JSON.stringify(n)}`),this._startPingCheckTimer(),this.emit(this.onAnyMessage,n),this._handleEvents(n)}get serverProperties(){return Hs(this._serverProperties)}get port(){const{webSocket:e,connection:{port:r,secure:n}}=this._options;return r||(e?n?443:80:n?6697:6667)}pingCheck(){const e=Date.now(),r=e.toString(),n=this.onTypedMessage(hu,i=>{const{text:s}=i;s===r&&(this._logger.debug(`Current ping: ${Date.now()-e}ms`),this._pingTimeoutTimer&&clearTimeout(this._pingTimeoutTimer),this.removeMessageListener(n))});this._pingTimeoutTimer=setTimeout(()=>{this.removeMessageListener(n),this._options.connection.reconnect===!1?this._logger.error(`Disconnecting because the last ping took over ${this._pingTimeout} seconds`):this._logger.warn(`Reconnecting because the last ping took over ${this._pingTimeout} seconds`),this._connection.assumeExternalDisconnect()},this._pingTimeout*1e3),this.sendMessage(du,{text:r})}reconnect(e){this.quit(e),this.connect()}registerMessageType(e){e.COMMAND!==""&&(this._logger.trace(`Registering message type ${e.COMMAND}`),this._registeredMessageTypes.set(e.COMMAND.toUpperCase(),e))}knowsCommand(e){return this._registeredMessageTypes.has(e.toUpperCase())}getCommandClass(e){return this._registeredMessageTypes.get(e.toUpperCase())}acknowledgeJoin(e){this._currentChannels.add(e),this._channelsFromLastRegister.add(e)}connect(){this._supportsCapabilities=!1,this._negotiatedCapabilities=new Map,this._currentChannels=new Set,this._currentNick=this._desiredNick,this._setupConnection(),this._logger.info(`Connecting to ${this._options.connection.hostName}:${this.port}`),this._connection.connect()}addCapability(e){if(this._clientCapabilities.set(e.name,e),e.messageTypes)for(const r of Object.values(e.messageTypes))this.registerMessageType(r)}async registerCapability(e){return this.addCapability(e),this._serverCapabilities.has(e.name)?await this._negotiateCapabilities([e]):[]}send(e){this.sendRaw(e.toString())}sendRaw(e){this._connection.isConnected&&(this._logger.debug(`Sending message: ${e}`),this._connection.sendLine(e))}onNamedMessage(e,r,n){this._events.has(e)||this._events.set(e,new Map);const i=this._events.get(e);if(!n)do n=`${e}:${II(Math.random()*1e4,4,"0")}`;while(i.has(n));return i.set(n,r),n}onTypedMessage(e,r,n){return this.onNamedMessage(e.COMMAND,r,n)}removeMessageListener(e){const[r]=e.split(":");this._events.has(r)&&this._events.get(r).delete(e)}createMessage(e,r,n){const i=n?new Map(Object.entries(n)):void 0;return xO(e,r,void 0,i,this.serverProperties)}sendMessage(e,r,n){this.send(this.createMessage(e,r,n))}async sendMessageAndCaptureReply(e,r){if(!e.SUPPORTS_CAPTURE)throw new Error(`The command "${e.COMMAND}" does not support reply capture`);const n=this.createMessage(e,r),i=this.collect(n).promise();return this.send(n),await i}get isConnected(){return this._connection.isConnected}get isConnecting(){return this._connection.isConnecting}get isRegistered(){return this._registered}get currentNick(){return this._currentNick}get currentChannels(){return Array.from(this._currentChannels)}collect(e,...r){const n=new kO(this,e,...r);return this._collectors.push(n),n}stopCollect(e){this._collectors.splice(this._collectors.findIndex(r=>r===e),1)}join(e,r){this.sendMessage(Uo,{channel:e,key:r})}part(e){this.sendMessage(Fo,{channel:e})}quit(e){this.sendMessage(ng,{text:e}),this.quitAbruptly()}quitAbruptly(){this._registered=!1,this._connection.disconnect()}say(e,r,n={}){this.sendMessage(jo,{target:e,text:r},n)}sendCtcp(e,r,n){this.say(e,`${r.toUpperCase()} ${n}`)}action(e,r){this.sendCtcp(e,"ACTION",r)}changeNick(e){this._currentNick!==e&&(this._desiredNick=e,this.isRegistered&&this.sendMessage(zs,{nick:e}))}registerCoreMessageTypes(){$f($1,e=>{this.registerMessageType(e)}),$f(Hb,e=>{this.registerMessageType(e)})}async _negotiateCapabilityBatch(e){return await Promise.all(e.filter(r=>r.length).map(async r=>await this._negotiateCapabilities(r)))}async _negotiateCapabilities(e){const r=ks(e,o=>({[o.name]:o})),i=(await this.sendMessageAndCaptureReply(bt,{subCommand:"REQ",capabilities:e.map(o=>o.name).join(" ")})).shift();if(!i)throw new Error("capability negotiation failed unexpectedly without any reply");if(!(i instanceof bt))throw new Error(`capability negotiation failed unexpectedly with "${i.command}" command`);const s=i.capabilities.split(" ").filter(o=>o);if(i.subCommand==="ACK"){this._logger.debug(`Successfully negotiated capabilities: ${s.join(", ")}`);const o=s.map(a=>r[a]);for(const a of o){const l=this._clientCapabilities.get(a.name);l.param=a.param,this._negotiatedCapabilities.set(l.name,l)}return o}else return this._logger.warn(`Failed to negotiate capabilities: ${s.join(", ")}`),new Error("capabilities failed to negotiate")}_setupConnection(){this._initialConnectionSetupDone||(this._connection.onConnect(async()=>{var e,r;this._logger.info(`Connection to server ${this._options.connection.hostName}:${this.port} established`),this.emit(this.onConnect),this._logger.debug("Determining connection password");try{const[n]=await Promise.all([jf(this._options.credentials.password),this.sendMessageAndCaptureReply(bt,{subCommand:"LS",version:"302"}).then(i=>{if(!i.length||!(i[0]instanceof bt))return this._logger.debug("Server does not support capabilities"),[];this._supportsCapabilities=!0;const s=i.map(a=>ks(a.capabilities.split(" "),l=>{if(!l)return{};const[u,c]=Nn(l,"=",2);return{[u]:{name:u,param:c||!0}}}));this._serverCapabilities=new Map(Object.entries(Object.assign({},...s))),this._logger.debug(`Capabilities supported by server: ${Array.from(this._serverCapabilities.keys()).join(", ")}`);const o=s.map(a=>{const l=Object.keys(a);return Array.from(this._clientCapabilities.entries()).filter(([u])=>l.includes(u)).map(([,u])=>u)});return this._negotiateCapabilityBatch(o)}).then(()=>{this.sendMessage(bt,{subCommand:"END"})})]);n&&this.sendMessage(tg,{password:n}),this.sendMessage(zs,{nick:this._desiredNick}),this.sendMessage(rg,{user:(e=this._userName)!==null&&e!==void 0?e:this._desiredNick,mode:"8",unused:"*",realName:(r=this._realName)!==null&&r!==void 0?r:this._desiredNick})}catch(n){this.emit(this.onPasswordError,n),this.quit()}}),this._initialConnectionSetupDone=!0,this._connection.onReceive(e=>{this.receiveLine(e)}),this._connection.onDisconnect((e,r)=>{var n;if(this._registered=!1,this._pingCheckTimer&&clearTimeout(this._pingCheckTimer),this._pingTimeoutTimer&&clearTimeout(this._pingTimeoutTimer),e)this._logger.info("Disconnected");else{const i=(n=this._options.connection.reconnect)!==null&&n!==void 0?n:!0,s=r?`Disconnected unexpectedly: ${r.message}`:"Disconnected unexpectedly";i?this._logger.warn(`${s}; trying to reconnect`):this._logger.error(s)}this.emit(this.onDisconnect,e,r)}),this._connection.onEnd(e=>{e||this._logger.warn("No further retries will be made")}))}_handleReceivedClientNick(e){this._currentNick!==e&&(this._currentNick!==""&&this._logger.warn(`Mismatching nicks: passed ${this._currentNick}, but you're actually ${e}`),this._currentNick=e)}_handleEvents(e){this._collectors.some(n=>n.collect(e));const r=this._events.get(e.constructor.COMMAND);if(r)for(const n of r.values())n(e)}_startPingCheckTimer(){this._pingCheckTimer&&clearTimeout(this._pingCheckTimer),this._connection.isConnected?this._pingCheckTimer=setTimeout(()=>this.pingCheck(),this._pingOnInactivity*1e3):this._pingCheckTimer=void 0}}S([q(!1)],zb.prototype,"_options",void 0);class cg extends M{constructor(e,r,n){super(e,r,n,{channel:{type:"channel"},user:{trailing:!0,optional:!0}})}get date(){const e=this._tags.get("tmi-sent-ts");return new Date(Number(e))}get channelId(){return this._tags.get("room-id")}get targetUserId(){var e;return(e=this._tags.get("target-user-id"))!==null&&e!==void 0?e:null}}cg.COMMAND="CLEARCHAT";class Gb extends M{}Gb.COMMAND="RECONNECT";class dg extends M{constructor(e,r,n){super(e,r,n,{channel:{type:"channel"}})}}dg.COMMAND="ROOMSTATE";var el;let dn=el=class{constructor(e,r){this._userName=e.toLowerCase(),this._userData=r?new Map(r):new Map}static _parseBadgesLike(e){return e?new Map(e.split(",").map(r=>{const n=r.indexOf("/");return n===-1?[r,""]:[r.slice(0,n),r.slice(n+1)]})):new Map}get userName(){return this._userName}get displayName(){var e;return(e=this._userData.get("display-name"))!==null&&e!==void 0?e:this._userName}get color(){return this._userData.get("color")}get badges(){const e=this._userData.get("badges");return el._parseBadgesLike(e)}get badgeInfo(){const e=this._userData.get("badge-info");return el._parseBadgesLike(e)}get userId(){return this._userData.get("user-id")}get userType(){return this._userData.get("user-type")}get isBroadcaster(){return this.badges.has("broadcaster")}get isSubscriber(){return this.badges.has("subscriber")||this.isFounder}get isFounder(){return this.badges.has("founder")}get isMod(){return this.badges.has("moderator")}get isVip(){return this._userData.has("vip")}get isArtist(){return this.badges.has("artist-badge")}};S([q(!1)],dn.prototype,"_userData",void 0);S([pe()],dn.prototype,"badges",null);S([pe()],dn.prototype,"badgeInfo",null);dn=el=S([Zo,D("chat","ChatUser","userId")],dn);function hg(t){return t?new Map(t.split("/").map(e=>{const[r,n]=e.split(":",2);return n?[r,n.split(",")]:null}).filter(e=>e!==null)):new Map}class Xu extends M{constructor(e,r,n){super(e,r,n,{channel:{type:"channel"},text:{trailing:!0,optional:!0}})}get id(){return this._tags.get("id")}get date(){const e=this._tags.get("tmi-sent-ts");return new Date(Number(e))}get userInfo(){return new dn(this._tags.get("login"),this._tags)}get channelId(){var e;return(e=this._tags.get("room-id"))!==null&&e!==void 0?e:null}get emoteOffsets(){return hg(this._tags.get("emotes"))}}Xu.COMMAND="USERNOTICE";class Wb extends M{constructor(e,r,n){super(e,r,n,{channel:{type:"channel"}})}}Wb.COMMAND="USERSTATE";class fg extends M{constructor(e,r,n){super(e,r,n,{target:{},text:{trailing:!0}})}get userInfo(){return new dn(this._prefix.nick,this._tags)}get emoteOffsets(){return hg(this._tags.get("emotes"))}}fg.COMMAND="WHISPER";const NO={name:"twitch.tv/commands",messageTypes:[cg,Gb,dg,Xu,Wb,fg]},BO={name:"twitch.tv/membership"};class pg extends M{constructor(e,r,n){super(e,r,n,{channel:{type:"channel"},text:{trailing:!0}})}get date(){const e=this._tags.get("tmi-sent-ts");return new Date(Number(e))}get userName(){return this._tags.get("login")}get channelId(){return this._tags.get("room-id")}get targetMessageId(){return this._tags.get("target-msg-id")}}pg.COMMAND="CLEARMSG";class Qb extends M{}Qb.COMMAND="GLOBALUSERSTATE";const LO={name:"twitch.tv/tags",messageTypes:[Qb,pg]};let fu=class extends jo{get id(){return this._tags.get("id")}get date(){const e=this._tags.get("tmi-sent-ts");return new Date(Number(e))}get userInfo(){return new dn(this._prefix.nick,this._tags)}get channelId(){var e;return(e=this._tags.get("room-id"))!==null&&e!==void 0?e:null}get isCheer(){return this._tags.has("bits")}get isRedemption(){return!!this._tags.get("custom-reward-id")}get rewardId(){return this._tags.get("custom-reward-id")||null}get isFirst(){return this._tags.get("first-msg")==="1"}get isReturningChatter(){return this._tags.get("returning-chatter")==="1"}get isHighlight(){return this._tags.get("msg-id")==="highlighted-message"}get isReply(){return this._tags.has("reply-parent-msg-id")}get parentMessageId(){var e;return(e=this._tags.get("reply-parent-msg-id"))!==null&&e!==void 0?e:null}get parentMessageText(){var e;return(e=this._tags.get("reply-parent-msg-body"))!==null&&e!==void 0?e:null}get parentMessageUserId(){var e;return(e=this._tags.get("reply-parent-user-id"))!==null&&e!==void 0?e:null}get parentMessageUserName(){var e;return(e=this._tags.get("reply-parent-user-login"))!==null&&e!==void 0?e:null}get parentMessageUserDisplayName(){var e;return(e=this._tags.get("reply-parent-display-name"))!==null&&e!==void 0?e:null}get bits(){var e;return Number((e=this._tags.get("bits"))!==null&&e!==void 0?e:0)}get emoteOffsets(){return hg(this._tags.get("emotes"))}};fu=S([D("chat","ChatMessage","id")],fu);function UO(t){return t instanceof fu?t.tags.get("id"):t}function v0(t,e){if(t.length<=e)return[t];t=t.trim();const r=[];let n=0,i=e;for(;n<t.length;){let s=t.lastIndexOf(" ",i);(s===-1||s<=n||t.length-n+1<=e)&&(s=n+e);const o=t.slice(n,s).trim();o.length&&r.push(o),n=s+(t[s]===" "?1:0),i=n+e}return r}const FO=/^[a-z0-9][a-z0-9_]{0,24}$/;function Be(t){const e=t.replace(/^#/,"").toLowerCase();if(!FO.test(e))throw new Error(`"${e}" is not a valid user or channel name. It must be at most 25 characters long, can only include letters, numbers and underscores, and can not start with an underscore.`);return e}function Oa(t){return`#${Be(t)}`}var bp;let pu=bp=class extends ss{constructor(e={}){var r,n,i,s,o;if(e.authProvider&&!e.authProvider.getAccessTokenForIntent)throw new Ja("You can not connect to chat using an AuthProvider that does not support intents.\nTo get an anonymous, read-only connection, please don't pass an `AuthProvider` at all.\nTo get a read-write connection, please provide an auth provider that provides user access tokens via intents, such as `RefreshingAuthProvider`.");super(),this._authVerified=!1,this._authRetryCount=0,this.onConnect=this.registerEvent(),this.onDisconnect=this.registerEvent(),this.onTimeout=this.registerEvent(),this.onBan=this.registerEvent(),this.onBitsBadgeUpgrade=this.registerEvent(),this.onChatClear=this.registerEvent(),this.onEmoteOnly=this.registerEvent(),this.onFollowersOnly=this.registerEvent(),this.onJoin=this.registerEvent(),this.onJoinFailure=this.registerEvent(),this.onPart=this.registerEvent(),this.onMessageRemove=this.registerEvent(),this.onUniqueChat=this.registerEvent(),this.onRaid=this.registerEvent(),this.onRaidCancel=this.registerEvent(),this.onRitual=this.registerEvent(),this.onSlow=this.registerEvent(),this.onSubsOnly=this.registerEvent(),this.onSub=this.registerEvent(),this.onResub=this.registerEvent(),this.onSubGift=this.registerEvent(),this.onCommunitySub=this.registerEvent(),this.onSubExtend=this.registerEvent(),this.onRewardGift=this.registerEvent(),this.onPrimePaidUpgrade=this.registerEvent(),this.onGiftPaidUpgrade=this.registerEvent(),this.onPrimeCommunityGift=this.registerEvent(),this.onStandardPayForward=this.registerEvent(),this.onCommunityPayForward=this.registerEvent(),this.onAnnouncement=this.registerEvent(),this.onWhisper=this.registerEvent(),this.onNoPermission=this.registerEvent(),this.onMessageRatelimit=this.registerEvent(),this.onAuthenticationSuccess=this.registerEvent(),this.onAuthenticationFailure=this.registerEvent(),this.onTokenFetchFailure=this.registerEvent(),this.onMessageFailed=this.registerEvent(),this.onMessage=this.registerEvent(),this.onAction=this.registerEvent(),this._onJoinResult=this.registerInternalEvent(),this._ircClient=new zb({connection:{hostName:(r=e.hostName)!==null&&r!==void 0?r:!((n=e.webSocket)!==null&&n!==void 0)||n?"irc-ws.chat.twitch.tv":"irc.chat.twitch.tv",secure:(i=e.ssl)!==null&&i!==void 0?i:!0},credentials:{nick:"",password:async()=>await this._getAuthToken()},webSocket:(s=e.webSocket)!==null&&s!==void 0?s:!0,connectionOptions:e.connectionOptions,logger:{name:"twurple:chat:irc",...e.logger},nonConformingCommands:["004"],manuallyAcknowledgeJoins:!0,rejoinChannelsOnReconnect:e.rejoinChannelsOnReconnect}),this._ircClient.onDisconnect((u,c)=>{this._messageRateLimiter.clear(),this._messageRateLimiter.pause(),this._joinRateLimiter.clear(),this._joinRateLimiter.pause(),this.emit(this.onDisconnect,u,c)}),this._ircClient.registerMessageType(fu),this._chatLogger=os({name:"twurple:chat:twitch",...e.logger}),this._authProvider=e.authProvider,this._useLegacyScopes=!!e.legacyScopes,this._readOnly=!!e.readOnly,this._authIntents=[...(o=e.authIntents)!==null&&o!==void 0?o:[],"chat"];const a=async({type:u,text:c,channel:h,tags:d})=>{u==="say"?this._ircClient.say(h,c,d):this._ircClient.action(h,c)},l=async u=>{const{promise:c,resolve:h,reject:d}=po();let p;const m=this.addInternalListener(this._onJoinResult,(_,w,v)=>{_===u&&(clearTimeout(p),v?d(v):h(),this.removeListener(m))});p=setTimeout(()=>{this.removeListener(m),this.emit(this._onJoinResult,u,void 0,"twurple_timeout"),d(new Error(`Did not receive a reply to join ${u} in time; assuming that the join failed`))},1e4),this._ircClient.join(u),await c};if(e.isAlwaysMod)this._messageRateLimiter=new Yf({bucketSize:e.botLevel==="verified"?7500:100,timeFrame:32e3,doRequest:a});else{let u=20;e.botLevel==="verified"?u=7500:e.botLevel==="known"&&(u=50),this._messageRateLimiter=new mM(new i1({bucketSize:1,timeFrame:1200,logger:{minLevel:G.ERROR},doRequest:a,getPartitionKey:({channel:c})=>c}),{bucketSize:u,timeFrame:32e3})}this._joinRateLimiter=new Yf({bucketSize:e.botLevel==="verified"?2e3:20,timeFrame:11e3,doRequest:l}),this._messageRateLimiter.pause(),this._joinRateLimiter.pause(),this._ircClient.addCapability(LO),this._ircClient.addCapability(NO),e.requestMembershipEvents&&this._ircClient.addCapability(BO),this._ircClient.onConnect(()=>{this.emit(this.onConnect)}),this._ircClient.onRegister(async()=>{this._messageRateLimiter.resume(),this._joinRateLimiter.resume(),this._authVerified=!0,this._authRetryTimer=void 0,this._authRetryCount=0,this.emit(this.onAuthenticationSuccess);const u=await jf(e.channels);u&&await Promise.all(u.map(async c=>{var h;try{await this.join(c)}catch(d){this._chatLogger.warn(`Failed to join configured channel ${c}; original message: ${(h=d==null?void 0:d.message)!==null&&h!==void 0?h:d}`)}}))}),this._ircClient.onPasswordError(u=>{this._chatLogger.error(`Error fetching a token for connecting to the server: ${u.message}`),this.emit(this.onTokenFetchFailure,u)}),this._ircClient.onPrivmsg((u,c,h,d)=>{c!=="jtv"&&this.emit(this.onMessage,Be(u),c,h,d)}),this._ircClient.onAction((u,c,h,d)=>{this.emit(this.onAction,Be(u),c,h,d)}),this.addInternalListener(this._onJoinResult,(u,c,h)=>{h?this.emit(this.onJoinFailure,Be(u),h):this._ircClient.acknowledgeJoin(u)}),this._ircClient.onTypedMessage(cg,u=>{const{channel:c,user:h,tags:d}=u,p=Be(c);if(h){const m=d.get("ban-duration");m===void 0?this.emit(this.onBan,p,h,u):this.emit(this.onTimeout,p,h,Number(m),u)}else this.emit(this.onChatClear,p,u)}),this._ircClient.onTypedMessage(pg,u=>{const{channel:c,targetMessageId:h}=u;this.emit(this.onMessageRemove,Be(c),h,u)}),this._ircClient.onTypedMessage(Uo,({prefix:u,channel:c})=>{this.emit(this.onJoin,Be(c),u.nick)}),this._ircClient.onTypedMessage(Fo,({prefix:u,channel:c})=>{this.emit(this.onPart,Be(c),u.nick)}),this._ircClient.onTypedMessage(dg,({channel:u,tags:c})=>{let h=!1;if(c.has("subs-only")&&c.has("slow")&&(this.emit(this._onJoinResult,u,c),h=!0),!h){const d=Be(u);if(c.has("slow")){const p=Number(c.get("slow"));p?this.emit(this.onSlow,d,!0,p):this.emit(this.onSlow,d,!1)}if(c.has("followers-only")){const p=Number(c.get("followers-only"));p===-1?this.emit(this.onFollowersOnly,d,!1):this.emit(this.onFollowersOnly,d,!0,p)}}}),this._ircClient.onTypedMessage(Xu,u=>{const{channel:c,text:h,tags:d}=u,p=d.get("msg-id"),m=Be(c);switch(p){case"sub":case"resub":{const _=p==="sub"?this.onSub:this.onResub,w=d.get("msg-param-sub-plan"),v=d.get("msg-param-streak-months"),g={userId:d.get("user-id"),displayName:d.get("display-name"),plan:w,planName:d.get("msg-param-sub-plan-name"),isPrime:w==="Prime",months:Number(d.get("msg-param-cumulative-months")),streak:v?Number(v):void 0,message:h};if(d.get("msg-param-was-gifted")==="true"){const x=d.get("msg-param-anon-gift")==="true",b=Number(d.get("msg-param-gift-months")),R=Number(d.get("msg-param-gift-month-being-redeemed"));x?g.originalGiftInfo={anonymous:!0,duration:b,redeemedMonth:R}:g.originalGiftInfo={anonymous:!1,duration:b,redeemedMonth:R,userId:d.get("msg-param-gifter-id"),userName:d.get("msg-param-gifter-login"),userDisplayName:d.get("msg-param-gifter-name")}}this.emit(_,m,d.get("login"),g,u);break}case"subgift":{const _=d.get("msg-param-sub-plan"),w=d.get("login"),v=w==="ananonymousgifter",g={userId:d.get("msg-param-recipient-id"),displayName:d.get("msg-param-recipient-display-name"),gifter:v?void 0:w,gifterUserId:v?void 0:d.get("user-id"),gifterDisplayName:v?void 0:d.get("display-name"),gifterGiftCount:v?void 0:Number(d.get("msg-param-sender-count")),giftDuration:Number(d.get("msg-param-gift-months")),plan:_,planName:d.get("msg-param-sub-plan-name"),isPrime:_==="Prime",months:Number(d.get("msg-param-months"))};this.emit(this.onSubGift,m,d.get("msg-param-recipient-user-name"),g,u);break}case"submysterygift":{const _=d.get("login"),w=_==="ananonymousgifter",v={gifter:w?void 0:_,gifterUserId:w?void 0:d.get("user-id"),gifterDisplayName:w?void 0:d.get("display-name"),gifterGiftCount:w?void 0:Number(d.get("msg-param-sender-count")),count:Number(d.get("msg-param-mass-gift-count")),plan:d.get("msg-param-sub-plan")};this.emit(this.onCommunitySub,m,d.get("login"),v,u);break}case"primepaidupgrade":{const _={userId:d.get("user-id"),displayName:d.get("display-name"),plan:d.get("msg-param-sub-plan")};this.emit(this.onPrimePaidUpgrade,m,d.get("login"),_,u);break}case"giftpaidupgrade":{const _={userId:d.get("user-id"),displayName:d.get("display-name"),gifter:d.get("msg-param-sender-login"),gifterDisplayName:d.get("msg-param-sender-name")};this.emit(this.onGiftPaidUpgrade,m,d.get("login"),_,u);break}case"standardpayforward":{const _=d.get("msg-param-prior-gifter-anonymous")==="true",w={userId:d.get("user-id"),displayName:d.get("display-name"),originalGifterUserId:_?void 0:d.get("msg-param-prior-gifter-id"),originalGifterDisplayName:_?void 0:d.get("msg-param-prior-gifter-display-name"),recipientUserId:d.get("msg-param-recipient-id"),recipientDisplayName:d.get("msg-param-recipient-display-name")};this.emit(this.onStandardPayForward,m,d.get("login"),w,u);break}case"communitypayforward":{const _=d.get("msg-param-prior-gifter-anonymous")==="true",w={userId:d.get("user-id"),displayName:d.get("display-name"),originalGifterUserId:_?void 0:d.get("msg-param-prior-gifter-id"),originalGifterDisplayName:_?void 0:d.get("msg-param-prior-gifter-display-name")};this.emit(this.onCommunityPayForward,m,d.get("login"),w,u);break}case"primecommunitygiftreceived":{const _={name:d.get("msg-param-gift-name"),gifter:d.get("login"),gifterDisplayName:d.get("display-name")};this.emit(this.onPrimeCommunityGift,m,d.get("msg-param-recipient"),_,u);break}case"raid":{const _={displayName:d.get("msg-param-displayName"),viewerCount:Number(d.get("msg-param-viewerCount"))};this.emit(this.onRaid,m,d.get("login"),_,u);break}case"unraid":{this.emit(this.onRaidCancel,m,u);break}case"ritual":{const _={ritualName:d.get("msg-param-ritual-name"),message:h};this.emit(this.onRitual,m,d.get("login"),_,u);break}case"bitsbadgetier":{const _={displayName:d.get("display-name"),threshold:Number(d.get("msg-param-threshold"))};this.emit(this.onBitsBadgeUpgrade,m,d.get("login"),_,u);break}case"extendsub":{const _={userId:d.get("user-id"),displayName:d.get("display-name"),plan:d.get("msg-param-sub-plan"),months:Number(d.get("msg-param-cumulative-months")),endMonth:Number(d.get("msg-param-sub-benefit-end-month"))};this.emit(this.onSubExtend,m,d.get("login"),_,u);break}case"rewardgift":{const _={domain:d.get("msg-param-domain"),gifterId:d.get("user-id"),gifterDisplayName:d.get("display-name"),count:Number(d.get("msg-param-selected-count")),gifterGiftCount:Number(d.get("msg-param-total-reward-count")),triggerType:d.get("msg-param-trigger-type")};this.emit(this.onRewardGift,m,d.get("login"),_,u);break}case"announcement":{const _={color:d.get("msg-param-color")};this.emit(this.onAnnouncement,m,d.get("login"),_,u);break}default:this._chatLogger.warn(`Unrecognized usernotice ID: ${p}`)}}),this._ircClient.onTypedMessage(fg,u=>{this.emit(this.onWhisper,u.prefix.nick,u.text,u)}),this._ircClient.onTypedMessage(Yu,async({target:u,text:c,tags:h})=>{const d=h.get("msg-id");switch(d){case"emote_only_on":{this.emit(this.onEmoteOnly,Be(u),!0);break}case"emote_only_off":{this.emit(this.onEmoteOnly,Be(u),!1);break}case"msg_channel_suspended":case"msg_banned":{this.emit(this._onJoinResult,u,void 0,d);break}case"r9k_on":{this.emit(this.onUniqueChat,Be(u),!0);break}case"r9k_off":{this.emit(this.onUniqueChat,Be(u),!1);break}case"subs_on":{this.emit(this.onSubsOnly,Be(u),!0);break}case"subs_off":{this.emit(this.onSubsOnly,Be(u),!1);break}case"cmds_available":break;case"followers_on":case"followers_on_zero":case"followers_off":case"slow_on":case"slow_off":break;case"timeout_success":break;case"unrecognized_cmd":break;case"no_permission":{this.emit(this.onNoPermission,Be(u),c);break}case"msg_ratelimit":{this.emit(this.onMessageRatelimit,Be(u),c);break}case"msg_duplicate":case"msg_emoteonly":case"msg_followersonly":case"msg_followersonly_followed":case"msg_followersonly_zero":case"msg_subsonly":case"msg_slowmode":case"msg_r9k":case"msg_verified_email":case"msg_timedout":case"msg_rejected_mandatory":case"msg_channel_blocked":{this.emit(this.onMessageFailed,Be(u),d);break}case void 0:{if(c==="Login authentication failed"||c==="Improperly formatted AUTH"||c==="Invalid NICK"){this._authVerified=!1,this._authRetryTimer||(this._authRetryTimer=hC(120),this._authRetryCount=0);const p=this._authRetryTimer.next().value,m=++this._authRetryCount;this.emit(this.onAuthenticationFailure,c,m),p!==0&&this._chatLogger.info(`Retrying authentication in ${p} seconds`),await AI(p*1e3),this._ircClient.reconnect()}break}default:d.startsWith("usage_")||this._chatLogger.warn(`Unrecognized notice ID: '${d}'`)}})}connect(){this._authProvider||this._ircClient.changeNick(bp._generateJustinfanNick()),this._ircClient.connect()}get irc(){return this._ircClient}get isConnected(){return this._ircClient.isConnected}get isConnecting(){return this._ircClient.isConnecting}get currentChannels(){return this._ircClient.currentChannels}async say(e,r,n={},i){const s={};n.replyTo&&(s["reply-parent-msg-id"]=UO(n.replyTo));const o=v0(r,500);await Promise.all(o.map(async a=>await this._messageRateLimiter.request({type:"say",channel:Oa(e),text:a,tags:s},i)))}async action(e,r,n){const i=v0(r,490);await Promise.all(i.map(async s=>await this._messageRateLimiter.request({type:"action",channel:Oa(e),text:s},n)))}async join(e){await this._joinRateLimiter.request(Oa(e))}part(e){this._ircClient.part(Oa(e))}quit(){this._ircClient.quitAbruptly()}reconnect(){this.quit(),this.connect()}async _getAuthToken(){var e,r;if(!this._authProvider){this._chatLogger.debug("No authProvider given; connecting anonymously");return}if(this._authToken&&!Mi(this._authToken)&&this._authVerified)return this._chatLogger.debug("AccessToken assumed to be correct from last connection"),`oauth:${this._authToken.accessToken}`;const n=this._getNecessaryScopes();let i,s=!1;for(const o of this._authIntents){try{if(this._authToken=await this._authProvider.getAccessTokenForIntent(o,n),!this._authToken)continue;s=!0;const a=await Gi(this._authToken.accessToken);if(!a.userName)throw new Ja("Could not determine a user name for your token; you might be trying to disguise an app token as a user token.");return this._ircClient.changeNick(a.userName),`oauth:${this._authToken.accessToken}`}catch(a){a instanceof Bn?i=a:this._chatLogger.error(`Retrieving an access token failed: ${a.message}`)}this._chatLogger.warn("No valid token available; trying to refresh");try{if(this._authToken=await((r=(e=this._authProvider).refreshAccessTokenForIntent)===null||r===void 0?void 0:r.call(e,"chat")),this._authToken){const a=await Gi(this._authToken.accessToken);if(!a.userName)throw new Ja("Could not determine a user name for your token; you might be trying to disguise an app token as a user token.");return this._ircClient.changeNick(a.userName),`oauth:${this._authToken.accessToken}`}}catch(a){a instanceof Bn?i=a:this._chatLogger.error(`Refreshing the access token failed: ${a.message}`)}}throw this._authVerified=!1,i??new Error(s?"Could not retrieve a valid token":`None of the queried intents (${this._authIntents.join(", ")}) are known by the auth provider${this._authProvider instanceof cn?".\nPlease add one of these to the user you want to connect with using the `addIntentToUser` method or the additional parameter to `addUser` or `addUserForToken`.":""}`)}_getNecessaryScopes(){return this._useLegacyScopes?["chat_login"]:this._readOnly?["chat:read"]:["chat:read","chat:edit"]}static _generateJustinfanNick(){return`justinfan${Math.floor(Math.random()*1e5).toString().padStart(5,"0")}`}};S([q(!1)],pu.prototype,"_authProvider",void 0);pu=bp=S([D("chat","ChatClient")],pu);function Kb(t,e={}){const{animationSettings:r="default",backgroundType:n="dark",size:i="1.0"}=e;return`https://static-cdn.jtvnw.net/emoticons/v2/${t}/${r}/${n}/${i}`}function jO(t,e){return[...e.entries()].flatMap(([r,n])=>n.map(i=>{const[s,o]=i.split("-"),a=+s,l=+o,u=qf(t,a,l+1);return{type:"emote",position:a,length:l-a+1,id:r,name:u}})).sort((r,n)=>r.position-n.position)}function $O(t,e){const r=[],n=new RegExp("(?<=^|\\s)([a-z]+(?:\\d+[a-z]+)*)(\\d+)(?=\\s|$)","gi");let i=null;for(;i=n.exec(t);){const s=i[1].toLowerCase();if(e.includes(s)){const o=Number(i[2]);r.push({type:"cheer",name:s,amount:o,position:mC(t.slice(0,i.index)),length:i[0].length})}}return r}function qO(t,e){const r=mC(t);if(!e.length)return[{type:"text",position:0,length:r,text:t}];const n=[];let i=0;for(const s of e)s.position>i&&n.push({type:"text",position:i,length:s.position-i,text:qf(t,i,s.position)}),n.push(s),i=s.position+s.length;return i<r&&n.push({type:"text",position:i,length:r-i,text:qf(t,i)}),n}function VO(t,e,r){if(!t)return[];const n=jO(t,e);return r&&(n.push(...$O(t,r)),n.sort((i,s)=>i.position-s.position)),qO(t,n)}var Yb={exports:{}},Ah={exports:{}},_0;function HO(){return _0||(_0=1,function(t){(function(e,r){t.exports?t.exports=r():e.EvEmitter=r()})(typeof window<"u"?window:zp,function(){function e(){}let r=e.prototype;return r.on=function(n,i){if(!n||!i)return this;let s=this._events=this._events||{},o=s[n]=s[n]||[];return o.includes(i)||o.push(i),this},r.once=function(n,i){if(!n||!i)return this;this.on(n,i);let s=this._onceEvents=this._onceEvents||{},o=s[n]=s[n]||{};return o[i]=!0,this},r.off=function(n,i){let s=this._events&&this._events[n];if(!s||!s.length)return this;let o=s.indexOf(i);return o!=-1&&s.splice(o,1),this},r.emitEvent=function(n,i){let s=this._events&&this._events[n];if(!s||!s.length)return this;s=s.slice(0),i=i||[];let o=this._onceEvents&&this._onceEvents[n];for(let a of s)o&&o[a]&&(this.off(n,a),delete o[a]),a.apply(this,i);return this},r.allOff=function(){return delete this._events,delete this._onceEvents,this},e})}(Ah)),Ah.exports}/*!
 * imagesLoaded v5.0.0
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */(function(t){(function(e,r){t.exports?t.exports=r(e,HO()):e.imagesLoaded=r(e,e.EvEmitter)})(typeof window<"u"?window:zp,function(r,n){let i=r.jQuery,s=r.console;function o(d){return Array.isArray(d)?d:typeof d=="object"&&typeof d.length=="number"?[...d]:[d]}function a(d,p,m){if(!(this instanceof a))return new a(d,p,m);let _=d;if(typeof d=="string"&&(_=document.querySelectorAll(d)),!_){s.error(`Bad element for imagesLoaded ${_||d}`);return}this.elements=o(_),this.options={},typeof p=="function"?m=p:Object.assign(this.options,p),m&&this.on("always",m),this.getImages(),i&&(this.jqDeferred=new i.Deferred),setTimeout(this.check.bind(this))}a.prototype=Object.create(n.prototype),a.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)};const l=[1,9,11];a.prototype.addElementImages=function(d){d.nodeName==="IMG"&&this.addImage(d),this.options.background===!0&&this.addElementBackgroundImages(d);let{nodeType:p}=d;if(!p||!l.includes(p))return;let m=d.querySelectorAll("img");for(let _ of m)this.addImage(_);if(typeof this.options.background=="string"){let _=d.querySelectorAll(this.options.background);for(let w of _)this.addElementBackgroundImages(w)}};const u=/url\((['"])?(.*?)\1\)/gi;a.prototype.addElementBackgroundImages=function(d){let p=getComputedStyle(d);if(!p)return;let m=u.exec(p.backgroundImage);for(;m!==null;){let _=m&&m[2];_&&this.addBackground(_,d),m=u.exec(p.backgroundImage)}},a.prototype.addImage=function(d){let p=new c(d);this.images.push(p)},a.prototype.addBackground=function(d,p){let m=new h(d,p);this.images.push(m)},a.prototype.check=function(){if(this.progressedCount=0,this.hasAnyBroken=!1,!this.images.length){this.complete();return}let d=(p,m,_)=>{setTimeout(()=>{this.progress(p,m,_)})};this.images.forEach(function(p){p.once("progress",d),p.check()})},a.prototype.progress=function(d,p,m){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!d.isLoaded,this.emitEvent("progress",[this,d,p]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,d),this.progressedCount===this.images.length&&this.complete(),this.options.debug&&s&&s.log(`progress: ${m}`,d,p)},a.prototype.complete=function(){let d=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(d,[this]),this.emitEvent("always",[this]),this.jqDeferred){let p=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[p](this)}};function c(d){this.img=d}c.prototype=Object.create(n.prototype),c.prototype.check=function(){if(this.getIsImageComplete()){this.confirm(this.img.naturalWidth!==0,"naturalWidth");return}this.proxyImage=new Image,this.img.crossOrigin&&(this.proxyImage.crossOrigin=this.img.crossOrigin),this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.currentSrc||this.img.src},c.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},c.prototype.confirm=function(d,p){this.isLoaded=d;let{parentNode:m}=this.img,_=m.nodeName==="PICTURE"?m:this.img;this.emitEvent("progress",[this,_,p])},c.prototype.handleEvent=function(d){let p="on"+d.type;this[p]&&this[p](d)},c.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},c.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},c.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)};function h(d,p){this.url=d,this.element=p,this.img=new Image}return h.prototype=Object.create(c.prototype),h.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(this.img.naturalWidth!==0,"naturalWidth"),this.unbindEvents())},h.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},h.prototype.confirm=function(d,p){this.isLoaded=d,this.emitEvent("progress",[this,this.element,p])},a.makeJQueryPlugin=function(d){d=d||r.jQuery,d&&(i=d,i.fn.imagesLoaded=function(p,m){return new a(this,p,m).jqDeferred.promise(i(this))})},a.makeJQueryPlugin(),a})})(Yb);var zO=Yb.exports;const GO=es(zO);function WO(t){const e=eg(),r=U.useRef(null),n=U.useRef(!1);function i(){e({type:"remove",payload:t.id,moderator:!1})}const s=slime2Chat.onMessage({message:t,deleteMessage:i}),[o,a]=s||[];let l="";if(o){const u=o instanceof DocumentFragment?o:o[0],c=document.createElement("div");c.appendChild(u),l=c.innerHTML,c.remove()}return U.useEffect(()=>{if(o&&a&&r.current&&!n.current){n.current=!0;const u=r.current.firstElementChild;GO(u,()=>{a(u)})}},[]),o?ue.jsx("div",{id:"slime2-chat-message",dangerouslySetInnerHTML:{__html:l},ref:r}):(i(),null)}const QO=U.memo(WO);function KO(){const t=uO();function e(){return t.map(r=>ue.jsx(QO,{...r},r.id))}return ue.jsx("div",{id:"slime2-chat-list",children:e()})}let tl,w0=!1;function YO(){const[t,e]=U.useState(!0),{broadcaster:r}=vn();return U.useEffect(()=>{async function n(){w0||(tl=await Yi.bits.getCheermotes(r.id)),e(!1),w0=!0}n()},[r]),{loading:t}}function mg(){function t(){return tl.getPossibleNames()}function e(n,i){return tl.getCheermoteDisplayInfo(n,i,{background:"light",scale:"4",state:"animated"}).color}function r(n,i,s=!1){function o(a="4"){return tl.getCheermoteDisplayInfo(n,i,{background:"light",scale:a,state:s?"static":"animated"}).url}return{x1:o("1"),x2:o("2"),x4:o("4")}}return{getCheermoteNames:t,getCheerColor:e,getCheermoteUrls:r}}function Jb(t,e){return function(){return t.apply(e,arguments)}}const{toString:JO}=Object.prototype,{getPrototypeOf:gg}=Object,Zu=(t=>e=>{const r=JO.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),sr=t=>(t=t.toLowerCase(),e=>Zu(e)===t),ec=t=>e=>typeof e===t,{isArray:ls}=Array,$o=ec("undefined");function XO(t){return t!==null&&!$o(t)&&t.constructor!==null&&!$o(t.constructor)&&It(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Xb=sr("ArrayBuffer");function ZO(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Xb(t.buffer),e}const eD=ec("string"),It=ec("function"),Zb=ec("number"),tc=t=>t!==null&&typeof t=="object",tD=t=>t===!0||t===!1,rl=t=>{if(Zu(t)!=="object")return!1;const e=gg(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},rD=sr("Date"),nD=sr("File"),iD=sr("Blob"),sD=sr("FileList"),oD=t=>tc(t)&&It(t.pipe),aD=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||It(t.append)&&((e=Zu(t))==="formdata"||e==="object"&&It(t.toString)&&t.toString()==="[object FormData]"))},lD=sr("URLSearchParams"),uD=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ta(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,i;if(typeof t!="object"&&(t=[t]),ls(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{const s=r?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(n=0;n<o;n++)a=s[n],e.call(null,t[a],a,t)}}function eT(t,e){e=e.toLowerCase();const r=Object.keys(t);let n=r.length,i;for(;n-- >0;)if(i=r[n],e===i.toLowerCase())return i;return null}const tT=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),rT=t=>!$o(t)&&t!==tT;function Tp(){const{caseless:t}=rT(this)&&this||{},e={},r=(n,i)=>{const s=t&&eT(e,i)||i;rl(e[s])&&rl(n)?e[s]=Tp(e[s],n):rl(n)?e[s]=Tp({},n):ls(n)?e[s]=n.slice():e[s]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&ta(arguments[n],r);return e}const cD=(t,e,r,{allOwnKeys:n}={})=>(ta(e,(i,s)=>{r&&It(i)?t[s]=Jb(i,r):t[s]=i},{allOwnKeys:n}),t),dD=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),hD=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},fD=(t,e,r,n)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!n||n(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=r!==!1&&gg(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},pD=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},mD=t=>{if(!t)return null;if(ls(t))return t;let e=t.length;if(!Zb(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},gD=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&gg(Uint8Array)),yD=(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=n.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},vD=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},_D=sr("HTMLFormElement"),wD=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),x0=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),xD=sr("RegExp"),nT=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};ta(r,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(n[s]=o||i)}),Object.defineProperties(t,n)},SD=t=>{nT(t,(e,r)=>{if(It(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(It(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},CD=(t,e)=>{const r={},n=i=>{i.forEach(s=>{r[s]=!0})};return ls(t)?n(t):n(String(t).split(e)),r},bD=()=>{},TD=(t,e)=>(t=+t,Number.isFinite(t)?t:e),Ih="abcdefghijklmnopqrstuvwxyz",S0="0123456789",iT={DIGIT:S0,ALPHA:Ih,ALPHA_DIGIT:Ih+Ih.toUpperCase()+S0},ED=(t=16,e=iT.ALPHA_DIGIT)=>{let r="";const{length:n}=e;for(;t--;)r+=e[Math.random()*n|0];return r};function PD(t){return!!(t&&It(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const AD=t=>{const e=new Array(10),r=(n,i)=>{if(tc(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[i]=n;const s=ls(n)?[]:{};return ta(n,(o,a)=>{const l=r(o,i+1);!$o(l)&&(s[a]=l)}),e[i]=void 0,s}}return n};return r(t,0)},ID=sr("AsyncFunction"),kD=t=>t&&(tc(t)||It(t))&&It(t.then)&&It(t.catch),k={isArray:ls,isArrayBuffer:Xb,isBuffer:XO,isFormData:aD,isArrayBufferView:ZO,isString:eD,isNumber:Zb,isBoolean:tD,isObject:tc,isPlainObject:rl,isUndefined:$o,isDate:rD,isFile:nD,isBlob:iD,isRegExp:xD,isFunction:It,isStream:oD,isURLSearchParams:lD,isTypedArray:gD,isFileList:sD,forEach:ta,merge:Tp,extend:cD,trim:uD,stripBOM:dD,inherits:hD,toFlatObject:fD,kindOf:Zu,kindOfTest:sr,endsWith:pD,toArray:mD,forEachEntry:yD,matchAll:vD,isHTMLForm:_D,hasOwnProperty:x0,hasOwnProp:x0,reduceDescriptors:nT,freezeMethods:SD,toObjectSet:CD,toCamelCase:wD,noop:bD,toFiniteNumber:TD,findKey:eT,global:tT,isContextDefined:rT,ALPHABET:iT,generateString:ED,isSpecCompliantForm:PD,toJSONObject:AD,isAsyncFn:ID,isThenable:kD};function ne(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i)}k.inherits(ne,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:k.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const sT=ne.prototype,oT={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{oT[t]={value:t}});Object.defineProperties(ne,oT);Object.defineProperty(sT,"isAxiosError",{value:!0});ne.from=(t,e,r,n,i,s)=>{const o=Object.create(sT);return k.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),ne.call(o,t.message,e,r,n,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const RD=null;function Ep(t){return k.isPlainObject(t)||k.isArray(t)}function aT(t){return k.endsWith(t,"[]")?t.slice(0,-2):t}function C0(t,e,r){return t?t.concat(e).map(function(i,s){return i=aT(i),!r&&s?"["+i+"]":i}).join(r?".":""):e}function MD(t){return k.isArray(t)&&!t.some(Ep)}const OD=k.toFlatObject(k,{},null,function(e){return/^is[A-Z]/.test(e)});function rc(t,e,r){if(!k.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=k.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,w){return!k.isUndefined(w[_])});const n=r.metaTokens,i=r.visitor||c,s=r.dots,o=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&k.isSpecCompliantForm(e);if(!k.isFunction(i))throw new TypeError("visitor must be a function");function u(m){if(m===null)return"";if(k.isDate(m))return m.toISOString();if(!l&&k.isBlob(m))throw new ne("Blob is not supported. Use a Buffer instead.");return k.isArrayBuffer(m)||k.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function c(m,_,w){let v=m;if(m&&!w&&typeof m=="object"){if(k.endsWith(_,"{}"))_=n?_:_.slice(0,-2),m=JSON.stringify(m);else if(k.isArray(m)&&MD(m)||(k.isFileList(m)||k.endsWith(_,"[]"))&&(v=k.toArray(m)))return _=aT(_),v.forEach(function(y,x){!(k.isUndefined(y)||y===null)&&e.append(o===!0?C0([_],x,s):o===null?_:_+"[]",u(y))}),!1}return Ep(m)?!0:(e.append(C0(w,_,s),u(m)),!1)}const h=[],d=Object.assign(OD,{defaultVisitor:c,convertValue:u,isVisitable:Ep});function p(m,_){if(!k.isUndefined(m)){if(h.indexOf(m)!==-1)throw Error("Circular reference detected in "+_.join("."));h.push(m),k.forEach(m,function(v,g){(!(k.isUndefined(v)||v===null)&&i.call(e,v,k.isString(g)?g.trim():g,_,d))===!0&&p(v,_?_.concat(g):[g])}),h.pop()}}if(!k.isObject(t))throw new TypeError("data must be an object");return p(t),e}function b0(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function yg(t,e){this._pairs=[],t&&rc(t,this,e)}const lT=yg.prototype;lT.append=function(e,r){this._pairs.push([e,r])};lT.toString=function(e){const r=e?function(n){return e.call(this,n,b0)}:b0;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function DD(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function uT(t,e,r){if(!e)return t;const n=r&&r.encode||DD,i=r&&r.serialize;let s;if(i?s=i(e,r):s=k.isURLSearchParams(e)?e.toString():new yg(e,r).toString(n),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class ND{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){k.forEach(this.handlers,function(n){n!==null&&e(n)})}}const T0=ND,cT={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},BD=typeof URLSearchParams<"u"?URLSearchParams:yg,LD=typeof FormData<"u"?FormData:null,UD=typeof Blob<"u"?Blob:null,FD=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),jD=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),jt={isBrowser:!0,classes:{URLSearchParams:BD,FormData:LD,Blob:UD},isStandardBrowserEnv:FD,isStandardBrowserWebWorkerEnv:jD,protocols:["http","https","file","blob","url","data"]};function $D(t,e){return rc(t,new jt.classes.URLSearchParams,Object.assign({visitor:function(r,n,i,s){return jt.isNode&&k.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function qD(t){return k.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function VD(t){const e={},r=Object.keys(t);let n;const i=r.length;let s;for(n=0;n<i;n++)s=r[n],e[s]=t[s];return e}function dT(t){function e(r,n,i,s){let o=r[s++];const a=Number.isFinite(+o),l=s>=r.length;return o=!o&&k.isArray(i)?i.length:o,l?(k.hasOwnProp(i,o)?i[o]=[i[o],n]:i[o]=n,!a):((!i[o]||!k.isObject(i[o]))&&(i[o]=[]),e(r,n,i[o],s)&&k.isArray(i[o])&&(i[o]=VD(i[o])),!a)}if(k.isFormData(t)&&k.isFunction(t.entries)){const r={};return k.forEachEntry(t,(n,i)=>{e(qD(n),i,r,0)}),r}return null}function HD(t,e,r){if(k.isString(t))try{return(e||JSON.parse)(t),k.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const vg={transitional:cT,adapter:jt.isNode?"http":"xhr",transformRequest:[function(e,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,s=k.isObject(e);if(s&&k.isHTMLForm(e)&&(e=new FormData(e)),k.isFormData(e))return i&&i?JSON.stringify(dT(e)):e;if(k.isArrayBuffer(e)||k.isBuffer(e)||k.isStream(e)||k.isFile(e)||k.isBlob(e))return e;if(k.isArrayBufferView(e))return e.buffer;if(k.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return $D(e,this.formSerializer).toString();if((a=k.isFileList(e))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return rc(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(r.setContentType("application/json",!1),HD(e)):e}],transformResponse:[function(e){const r=this.transitional||vg.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(e&&k.isString(e)&&(n&&!this.responseType||i)){const o=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?ne.from(a,ne.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:jt.classes.FormData,Blob:jt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};k.forEach(["delete","get","head","post","put","patch"],t=>{vg.headers[t]={}});const _g=vg,zD=k.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),GD=t=>{const e={};let r,n,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),r=o.substring(0,i).trim().toLowerCase(),n=o.substring(i+1).trim(),!(!r||e[r]&&zD[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},E0=Symbol("internals");function Cs(t){return t&&String(t).trim().toLowerCase()}function nl(t){return t===!1||t==null?t:k.isArray(t)?t.map(nl):String(t)}function WD(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const QD=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function kh(t,e,r,n,i){if(k.isFunction(n))return n.call(this,e,r);if(i&&(e=r),!!k.isString(e)){if(k.isString(n))return e.indexOf(n)!==-1;if(k.isRegExp(n))return n.test(e)}}function KD(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function YD(t,e){const r=k.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(i,s,o){return this[n].call(this,e,i,s,o)},configurable:!0})})}class nc{constructor(e){e&&this.set(e)}set(e,r,n){const i=this;function s(a,l,u){const c=Cs(l);if(!c)throw new Error("header name must be a non-empty string");const h=k.findKey(i,c);(!h||i[h]===void 0||u===!0||u===void 0&&i[h]!==!1)&&(i[h||l]=nl(a))}const o=(a,l)=>k.forEach(a,(u,c)=>s(u,c,l));return k.isPlainObject(e)||e instanceof this.constructor?o(e,r):k.isString(e)&&(e=e.trim())&&!QD(e)?o(GD(e),r):e!=null&&s(r,e,n),this}get(e,r){if(e=Cs(e),e){const n=k.findKey(this,e);if(n){const i=this[n];if(!r)return i;if(r===!0)return WD(i);if(k.isFunction(r))return r.call(this,i,n);if(k.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=Cs(e),e){const n=k.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||kh(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let i=!1;function s(o){if(o=Cs(o),o){const a=k.findKey(n,o);a&&(!r||kh(n,n[a],a,r))&&(delete n[a],i=!0)}}return k.isArray(e)?e.forEach(s):s(e),i}clear(e){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const s=r[n];(!e||kh(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const r=this,n={};return k.forEach(this,(i,s)=>{const o=k.findKey(n,s);if(o){r[o]=nl(i),delete r[s];return}const a=e?KD(s):String(s).trim();a!==s&&delete r[s],r[a]=nl(i),n[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return k.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=e&&k.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[E0]=this[E0]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=Cs(o);n[a]||(YD(i,o),n[a]=!0)}return k.isArray(e)?e.forEach(s):s(e),this}}nc.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);k.reduceDescriptors(nc.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});k.freezeMethods(nc);const mr=nc;function Rh(t,e){const r=this||_g,n=e||r,i=mr.from(n.headers);let s=n.data;return k.forEach(t,function(a){s=a.call(r,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function hT(t){return!!(t&&t.__CANCEL__)}function ra(t,e,r){ne.call(this,t??"canceled",ne.ERR_CANCELED,e,r),this.name="CanceledError"}k.inherits(ra,ne,{__CANCEL__:!0});function JD(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new ne("Request failed with status code "+r.status,[ne.ERR_BAD_REQUEST,ne.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}const XD=jt.isStandardBrowserEnv?function(){return{write:function(r,n,i,s,o,a){const l=[];l.push(r+"="+encodeURIComponent(n)),k.isNumber(i)&&l.push("expires="+new Date(i).toGMTString()),k.isString(s)&&l.push("path="+s),k.isString(o)&&l.push("domain="+o),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(r){const n=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function ZD(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function eN(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function fT(t,e){return t&&!ZD(e)?eN(t,e):e}const tN=jt.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let n;function i(s){let o=s;return e&&(r.setAttribute("href",o),o=r.href),r.setAttribute("href",o),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=i(window.location.href),function(o){const a=k.isString(o)?i(o):o;return a.protocol===n.protocol&&a.host===n.host}}():function(){return function(){return!0}}();function rN(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function nN(t,e){t=t||10;const r=new Array(t),n=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),c=n[s];o||(o=u),r[i]=l,n[i]=u;let h=s,d=0;for(;h!==i;)d+=r[h++],h=h%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),u-o<e)return;const p=c&&u-c;return p?Math.round(d*1e3/p):void 0}}function P0(t,e){let r=0;const n=nN(50,250);return i=>{const s=i.loaded,o=i.lengthComputable?i.total:void 0,a=s-r,l=n(a),u=s<=o;r=s;const c={loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&u?(o-s)/l:void 0,event:i};c[e?"download":"upload"]=!0,t(c)}}const iN=typeof XMLHttpRequest<"u",sN=iN&&function(t){return new Promise(function(r,n){let i=t.data;const s=mr.from(t.headers).normalize(),o=t.responseType;let a;function l(){t.cancelToken&&t.cancelToken.unsubscribe(a),t.signal&&t.signal.removeEventListener("abort",a)}k.isFormData(i)&&(jt.isStandardBrowserEnv||jt.isStandardBrowserWebWorkerEnv?s.setContentType(!1):s.setContentType("multipart/form-data;",!1));let u=new XMLHttpRequest;if(t.auth){const p=t.auth.username||"",m=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";s.set("Authorization","Basic "+btoa(p+":"+m))}const c=fT(t.baseURL,t.url);u.open(t.method.toUpperCase(),uT(c,t.params,t.paramsSerializer),!0),u.timeout=t.timeout;function h(){if(!u)return;const p=mr.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders()),_={data:!o||o==="text"||o==="json"?u.responseText:u.response,status:u.status,statusText:u.statusText,headers:p,config:t,request:u};JD(function(v){r(v),l()},function(v){n(v),l()},_),u=null}if("onloadend"in u?u.onloadend=h:u.onreadystatechange=function(){!u||u.readyState!==4||u.status===0&&!(u.responseURL&&u.responseURL.indexOf("file:")===0)||setTimeout(h)},u.onabort=function(){u&&(n(new ne("Request aborted",ne.ECONNABORTED,t,u)),u=null)},u.onerror=function(){n(new ne("Network Error",ne.ERR_NETWORK,t,u)),u=null},u.ontimeout=function(){let m=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const _=t.transitional||cT;t.timeoutErrorMessage&&(m=t.timeoutErrorMessage),n(new ne(m,_.clarifyTimeoutError?ne.ETIMEDOUT:ne.ECONNABORTED,t,u)),u=null},jt.isStandardBrowserEnv){const p=(t.withCredentials||tN(c))&&t.xsrfCookieName&&XD.read(t.xsrfCookieName);p&&s.set(t.xsrfHeaderName,p)}i===void 0&&s.setContentType(null),"setRequestHeader"in u&&k.forEach(s.toJSON(),function(m,_){u.setRequestHeader(_,m)}),k.isUndefined(t.withCredentials)||(u.withCredentials=!!t.withCredentials),o&&o!=="json"&&(u.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&u.addEventListener("progress",P0(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&u.upload&&u.upload.addEventListener("progress",P0(t.onUploadProgress)),(t.cancelToken||t.signal)&&(a=p=>{u&&(n(!p||p.type?new ra(null,t,u):p),u.abort(),u=null)},t.cancelToken&&t.cancelToken.subscribe(a),t.signal&&(t.signal.aborted?a():t.signal.addEventListener("abort",a)));const d=rN(c);if(d&&jt.protocols.indexOf(d)===-1){n(new ne("Unsupported protocol "+d+":",ne.ERR_BAD_REQUEST,t));return}u.send(i||null)})},il={http:RD,xhr:sN};k.forEach(il,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const pT={getAdapter:t=>{t=k.isArray(t)?t:[t];const{length:e}=t;let r,n;for(let i=0;i<e&&(r=t[i],!(n=k.isString(r)?il[r.toLowerCase()]:r));i++);if(!n)throw n===!1?new ne(`Adapter ${r} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(k.hasOwnProp(il,r)?`Adapter '${r}' is not available in the build`:`Unknown adapter '${r}'`);if(!k.isFunction(n))throw new TypeError("adapter is not a function");return n},adapters:il};function Mh(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ra(null,t)}function A0(t){return Mh(t),t.headers=mr.from(t.headers),t.data=Rh.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),pT.getAdapter(t.adapter||_g.adapter)(t).then(function(n){return Mh(t),n.data=Rh.call(t,t.transformResponse,n),n.headers=mr.from(n.headers),n},function(n){return hT(n)||(Mh(t),n&&n.response&&(n.response.data=Rh.call(t,t.transformResponse,n.response),n.response.headers=mr.from(n.response.headers))),Promise.reject(n)})}const I0=t=>t instanceof mr?t.toJSON():t;function Ji(t,e){e=e||{};const r={};function n(u,c,h){return k.isPlainObject(u)&&k.isPlainObject(c)?k.merge.call({caseless:h},u,c):k.isPlainObject(c)?k.merge({},c):k.isArray(c)?c.slice():c}function i(u,c,h){if(k.isUndefined(c)){if(!k.isUndefined(u))return n(void 0,u,h)}else return n(u,c,h)}function s(u,c){if(!k.isUndefined(c))return n(void 0,c)}function o(u,c){if(k.isUndefined(c)){if(!k.isUndefined(u))return n(void 0,u)}else return n(void 0,c)}function a(u,c,h){if(h in e)return n(u,c);if(h in t)return n(void 0,u)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,c)=>i(I0(u),I0(c),!0)};return k.forEach(Object.keys(Object.assign({},t,e)),function(c){const h=l[c]||i,d=h(t[c],e[c],c);k.isUndefined(d)&&h!==a||(r[c]=d)}),r}const mT="1.5.0",wg={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{wg[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const k0={};wg.transitional=function(e,r,n){function i(s,o){return"[Axios v"+mT+"] Transitional option '"+s+"'"+o+(n?". "+n:"")}return(s,o,a)=>{if(e===!1)throw new ne(i(o," has been removed"+(r?" in "+r:"")),ne.ERR_DEPRECATED);return r&&!k0[o]&&(k0[o]=!0,console.warn(i(o," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(s,o,a):!0}};function oN(t,e,r){if(typeof t!="object")throw new ne("options must be an object",ne.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;for(;i-- >0;){const s=n[i],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new ne("option "+s+" must be "+l,ne.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new ne("Unknown option "+s,ne.ERR_BAD_OPTION)}}const Pp={assertOptions:oN,validators:wg},Nr=Pp.validators;class mu{constructor(e){this.defaults=e,this.interceptors={request:new T0,response:new T0}}request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=Ji(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:s}=r;n!==void 0&&Pp.assertOptions(n,{silentJSONParsing:Nr.transitional(Nr.boolean),forcedJSONParsing:Nr.transitional(Nr.boolean),clarifyTimeoutError:Nr.transitional(Nr.boolean)},!1),i!=null&&(k.isFunction(i)?r.paramsSerializer={serialize:i}:Pp.assertOptions(i,{encode:Nr.function,serialize:Nr.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=s&&k.merge(s.common,s[r.method]);s&&k.forEach(["delete","get","head","post","put","patch","common"],m=>{delete s[m]}),r.headers=mr.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(r)===!1||(l=l&&_.synchronous,a.unshift(_.fulfilled,_.rejected))});const u=[];this.interceptors.response.forEach(function(_){u.push(_.fulfilled,_.rejected)});let c,h=0,d;if(!l){const m=[A0.bind(this),void 0];for(m.unshift.apply(m,a),m.push.apply(m,u),d=m.length,c=Promise.resolve(r);h<d;)c=c.then(m[h++],m[h++]);return c}d=a.length;let p=r;for(h=0;h<d;){const m=a[h++],_=a[h++];try{p=m(p)}catch(w){_.call(this,w);break}}try{c=A0.call(this,p)}catch(m){return Promise.reject(m)}for(h=0,d=u.length;h<d;)c=c.then(u[h++],u[h++]);return c}getUri(e){e=Ji(this.defaults,e);const r=fT(e.baseURL,e.url);return uT(r,e.params,e.paramsSerializer)}}k.forEach(["delete","get","head","options"],function(e){mu.prototype[e]=function(r,n){return this.request(Ji(n||{},{method:e,url:r,data:(n||{}).data}))}});k.forEach(["post","put","patch"],function(e){function r(n){return function(s,o,a){return this.request(Ji(a||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}mu.prototype[e]=r(),mu.prototype[e+"Form"]=r(!0)});const sl=mu;class xg{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(i=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](i);n._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{n.subscribe(a),s=a}).then(i);return o.cancel=function(){n.unsubscribe(s)},o},e(function(s,o,a){n.reason||(n.reason=new ra(s,o,a),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}static source(){let e;return{token:new xg(function(i){e=i}),cancel:e}}}const aN=xg;function lN(t){return function(r){return t.apply(null,r)}}function uN(t){return k.isObject(t)&&t.isAxiosError===!0}const Ap={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ap).forEach(([t,e])=>{Ap[e]=t});const cN=Ap;function gT(t){const e=new sl(t),r=Jb(sl.prototype.request,e);return k.extend(r,sl.prototype,e,{allOwnKeys:!0}),k.extend(r,e,null,{allOwnKeys:!0}),r.create=function(i){return gT(Ji(t,i))},r}const Ne=gT(_g);Ne.Axios=sl;Ne.CanceledError=ra;Ne.CancelToken=aN;Ne.isCancel=hT;Ne.VERSION=mT;Ne.toFormData=rc;Ne.AxiosError=ne;Ne.Cancel=Ne.CanceledError;Ne.all=function(e){return Promise.all(e)};Ne.spread=lN;Ne.isAxiosError=uN;Ne.mergeConfig=Ji;Ne.AxiosHeaders=mr;Ne.formToJSON=t=>dT(k.isHTMLForm(t)?new FormData(t):t);Ne.getAdapter=pT.getAdapter;Ne.HttpStatusCode=cN;Ne.default=Ne;const Sg=Ne,dN=Sg.create({baseURL:"https://api.betterttv.net/3/cached"});class hN{static async getEmotes(e,r){const n=await fN(e,r);if(!n)return null;const i=new Map;return n.forEach(s=>{i.set(s.code,{id:s.id,name:s.code,images:{default:R0(s.id),static:R0(s.id,!0)},source:"betterTTV"})}),i}}function R0(t,e=!1){function r(n=3){return`https://cdn.betterttv.net/emote/${t}${e?"/static":""}/${n}x`}return{x1:r(1),x2:r(2),x4:r(3)}}async function fN(t,e){const r=await pN(`/users/${t}/${e}`);if(!r)return null;const{channelEmotes:n,sharedEmotes:i}=r;return!n||!i||n.length===0&&i.length===0?null:[...n,...i]}async function pN(t){return await dN.get(t).then(e=>e.data).catch(()=>null)}const mN=Sg.create({baseURL:"https://api.frankerfacez.com/v1"});class gN{static async getEmotes(e,r){const n=await yN(e,r);if(!n)return null;const i=new Map;return n.forEach(s=>{i.set(s.name,{id:s.id.toString(),name:s.name,images:{default:M0(s),static:M0(s,!0)},source:"frankerFaceZ"})}),i}}function M0(t,e=!1){let r=t.urls[1],n=t.urls[2]||r,i=t.urls[4]||n;return!e&&t.animated&&(r=t.animated[1],n=t.animated[2]||r,i=t.animated[4]||n),{x1:r,x2:n,x4:i}}async function yN(t,e){const r=_N[t],n=await vN(`/room/${r}/${e}`);if(!n)return null;const{sets:i}=n;if(!i)return null;const s=Object.keys(i),o=[];return s.forEach(a=>{const l=i[a];o.push(...l.emoticons)}),o.length===0?null:o}async function vN(t){return await mN.get(t).then(e=>e.data).catch(()=>null)}const _N={twitch:"id",youtube:"yt"},ol=new Map;let O0=!1;function yT(){function t(n){return ol.get(n)}function e(){return Array.from(ol.keys())}function r(){return Array.from(ol.values())}return{getOtherEmote:t,getOtherEmoteNames:e,getAllOtherEmotes:r}}function wN(){const[t,e]=U.useState(!0),{broadcaster:r}=vn();return U.useEffect(()=>{async function n(){if(!O0){const[i,s]=await Promise.all([hN.getEmotes("twitch",r.id),gN.getEmotes("twitch",r.id)]);i&&i.forEach(D0),s&&s.forEach(D0)}e(!1),O0=!0}n()},[r]),{loading:t}}function D0(t,e){ol.set(e,t)}function xN(){const{getOtherEmote:t,getOtherEmoteNames:e}=yT(),{getCheerColor:r,getCheermoteUrls:n}=mg();function i(a,l){const{position:u,length:c,id:h,name:d}=a,p=l.slice(u,u+c),m=t(p);return m?{type:"emote",text:p,emote:m}:{type:"emote",text:l.slice(u,u+c),emote:{id:h,name:d,images:{default:N0(h),static:N0(h,!0)},source:"twitch"}}}function s(a,l){const{name:u,amount:c,position:h,length:d}=a;return{type:"cheer",text:l.slice(h,h+d),cheer:{color:r(u,c),images:{default:n(u,c),static:n(u,c,!0)},name:u,amount:c}}}function o(a){const{text:l}=a,u=SN(e());return l.split(u).filter(h=>h!=="").map(h=>{const d=t(h);return d?{type:"emote",text:h,emote:d}:{type:"text",text:h}})}return{transformTextPart:o,transformEmotePart:i,transformCheerPart:s}}function N0(t,e=!1){function r(n="3.0"){return Kb(t,{animationSettings:e?"static":"default",backgroundType:"light",size:n})}return{x1:r("1.0"),x2:r("2.0"),x4:r("3.0")}}function SN(t){const e=t.map(CN).join("|"),r=String.raw`(?<=\s|[.,!]|^)(${e})(?=\s|[.,!]|$)`;return new RegExp(r,"g")}function CN(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function bN(){const{transformTextPart:t,transformCheerPart:e,transformEmotePart:r}=xN(),{getCheermoteNames:n}=mg();function i(s,o,a=!1){if(!s)return[];const l=VO(s,o,a?n():void 0),u=[];return l.forEach(c=>{switch(c.type){default:case"text":u.push(...t(c));break;case"cheer":u.push(e(c,s));break;case"emote":u.push(r(c,s));break}}),u}return{transformText:i}}const TN=Sg.create({baseURL:"https://pronouns.alejo.io/api"}),EN=1e3*60*5,B0=new Map,Ip=new Map;let kp=!1;function vT(){async function t(r){if(!kp)return;let n=B0.get(r);if(!n||n.expire<Date.now()){const i=await AN(r);n={pronouns:i?Ip.get(i):void 0,expire:Date.now()+EN},B0.set(r,n)}return n.pronouns}function e(){return Array.from(Ip.values())}return{getPronouns:t,getAllPronouns:e}}function PN(){const[t,e]=U.useState(!0);return U.useEffect(()=>{async function r(){if(!kp){const n=await IN();n&&n.forEach(({name:i,display:s})=>{Ip.set(i,s)})}e(!1),kp=!0}r()},[]),{loading:t}}async function AN(t){const e=await _T(`/users/${t}`);if(!e)return;const[r]=e;if(r)return r.pronoun_id}async function IN(){return _T("/pronouns")}async function _T(t){return await TN.get(t).then(e=>e.data).catch(()=>null)}const Rp=new Map;let L0=!1;function wT(){function t(r){const n=[];return r.forEach((i,s)=>{var a,l;const o=(l=(a=Rp.get(s))==null?void 0:a.get(i))==null?void 0:l.getImageUrl(4);o&&n.push({id:s,image:o})}),n}function e(r){var i,s;const n=(s=(i=Rp.get(r))==null?void 0:i.get(r==="subscriber"||r==="founder"?"0":"1"))==null?void 0:s.getImageUrl(4);if(n)return{id:r,image:n}}return{transformBadges:t,getBadge:e}}function kN(){const[t,e]=U.useState(!0),{broadcaster:r}=vn();return U.useEffect(()=>{async function n(){if(!L0){const[i,s]=await Promise.all([Yi.chat.getChannelBadges(r.id),Yi.chat.getGlobalBadges()]);U0(s),U0(i)}e(!1),L0=!0}n()},[r]),{loading:t}}function U0(t){t.forEach(e=>{const r=new Map;e.versions.forEach(n=>{r.set(n.id,n)}),Rp.set(e.id,r)})}const F0=new Map,RN=1e3*60*60;function MN(){const{getPronouns:t}=vT(),{broadcaster:e}=vn(),{transformBadges:r}=wT();async function n(s){const{userId:o,userName:a,displayName:l,badges:u,color:c,isBroadcaster:h,isMod:d,isArtist:p,isVip:m,isFounder:_,isSubscriber:w}=s;return{id:o,userName:a,displayName:l,pronouns:await t(a),badges:r(u),color:c,roles:{broadcaster:h,moderator:d,artist:p,vip:m,founder:_,subscriber:w,followDate:await i(o)}}}async function i(s){if(s===e.id)return new Date(0);let o=F0.get(s);if(!o||o.expire<Date.now()){const a=await Yi.channels.getChannelFollowers(e.id,s),[l]=a.data;o={date:l==null?void 0:l.followDate,expire:Date.now()+RN},F0.set(s,o)}return o.date}return{transformUser:n}}const xT=new Map;let j0=!1;function ON(){function t(e){return xT.get(e)}return{getReward:t}}function DN(){const[t,e]=U.useState(!0),{broadcaster:r}=vn();return U.useEffect(()=>{async function n(){j0||(await Yi.channelPoints.getCustomRewards(r.id).catch(s=>[])).forEach(s=>{xT.set(s.id,s)}),e(!1),j0=!0}n()},[r]),{loading:t}}function NN(){const{getReward:t}=ON(),{transformText:e}=bN(),{transformUser:r}=MN();async function n(i,s,o){if(s instanceof Xu&&(o=s.text),!o)return;const{type:a}=i,l={id:s.id,first:s.tags.get("first-msg")==="1",date:s.date,text:o,parts:e(o,s.emoteOffsets,a==="cheer"),user:await r(s.userInfo),tags:s.tags,...i};if(a!=="basic")return l;if(s.tags.get("msg-id")==="highlighted-message")return{...l,type:"highlight"};const u=s.tags.get("custom-reward-id");if(u){const d=t(u);if(d){const p={id:d.id,name:d.title,cost:d.cost,image:d.getImageUrl(4),color:d.backgroundColor};return{...l,type:"redeem",redeem:p}}}const c=d=>s.tags.get(`reply-parent-${d}`)||"",h=c("msg-id");if(h){const d={id:h,text:c("msg-body"),user:{id:c("user-id"),userName:c("user-login"),displayName:c("display-name")}};return{...l,type:"reply",reply:d}}return l}return{transformMessage:n}}function BN(){const t=eg(),{broadcaster:e}=vn(),{transformMessage:r}=NN(),i=U.useRef(new pu({authProvider:f1,channels:[e.userName]})).current;i.isConnected||i.connect();function s(l){l&&t({type:"add",payload:l})}slime2Chat.ready({test:s});function o(l=null){t({type:"clear",payload:l})}function a(l){t({type:"remove",payload:l,moderator:!0})}return U.useEffect(()=>{const l=[];return l.push(i.onMessage(async(u,c,h,d)=>{const{bits:p}=d,_=await r(p?{type:"cheer",cheer:{amount:p}}:{type:"basic"},d,h);s(_)}),i.onAction(async(u,c,h,d)=>{const p=await r({type:"action"},d,h);s(p)}),i.onResub(async(u,c,h,d)=>{const p={type:"resub",resub:{months:h.months,tier:h.plan}},m=await r(p,d);s(m)}),i.onAnnouncement(async(u,c,h,d)=>{const p={type:"announcement",announcement:{color:h.color}},m=await r(p,d);s(m)}),i.onChatClear(()=>{o()}),i.onTimeout((u,c,h,d)=>{o(d.targetUserId)}),i.onBan((u,c,h)=>{o(h.targetUserId)}),i.onMessageRemove((u,c)=>{a(c)})),()=>{l.forEach(u=>{u&&i.removeListener(u)})}}),ue.jsx(KO,{})}const ST=U.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),ic=U.createContext({}),Cg=U.createContext(null),sc=typeof document<"u",LN=sc?U.useLayoutEffect:U.useEffect,CT=U.createContext({strict:!1});function UN(t,e,r,n){const{visualElement:i}=U.useContext(ic),s=U.useContext(CT),o=U.useContext(Cg),a=U.useContext(ST).reducedMotion,l=U.useRef();n=n||s.renderer,!l.current&&n&&(l.current=n(t,{visualState:e,parent:i,props:r,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const u=l.current;U.useInsertionEffect(()=>{u&&u.update(r,o)});const c=U.useRef(!!window.HandoffAppearAnimations);return LN(()=>{u&&(u.render(),c.current&&u.animationState&&u.animationState.animateChanges())}),U.useEffect(()=>{u&&(u.updateFeatures(),!c.current&&u.animationState&&u.animationState.animateChanges(),window.HandoffAppearAnimations=void 0,c.current=!1)}),u}function Si(t){return typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function FN(t,e,r){return U.useCallback(n=>{n&&t.mount&&t.mount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):Si(r)&&(r.current=n))},[e])}function qo(t){return typeof t=="string"||Array.isArray(t)}function oc(t){return typeof t=="object"&&typeof t.start=="function"}const bg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Tg=["initial",...bg];function ac(t){return oc(t.animate)||Tg.some(e=>qo(t[e]))}function bT(t){return!!(ac(t)||t.variants)}function jN(t,e){if(ac(t)){const{initial:r,animate:n}=t;return{initial:r===!1||qo(r)?r:void 0,animate:qo(n)?n:void 0}}return t.inherit!==!1?e:{}}function $N(t){const{initial:e,animate:r}=jN(t,U.useContext(ic));return U.useMemo(()=>({initial:e,animate:r}),[$0(e),$0(r)])}function $0(t){return Array.isArray(t)?t.join(" "):t}const q0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Vo={};for(const t in q0)Vo[t]={isEnabled:e=>q0[t].some(r=>!!e[r])};function qN(t){for(const e in t)Vo[e]={...Vo[e],...t[e]}}const TT=U.createContext({}),ET=U.createContext({}),VN=Symbol.for("motionComponentSymbol");function HN({preloadedFeatures:t,createVisualElement:e,useRender:r,useVisualState:n,Component:i}){t&&qN(t);function s(a,l){let u;const c={...U.useContext(ST),...a,layoutId:zN(a)},{isStatic:h}=c,d=$N(a),p=n(a,h);if(!h&&sc){d.visualElement=UN(i,p,c,e);const m=U.useContext(ET),_=U.useContext(CT).strict;d.visualElement&&(u=d.visualElement.loadFeatures(c,_,t,m))}return U.createElement(ic.Provider,{value:d},u&&d.visualElement?U.createElement(u,{visualElement:d.visualElement,...c}):null,r(i,a,FN(p,d.visualElement,l),p,h,d.visualElement))}const o=U.forwardRef(s);return o[VN]=i,o}function zN({layoutId:t}){const e=U.useContext(TT).id;return e&&t!==void 0?e+"-"+t:t}function GN(t){function e(n,i={}){return HN(t(n,i))}if(typeof Proxy>"u")return e;const r=new Map;return new Proxy(e,{get:(n,i)=>(r.has(i)||r.set(i,e(i)),r.get(i))})}const WN=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Eg(t){return typeof t!="string"||t.includes("-")?!1:!!(WN.indexOf(t)>-1||/[A-Z]/.test(t))}const gu={};function QN(t){Object.assign(gu,t)}const na=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Xn=new Set(na);function PT(t,{layout:e,layoutId:r}){return Xn.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!gu[t]||t==="opacity")}const ht=t=>!!(t&&t.getVelocity),KN={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},YN=na.length;function JN(t,{enableHardwareAcceleration:e=!0,allowTransformNone:r=!0},n,i){let s="";for(let o=0;o<YN;o++){const a=na[o];if(t[a]!==void 0){const l=KN[a]||a;s+=`${l}(${t[a]}) `}}return e&&!t.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(t,n?"":s):r&&n&&(s="none"),s}const AT=t=>e=>typeof e=="string"&&e.startsWith(t),IT=AT("--"),Mp=AT("var(--"),XN=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,ZN=(t,e)=>e&&typeof t=="number"?e.transform(t):t,hn=(t,e,r)=>Math.min(Math.max(r,t),e),Zn={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Gs={...Zn,transform:t=>hn(0,1,t)},Da={...Zn,default:1},Ws=t=>Math.round(t*1e5)/1e5,lc=/(-)?([\d]*\.?[\d])+/g,kT=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,eB=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function ia(t){return typeof t=="string"}const sa=t=>({test:e=>ia(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Br=sa("deg"),tr=sa("%"),Q=sa("px"),tB=sa("vh"),rB=sa("vw"),V0={...tr,parse:t=>tr.parse(t)/100,transform:t=>tr.transform(t*100)},H0={...Zn,transform:Math.round},RT={borderWidth:Q,borderTopWidth:Q,borderRightWidth:Q,borderBottomWidth:Q,borderLeftWidth:Q,borderRadius:Q,radius:Q,borderTopLeftRadius:Q,borderTopRightRadius:Q,borderBottomRightRadius:Q,borderBottomLeftRadius:Q,width:Q,maxWidth:Q,height:Q,maxHeight:Q,size:Q,top:Q,right:Q,bottom:Q,left:Q,padding:Q,paddingTop:Q,paddingRight:Q,paddingBottom:Q,paddingLeft:Q,margin:Q,marginTop:Q,marginRight:Q,marginBottom:Q,marginLeft:Q,rotate:Br,rotateX:Br,rotateY:Br,rotateZ:Br,scale:Da,scaleX:Da,scaleY:Da,scaleZ:Da,skew:Br,skewX:Br,skewY:Br,distance:Q,translateX:Q,translateY:Q,translateZ:Q,x:Q,y:Q,z:Q,perspective:Q,transformPerspective:Q,opacity:Gs,originX:V0,originY:V0,originZ:Q,zIndex:H0,fillOpacity:Gs,strokeOpacity:Gs,numOctaves:H0};function Pg(t,e,r,n){const{style:i,vars:s,transform:o,transformOrigin:a}=t;let l=!1,u=!1,c=!0;for(const h in e){const d=e[h];if(IT(h)){s[h]=d;continue}const p=RT[h],m=ZN(d,p);if(Xn.has(h)){if(l=!0,o[h]=m,!c)continue;d!==(p.default||0)&&(c=!1)}else h.startsWith("origin")?(u=!0,a[h]=m):i[h]=m}if(e.transform||(l||n?i.transform=JN(t.transform,r,c,n):i.transform&&(i.transform="none")),u){const{originX:h="50%",originY:d="50%",originZ:p=0}=a;i.transformOrigin=`${h} ${d} ${p}`}}const Ag=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function MT(t,e,r){for(const n in e)!ht(e[n])&&!PT(n,r)&&(t[n]=e[n])}function nB({transformTemplate:t},e,r){return U.useMemo(()=>{const n=Ag();return Pg(n,e,{enableHardwareAcceleration:!r},t),Object.assign({},n.vars,n.style)},[e])}function iB(t,e,r){const n=t.style||{},i={};return MT(i,n,t),Object.assign(i,nB(t,e,r)),t.transformValues?t.transformValues(i):i}function sB(t,e,r){const n={},i=iB(t,e,r);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const oB=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function yu(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||oB.has(t)}let OT=t=>!yu(t);function aB(t){t&&(OT=e=>e.startsWith("on")?!yu(e):t(e))}try{aB(require("@emotion/is-prop-valid").default)}catch{}function lB(t,e,r){const n={};for(const i in t)i==="values"&&typeof t.values=="object"||(OT(i)||r===!0&&yu(i)||!e&&!yu(i)||t.draggable&&i.startsWith("onDrag"))&&(n[i]=t[i]);return n}function z0(t,e,r){return typeof t=="string"?t:Q.transform(e+r*t)}function uB(t,e,r){const n=z0(e,t.x,t.width),i=z0(r,t.y,t.height);return`${n} ${i}`}const cB={offset:"stroke-dashoffset",array:"stroke-dasharray"},dB={offset:"strokeDashoffset",array:"strokeDasharray"};function hB(t,e,r=1,n=0,i=!0){t.pathLength=1;const s=i?cB:dB;t[s.offset]=Q.transform(-n);const o=Q.transform(e),a=Q.transform(r);t[s.array]=`${o} ${a}`}function Ig(t,{attrX:e,attrY:r,attrScale:n,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},c,h,d){if(Pg(t,u,c,d),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:m,dimensions:_}=t;p.transform&&(_&&(m.transform=p.transform),delete p.transform),_&&(i!==void 0||s!==void 0||m.transform)&&(m.transformOrigin=uB(_,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(p.x=e),r!==void 0&&(p.y=r),n!==void 0&&(p.scale=n),o!==void 0&&hB(p,o,a,l,!1)}const DT=()=>({...Ag(),attrs:{}}),kg=t=>typeof t=="string"&&t.toLowerCase()==="svg";function fB(t,e,r,n){const i=U.useMemo(()=>{const s=DT();return Ig(s,e,{enableHardwareAcceleration:!1},kg(n),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};MT(s,t.style,t),i.style={...s,...i.style}}return i}function pB(t=!1){return(r,n,i,{latestValues:s},o)=>{const l=(Eg(r)?fB:sB)(n,s,o,r),c={...lB(n,typeof r=="string",t),...l,ref:i},{children:h}=n,d=U.useMemo(()=>ht(h)?h.get():h,[h]);return U.createElement(r,{...c,children:d})}}const Rg=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function NT(t,{style:e,vars:r},n,i){Object.assign(t.style,e,i&&i.getProjectionStyles(n));for(const s in r)t.style.setProperty(s,r[s])}const BT=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function LT(t,e,r,n){NT(t,e,void 0,n);for(const i in e.attrs)t.setAttribute(BT.has(i)?i:Rg(i),e.attrs[i])}function Mg(t,e){const{style:r}=t,n={};for(const i in r)(ht(r[i])||e.style&&ht(e.style[i])||PT(i,t))&&(n[i]=r[i]);return n}function UT(t,e){const r=Mg(t,e);for(const n in t)if(ht(t[n])||ht(e[n])){const i=na.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;r[i]=t[n]}return r}function Og(t,e,r,n={},i={}){return typeof e=="function"&&(e=e(r!==void 0?r:t.custom,n,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(r!==void 0?r:t.custom,n,i)),e}function mB(t){const e=U.useRef(null);return e.current===null&&(e.current=t()),e.current}const vu=t=>Array.isArray(t),gB=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),yB=t=>vu(t)?t[t.length-1]||0:t;function al(t){const e=ht(t)?t.get():t;return gB(e)?e.toValue():e}function vB({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:r},n,i,s){const o={latestValues:_B(n,i,s,t),renderState:e()};return r&&(o.mount=a=>r(n,a,o)),o}const FT=t=>(e,r)=>{const n=U.useContext(ic),i=U.useContext(Cg),s=()=>vB(t,e,n,i);return r?s():mB(s)};function _B(t,e,r,n){const i={},s=n(t,{});for(const d in s)i[d]=al(s[d]);let{initial:o,animate:a}=t;const l=ac(t),u=bT(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let c=r?r.initial===!1:!1;c=c||o===!1;const h=c?a:o;return h&&typeof h!="boolean"&&!oc(h)&&(Array.isArray(h)?h:[h]).forEach(p=>{const m=Og(t,p);if(!m)return;const{transitionEnd:_,transition:w,...v}=m;for(const g in v){let y=v[g];if(Array.isArray(y)){const x=c?y.length-1:0;y=y[x]}y!==null&&(i[g]=y)}for(const g in _)i[g]=_[g]}),i}const Ae=t=>t;class G0{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const r=this.order.indexOf(e);r!==-1&&(this.order.splice(r,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function wB(t){let e=new G0,r=new G0,n=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(l,u=!1,c=!1)=>{const h=c&&i,d=h?e:r;return u&&o.add(l),d.add(l)&&h&&i&&(n=e.order.length),l},cancel:l=>{r.remove(l),o.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[e,r]=[r,e],r.clear(),n=e.order.length,n)for(let u=0;u<n;u++){const c=e.order[u];c(l),o.has(c)&&(a.schedule(c),t())}i=!1,s&&(s=!1,a.process(l))}};return a}const Na=["prepare","read","update","preRender","render","postRender"],xB=40;function SB(t,e){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=Na.reduce((h,d)=>(h[d]=wB(()=>r=!0),h),{}),o=h=>s[h].process(i),a=()=>{const h=performance.now();r=!1,i.delta=n?1e3/60:Math.max(Math.min(h-i.timestamp,xB),1),i.timestamp=h,i.isProcessing=!0,Na.forEach(o),i.isProcessing=!1,r&&e&&(n=!1,t(a))},l=()=>{r=!0,n=!0,i.isProcessing||t(a)};return{schedule:Na.reduce((h,d)=>{const p=s[d];return h[d]=(m,_=!1,w=!1)=>(r||l(),p.schedule(m,_,w)),h},{}),cancel:h=>Na.forEach(d=>s[d].cancel(h)),state:i,steps:s}}const{schedule:we,cancel:Sr,state:je,steps:Oh}=SB(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ae,!0),CB={useVisualState:FT({scrapeMotionValuesFromProps:UT,createRenderState:DT,onMount:(t,e,{renderState:r,latestValues:n})=>{we.read(()=>{try{r.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}),we.render(()=>{Ig(r,n,{enableHardwareAcceleration:!1},kg(e.tagName),t.transformTemplate),LT(e,r)})}})},bB={useVisualState:FT({scrapeMotionValuesFromProps:Mg,createRenderState:Ag})};function TB(t,{forwardMotionProps:e=!1},r,n){return{...Eg(t)?CB:bB,preloadedFeatures:r,useRender:pB(e),createVisualElement:n,Component:t}}function fr(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}const jT=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function uc(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const EB=t=>e=>jT(e)&&t(e,uc(e));function gr(t,e,r,n){return fr(t,e,EB(r),n)}const PB=(t,e)=>r=>e(t(r)),nn=(...t)=>t.reduce(PB);function $T(t){let e=null;return()=>{const r=()=>{e=null};return e===null?(e=t,r):!1}}const W0=$T("dragHorizontal"),Q0=$T("dragVertical");function qT(t){let e=!1;if(t==="y")e=Q0();else if(t==="x")e=W0();else{const r=W0(),n=Q0();r&&n?e=()=>{r(),n()}:(r&&r(),n&&n())}return e}function VT(){const t=qT(!0);return t?(t(),!1):!0}class _n{constructor(e){this.isMounted=!1,this.node=e}update(){}}function K0(t,e){const r="pointer"+(e?"enter":"leave"),n="onHover"+(e?"Start":"End"),i=(s,o)=>{if(s.type==="touch"||VT())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[n]&&we.update(()=>a[n](s,o))};return gr(t.current,r,i,{passive:!t.getProps()[n]})}class AB extends _n{mount(){this.unmount=nn(K0(this.node,!0),K0(this.node,!1))}unmount(){}}class IB extends _n{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=nn(fr(this.node.current,"focus",()=>this.onFocus()),fr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const HT=(t,e)=>e?t===e?!0:HT(t,e.parentElement):!1;function Dh(t,e){if(!e)return;const r=new PointerEvent("pointer"+t);e(r,uc(r))}class kB extends _n{constructor(){super(...arguments),this.removeStartListeners=Ae,this.removeEndListeners=Ae,this.removeAccessibleListeners=Ae,this.startPointerPress=(e,r)=>{if(this.removeEndListeners(),this.isPressing)return;const n=this.node.getProps(),s=gr(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:c}=this.node.getProps();we.update(()=>{HT(this.node.current,a.target)?u&&u(a,l):c&&c(a,l)})},{passive:!(n.onTap||n.onPointerUp)}),o=gr(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=nn(s,o),this.startPress(e,r)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||Dh("up",(l,u)=>{const{onTap:c}=this.node.getProps();c&&we.update(()=>c(l,u))})};this.removeEndListeners(),this.removeEndListeners=fr(this.node.current,"keyup",o),Dh("down",(a,l)=>{this.startPress(a,l)})},r=fr(this.node.current,"keydown",e),n=()=>{this.isPressing&&Dh("cancel",(s,o)=>this.cancelPress(s,o))},i=fr(this.node.current,"blur",n);this.removeAccessibleListeners=nn(r,i)}}startPress(e,r){this.isPressing=!0;const{onTapStart:n,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&we.update(()=>n(e,r))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!VT()}cancelPress(e,r){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&we.update(()=>n(e,r))}mount(){const e=this.node.getProps(),r=gr(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),n=fr(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=nn(r,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Op=new WeakMap,Nh=new WeakMap,RB=t=>{const e=Op.get(t.target);e&&e(t)},MB=t=>{t.forEach(RB)};function OB({root:t,...e}){const r=t||document;Nh.has(r)||Nh.set(r,{});const n=Nh.get(r),i=JSON.stringify(e);return n[i]||(n[i]=new IntersectionObserver(MB,{root:t,...e})),n[i]}function DB(t,e,r){const n=OB(e);return Op.set(t,r),n.observe(t),()=>{Op.delete(t),n.unobserve(t)}}const NB={some:0,all:1};class BB extends _n{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:s}=e,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:NB[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:h}=this.node.getProps(),d=u?c:h;d&&d(l)};return DB(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(LB(e,r))&&this.startObserver()}unmount(){}}function LB({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const UB={inView:{Feature:BB},tap:{Feature:kB},focus:{Feature:IB},hover:{Feature:AB}};function zT(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}function FB(t){const e={};return t.values.forEach((r,n)=>e[n]=r.get()),e}function jB(t){const e={};return t.values.forEach((r,n)=>e[n]=r.getVelocity()),e}function cc(t,e,r){const n=t.getProps();return Og(n,e,r!==void 0?r:n.custom,FB(t),jB(t))}const $B="framerAppearId",qB="data-"+Rg($B);let VB=Ae,Dg=Ae;const sn=t=>t*1e3,yr=t=>t/1e3,HB={current:!1},GT=t=>Array.isArray(t)&&typeof t[0]=="number";function WT(t){return!!(!t||typeof t=="string"&&QT[t]||GT(t)||Array.isArray(t)&&t.every(WT))}const Rs=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,QT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Rs([0,.65,.55,1]),circOut:Rs([.55,0,1,.45]),backIn:Rs([.31,.01,.66,-.59]),backOut:Rs([.33,1.53,.69,.99])};function KT(t){if(t)return GT(t)?Rs(t):Array.isArray(t)?t.map(KT):QT[t]}function zB(t,e,r,{delay:n=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const u={[e]:r};l&&(u.offset=l);const c=KT(a);return Array.isArray(c)&&(u.easing=c),t.animate(u,{delay:n,duration:i,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function GB(t,{repeat:e,repeatType:r="loop"}){const n=e&&r!=="loop"&&e%2===1?0:t.length-1;return t[n]}const YT=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,WB=1e-7,QB=12;function KB(t,e,r,n,i){let s,o,a=0;do o=e+(r-e)/2,s=YT(o,n,i)-t,s>0?r=o:e=o;while(Math.abs(s)>WB&&++a<QB);return o}function oa(t,e,r,n){if(t===e&&r===n)return Ae;const i=s=>KB(s,0,1,t,r);return s=>s===0||s===1?s:YT(i(s),e,n)}const YB=oa(.42,0,1,1),JB=oa(0,0,.58,1),JT=oa(.42,0,.58,1),XB=t=>Array.isArray(t)&&typeof t[0]!="number",XT=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,ZT=t=>e=>1-t(1-e),eE=t=>1-Math.sin(Math.acos(t)),Ng=ZT(eE),ZB=XT(Ng),tE=oa(.33,1.53,.69,.99),Bg=ZT(tE),eL=XT(Bg),tL=t=>(t*=2)<1?.5*Bg(t):.5*(2-Math.pow(2,-10*(t-1))),rL={linear:Ae,easeIn:YB,easeInOut:JT,easeOut:JB,circIn:eE,circInOut:ZB,circOut:Ng,backIn:Bg,backInOut:eL,backOut:tE,anticipate:tL},Y0=t=>{if(Array.isArray(t)){Dg(t.length===4);const[e,r,n,i]=t;return oa(e,r,n,i)}else if(typeof t=="string")return rL[t];return t},Lg=(t,e)=>r=>!!(ia(r)&&eB.test(r)&&r.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(r,e)),rE=(t,e,r)=>n=>{if(!ia(n))return n;const[i,s,o,a]=n.match(lc);return{[t]:parseFloat(i),[e]:parseFloat(s),[r]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},nL=t=>hn(0,255,t),Bh={...Zn,transform:t=>Math.round(nL(t))},Mn={test:Lg("rgb","red"),parse:rE("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+Bh.transform(t)+", "+Bh.transform(e)+", "+Bh.transform(r)+", "+Ws(Gs.transform(n))+")"};function iL(t){let e="",r="",n="",i="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),i=t.substring(4,5),e+=e,r+=r,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const Dp={test:Lg("#"),parse:iL,transform:Mn.transform},Ci={test:Lg("hsl","hue"),parse:rE("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+tr.transform(Ws(e))+", "+tr.transform(Ws(r))+", "+Ws(Gs.transform(n))+")"},Ze={test:t=>Mn.test(t)||Dp.test(t)||Ci.test(t),parse:t=>Mn.test(t)?Mn.parse(t):Ci.test(t)?Ci.parse(t):Dp.parse(t),transform:t=>ia(t)?t:t.hasOwnProperty("red")?Mn.transform(t):Ci.transform(t)},be=(t,e,r)=>-r*t+r*e+t;function Lh(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function sL({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let i=0,s=0,o=0;if(!e)i=s=o=r;else{const a=r<.5?r*(1+e):r+e-r*e,l=2*r-a;i=Lh(l,a,t+1/3),s=Lh(l,a,t),o=Lh(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:n}}const Uh=(t,e,r)=>{const n=t*t;return Math.sqrt(Math.max(0,r*(e*e-n)+n))},oL=[Dp,Mn,Ci],aL=t=>oL.find(e=>e.test(t));function J0(t){const e=aL(t);let r=e.parse(t);return e===Ci&&(r=sL(r)),r}const nE=(t,e)=>{const r=J0(t),n=J0(e),i={...r};return s=>(i.red=Uh(r.red,n.red,s),i.green=Uh(r.green,n.green,s),i.blue=Uh(r.blue,n.blue,s),i.alpha=be(r.alpha,n.alpha,s),Mn.transform(i))};function lL(t){var e,r;return isNaN(t)&&ia(t)&&(((e=t.match(lc))===null||e===void 0?void 0:e.length)||0)+(((r=t.match(kT))===null||r===void 0?void 0:r.length)||0)>0}const iE={regex:XN,countKey:"Vars",token:"${v}",parse:Ae},sE={regex:kT,countKey:"Colors",token:"${c}",parse:Ze.parse},oE={regex:lc,countKey:"Numbers",token:"${n}",parse:Zn.parse};function Fh(t,{regex:e,countKey:r,token:n,parse:i}){const s=t.tokenised.match(e);s&&(t["num"+r]=s.length,t.tokenised=t.tokenised.replace(e,n),t.values.push(...s.map(i)))}function _u(t){const e=t.toString(),r={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return r.value.includes("var(--")&&Fh(r,iE),Fh(r,sE),Fh(r,oE),r}function aE(t){return _u(t).values}function lE(t){const{values:e,numColors:r,numVars:n,tokenised:i}=_u(t),s=e.length;return o=>{let a=i;for(let l=0;l<s;l++)l<n?a=a.replace(iE.token,o[l]):l<n+r?a=a.replace(sE.token,Ze.transform(o[l])):a=a.replace(oE.token,Ws(o[l]));return a}}const uL=t=>typeof t=="number"?0:t;function cL(t){const e=aE(t);return lE(t)(e.map(uL))}const fn={test:lL,parse:aE,createTransformer:lE,getAnimatableNone:cL},uE=(t,e)=>r=>`${r>0?e:t}`;function cE(t,e){return typeof t=="number"?r=>be(t,e,r):Ze.test(t)?nE(t,e):t.startsWith("var(")?uE(t,e):hE(t,e)}const dE=(t,e)=>{const r=[...t],n=r.length,i=t.map((s,o)=>cE(s,e[o]));return s=>{for(let o=0;o<n;o++)r[o]=i[o](s);return r}},dL=(t,e)=>{const r={...t,...e},n={};for(const i in r)t[i]!==void 0&&e[i]!==void 0&&(n[i]=cE(t[i],e[i]));return i=>{for(const s in n)r[s]=n[s](i);return r}},hE=(t,e)=>{const r=fn.createTransformer(e),n=_u(t),i=_u(e);return n.numVars===i.numVars&&n.numColors===i.numColors&&n.numNumbers>=i.numNumbers?nn(dE(n.values,i.values),r):uE(t,e)},Ho=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n},X0=(t,e)=>r=>be(t,e,r);function hL(t){return typeof t=="number"?X0:typeof t=="string"?Ze.test(t)?nE:hE:Array.isArray(t)?dE:typeof t=="object"?dL:X0}function fL(t,e,r){const n=[],i=r||hL(t[0]),s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Ae:e;a=nn(l,a)}n.push(a)}return n}function fE(t,e,{clamp:r=!0,ease:n,mixer:i}={}){const s=t.length;if(Dg(s===e.length),s===1)return()=>e[0];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=fL(e,n,i),a=o.length,l=u=>{let c=0;if(a>1)for(;c<t.length-2&&!(u<t[c+1]);c++);const h=Ho(t[c],t[c+1],u);return o[c](h)};return r?u=>l(hn(t[0],t[s-1],u)):l}function pL(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const i=Ho(0,e,n);t.push(be(r,1,i))}}function mL(t){const e=[0];return pL(e,t.length-1),e}function gL(t,e){return t.map(r=>r*e)}function yL(t,e){return t.map(()=>e||JT).splice(0,t.length-1)}function wu({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const i=XB(n)?n.map(Y0):Y0(n),s={done:!1,value:e[0]},o=gL(r&&r.length===e.length?r:mL(e),t),a=fE(o,e,{ease:Array.isArray(i)?i:yL(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}function pE(t,e){return e?t*(1e3/e):0}const vL=5;function mE(t,e,r){const n=Math.max(e-vL,0);return pE(r-t(n),e-n)}const jh=.001,_L=.01,Z0=10,wL=.05,xL=1;function SL({duration:t=800,bounce:e=.25,velocity:r=0,mass:n=1}){let i,s;VB(t<=sn(Z0));let o=1-e;o=hn(wL,xL,o),t=hn(_L,Z0,yr(t)),o<1?(i=u=>{const c=u*o,h=c*t,d=c-r,p=Np(u,o),m=Math.exp(-h);return jh-d/p*m},s=u=>{const h=u*o*t,d=h*r+r,p=Math.pow(o,2)*Math.pow(u,2)*t,m=Math.exp(-h),_=Np(Math.pow(u,2),o);return(-i(u)+jh>0?-1:1)*((d-p)*m)/_}):(i=u=>{const c=Math.exp(-u*t),h=(u-r)*t+1;return-jh+c*h},s=u=>{const c=Math.exp(-u*t),h=(r-u)*(t*t);return c*h});const a=5/t,l=bL(i,s,a);if(t=sn(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(l,2)*n;return{stiffness:u,damping:o*2*Math.sqrt(n*u),duration:t}}}const CL=12;function bL(t,e,r){let n=r;for(let i=1;i<CL;i++)n=n-t(n)/e(n);return n}function Np(t,e){return t*Math.sqrt(1-e*e)}const TL=["duration","bounce"],EL=["stiffness","damping","mass"];function ew(t,e){return e.some(r=>t[r]!==void 0)}function PL(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!ew(t,EL)&&ew(t,TL)){const r=SL(t);e={...e,...r,velocity:0,mass:1},e.isResolvedFromDuration=!0}return e}function gE({keyframes:t,restDelta:e,restSpeed:r,...n}){const i=t[0],s=t[t.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:u,velocity:c,duration:h,isResolvedFromDuration:d}=PL(n),p=c?-yr(c):0,m=l/(2*Math.sqrt(a*u)),_=s-i,w=yr(Math.sqrt(a/u)),v=Math.abs(_)<5;r||(r=v?.01:2),e||(e=v?.005:.5);let g;if(m<1){const y=Np(w,m);g=x=>{const b=Math.exp(-m*w*x);return s-b*((p+m*w*_)/y*Math.sin(y*x)+_*Math.cos(y*x))}}else if(m===1)g=y=>s-Math.exp(-w*y)*(_+(p+w*_)*y);else{const y=w*Math.sqrt(m*m-1);g=x=>{const b=Math.exp(-m*w*x),R=Math.min(y*x,300);return s-b*((p+m*w*_)*Math.sinh(R)+y*_*Math.cosh(R))/y}}return{calculatedDuration:d&&h||null,next:y=>{const x=g(y);if(d)o.done=y>=h;else{let b=p;y!==0&&(m<1?b=mE(g,y,x):b=0);const R=Math.abs(b)<=r,O=Math.abs(s-x)<=e;o.done=R&&O}return o.value=o.done?s:x,o}}}function tw({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:c}){const h=t[0],d={done:!1,value:h},p=A=>a!==void 0&&A<a||l!==void 0&&A>l,m=A=>a===void 0?l:l===void 0||Math.abs(a-A)<Math.abs(l-A)?a:l;let _=r*e;const w=h+_,v=o===void 0?w:o(w);v!==w&&(_=v-h);const g=A=>-_*Math.exp(-A/n),y=A=>v+g(A),x=A=>{const B=g(A),j=y(A);d.done=Math.abs(B)<=u,d.value=d.done?v:j};let b,R;const O=A=>{p(d.value)&&(b=A,R=gE({keyframes:[d.value,m(d.value)],velocity:mE(y,A,d.value),damping:i,stiffness:s,restDelta:u,restSpeed:c}))};return O(0),{calculatedDuration:null,next:A=>{let B=!1;return!R&&b===void 0&&(B=!0,x(A),O(A)),b!==void 0&&A>b?R.next(A-b):(!B&&x(A),d)}}}const AL=t=>{const e=({timestamp:r})=>t(r);return{start:()=>we.update(e,!0),stop:()=>Sr(e),now:()=>je.isProcessing?je.timestamp:performance.now()}},rw=2e4;function nw(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<rw;)e+=r,n=t.next(e);return e>=rw?1/0:e}const IL={decay:tw,inertia:tw,tween:wu,keyframes:wu,spring:gE};function xu({autoplay:t=!0,delay:e=0,driver:r=AL,keyframes:n,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:u,onComplete:c,onUpdate:h,...d}){let p=1,m=!1,_,w;const v=()=>{w=new Promise(H=>{_=H})};v();let g;const y=IL[i]||wu;let x;y!==wu&&typeof n[0]!="number"&&(x=fE([0,100],n,{clamp:!1}),n=[0,100]);const b=y({...d,keyframes:n});let R;a==="mirror"&&(R=y({...d,keyframes:[...n].reverse(),velocity:-(d.velocity||0)}));let O="idle",A=null,B=null,j=null;b.calculatedDuration===null&&s&&(b.calculatedDuration=nw(b));const{calculatedDuration:K}=b;let oe=1/0,ee=1/0;K!==null&&(oe=K+o,ee=oe*(s+1)-o);let T=0;const I=H=>{if(B===null)return;p>0&&(B=Math.min(B,H)),p<0&&(B=Math.min(H-ee/p,B)),A!==null?T=A:T=Math.round(H-B)*p;const ae=T-e*(p>=0?1:-1),or=p>=0?ae<0:ae>ee;T=Math.max(ae,0),O==="finished"&&A===null&&(T=ee);let st=T,Tr=b;if(s){const us=T/oe;let ei=Math.floor(us),zt=us%1;!zt&&us>=1&&(zt=1),zt===1&&ei--,ei=Math.min(ei,s+1);const aa=!!(ei%2);aa&&(a==="reverse"?(zt=1-zt,o&&(zt-=o/oe)):a==="mirror"&&(Tr=R));let la=hn(0,1,zt);T>ee&&(la=a==="reverse"&&aa?1:0),st=la*oe}const Ge=or?{done:!1,value:n[0]}:Tr.next(st);x&&(Ge.value=x(Ge.value));let{done:ar}=Ge;!or&&K!==null&&(ar=p>=0?T>=ee:T<=0);const dc=A===null&&(O==="finished"||O==="running"&&ar);return h&&h(Ge.value),dc&&L(),Ge},V=()=>{g&&g.stop(),g=void 0},de=()=>{O="idle",V(),_(),v(),B=j=null},L=()=>{O="finished",c&&c(),V(),_()},F=()=>{if(m)return;g||(g=r(I));const H=g.now();l&&l(),A!==null?B=H-A:(!B||O==="finished")&&(B=H),O==="finished"&&v(),j=B,A=null,O="running",g.start()};t&&F();const W={then(H,ae){return w.then(H,ae)},get time(){return yr(T)},set time(H){H=sn(H),T=H,A!==null||!g||p===0?A=H:B=g.now()-H/p},get duration(){const H=b.calculatedDuration===null?nw(b):b.calculatedDuration;return yr(H)},get speed(){return p},set speed(H){H===p||!g||(p=H,W.time=yr(T))},get state(){return O},play:F,pause:()=>{O="paused",A=T},stop:()=>{m=!0,O!=="idle"&&(O="idle",u&&u(),de())},cancel:()=>{j!==null&&I(j),de()},complete:()=>{O="finished"},sample:H=>(B=0,I(H))};return W}function kL(t){let e;return()=>(e===void 0&&(e=t()),e)}const RL=kL(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),ML=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Ba=10,OL=2e4,DL=(t,e)=>e.type==="spring"||t==="backgroundColor"||!WT(e.ease);function NL(t,e,{onUpdate:r,onComplete:n,...i}){if(!(RL()&&ML.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,a,l;const u=()=>{l=new Promise(g=>{a=g})};u();let{keyframes:c,duration:h=300,ease:d,times:p}=i;if(DL(e,i)){const g=xu({...i,repeat:0,delay:0});let y={done:!1,value:c[0]};const x=[];let b=0;for(;!y.done&&b<OL;)y=g.sample(b),x.push(y.value),b+=Ba;p=void 0,c=x,h=b-Ba,d="linear"}const m=zB(t.owner.current,e,c,{...i,duration:h,ease:d,times:p});i.syncStart&&(m.startTime=je.isProcessing?je.timestamp:document.timeline?document.timeline.currentTime:performance.now());const _=()=>m.cancel(),w=()=>{we.update(_),a(),u()};return m.onfinish=()=>{t.set(GB(c,i)),n&&n(),w()},{then(g,y){return l.then(g,y)},attachTimeline(g){return m.timeline=g,m.onfinish=null,Ae},get time(){return yr(m.currentTime||0)},set time(g){m.currentTime=sn(g)},get speed(){return m.playbackRate},set speed(g){m.playbackRate=g},get duration(){return yr(h)},play:()=>{o||(m.play(),Sr(_))},pause:()=>m.pause(),stop:()=>{if(o=!0,m.playState==="idle")return;const{currentTime:g}=m;if(g){const y=xu({...i,autoplay:!1});t.setWithVelocity(y.sample(g-Ba).value,y.sample(g).value,Ba)}w()},complete:()=>m.finish(),cancel:w}}function BL({keyframes:t,delay:e,onUpdate:r,onComplete:n}){const i=()=>(r&&r(t[t.length-1]),n&&n(),{time:0,speed:1,duration:0,play:Ae,pause:Ae,stop:Ae,then:s=>(s(),Promise.resolve()),cancel:Ae,complete:Ae});return e?xu({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const LL={type:"spring",stiffness:500,damping:25,restSpeed:10},UL=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),FL={type:"keyframes",duration:.8},jL={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},$L=(t,{keyframes:e})=>e.length>2?FL:Xn.has(t)?t.startsWith("scale")?UL(e[1]):LL:jL,Bp=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(fn.test(e)||e==="0")&&!e.startsWith("url(")),qL=new Set(["brightness","contrast","saturate","opacity"]);function VL(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(lc)||[];if(!n)return t;const i=r.replace(n,"");let s=qL.has(e)?1:0;return n!==r&&(s*=100),e+"("+s+i+")"}const HL=/([a-z-]*)\(.*?\)/g,Lp={...fn,getAnimatableNone:t=>{const e=t.match(HL);return e?e.map(VL).join(" "):t}},zL={...RT,color:Ze,backgroundColor:Ze,outlineColor:Ze,fill:Ze,stroke:Ze,borderColor:Ze,borderTopColor:Ze,borderRightColor:Ze,borderBottomColor:Ze,borderLeftColor:Ze,filter:Lp,WebkitFilter:Lp},Ug=t=>zL[t];function yE(t,e){let r=Ug(t);return r!==Lp&&(r=fn),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const vE=t=>/^0[^.\s]+$/.test(t);function GL(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||vE(t)}function WL(t,e,r,n){const i=Bp(e,r);let s;Array.isArray(r)?s=[...r]:s=[null,r];const o=n.from!==void 0?n.from:t.get();let a;const l=[];for(let u=0;u<s.length;u++)s[u]===null&&(s[u]=u===0?o:s[u-1]),GL(s[u])&&l.push(u),typeof s[u]=="string"&&s[u]!=="none"&&s[u]!=="0"&&(a=s[u]);if(i&&l.length&&a)for(let u=0;u<l.length;u++){const c=l[u];s[c]=yE(e,a)}return s}function QL({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}function _E(t,e){return t[e]||t.default||t}const Fg=(t,e,r,n={})=>i=>{const s=_E(n,t)||{},o=s.delay||n.delay||0;let{elapsed:a=0}=n;a=a-sn(o);const l=WL(e,t,r,s),u=l[0],c=l[l.length-1],h=Bp(t,u),d=Bp(t,c);let p={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:m=>{e.set(m),s.onUpdate&&s.onUpdate(m)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(QL(s)||(p={...p,...$L(t,p)}),p.duration&&(p.duration=sn(p.duration)),p.repeatDelay&&(p.repeatDelay=sn(p.repeatDelay)),!h||!d||HB.current||s.type===!1)return BL(p);if(e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const m=NL(e,t,p);if(m)return m}return xu(p)};function Su(t){return!!(ht(t)&&t.add)}const wE=t=>/^\-?\d*\.?\d+$/.test(t);function jg(t,e){t.indexOf(e)===-1&&t.push(e)}function $g(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}class qg{constructor(){this.subscriptions=[]}add(e){return jg(this.subscriptions,e),()=>$g(this.subscriptions,e)}notify(e,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,r,n);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const KL=t=>!isNaN(parseFloat(t));class YL{constructor(e,r={}){this.version="10.16.4",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(n,i=!0)=>{this.prev=this.current,this.current=n;const{delta:s,timestamp:o}=je;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,we.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>we.postRender(this.velocityCheck),this.velocityCheck=({timestamp:n})=>{n!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=KL(this.current),this.owner=r.owner}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new qg);const n=this.events[e].add(r);return e==="change"?()=>{n(),we.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e,r=!0){!r||!this.passiveEffect?this.updateAndNotify(e,r):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,r,n){this.set(r),this.prev=e,this.timeDelta=n}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?pE(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Xi(t,e){return new YL(t,e)}const xE=t=>e=>e.test(t),JL={test:t=>t==="auto",parse:t=>t},SE=[Zn,Q,tr,Br,rB,tB,JL],bs=t=>SE.find(xE(t)),XL=[...SE,Ze,fn],ZL=t=>XL.find(xE(t));function e2(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,Xi(r))}function t2(t,e){const r=cc(t,e);let{transitionEnd:n={},transition:i={},...s}=r?t.makeTargetAnimatable(r,!1):{};s={...s,...n};for(const o in s){const a=yB(s[o]);e2(t,o,a)}}function r2(t,e,r){var n,i;const s=Object.keys(e).filter(a=>!t.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],u=e[l];let c=null;Array.isArray(u)&&(c=u[0]),c===null&&(c=(i=(n=r[l])!==null&&n!==void 0?n:t.readValue(l))!==null&&i!==void 0?i:e[l]),c!=null&&(typeof c=="string"&&(wE(c)||vE(c))?c=parseFloat(c):!ZL(c)&&fn.test(u)&&(c=yE(l,u)),t.addValue(l,Xi(c,{owner:t})),r[l]===void 0&&(r[l]=c),c!==null&&t.setBaseTarget(l,c))}}function n2(t,e){return e?(e[t]||e.default||e).from:void 0}function i2(t,e,r){const n={};for(const i in t){const s=n2(i,e);if(s!==void 0)n[i]=s;else{const o=r.getValue(i);o&&(n[i]=o.get())}}return n}function s2({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function CE(t,e,{delay:r=0,transitionOverride:n,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");n&&(s=n);const u=[],c=i&&t.animationState&&t.animationState.getState()[i];for(const h in a){const d=t.getValue(h),p=a[h];if(!d||p===void 0||c&&s2(c,h))continue;const m={delay:r,elapsed:0,...s};if(window.HandoffAppearAnimations&&!d.hasAnimated){const w=t.getProps()[qB];w&&(m.elapsed=window.HandoffAppearAnimations(w,h,d,we),m.syncStart=!0)}d.start(Fg(h,d,p,t.shouldReduceMotion&&Xn.has(h)?{type:!1}:m));const _=d.animation;Su(l)&&(l.add(h),_.then(()=>l.remove(h))),u.push(_)}return o&&Promise.all(u).then(()=>{o&&t2(t,o)}),u}function Up(t,e,r={}){const n=cc(t,e,r.custom);let{transition:i=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(i=r.transitionOverride);const s=n?()=>Promise.all(CE(t,n,r)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:c,staggerDirection:h}=i;return o2(t,e,u+l,c,h,r)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,u]=a==="beforeChildren"?[s,o]:[o,s];return l().then(()=>u())}else return Promise.all([s(),o(r.delay)])}function o2(t,e,r=0,n=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*n,l=i===1?(u=0)=>u*n:(u=0)=>a-u*n;return Array.from(t.variantChildren).sort(a2).forEach((u,c)=>{u.notify("AnimationStart",e),o.push(Up(u,e,{...s,delay:r+l(c)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function a2(t,e){return t.sortNodePosition(e)}function l2(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const i=e.map(s=>Up(t,s,r));n=Promise.all(i)}else if(typeof e=="string")n=Up(t,e,r);else{const i=typeof e=="function"?cc(t,e,r.custom):e;n=Promise.all(CE(t,i,r))}return n.then(()=>t.notify("AnimationComplete",e))}const u2=[...bg].reverse(),c2=bg.length;function d2(t){return e=>Promise.all(e.map(({animation:r,options:n})=>l2(t,r,n)))}function h2(t){let e=d2(t);const r=p2();let n=!0;const i=(l,u)=>{const c=cc(t,u);if(c){const{transition:h,transitionEnd:d,...p}=c;l={...l,...p,...d}}return l};function s(l){e=l(t)}function o(l,u){const c=t.getProps(),h=t.getVariantContext(!0)||{},d=[],p=new Set;let m={},_=1/0;for(let v=0;v<c2;v++){const g=u2[v],y=r[g],x=c[g]!==void 0?c[g]:h[g],b=qo(x),R=g===u?y.isActive:null;R===!1&&(_=v);let O=x===h[g]&&x!==c[g]&&b;if(O&&n&&t.manuallyAnimateOnMount&&(O=!1),y.protectedKeys={...m},!y.isActive&&R===null||!x&&!y.prevProp||oc(x)||typeof x=="boolean")continue;const A=f2(y.prevProp,x);let B=A||g===u&&y.isActive&&!O&&b||v>_&&b;const j=Array.isArray(x)?x:[x];let K=j.reduce(i,{});R===!1&&(K={});const{prevResolvedValues:oe={}}=y,ee={...oe,...K},T=I=>{B=!0,p.delete(I),y.needsAnimating[I]=!0};for(const I in ee){const V=K[I],de=oe[I];m.hasOwnProperty(I)||(V!==de?vu(V)&&vu(de)?!zT(V,de)||A?T(I):y.protectedKeys[I]=!0:V!==void 0?T(I):p.add(I):V!==void 0&&p.has(I)?T(I):y.protectedKeys[I]=!0)}y.prevProp=x,y.prevResolvedValues=K,y.isActive&&(m={...m,...K}),n&&t.blockInitialAnimation&&(B=!1),B&&!O&&d.push(...j.map(I=>({animation:I,options:{type:g,...l}})))}if(p.size){const v={};p.forEach(g=>{const y=t.getBaseTarget(g);y!==void 0&&(v[g]=y)}),d.push({animation:v})}let w=!!d.length;return n&&c.initial===!1&&!t.manuallyAnimateOnMount&&(w=!1),n=!1,w?e(d):Promise.resolve()}function a(l,u,c){var h;if(r[l].isActive===u)return Promise.resolve();(h=t.variantChildren)===null||h===void 0||h.forEach(p=>{var m;return(m=p.animationState)===null||m===void 0?void 0:m.setActive(l,u)}),r[l].isActive=u;const d=o(c,l);for(const p in r)r[p].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>r}}function f2(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!zT(e,t):!1}function xn(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function p2(){return{animate:xn(!0),whileInView:xn(),whileHover:xn(),whileTap:xn(),whileDrag:xn(),whileFocus:xn(),exit:xn()}}class m2 extends _n{constructor(e){super(e),e.animationState||(e.animationState=h2(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),oc(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){}}let g2=0;class y2 extends _n{constructor(){super(...arguments),this.id=g2++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r,custom:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e,{custom:n??this.node.getProps().custom});r&&!e&&s.then(()=>r(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const v2={animation:{Feature:m2},exit:{Feature:y2}},iw=(t,e)=>Math.abs(t-e);function _2(t,e){const r=iw(t.x,e.x),n=iw(t.y,e.y);return Math.sqrt(r**2+n**2)}class bE{constructor(e,r,{transformPagePoint:n}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const u=qh(this.lastMoveEventInfo,this.history),c=this.startEvent!==null,h=_2(u.offset,{x:0,y:0})>=3;if(!c&&!h)return;const{point:d}=u,{timestamp:p}=je;this.history.push({...d,timestamp:p});const{onStart:m,onMove:_}=this.handlers;c||(m&&m(this.lastMoveEvent,u),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,u)},this.handlePointerMove=(u,c)=>{this.lastMoveEvent=u,this.lastMoveEventInfo=$h(c,this.transformPagePoint),we.update(this.updatePoint,!0)},this.handlePointerUp=(u,c)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:h,onSessionEnd:d}=this.handlers,p=qh(u.type==="pointercancel"?this.lastMoveEventInfo:$h(c,this.transformPagePoint),this.history);this.startEvent&&h&&h(u,p),d&&d(u,p)},!jT(e))return;this.handlers=r,this.transformPagePoint=n;const i=uc(e),s=$h(i,this.transformPagePoint),{point:o}=s,{timestamp:a}=je;this.history=[{...o,timestamp:a}];const{onSessionStart:l}=r;l&&l(e,qh(s,this.history)),this.removeListeners=nn(gr(window,"pointermove",this.handlePointerMove),gr(window,"pointerup",this.handlePointerUp),gr(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Sr(this.updatePoint)}}function $h(t,e){return e?{point:e(t.point)}:t}function sw(t,e){return{x:t.x-e.x,y:t.y-e.y}}function qh({point:t},e){return{point:t,delta:sw(t,TE(e)),offset:sw(t,w2(e)),velocity:x2(e,.1)}}function w2(t){return t[0]}function TE(t){return t[t.length-1]}function x2(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const i=TE(t);for(;r>=0&&(n=t[r],!(i.timestamp-n.timestamp>sn(e)));)r--;if(!n)return{x:0,y:0};const s=yr(i.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-n.x)/s,y:(i.y-n.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function vt(t){return t.max-t.min}function Fp(t,e=0,r=.01){return Math.abs(t-e)<=r}function ow(t,e,r,n=.5){t.origin=n,t.originPoint=be(e.min,e.max,t.origin),t.scale=vt(r)/vt(e),(Fp(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=be(r.min,r.max,t.origin)-t.originPoint,(Fp(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Qs(t,e,r,n){ow(t.x,e.x,r.x,n?n.originX:void 0),ow(t.y,e.y,r.y,n?n.originY:void 0)}function aw(t,e,r){t.min=r.min+e.min,t.max=t.min+vt(e)}function S2(t,e,r){aw(t.x,e.x,r.x),aw(t.y,e.y,r.y)}function lw(t,e,r){t.min=e.min-r.min,t.max=t.min+vt(e)}function Ks(t,e,r){lw(t.x,e.x,r.x),lw(t.y,e.y,r.y)}function C2(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?be(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?be(r,t,n.max):Math.min(t,r)),t}function uw(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function b2(t,{top:e,left:r,bottom:n,right:i}){return{x:uw(t.x,r,i),y:uw(t.y,e,n)}}function cw(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function T2(t,e){return{x:cw(t.x,e.x),y:cw(t.y,e.y)}}function E2(t,e){let r=.5;const n=vt(t),i=vt(e);return i>n?r=Ho(e.min,e.max-n,t.min):n>i&&(r=Ho(t.min,t.max-i,e.min)),hn(0,1,r)}function P2(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const jp=.35;function A2(t=jp){return t===!1?t=0:t===!0&&(t=jp),{x:dw(t,"left","right"),y:dw(t,"top","bottom")}}function dw(t,e,r){return{min:hw(t,e),max:hw(t,r)}}function hw(t,e){return typeof t=="number"?t:t[e]||0}const fw=()=>({translate:0,scale:1,origin:0,originPoint:0}),bi=()=>({x:fw(),y:fw()}),pw=()=>({min:0,max:0}),Re=()=>({x:pw(),y:pw()});function Kt(t){return[t("x"),t("y")]}function EE({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function I2({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function k2(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Vh(t){return t===void 0||t===1}function $p({scale:t,scaleX:e,scaleY:r}){return!Vh(t)||!Vh(e)||!Vh(r)}function bn(t){return $p(t)||PE(t)||t.z||t.rotate||t.rotateX||t.rotateY}function PE(t){return mw(t.x)||mw(t.y)}function mw(t){return t&&t!=="0%"}function Cu(t,e,r){const n=t-r,i=e*n;return r+i}function gw(t,e,r,n,i){return i!==void 0&&(t=Cu(t,i,n)),Cu(t,r,n)+e}function qp(t,e=0,r=1,n,i){t.min=gw(t.min,e,r,n,i),t.max=gw(t.max,e,r,n,i)}function AE(t,{x:e,y:r}){qp(t.x,e.translate,e.scale,e.originPoint),qp(t.y,r.translate,r.scale,r.originPoint)}function R2(t,e,r,n=!1){const i=r.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=r[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Ti(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,AE(t,o)),n&&bn(s.latestValues)&&Ti(t,s.latestValues))}e.x=yw(e.x),e.y=yw(e.y)}function yw(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Fr(t,e){t.min=t.min+e,t.max=t.max+e}function vw(t,e,[r,n,i]){const s=e[i]!==void 0?e[i]:.5,o=be(t.min,t.max,s);qp(t,e[r],e[n],o,e.scale)}const M2=["x","scaleX","originX"],O2=["y","scaleY","originY"];function Ti(t,e){vw(t.x,e,M2),vw(t.y,e,O2)}function IE(t,e){return EE(k2(t.getBoundingClientRect(),e))}function D2(t,e,r){const n=IE(t,r),{scroll:i}=e;return i&&(Fr(n.x,i.offset.x),Fr(n.y,i.offset.y)),n}const N2=new WeakMap;class B2{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Re(),this.visualElement=e}start(e,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const i=l=>{this.stopAnimation(),r&&this.snapToCursor(uc(l,"page").point)},s=(l,u)=>{const{drag:c,dragPropagation:h,onDragStart:d}=this.getProps();if(c&&!h&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=qT(c),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Kt(m=>{let _=this.getAxisMotionValue(m).get()||0;if(tr.test(_)){const{projection:w}=this.visualElement;if(w&&w.layout){const v=w.layout.layoutBox[m];v&&(_=vt(v)*(parseFloat(_)/100))}}this.originPoint[m]=_}),d&&we.update(()=>d(l,u),!1,!0);const{animationState:p}=this.visualElement;p&&p.setActive("whileDrag",!0)},o=(l,u)=>{const{dragPropagation:c,dragDirectionLock:h,onDirectionLock:d,onDrag:p}=this.getProps();if(!c&&!this.openGlobalLock)return;const{offset:m}=u;if(h&&this.currentDirection===null){this.currentDirection=L2(m),this.currentDirection!==null&&d&&d(this.currentDirection);return}this.updateAxis("x",u.point,m),this.updateAxis("y",u.point,m),this.visualElement.render(),p&&p(l,u)},a=(l,u)=>this.stop(l,u);this.panSession=new bE(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:i}=r;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&we.update(()=>s(e,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:i}=this.getProps();if(!n||!La(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=C2(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:r}=this.getProps(),{layout:n}=this.visualElement.projection||{},i=this.constraints;e&&Si(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=b2(n.layoutBox,e):this.constraints=!1,this.elastic=A2(r),i!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Kt(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=P2(n.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!Si(e))return!1;const n=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=D2(n,i.root,this.visualElement.getTransformPagePoint());let o=T2(i.layout.layoutBox,s);if(r){const a=r(I2(o));this.hasMutatedConstraints=!!a,a&&(o=EE(a))}return o}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=Kt(c=>{if(!La(c,r,this.currentDirection))return;let h=l&&l[c]||{};o&&(h={min:0,max:0});const d=i?200:1e6,p=i?40:1e7,m={type:"inertia",velocity:n?e[c]:0,bounceStiffness:d,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(c,m)});return Promise.all(u).then(a)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return n.start(Fg(e,n,0,r))}stopAnimation(){Kt(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const r="_drag"+e.toUpperCase(),n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Kt(r=>{const{drag:n}=this.getProps();if(!La(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(r);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[r];s.set(e[r]-be(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Si(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Kt(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();i[o]=E2({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Kt(o=>{if(!La(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(be(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;N2.set(this.visualElement,this);const e=this.visualElement.current,r=gr(e,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();Si(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),n();const o=fr(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Kt(c=>{const h=this.getAxisMotionValue(c);h&&(this.originPoint[c]+=l[c].translate,h.set(h.get()+l[c].translate))}),this.visualElement.render())});return()=>{o(),r(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=jp,dragMomentum:a=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function La(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function L2(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class U2 extends _n{constructor(e){super(e),this.removeGroupControls=Ae,this.removeListeners=Ae,this.controls=new B2(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ae}unmount(){this.removeGroupControls(),this.removeListeners()}}const _w=t=>(e,r)=>{t&&we.update(()=>t(e,r))};class F2 extends _n{constructor(){super(...arguments),this.removePointerDownListener=Ae}onPointerDown(e){this.session=new bE(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:_w(e),onStart:_w(r),onMove:n,onEnd:(s,o)=>{delete this.session,i&&we.update(()=>i(s,o))}}}mount(){this.removePointerDownListener=gr(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function j2(){const t=U.useContext(Cg);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:r,register:n}=t,i=U.useId();return U.useEffect(()=>n(i),[]),!e&&r?[!1,()=>r&&r(i)]:[!0]}const ll={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ww(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Ts={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Q.test(t))t=parseFloat(t);else return t;const r=ww(t,e.target.x),n=ww(t,e.target.y);return`${r}% ${n}%`}},$2={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,i=fn.parse(t);if(i.length>5)return n;const s=fn.createTransformer(t),o=typeof i[0]!="number"?1:0,a=r.x.scale*e.x,l=r.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const u=be(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};class q2 extends Yp.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:s}=e;QN(V2),s&&(r.group&&r.group.add(s),n&&n.register&&i&&n.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),ll.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:i,isPresent:s}=this.props,o=n.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==r||r===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||we.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function kE(t){const[e,r]=j2(),n=U.useContext(TT);return Yp.createElement(q2,{...t,layoutGroup:n,switchLayoutGroup:U.useContext(ET),isPresent:e,safeToRemove:r})}const V2={borderRadius:{...Ts,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ts,borderTopRightRadius:Ts,borderBottomLeftRadius:Ts,borderBottomRightRadius:Ts,boxShadow:$2},RE=["TopLeft","TopRight","BottomLeft","BottomRight"],H2=RE.length,xw=t=>typeof t=="string"?parseFloat(t):t,Sw=t=>typeof t=="number"||Q.test(t);function z2(t,e,r,n,i,s){i?(t.opacity=be(0,r.opacity!==void 0?r.opacity:1,G2(n)),t.opacityExit=be(e.opacity!==void 0?e.opacity:1,0,W2(n))):s&&(t.opacity=be(e.opacity!==void 0?e.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let o=0;o<H2;o++){const a=`border${RE[o]}Radius`;let l=Cw(e,a),u=Cw(r,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||Sw(l)===Sw(u)?(t[a]=Math.max(be(xw(l),xw(u),n),0),(tr.test(u)||tr.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||r.rotate)&&(t.rotate=be(e.rotate||0,r.rotate||0,n))}function Cw(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const G2=ME(0,.5,Ng),W2=ME(.5,.95,Ae);function ME(t,e,r){return n=>n<t?0:n>e?1:r(Ho(t,e,n))}function bw(t,e){t.min=e.min,t.max=e.max}function xt(t,e){bw(t.x,e.x),bw(t.y,e.y)}function Tw(t,e,r,n,i){return t-=e,t=Cu(t,1/r,n),i!==void 0&&(t=Cu(t,1/i,n)),t}function Q2(t,e=0,r=1,n=.5,i,s=t,o=t){if(tr.test(e)&&(e=parseFloat(e),e=be(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=be(s.min,s.max,n);t===s&&(a-=e),t.min=Tw(t.min,e,r,a,i),t.max=Tw(t.max,e,r,a,i)}function Ew(t,e,[r,n,i],s,o){Q2(t,e[r],e[n],e[i],e.scale,s,o)}const K2=["x","scaleX","originX"],Y2=["y","scaleY","originY"];function Pw(t,e,r,n){Ew(t.x,e,K2,r?r.x:void 0,n?n.x:void 0),Ew(t.y,e,Y2,r?r.y:void 0,n?n.y:void 0)}function Aw(t){return t.translate===0&&t.scale===1}function OE(t){return Aw(t.x)&&Aw(t.y)}function J2(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function DE(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function Iw(t){return vt(t.x)/vt(t.y)}class X2{constructor(){this.members=[]}add(e){jg(this.members,e),e.scheduleRender()}remove(e){if($g(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(i=>e===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function kw(t,e,r){let n="";const i=t.x.translate/e.x,s=t.y.translate/e.y;if((i||s)&&(n=`translate3d(${i}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{rotate:l,rotateX:u,rotateY:c}=r;l&&(n+=`rotate(${l}deg) `),u&&(n+=`rotateX(${u}deg) `),c&&(n+=`rotateY(${c}deg) `)}const o=t.x.scale*e.x,a=t.y.scale*e.y;return(o!==1||a!==1)&&(n+=`scale(${o}, ${a})`),n||"none"}const Z2=(t,e)=>t.depth-e.depth;class eU{constructor(){this.children=[],this.isDirty=!1}add(e){jg(this.children,e),this.isDirty=!0}remove(e){$g(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Z2),this.isDirty=!1,this.children.forEach(e)}}function tU(t,e){const r=performance.now(),n=({timestamp:i})=>{const s=i-r;s>=e&&(Sr(n),t(s-e))};return we.read(n,!0),()=>Sr(n)}function rU(t){window.MotionDebug&&window.MotionDebug.record(t)}function nU(t){return t instanceof SVGElement&&t.tagName!=="svg"}function iU(t,e,r){const n=ht(t)?t:Xi(t);return n.start(Fg("",n,e,r)),n.animation}const Rw=["","X","Y","Z"],Mw=1e3;let sU=0;const Tn={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function NE({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=sU++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{Tn.totalNodes=Tn.resolvedTargetDeltas=Tn.recalculatedProjection=0,this.nodes.forEach(lU),this.nodes.forEach(fU),this.nodes.forEach(pU),this.nodes.forEach(uU),rU(Tn)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new eU)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new qg),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=nU(o),this.instance=o;const{layoutId:l,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),t){let h;const d=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=tU(d,250),ll.hasAnimatedSinceResize&&(ll.hasAnimatedSinceResize=!1,this.nodes.forEach(Dw))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&c&&(l||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:d,hasRelativeTargetChanged:p,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||c.getDefaultTransition()||_U,{onLayoutAnimationStart:w,onLayoutAnimationComplete:v}=c.getProps(),g=!this.targetLayout||!DE(this.targetLayout,m)||p,y=!d&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||y||d&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,y);const x={..._E(_,"layout"),onPlay:w,onComplete:v};(c.shouldReduceMotion||this.options.layoutRoot)&&(x.delay=0,x.type=!1),this.startAnimation(x)}else d||Dw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Sr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(mU),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const h=this.path[c];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Ow);return}this.isUpdating||this.nodes.forEach(dU),this.isUpdating=!1,this.nodes.forEach(hU),this.nodes.forEach(oU),this.nodes.forEach(aU),this.clearAllSnapshots();const a=performance.now();je.delta=hn(0,1e3/60,a-je.timestamp),je.timestamp=a,je.isProcessing=!0,Oh.update.process(je),Oh.preRender.process(je),Oh.render.process(je),je.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(cU),this.sharedNodes.forEach(gU)}scheduleUpdateProjection(){we.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){we.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Re(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:n(this.instance),offset:r(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!OE(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;o&&(a||bn(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),wU(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Re();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(Fr(a.x,l.offset.x),Fr(a.y,l.offset.y)),a}removeElementScroll(o){const a=Re();xt(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:c,options:h}=u;if(u!==this.root&&c&&h.layoutScroll){if(c.isRoot){xt(a,o);const{scroll:d}=this.root;d&&(Fr(a.x,-d.offset.x),Fr(a.y,-d.offset.y))}Fr(a.x,c.offset.x),Fr(a.y,c.offset.y)}}return a}applyTransform(o,a=!1){const l=Re();xt(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Ti(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),bn(c.latestValues)&&Ti(l,c.latestValues)}return bn(this.latestValues)&&Ti(l,this.latestValues),l}removeTransform(o){const a=Re();xt(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!bn(u.latestValues))continue;$p(u.latestValues)&&u.updateSnapshot();const c=Re(),h=u.measurePageBox();xt(c,h),Pw(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return bn(this.latestValues)&&Pw(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==je.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:d}=this.options;if(!(!this.layout||!(h||d))){if(this.resolvedRelativeTargetAt=je.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Re(),this.relativeTargetOrigin=Re(),Ks(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),xt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Re(),this.targetWithTransforms=Re()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),S2(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):xt(this.target,this.layout.layoutBox),AE(this.target,this.targetDelta)):xt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Re(),this.relativeTargetOrigin=Re(),Ks(this.relativeTargetOrigin,this.target,p.target),xt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Tn.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||$p(this.parent.latestValues)||PE(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===je.timestamp&&(u=!1),u)return;const{layout:c,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||h))return;xt(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,p=this.treeScale.y;R2(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:m}=a;if(!m){this.projectionTransform&&(this.projectionDelta=bi(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=bi(),this.projectionDeltaWithTransform=bi());const _=this.projectionTransform;Qs(this.projectionDelta,this.layoutCorrected,m,this.latestValues),this.projectionTransform=kw(this.projectionDelta,this.treeScale),(this.projectionTransform!==_||this.treeScale.x!==d||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m)),Tn.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},h=bi();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const d=Re(),p=l?l.source:void 0,m=this.layout?this.layout.source:void 0,_=p!==m,w=this.getStack(),v=!w||w.members.length<=1,g=!!(_&&!v&&this.options.crossfade===!0&&!this.path.some(vU));this.animationProgress=0;let y;this.mixTargetDelta=x=>{const b=x/1e3;Nw(h.x,o.x,b),Nw(h.y,o.y,b),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ks(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),yU(this.relativeTarget,this.relativeTargetOrigin,d,b),y&&J2(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=Re()),xt(y,this.relativeTarget)),_&&(this.animationValues=c,z2(c,u,this.latestValues,b,g,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=b},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Sr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=we.update(()=>{ll.hasAnimatedSinceResize=!0,this.currentAnimation=iU(0,Mw,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Mw),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&BE(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Re();const h=vt(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const d=vt(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+d}xt(a,l),Ti(a,c),Qs(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new X2),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const u={};for(let c=0;c<Rw.length;c++){const h="rotate"+Rw[c];l[h]&&(u[h]=l[h],o.setStaticValue(h,0))}o.render();for(const c in u)o.setStaticValue(c,u[c]);o.scheduleRender()}getProjectionStyles(o={}){var a,l;const u={};if(!this.instance||this.isSVG)return u;if(this.isVisible)u.visibility="";else return{visibility:"hidden"};const c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=al(o.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const _={};return this.options.layoutId&&(_.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,_.pointerEvents=al(o.pointerEvents)||""),this.hasProjected&&!bn(this.latestValues)&&(_.transform=c?c({},""):"none",this.hasProjected=!1),_}const d=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=kw(this.projectionDeltaWithTransform,this.treeScale,d),c&&(u.transform=c(d,u.transform));const{x:p,y:m}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${m.origin*100}% 0`,h.animationValues?u.opacity=h===this?(l=(a=d.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:u.opacity=h===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const _ in gu){if(d[_]===void 0)continue;const{correct:w,applyTo:v}=gu[_],g=u.transform==="none"?d[_]:w(d[_],h);if(v){const y=v.length;for(let x=0;x<y;x++)u[v[x]]=g}else u[_]=g}return this.options.layoutId&&(u.pointerEvents=h===this?al(o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(Ow),this.root.sharedNodes.clear()}}}function oU(t){t.updateLayout()}function aU(t){var e;const r=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&r&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:s}=t.options,o=r.source!==t.layout.source;s==="size"?Kt(h=>{const d=o?r.measuredBox[h]:r.layoutBox[h],p=vt(d);d.min=n[h].min,d.max=d.min+p}):BE(s,r.layoutBox,n)&&Kt(h=>{const d=o?r.measuredBox[h]:r.layoutBox[h],p=vt(n[h]);d.max=d.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+p)});const a=bi();Qs(a,n,r.layoutBox);const l=bi();o?Qs(l,t.applyTransform(i,!0),r.measuredBox):Qs(l,n,r.layoutBox);const u=!OE(a);let c=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:d,layout:p}=h;if(d&&p){const m=Re();Ks(m,r.layoutBox,d.layoutBox);const _=Re();Ks(_,n,p.layoutBox),DE(m,_)||(c=!0),h.options.layoutRoot&&(t.relativeTarget=_,t.relativeTargetOrigin=m,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:c})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function lU(t){Tn.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function uU(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function cU(t){t.clearSnapshot()}function Ow(t){t.clearMeasurements()}function dU(t){t.isLayoutDirty=!1}function hU(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Dw(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function fU(t){t.resolveTargetDelta()}function pU(t){t.calcProjection()}function mU(t){t.resetRotation()}function gU(t){t.removeLeadSnapshot()}function Nw(t,e,r){t.translate=be(e.translate,0,r),t.scale=be(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function Bw(t,e,r,n){t.min=be(e.min,r.min,n),t.max=be(e.max,r.max,n)}function yU(t,e,r,n){Bw(t.x,e.x,r.x,n),Bw(t.y,e.y,r.y,n)}function vU(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const _U={duration:.45,ease:[.4,0,.1,1]},Lw=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),Uw=Lw("applewebkit/")&&!Lw("chrome/")?Math.round:Ae;function Fw(t){t.min=Uw(t.min),t.max=Uw(t.max)}function wU(t){Fw(t.x),Fw(t.y)}function BE(t,e,r){return t==="position"||t==="preserve-aspect"&&!Fp(Iw(e),Iw(r),.2)}const xU=NE({attachResizeListener:(t,e)=>fr(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Hh={current:void 0},LE=NE({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Hh.current){const t=new xU({});t.mount(window),t.setOptions({layoutScroll:!0}),Hh.current=t}return Hh.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),SU={pan:{Feature:F2},drag:{Feature:U2,ProjectionNode:LE,MeasureLayout:kE}},CU=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function bU(t){const e=CU.exec(t);if(!e)return[,];const[,r,n]=e;return[r,n]}function Vp(t,e,r=1){const[n,i]=bU(t);if(!n)return;const s=window.getComputedStyle(e).getPropertyValue(n);if(s){const o=s.trim();return wE(o)?parseFloat(o):o}else return Mp(i)?Vp(i,e,r+1):i}function TU(t,{...e},r){const n=t.current;if(!(n instanceof Element))return{target:e,transitionEnd:r};r&&(r={...r}),t.values.forEach(i=>{const s=i.get();if(!Mp(s))return;const o=Vp(s,n);o&&i.set(o)});for(const i in e){const s=e[i];if(!Mp(s))continue;const o=Vp(s,n);o&&(e[i]=o,r||(r={}),r[i]===void 0&&(r[i]=s))}return{target:e,transitionEnd:r}}const EU=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),UE=t=>EU.has(t),PU=t=>Object.keys(t).some(UE),jw=t=>t===Zn||t===Q,$w=(t,e)=>parseFloat(t.split(", ")[e]),qw=(t,e)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const i=n.match(/^matrix3d\((.+)\)$/);if(i)return $w(i[1],e);{const s=n.match(/^matrix\((.+)\)$/);return s?$w(s[1],t):0}},AU=new Set(["x","y","z"]),IU=na.filter(t=>!AU.has(t));function kU(t){const e=[];return IU.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e.length&&t.render(),e}const Zi={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:qw(4,13),y:qw(5,14)};Zi.translateX=Zi.x;Zi.translateY=Zi.y;const RU=(t,e,r)=>{const n=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",t.display||"block"),r.forEach(u=>{a[u]=Zi[u](n,s)}),e.render();const l=e.measureViewportBox();return r.forEach(u=>{const c=e.getValue(u);c&&c.jump(a[u]),t[u]=Zi[u](l,s)}),t},MU=(t,e,r={},n={})=>{e={...e},n={...n};const i=Object.keys(e).filter(UE);let s=[],o=!1;const a=[];if(i.forEach(l=>{const u=t.getValue(l);if(!t.hasValue(l))return;let c=r[l],h=bs(c);const d=e[l];let p;if(vu(d)){const m=d.length,_=d[0]===null?1:0;c=d[_],h=bs(c);for(let w=_;w<m&&d[w]!==null;w++)p?Dg(bs(d[w])===p):p=bs(d[w])}else p=bs(d);if(h!==p)if(jw(h)&&jw(p)){const m=u.get();typeof m=="string"&&u.set(parseFloat(m)),typeof d=="string"?e[l]=parseFloat(d):Array.isArray(d)&&p===Q&&(e[l]=d.map(parseFloat))}else h!=null&&h.transform&&(p!=null&&p.transform)&&(c===0||d===0)?c===0?u.set(p.transform(c)):e[l]=h.transform(d):(o||(s=kU(t),o=!0),a.push(l),n[l]=n[l]!==void 0?n[l]:e[l],u.jump(d))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,u=RU(e,t,a);return s.length&&s.forEach(([c,h])=>{t.getValue(c).set(h)}),t.render(),sc&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:n}}else return{target:e,transitionEnd:n}};function OU(t,e,r,n){return PU(e)?MU(t,e,r,n):{target:e,transitionEnd:n}}const DU=(t,e,r,n)=>{const i=TU(t,e,n);return e=i.target,n=i.transitionEnd,OU(t,e,r,n)},Hp={current:null},FE={current:!1};function NU(){if(FE.current=!0,!!sc)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Hp.current=t.matches;t.addListener(e),e()}else Hp.current=!1}function BU(t,e,r){const{willChange:n}=e;for(const i in e){const s=e[i],o=r[i];if(ht(s))t.addValue(i,s),Su(n)&&n.add(i);else if(ht(o))t.addValue(i,Xi(s,{owner:t})),Su(n)&&n.remove(i);else if(o!==s)if(t.hasValue(i)){const a=t.getValue(i);!a.hasAnimated&&a.set(s)}else{const a=t.getStaticValue(i);t.addValue(i,Xi(a!==void 0?a:s,{owner:t}))}}for(const i in r)e[i]===void 0&&t.removeValue(i);return e}const Vw=new WeakMap,jE=Object.keys(Vo),LU=jE.length,Hw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],UU=Tg.length;class FU{constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>we.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=r.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=ac(r),this.isVariantNode=bT(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...c}=this.scrapeMotionValuesFromProps(r,{});for(const h in c){const d=c[h];a[h]!==void 0&&ht(d)&&(d.set(a[h],!1),Su(u)&&u.add(h))}}scrapeMotionValuesFromProps(e,r){return{}}mount(e){this.current=e,Vw.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),FE.current||NU(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Hp.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Vw.delete(this.current),this.projection&&this.projection.unmount(),Sr(this.notifyUpdate),Sr(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,r){const n=Xn.has(e),i=r.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&we.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),s=r.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...r},n,i,s){let o,a;for(let l=0;l<LU;l++){const u=jE[l],{isEnabled:c,Feature:h,ProjectionNode:d,MeasureLayout:p}=Vo[u];d&&(o=d),c(r)&&(!this.features[u]&&h&&(this.features[u]=new h(this)),p&&(a=p))}if(!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:u,drag:c,dragConstraints:h,layoutScroll:d,layoutRoot:p}=r;this.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!c||h&&Si(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,layoutScroll:d,layoutRoot:p})}return a}updateFeatures(){for(const e in this.features){const r=this.features[e];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Re()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}makeTargetAnimatable(e,r=!0){return this.makeTargetAnimatableFromInstance(e,this.props,r)}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<Hw.length;n++){const i=Hw[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=BU(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const n=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(n.initial=this.props.initial),n}const r={};for(let n=0;n<UU;n++){const i=Tg[n],s=this.props[i];(qo(s)||s===!1)&&(r[i]=s)}return r}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){r!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,r)),this.values.set(e,r),this.latestValues[e]=r.get()}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=Xi(r,{owner:this}),this.addValue(e,n)),n}readValue(e){var r;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var r;const{initial:n}=this.props,i=typeof n=="string"||typeof n=="object"?(r=Og(this.props,n))===null||r===void 0?void 0:r[e]:void 0;if(n&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!ht(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new qg),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}}class $E extends FU{sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:r,...n},{transformValues:i},s){let o=i2(n,e||{},this);if(i&&(r&&(r=i(r)),n&&(n=i(n)),o&&(o=i(o))),s){r2(this,n,o);const a=DU(this,n,o,r);r=a.transitionEnd,n=a.target}return{transition:e,transitionEnd:r,...n}}}function jU(t){return window.getComputedStyle(t)}class $U extends $E{readValueFromInstance(e,r){if(Xn.has(r)){const n=Ug(r);return n&&n.default||0}else{const n=jU(e),i=(IT(r)?n.getPropertyValue(r):n[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:r}){return IE(e,r)}build(e,r,n,i){Pg(e,r,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,r){return Mg(e,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ht(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}renderInstance(e,r,n,i){NT(e,r,n,i)}}class qU extends $E{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(Xn.has(r)){const n=Ug(r);return n&&n.default||0}return r=BT.has(r)?r:Rg(r),e.getAttribute(r)}measureInstanceViewportBox(){return Re()}scrapeMotionValuesFromProps(e,r){return UT(e,r)}build(e,r,n,i){Ig(e,r,n,this.isSVGTag,i.transformTemplate)}renderInstance(e,r,n,i){LT(e,r,n,i)}mount(e){this.isSVGTag=kg(e.tagName),super.mount(e)}}const VU=(t,e)=>Eg(t)?new qU(e,{enableHardwareAcceleration:!1}):new $U(e,{enableHardwareAcceleration:!0}),HU={layout:{ProjectionNode:LE,MeasureLayout:kE}},zU={...v2,...UB,...SU,...HU},GU=GN((t,e)=>TB(t,e,zU,VU));function WU(){const[t,e]=U.useState(!1),{broadcaster:r}=vn();return U.useEffect(()=>{setTimeout(()=>{e(!0)},2e3)},[]),t?null:ue.jsx(GU.div,{initial:{opacity:1},animate:{opacity:0},transition:{duration:.3,delay:1},className:"bg-emerald-800 absolute top-3 inset-x-3 rounded-xl p-3 flex items-center justify-center",children:ue.jsxs("span",{className:"text-lime-100 text-md mx-3 font-grandstander",children:["Connected to [",ue.jsx("strong",{className:"text-lime-200",children:r.userName}),"]"]})})}const qE=new Map;let zw=!1;function QU(){const[t,e]=U.useState(!0),{broadcaster:r}=vn();return U.useEffect(()=>{async function n(){zw||(await Yi.chat.getChannelEmotes(r)).forEach(s=>{qE.set(s.name,{id:s.id,name:s.name,images:{default:Gw(s),static:Gw(s,!0)},source:"twitch"})}),e(!1),zw=!0}n()},[r]),{loading:t}}function KU(){function t(){return Array.from(qE.values())}return{getAllChannelEmotes:t}}function Gw(t,e=!1){function r(n="3.0"){const i=e?"static":"default",s="light";return Kb(t.id,{animationSettings:i,backgroundType:s,size:n})}return{x1:r("1.0"),x2:r("2.0"),x4:r("3.0")}}const Ww=["broadcaster","moderator","artist","vip","founder","subscriber"],Qw=["action","highlight","cheer","reply","redeem","resub","announcement"],Kw=["1000","2000","3000","Prime"],Yw=["PRIMARY","BLUE","GREEN","ORANGE","PURPLE"],Jw=[1,5,10,50,100,500,1e3,5e3,1e4],Xw=["",".","...","!","?","!!","!?","?!"];function YU(){const t=eg(),{getAllOtherEmotes:e}=yT(),{getAllChannelEmotes:r}=KU(),{getCheerColor:n,getCheermoteUrls:i}=mg(),{getBadge:s}=wT(),{getAllPronouns:o}=vT();function a(){const l=o(),u=[...r(),...e()],c=new Date,h=!Ke(0,19),d="test message",p=`long test message${" long test message".repeat(9)}`;let m=`${Ke(0,9)?d:p}${Xw[Ke(0,Xw.length-1)]}`,_=m;h&&(m=`${m} (first time chat)`);const w=[],v={id:`test-user-${c.getTime()}`,userName:"testuser",displayName:"testUser",pronouns:Ke(0,1)?void 0:l[Ke(0,l.length-1)],badges:[],roles:{broadcaster:!1,moderator:!1,artist:!1,vip:!1,founder:!1,subscriber:!1,followDate:new Date(0)}},g=Ke(0,1)?"user":Ww[Ke(0,Ww.length-1)],y=s(g==="artist"?"artist-badge":g);g!=="user"&&y&&(v.badges=[y],v.roles[g]=!0,(g==="founder"||g==="broadcaster")&&(v.roles.subscriber=!0),v.userName=`test${g}`,v.displayName=`test${g.charAt(0).toUpperCase()}${g.slice(1)}`);let x={type:"basic"};if(Ke(0,1)){const R=Qw[Ke(0,Qw.length-1)];switch(R){case"action":m=`${m} (/me action message)`,_=m,x={type:R};break;case"highlight":m=`${m} (highlighted message)`,_=m,x={type:R};break;case"cheer":const O=Jw[Ke(0,Jw.length-1)],A="Cheer";x={type:R,cheer:{amount:O}};const B=`${A}${O}`;_=`${m} (cheer message)`,m=`${B} ${_}`,w.unshift({type:"text",text:" "}),w.unshift({type:"cheer",text:B,cheer:{name:A,amount:O,color:n(A,O),images:{default:i(A,O),static:i(A,O,!0)}}});break;case"reply":x={type:R,reply:{id:`test-reply-${c.getTime()}`,text:"test message being replied to",user:{id:`test-user-reply-${c.getTime()}`,userName:"testreplyuser",displayName:"testReplyUser"}}},m=`${m} (reply message)`,_=m;break;case"redeem":x={type:R,redeem:{id:`test-redeem-${c.getTime()}`,name:"Test Redeem",image:"https://static-cdn.jtvnw.net/custom-reward-images/default-4.png",color:"#FFC6FF",cost:Ke(1,1e3)}},m=`${m} (channel point redemption requiring text)`,_=m;break;case"resub":x={type:R,resub:{months:Ke(1,24),tier:Kw[Ke(0,Kw.length-1)]}},m=`${m} (resub message)`,_=m;break;case"announcement":(g==="broadcaster"||g==="moderator")&&(x={type:R,announcement:{color:Yw[Ke(0,Yw.length-1)]}},m=`${m} (announcement message)`,_=m);break}}if(Ke(0,1)&&u.length){const R=u[Ke(0,u.length-1)];w.unshift({type:"text",text:" "}),w.unshift({type:"emote",emote:R,text:R.name}),m=`${R.name} ${m}`}w.push({type:"text",text:_});const b={...x,id:`test-message-${c.getTime()}`,first:h,date:c,user:v,text:m,parts:w,tags:new Map([["test","1"]])};t({type:"add",payload:b})}return{sendTestMessage:a}}function Ke(t,e){return Math.floor(Math.random()*(e-t+1))+t}const ot=20;function JU(){const[t,e]=U.useState({bottom:ot,right:ot}),[r,n]=U.useState(!1),{sendTestMessage:i}=YU();return U.useEffect(()=>{function s(l){const u=window.innerWidth,c=window.innerHeight,h=l.clientX,d=l.clientY;d<c*.34?h<u*.34?e({top:ot,left:ot}):h<u*.67?e({top:ot,left:"50%",transform:"translateX(-50%)"}):e({top:ot,right:ot}):d<c*.67?h<u*.34?e({top:"50%",left:ot,transform:"translateY(-50%)"}):h<u*.67?e({top:"50%",left:"50%",transform:"translate(-50%, -50%)"}):e({top:"50%",right:ot,transform:"translateY(-50%)"}):h<u*.34?e({bottom:ot,left:ot}):h<u*.67?e({bottom:ot,left:"50%",transform:"translateX(-50%)"}):e({bottom:ot,right:ot})}function o(l){n(!0)}function a(l){n(!1)}return window.addEventListener("mousemove",s),document.addEventListener("mouseenter",o),document.addEventListener("mouseleave",a),()=>{window.removeEventListener("mousemove",s),document.removeEventListener("mouseenter",o),document.removeEventListener("mouseleave",a)}},[i]),r?ue.jsx("button",{onClick:i,className:"btn-shadow-i !fixed z-[999] flex justify-center gap-2 overflow-hidden rounded-2xl border-2 border-emerald-800 bg-gradient-to-b from-lime-600 to-emerald-700 px-3 py-1 text-center hover:from-lime-500 hover:to-emerald-600 focus:outline-offset-8",style:{...t},children:ue.jsx("span",{className:"font-grandstander font-semibold text-lime-100 text-shadow text-shadow-c-black/75 text-shadow-y-px",children:"Send Test Message"})}):null}function XU(){const{loading:t}=PN(),{loading:e}=DN(),{loading:r}=YO(),{loading:n}=wN(),{loading:i}=kN(),{loading:s}=QU();return t||e||r||n||i||s?ue.jsx(p1,{message:"Connecting to Chat..."}):ue.jsx(ue.Fragment,{children:ue.jsxs(lO,{children:[ue.jsx(WU,{}),ue.jsx(BN,{}),ue.jsx(JU,{})]})})}function ZU(){const{loading:t,tokenInfo:e}=eO();return t?ue.jsx(p1,{message:"Checking Token..."}):e?ue.jsx(XU,{}):ue.jsx(aO,{})}function eF(){return ue.jsx(ZU,{})}function Ui(){}slime2Chat||(slime2Chat={onMessage:Ui,onModDelete:Ui,ready:Ui});slime2Chat.onMessage||(slime2Chat.onMessage=Ui);slime2Chat.onModDelete||(slime2Chat.onModDelete=Ui);slime2Chat.ready||(slime2Chat.ready=Ui);slime2Tokens||(slime2Tokens={});const tF=zh.createRoot(document.getElementById("slime2-root"));tF.render(ue.jsx(Yp.StrictMode,{children:ue.jsx(eF,{})}));
