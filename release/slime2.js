var gs=Object.defineProperty;var ys=(i,e,s)=>e in i?gs(i,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):i[e]=s;var ar=(i,e,s)=>(ys(i,typeof e!="symbol"?e+"":e,s),s),Rn=(i,e,s)=>{if(!e.has(i))throw TypeError("Cannot "+s)};var pt=(i,e,s)=>(Rn(i,e,"read from private field"),s?s.call(i):e.get(i)),It=(i,e,s)=>{if(e.has(i))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(i):e.set(i,s)},Ct=(i,e,s,o)=>(Rn(i,e,"write to private field"),o?o.call(i,s):e.set(i,s),s);var fn=(i,e,s,o)=>({set _(h){Ct(i,e,h,s)},get _(){return pt(i,e,o)}}),$t=(i,e,s)=>(Rn(i,e,"access private method"),s);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))o(h);new MutationObserver(h=>{for(const _ of h)if(_.type==="childList")for(const $ of _.addedNodes)$.tagName==="LINK"&&$.rel==="modulepreload"&&o($)}).observe(document,{childList:!0,subtree:!0});function s(h){const _={};return h.integrity&&(_.integrity=h.integrity),h.referrerPolicy&&(_.referrerPolicy=h.referrerPolicy),h.crossOrigin==="use-credentials"?_.credentials="include":h.crossOrigin==="anonymous"?_.credentials="omit":_.credentials="same-origin",_}function o(h){if(h.ep)return;h.ep=!0;const _=s(h);fetch(h.href,_)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function getAugmentedNamespace(i){if(i.__esModule)return i;var e=i.default;if(typeof e=="function"){var s=function o(){return this instanceof o?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};s.prototype=e.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(i).forEach(function(o){var h=Object.getOwnPropertyDescriptor(i,o);Object.defineProperty(s,o,h.get?h:{enumerable:!0,get:function(){return i[o]}})}),s}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$1=Symbol.for("react.element"),n$3=Symbol.for("react.portal"),p$3=Symbol.for("react.fragment"),q$1=Symbol.for("react.strict_mode"),r$2=Symbol.for("react.profiler"),t=Symbol.for("react.provider"),u=Symbol.for("react.context"),v$1=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),x$1=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),z$1=Symbol.iterator;function A$1(i){return i===null||typeof i!="object"?null:(i=z$1&&i[z$1]||i["@@iterator"],typeof i=="function"?i:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$1={};function E$1(i,e,s){this.props=i,this.context=e,this.refs=D$1,this.updater=s||B$1}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(i,e){if(typeof i!="object"&&typeof i!="function"&&i!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,i,e,"setState")};E$1.prototype.forceUpdate=function(i){this.updater.enqueueForceUpdate(this,i,"forceUpdate")};function F(){}F.prototype=E$1.prototype;function G$1(i,e,s){this.props=i,this.context=e,this.refs=D$1,this.updater=s||B$1}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$1(H$1,E$1.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$1(i,e,s){var o,h={},_=null,$=null;if(e!=null)for(o in e.ref!==void 0&&($=e.ref),e.key!==void 0&&(_=""+e.key),e)J.call(e,o)&&!L$1.hasOwnProperty(o)&&(h[o]=e[o]);var j=arguments.length-2;if(j===1)h.children=s;else if(1<j){for(var _e=Array(j),et=0;et<j;et++)_e[et]=arguments[et+2];h.children=_e}if(i&&i.defaultProps)for(o in j=i.defaultProps,j)h[o]===void 0&&(h[o]=j[o]);return{$$typeof:l$1,type:i,key:_,ref:$,props:h,_owner:K$1.current}}function N$1(i,e){return{$$typeof:l$1,type:i.type,key:e,ref:i.ref,props:i.props,_owner:i._owner}}function O$1(i){return typeof i=="object"&&i!==null&&i.$$typeof===l$1}function escape$1(i){var e={"=":"=0",":":"=2"};return"$"+i.replace(/[=:]/g,function(s){return e[s]})}var P$1=/\/+/g;function Q$1(i,e){return typeof i=="object"&&i!==null&&i.key!=null?escape$1(""+i.key):e.toString(36)}function R$1(i,e,s,o,h){var _=typeof i;(_==="undefined"||_==="boolean")&&(i=null);var $=!1;if(i===null)$=!0;else switch(_){case"string":case"number":$=!0;break;case"object":switch(i.$$typeof){case l$1:case n$3:$=!0}}if($)return $=i,h=h($),i=o===""?"."+Q$1($,0):o,I$1(h)?(s="",i!=null&&(s=i.replace(P$1,"$&/")+"/"),R$1(h,e,s,"",function(et){return et})):h!=null&&(O$1(h)&&(h=N$1(h,s+(!h.key||$&&$.key===h.key?"":(""+h.key).replace(P$1,"$&/")+"/")+i)),e.push(h)),1;if($=0,o=o===""?".":o+":",I$1(i))for(var j=0;j<i.length;j++){_=i[j];var _e=o+Q$1(_,j);$+=R$1(_,e,s,_e,h)}else if(_e=A$1(i),typeof _e=="function")for(i=_e.call(i),j=0;!(_=i.next()).done;)_=_.value,_e=o+Q$1(_,j++),$+=R$1(_,e,s,_e,h);else if(_==="object")throw e=String(i),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return $}function S$1(i,e,s){if(i==null)return i;var o=[],h=0;return R$1(i,o,"","",function(_){return e.call(s,_,h++)}),o}function T$1(i){if(i._status===-1){var e=i._result;e=e(),e.then(function(s){(i._status===0||i._status===-1)&&(i._status=1,i._result=s)},function(s){(i._status===0||i._status===-1)&&(i._status=2,i._result=s)}),i._status===-1&&(i._status=0,i._result=e)}if(i._status===1)return i._result.default;throw i._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};react_production_min.Children={map:S$1,forEach:function(i,e,s){S$1(i,function(){e.apply(this,arguments)},s)},count:function(i){var e=0;return S$1(i,function(){e++}),e},toArray:function(i){return S$1(i,function(e){return e})||[]},only:function(i){if(!O$1(i))throw Error("React.Children.only expected to receive a single React element child.");return i}};react_production_min.Component=E$1;react_production_min.Fragment=p$3;react_production_min.Profiler=r$2;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$1;react_production_min.Suspense=w;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.cloneElement=function(i,e,s){if(i==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+i+".");var o=C$1({},i.props),h=i.key,_=i.ref,$=i._owner;if(e!=null){if(e.ref!==void 0&&(_=e.ref,$=K$1.current),e.key!==void 0&&(h=""+e.key),i.type&&i.type.defaultProps)var j=i.type.defaultProps;for(_e in e)J.call(e,_e)&&!L$1.hasOwnProperty(_e)&&(o[_e]=e[_e]===void 0&&j!==void 0?j[_e]:e[_e])}var _e=arguments.length-2;if(_e===1)o.children=s;else if(1<_e){j=Array(_e);for(var et=0;et<_e;et++)j[et]=arguments[et+2];o.children=j}return{$$typeof:l$1,type:i.type,key:h,ref:_,props:o,_owner:$}};react_production_min.createContext=function(i){return i={$$typeof:u,_currentValue:i,_currentValue2:i,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},i.Provider={$$typeof:t,_context:i},i.Consumer=i};react_production_min.createElement=M$1;react_production_min.createFactory=function(i){var e=M$1.bind(null,i);return e.type=i,e};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(i){return{$$typeof:v$1,render:i}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(i){return{$$typeof:y,_payload:{_status:-1,_result:i},_init:T$1}};react_production_min.memo=function(i,e){return{$$typeof:x$1,type:i,compare:e===void 0?null:e}};react_production_min.startTransition=function(i){var e=V$1.transition;V$1.transition={};try{i()}finally{V$1.transition=e}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function(i,e){return U$1.current.useCallback(i,e)};react_production_min.useContext=function(i){return U$1.current.useContext(i)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(i){return U$1.current.useDeferredValue(i)};react_production_min.useEffect=function(i,e){return U$1.current.useEffect(i,e)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(i,e,s){return U$1.current.useImperativeHandle(i,e,s)};react_production_min.useInsertionEffect=function(i,e){return U$1.current.useInsertionEffect(i,e)};react_production_min.useLayoutEffect=function(i,e){return U$1.current.useLayoutEffect(i,e)};react_production_min.useMemo=function(i,e){return U$1.current.useMemo(i,e)};react_production_min.useReducer=function(i,e,s){return U$1.current.useReducer(i,e,s)};react_production_min.useRef=function(i){return U$1.current.useRef(i)};react_production_min.useState=function(i){return U$1.current.useState(i)};react_production_min.useSyncExternalStore=function(i,e,s){return U$1.current.useSyncExternalStore(i,e,s)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.2.0";react.exports=react_production_min;var reactExports=react.exports;const React$1=getDefaultExportFromCjs(reactExports);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f=reactExports,k=Symbol.for("react.element"),l=Symbol.for("react.fragment"),m$2=Object.prototype.hasOwnProperty,n$2=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$2={key:!0,ref:!0,__self:!0,__source:!0};function q(i,e,s){var o,h={},_=null,$=null;s!==void 0&&(_=""+s),e.key!==void 0&&(_=""+e.key),e.ref!==void 0&&($=e.ref);for(o in e)m$2.call(e,o)&&!p$2.hasOwnProperty(o)&&(h[o]=e[o]);if(i&&i.defaultProps)for(o in e=i.defaultProps,e)h[o]===void 0&&(h[o]=e[o]);return{$$typeof:k,type:i,key:_,ref:$,props:h,_owner:n$2.current}}reactJsxRuntime_production_min.Fragment=l;reactJsxRuntime_production_min.jsx=q;reactJsxRuntime_production_min.jsxs=q;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,Subscribable=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(i){return this.listeners.add(i),this.onSubscribe(),()=>{this.listeners.delete(i),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},isServer=typeof window>"u"||"Deno"in window;function noop$1(){}function functionalUpdate(i,e){return typeof i=="function"?i(e):i}function isValidTimeout(i){return typeof i=="number"&&i>=0&&i!==1/0}function timeUntilStale(i,e){return Math.max(i+(e||0)-Date.now(),0)}function matchQuery(i,e){const{type:s="all",exact:o,fetchStatus:h,predicate:_,queryKey:$,stale:j}=i;if($){if(o){if(e.queryHash!==hashQueryKeyByOptions($,e.options))return!1}else if(!partialMatchKey(e.queryKey,$))return!1}if(s!=="all"){const _e=e.isActive();if(s==="active"&&!_e||s==="inactive"&&_e)return!1}return!(typeof j=="boolean"&&e.isStale()!==j||typeof h<"u"&&h!==e.state.fetchStatus||_&&!_(e))}function matchMutation(i,e){const{exact:s,status:o,predicate:h,mutationKey:_}=i;if(_){if(!e.options.mutationKey)return!1;if(s){if(hashKey(e.options.mutationKey)!==hashKey(_))return!1}else if(!partialMatchKey(e.options.mutationKey,_))return!1}return!(o&&e.state.status!==o||h&&!h(e))}function hashQueryKeyByOptions(i,e){return((e==null?void 0:e.queryKeyHashFn)||hashKey)(i)}function hashKey(i){return JSON.stringify(i,(e,s)=>isPlainObject$1(s)?Object.keys(s).sort().reduce((o,h)=>(o[h]=s[h],o),{}):s)}function partialMatchKey(i,e){return i===e?!0:typeof i!=typeof e?!1:i&&e&&typeof i=="object"&&typeof e=="object"?!Object.keys(e).some(s=>!partialMatchKey(i[s],e[s])):!1}function replaceEqualDeep(i,e){if(i===e)return i;const s=isPlainArray(i)&&isPlainArray(e);if(s||isPlainObject$1(i)&&isPlainObject$1(e)){const o=s?i.length:Object.keys(i).length,h=s?e:Object.keys(e),_=h.length,$=s?[]:{};let j=0;for(let _e=0;_e<_;_e++){const et=s?_e:h[_e];$[et]=replaceEqualDeep(i[et],e[et]),$[et]===i[et]&&j++}return o===_&&j===o?i:$}return e}function shallowEqualObjects(i,e){if(i&&!e||e&&!i)return!1;for(const s in i)if(i[s]!==e[s])return!1;return!0}function isPlainArray(i){return Array.isArray(i)&&i.length===Object.keys(i).length}function isPlainObject$1(i){if(!hasObjectPrototype(i))return!1;const e=i.constructor;if(typeof e>"u")return!0;const s=e.prototype;return!(!hasObjectPrototype(s)||!s.hasOwnProperty("isPrototypeOf"))}function hasObjectPrototype(i){return Object.prototype.toString.call(i)==="[object Object]"}function sleep(i){return new Promise(e=>{setTimeout(e,i)})}function scheduleMicrotask(i){sleep(0).then(i)}function replaceData(i,e,s){return typeof s.structuralSharing=="function"?s.structuralSharing(i,e):s.structuralSharing!==!1?replaceEqualDeep(i,e):e}function addToEnd(i,e,s=0){const o=[...i,e];return s&&o.length>s?o.slice(1):o}function addToStart(i,e,s=0){const o=[e,...i];return s&&o.length>s?o.slice(0,-1):o}var Cr,gr,$r,Wn,FocusManager=(Wn=class extends Subscribable{constructor(){super();It(this,Cr,void 0);It(this,gr,void 0);It(this,$r,void 0);Ct(this,$r,e=>{if(!isServer&&window.addEventListener){const s=()=>e();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}})}onSubscribe(){pt(this,gr)||this.setEventListener(pt(this,$r))}onUnsubscribe(){var e;this.hasListeners()||((e=pt(this,gr))==null||e.call(this),Ct(this,gr,void 0))}setEventListener(e){var s;Ct(this,$r,e),(s=pt(this,gr))==null||s.call(this),Ct(this,gr,e(o=>{typeof o=="boolean"?this.setFocused(o):this.onFocus()}))}setFocused(e){pt(this,Cr)!==e&&(Ct(this,Cr,e),this.onFocus())}onFocus(){this.listeners.forEach(e=>{e()})}isFocused(){var e;return typeof pt(this,Cr)=="boolean"?pt(this,Cr):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Cr=new WeakMap,gr=new WeakMap,$r=new WeakMap,Wn),focusManager=new FocusManager,Nr,yr,Br,Qn,OnlineManager=(Qn=class extends Subscribable{constructor(){super();It(this,Nr,!0);It(this,yr,void 0);It(this,Br,void 0);Ct(this,Br,e=>{if(!isServer&&window.addEventListener){const s=()=>e(!0),o=()=>e(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",o,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",o)}}})}onSubscribe(){pt(this,yr)||this.setEventListener(pt(this,Br))}onUnsubscribe(){var e;this.hasListeners()||((e=pt(this,yr))==null||e.call(this),Ct(this,yr,void 0))}setEventListener(e){var s;Ct(this,Br,e),(s=pt(this,yr))==null||s.call(this),Ct(this,yr,e(this.setOnline.bind(this)))}setOnline(e){pt(this,Nr)!==e&&(Ct(this,Nr,e),this.listeners.forEach(o=>{o(e)}))}isOnline(){return pt(this,Nr)}},Nr=new WeakMap,yr=new WeakMap,Br=new WeakMap,Qn),onlineManager=new OnlineManager;function defaultRetryDelay(i){return Math.min(1e3*2**i,3e4)}function canFetch(i){return(i??"online")==="online"?onlineManager.isOnline():!0}var CancelledError=class{constructor(i){this.revert=i==null?void 0:i.revert,this.silent=i==null?void 0:i.silent}};function isCancelledError(i){return i instanceof CancelledError}function createRetryer(i){let e=!1,s=0,o=!1,h,_,$;const j=new Promise((ut,ot)=>{_=ut,$=ot}),_e=ut=>{var ot;o||(st(new CancelledError(ut)),(ot=i.abort)==null||ot.call(i))},et=()=>{e=!0},tt=()=>{e=!1},nt=()=>!focusManager.isFocused()||i.networkMode!=="always"&&!onlineManager.isOnline(),rt=ut=>{var ot;o||(o=!0,(ot=i.onSuccess)==null||ot.call(i,ut),h==null||h(),_(ut))},st=ut=>{var ot;o||(o=!0,(ot=i.onError)==null||ot.call(i,ut),h==null||h(),$(ut))},lt=()=>new Promise(ut=>{var ot;h=it=>{const at=o||!nt();return at&&ut(it),at},(ot=i.onPause)==null||ot.call(i)}).then(()=>{var ut;h=void 0,o||(ut=i.onContinue)==null||ut.call(i)}),ct=()=>{if(o)return;let ut;try{ut=i.fn()}catch(ot){ut=Promise.reject(ot)}Promise.resolve(ut).then(rt).catch(ot=>{var yt;if(o)return;const it=i.retry??(isServer?0:3),at=i.retryDelay??defaultRetryDelay,dt=typeof at=="function"?at(s,ot):at,ht=it===!0||typeof it=="number"&&s<it||typeof it=="function"&&it(s,ot);if(e||!ht){st(ot);return}s++,(yt=i.onFail)==null||yt.call(i,s,ot),sleep(dt).then(()=>{if(nt())return lt()}).then(()=>{e?st(ot):ct()})})};return canFetch(i.networkMode)?ct():lt().then(ct),{promise:j,cancel:_e,continue:()=>(h==null?void 0:h())?j:Promise.resolve(),cancelRetry:et,continueRetry:tt}}function createNotifyManager(){let i=[],e=0,s=tt=>{tt()},o=tt=>{tt()};const h=tt=>{let nt;e++;try{nt=tt()}finally{e--,e||j()}return nt},_=tt=>{e?i.push(tt):scheduleMicrotask(()=>{s(tt)})},$=tt=>(...nt)=>{_(()=>{tt(...nt)})},j=()=>{const tt=i;i=[],tt.length&&scheduleMicrotask(()=>{o(()=>{tt.forEach(nt=>{s(nt)})})})};return{batch:h,batchCalls:$,schedule:_,setNotifyFunction:tt=>{s=tt},setBatchNotifyFunction:tt=>{o=tt}}}var notifyManager=createNotifyManager(),Er,Vn,Removable=(Vn=class{constructor(){It(this,Er,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),isValidTimeout(this.gcTime)&&Ct(this,Er,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(i){this.gcTime=Math.max(this.gcTime||0,i??(isServer?1/0:5*60*1e3))}clearGcTimeout(){pt(this,Er)&&(clearTimeout(pt(this,Er)),Ct(this,Er,void 0))}},Er=new WeakMap,Vn),Ur,Lr,Jt,vr,er,Gt,Jr,Rr,qr,mn,ir,cr,Kn,Query=(Kn=class extends Removable{constructor(e){super();It(this,qr);It(this,ir);It(this,Ur,void 0);It(this,Lr,void 0);It(this,Jt,void 0);It(this,vr,void 0);It(this,er,void 0);It(this,Gt,void 0);It(this,Jr,void 0);It(this,Rr,void 0);Ct(this,Rr,!1),Ct(this,Jr,e.defaultOptions),$t(this,qr,mn).call(this,e.options),Ct(this,Gt,[]),Ct(this,Jt,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Ct(this,Ur,e.state||getDefaultState$1(this.options)),this.state=pt(this,Ur),this.scheduleGc()}get meta(){return this.options.meta}optionalRemove(){!pt(this,Gt).length&&this.state.fetchStatus==="idle"&&pt(this,Jt).remove(this)}setData(e,s){const o=replaceData(this.state.data,e,this.options);return $t(this,ir,cr).call(this,{data:o,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt,manual:s==null?void 0:s.manual}),o}setState(e,s){$t(this,ir,cr).call(this,{type:"setState",state:e,setStateOptions:s})}cancel(e){var o;const s=pt(this,vr);return(o=pt(this,er))==null||o.cancel(e),s?s.then(noop$1).catch(noop$1):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(pt(this,Ur))}isActive(){return pt(this,Gt).some(e=>e.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||pt(this,Gt).some(e=>e.getCurrentResult().isStale)}isStaleByTime(e=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!timeUntilStale(this.state.dataUpdatedAt,e)}onFocus(){var s;const e=pt(this,Gt).find(o=>o.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(s=pt(this,er))==null||s.continue()}onOnline(){var s;const e=pt(this,Gt).find(o=>o.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(s=pt(this,er))==null||s.continue()}addObserver(e){pt(this,Gt).includes(e)||(pt(this,Gt).push(e),this.clearGcTimeout(),pt(this,Jt).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){pt(this,Gt).includes(e)&&(Ct(this,Gt,pt(this,Gt).filter(s=>s!==e)),pt(this,Gt).length||(pt(this,er)&&(pt(this,Rr)?pt(this,er).cancel({revert:!0}):pt(this,er).cancelRetry()),this.scheduleGc()),pt(this,Jt).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return pt(this,Gt).length}invalidate(){this.state.isInvalidated||$t(this,ir,cr).call(this,{type:"invalidate"})}fetch(e,s){var et,tt,nt,rt;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(pt(this,vr))return(et=pt(this,er))==null||et.continueRetry(),pt(this,vr)}if(e&&$t(this,qr,mn).call(this,e),!this.options.queryFn){const st=pt(this,Gt).find(lt=>lt.options.queryFn);st&&$t(this,qr,mn).call(this,st.options)}const o=new AbortController,h={queryKey:this.queryKey,meta:this.meta},_=st=>{Object.defineProperty(st,"signal",{enumerable:!0,get:()=>(Ct(this,Rr,!0),o.signal)})};_(h);const $=()=>this.options.queryFn?(Ct(this,Rr,!1),this.options.persister?this.options.persister(this.options.queryFn,h,this):this.options.queryFn(h)):Promise.reject(new Error(`Missing queryFn: '${this.options.queryHash}'`)),j={fetchOptions:s,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:$};_(j),(tt=this.options.behavior)==null||tt.onFetch(j,this),Ct(this,Lr,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((nt=j.fetchOptions)==null?void 0:nt.meta))&&$t(this,ir,cr).call(this,{type:"fetch",meta:(rt=j.fetchOptions)==null?void 0:rt.meta});const _e=st=>{var lt,ct,ut,ot;isCancelledError(st)&&st.silent||$t(this,ir,cr).call(this,{type:"error",error:st}),isCancelledError(st)||((ct=(lt=pt(this,Jt).config).onError)==null||ct.call(lt,st,this),(ot=(ut=pt(this,Jt).config).onSettled)==null||ot.call(ut,this.state.data,st,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return Ct(this,er,createRetryer({fn:j.fetchFn,abort:o.abort.bind(o),onSuccess:st=>{var lt,ct,ut,ot;if(typeof st>"u"){_e(new Error(`${this.queryHash} data is undefined`));return}this.setData(st),(ct=(lt=pt(this,Jt).config).onSuccess)==null||ct.call(lt,st,this),(ot=(ut=pt(this,Jt).config).onSettled)==null||ot.call(ut,st,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:_e,onFail:(st,lt)=>{$t(this,ir,cr).call(this,{type:"failed",failureCount:st,error:lt})},onPause:()=>{$t(this,ir,cr).call(this,{type:"pause"})},onContinue:()=>{$t(this,ir,cr).call(this,{type:"continue"})},retry:j.options.retry,retryDelay:j.options.retryDelay,networkMode:j.options.networkMode})),Ct(this,vr,pt(this,er).promise),pt(this,vr)}},Ur=new WeakMap,Lr=new WeakMap,Jt=new WeakMap,vr=new WeakMap,er=new WeakMap,Gt=new WeakMap,Jr=new WeakMap,Rr=new WeakMap,qr=new WeakSet,mn=function(e){this.options={...pt(this,Jr),...e},this.updateGcTime(this.options.gcTime)},ir=new WeakSet,cr=function(e){const s=o=>{switch(e.type){case"failed":return{...o,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...o,fetchStatus:"paused"};case"continue":return{...o,fetchStatus:"fetching"};case"fetch":return{...o,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:e.meta??null,fetchStatus:canFetch(this.options.networkMode)?"fetching":"paused",...!o.dataUpdatedAt&&{error:null,status:"pending"}};case"success":return{...o,data:e.data,dataUpdateCount:o.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const h=e.error;return isCancelledError(h)&&h.revert&&pt(this,Lr)?{...pt(this,Lr),fetchStatus:"idle"}:{...o,error:h,errorUpdateCount:o.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:o.fetchFailureCount+1,fetchFailureReason:h,fetchStatus:"idle",status:"error"};case"invalidate":return{...o,isInvalidated:!0};case"setState":return{...o,...e.state}}};this.state=s(this.state),notifyManager.batch(()=>{pt(this,Gt).forEach(o=>{o.onQueryUpdate()}),pt(this,Jt).notify({query:this,type:"updated",action:e})})},Kn);function getDefaultState$1(i){const e=typeof i.initialData=="function"?i.initialData():i.initialData,s=typeof e<"u",o=s?typeof i.initialDataUpdatedAt=="function"?i.initialDataUpdatedAt():i.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:s?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var sr,Yn,QueryCache=(Yn=class extends Subscribable{constructor(e={}){super();It(this,sr,void 0);this.config=e,Ct(this,sr,new Map)}build(e,s,o){const h=s.queryKey,_=s.queryHash??hashQueryKeyByOptions(h,s);let $=this.get(_);return $||($=new Query({cache:this,queryKey:h,queryHash:_,options:e.defaultQueryOptions(s),state:o,defaultOptions:e.getQueryDefaults(h)}),this.add($)),$}add(e){pt(this,sr).has(e.queryHash)||(pt(this,sr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const s=pt(this,sr).get(e.queryHash);s&&(e.destroy(),s===e&&pt(this,sr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){notifyManager.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return pt(this,sr).get(e)}getAll(){return[...pt(this,sr).values()]}find(e){const s={exact:!0,...e};return this.getAll().find(o=>matchQuery(s,o))}findAll(e={}){const s=this.getAll();return Object.keys(e).length>0?s.filter(o=>matchQuery(e,o)):s}notify(e){notifyManager.batch(()=>{this.listeners.forEach(s=>{s(e)})})}onFocus(){notifyManager.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){notifyManager.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},sr=new WeakMap,Yn),or,en,Zt,Hr,lr,mr,Xn,Mutation=(Xn=class extends Removable{constructor(e){super();It(this,lr);It(this,or,void 0);It(this,en,void 0);It(this,Zt,void 0);It(this,Hr,void 0);this.mutationId=e.mutationId,Ct(this,en,e.defaultOptions),Ct(this,Zt,e.mutationCache),Ct(this,or,[]),this.state=e.state||getDefaultState(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options={...pt(this,en),...e},this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){pt(this,or).includes(e)||(pt(this,or).push(e),this.clearGcTimeout(),pt(this,Zt).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Ct(this,or,pt(this,or).filter(s=>s!==e)),this.scheduleGc(),pt(this,Zt).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){pt(this,or).length||(this.state.status==="pending"?this.scheduleGc():pt(this,Zt).remove(this))}continue(){var e;return((e=pt(this,Hr))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var h,_,$,j,_e,et,tt,nt,rt,st,lt,ct,ut,ot,it,at,dt,ht,yt,_t;const s=()=>(Ct(this,Hr,createRetryer({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(gt,St)=>{$t(this,lr,mr).call(this,{type:"failed",failureCount:gt,error:St})},onPause:()=>{$t(this,lr,mr).call(this,{type:"pause"})},onContinue:()=>{$t(this,lr,mr).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode})),pt(this,Hr).promise),o=this.state.status==="pending";try{if(!o){$t(this,lr,mr).call(this,{type:"pending",variables:e}),await((_=(h=pt(this,Zt).config).onMutate)==null?void 0:_.call(h,e,this));const St=await((j=($=this.options).onMutate)==null?void 0:j.call($,e));St!==this.state.context&&$t(this,lr,mr).call(this,{type:"pending",context:St,variables:e})}const gt=await s();return await((et=(_e=pt(this,Zt).config).onSuccess)==null?void 0:et.call(_e,gt,e,this.state.context,this)),await((nt=(tt=this.options).onSuccess)==null?void 0:nt.call(tt,gt,e,this.state.context)),await((st=(rt=pt(this,Zt).config).onSettled)==null?void 0:st.call(rt,gt,null,this.state.variables,this.state.context,this)),await((ct=(lt=this.options).onSettled)==null?void 0:ct.call(lt,gt,null,e,this.state.context)),$t(this,lr,mr).call(this,{type:"success",data:gt}),gt}catch(gt){try{throw await((ot=(ut=pt(this,Zt).config).onError)==null?void 0:ot.call(ut,gt,e,this.state.context,this)),await((at=(it=this.options).onError)==null?void 0:at.call(it,gt,e,this.state.context)),await((ht=(dt=pt(this,Zt).config).onSettled)==null?void 0:ht.call(dt,void 0,gt,this.state.variables,this.state.context,this)),await((_t=(yt=this.options).onSettled)==null?void 0:_t.call(yt,void 0,gt,e,this.state.context)),gt}finally{$t(this,lr,mr).call(this,{type:"error",error:gt})}}}},or=new WeakMap,en=new WeakMap,Zt=new WeakMap,Hr=new WeakMap,lr=new WeakSet,mr=function(e){const s=o=>{switch(e.type){case"failed":return{...o,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...o,isPaused:!0};case"continue":return{...o,isPaused:!1};case"pending":return{...o,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!canFetch(this.options.networkMode),status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...o,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...o,data:void 0,error:e.error,failureCount:o.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=s(this.state),notifyManager.batch(()=>{pt(this,or).forEach(o=>{o.onMutationUpdate(e)}),pt(this,Zt).notify({mutation:this,type:"updated",action:e})})},Xn);function getDefaultState(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var tr,tn,Tr,Zn,MutationCache=(Zn=class extends Subscribable{constructor(e={}){super();It(this,tr,void 0);It(this,tn,void 0);It(this,Tr,void 0);this.config=e,Ct(this,tr,[]),Ct(this,tn,0)}build(e,s,o){const h=new Mutation({mutationCache:this,mutationId:++fn(this,tn)._,options:e.defaultMutationOptions(s),state:o});return this.add(h),h}add(e){pt(this,tr).push(e),this.notify({type:"added",mutation:e})}remove(e){Ct(this,tr,pt(this,tr).filter(s=>s!==e)),this.notify({type:"removed",mutation:e})}clear(){notifyManager.batch(()=>{pt(this,tr).forEach(e=>{this.remove(e)})})}getAll(){return pt(this,tr)}find(e){const s={exact:!0,...e};return pt(this,tr).find(o=>matchMutation(s,o))}findAll(e={}){return pt(this,tr).filter(s=>matchMutation(e,s))}notify(e){notifyManager.batch(()=>{this.listeners.forEach(s=>{s(e)})})}resumePausedMutations(){return Ct(this,Tr,(pt(this,Tr)??Promise.resolve()).then(()=>{const e=pt(this,tr).filter(s=>s.state.isPaused);return notifyManager.batch(()=>e.reduce((s,o)=>s.then(()=>o.continue().catch(noop$1)),Promise.resolve()))}).then(()=>{Ct(this,Tr,void 0)})),pt(this,Tr)}},tr=new WeakMap,tn=new WeakMap,Tr=new WeakMap,Zn);function infiniteQueryBehavior(i){return{onFetch:(e,s)=>{const o=async()=>{var lt,ct,ut,ot,it;const h=e.options,_=(ut=(ct=(lt=e.fetchOptions)==null?void 0:lt.meta)==null?void 0:ct.fetchMore)==null?void 0:ut.direction,$=((ot=e.state.data)==null?void 0:ot.pages)||[],j=((it=e.state.data)==null?void 0:it.pageParams)||[],_e={pages:[],pageParams:[]};let et=!1;const tt=at=>{Object.defineProperty(at,"signal",{enumerable:!0,get:()=>(e.signal.aborted?et=!0:e.signal.addEventListener("abort",()=>{et=!0}),e.signal)})},nt=e.options.queryFn||(()=>Promise.reject(new Error(`Missing queryFn: '${e.options.queryHash}'`))),rt=async(at,dt,ht)=>{if(et)return Promise.reject();if(dt==null&&at.pages.length)return Promise.resolve(at);const yt={queryKey:e.queryKey,pageParam:dt,direction:ht?"backward":"forward",meta:e.options.meta};tt(yt);const _t=await nt(yt),{maxPages:gt}=e.options,St=ht?addToStart:addToEnd;return{pages:St(at.pages,_t,gt),pageParams:St(at.pageParams,dt,gt)}};let st;if(_&&$.length){const at=_==="backward",dt=at?getPreviousPageParam:getNextPageParam,ht={pages:$,pageParams:j},yt=dt(h,ht);st=await rt(ht,yt,at)}else{st=await rt(_e,j[0]??h.initialPageParam);const at=i??$.length;for(let dt=1;dt<at;dt++){const ht=getNextPageParam(h,st);st=await rt(st,ht)}}return st};e.options.persister?e.fetchFn=()=>{var h,_;return(_=(h=e.options).persister)==null?void 0:_.call(h,o,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},s)}:e.fetchFn=o}}}function getNextPageParam(i,{pages:e,pageParams:s}){const o=e.length-1;return i.getNextPageParam(e[o],e,s[o],s)}function getPreviousPageParam(i,{pages:e,pageParams:s}){var o;return(o=i.getPreviousPageParam)==null?void 0:o.call(i,e[0],e,s[0],s)}function hasNextPage(i,e){return e?getNextPageParam(i,e)!=null:!1}function hasPreviousPage(i,e){return!e||!i.getPreviousPageParam?!1:getPreviousPageParam(i,e)!=null}var Ft,_r,wr,jr,Fr,br,Gr,zr,Jn,QueryClient=(Jn=class{constructor(i={}){It(this,Ft,void 0);It(this,_r,void 0);It(this,wr,void 0);It(this,jr,void 0);It(this,Fr,void 0);It(this,br,void 0);It(this,Gr,void 0);It(this,zr,void 0);Ct(this,Ft,i.queryCache||new QueryCache),Ct(this,_r,i.mutationCache||new MutationCache),Ct(this,wr,i.defaultOptions||{}),Ct(this,jr,new Map),Ct(this,Fr,new Map),Ct(this,br,0)}mount(){fn(this,br)._++,pt(this,br)===1&&(Ct(this,Gr,focusManager.subscribe(()=>{focusManager.isFocused()&&(this.resumePausedMutations(),pt(this,Ft).onFocus())})),Ct(this,zr,onlineManager.subscribe(()=>{onlineManager.isOnline()&&(this.resumePausedMutations(),pt(this,Ft).onOnline())})))}unmount(){var i,e;fn(this,br)._--,pt(this,br)===0&&((i=pt(this,Gr))==null||i.call(this),Ct(this,Gr,void 0),(e=pt(this,zr))==null||e.call(this),Ct(this,zr,void 0))}isFetching(i){return pt(this,Ft).findAll({...i,fetchStatus:"fetching"}).length}isMutating(i){return pt(this,_r).findAll({...i,status:"pending"}).length}getQueryData(i){var e;return(e=pt(this,Ft).find({queryKey:i}))==null?void 0:e.state.data}ensureQueryData(i){const e=this.getQueryData(i.queryKey);return e?Promise.resolve(e):this.fetchQuery(i)}getQueriesData(i){return this.getQueryCache().findAll(i).map(({queryKey:e,state:s})=>{const o=s.data;return[e,o]})}setQueryData(i,e,s){const o=pt(this,Ft).find({queryKey:i}),h=o==null?void 0:o.state.data,_=functionalUpdate(e,h);if(typeof _>"u")return;const $=this.defaultQueryOptions({queryKey:i});return pt(this,Ft).build(this,$).setData(_,{...s,manual:!0})}setQueriesData(i,e,s){return notifyManager.batch(()=>this.getQueryCache().findAll(i).map(({queryKey:o})=>[o,this.setQueryData(o,e,s)]))}getQueryState(i){var e;return(e=pt(this,Ft).find({queryKey:i}))==null?void 0:e.state}removeQueries(i){const e=pt(this,Ft);notifyManager.batch(()=>{e.findAll(i).forEach(s=>{e.remove(s)})})}resetQueries(i,e){const s=pt(this,Ft),o={type:"active",...i};return notifyManager.batch(()=>(s.findAll(i).forEach(h=>{h.reset()}),this.refetchQueries(o,e)))}cancelQueries(i={},e={}){const s={revert:!0,...e},o=notifyManager.batch(()=>pt(this,Ft).findAll(i).map(h=>h.cancel(s)));return Promise.all(o).then(noop$1).catch(noop$1)}invalidateQueries(i={},e={}){return notifyManager.batch(()=>{if(pt(this,Ft).findAll(i).forEach(o=>{o.invalidate()}),i.refetchType==="none")return Promise.resolve();const s={...i,type:i.refetchType??i.type??"active"};return this.refetchQueries(s,e)})}refetchQueries(i={},e){const s={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},o=notifyManager.batch(()=>pt(this,Ft).findAll(i).filter(h=>!h.isDisabled()).map(h=>{let _=h.fetch(void 0,s);return s.throwOnError||(_=_.catch(noop$1)),h.state.fetchStatus==="paused"?Promise.resolve():_}));return Promise.all(o).then(noop$1)}fetchQuery(i){const e=this.defaultQueryOptions(i);typeof e.retry>"u"&&(e.retry=!1);const s=pt(this,Ft).build(this,e);return s.isStaleByTime(e.staleTime)?s.fetch(e):Promise.resolve(s.state.data)}prefetchQuery(i){return this.fetchQuery(i).then(noop$1).catch(noop$1)}fetchInfiniteQuery(i){return i.behavior=infiniteQueryBehavior(i.pages),this.fetchQuery(i)}prefetchInfiniteQuery(i){return this.fetchInfiniteQuery(i).then(noop$1).catch(noop$1)}resumePausedMutations(){return pt(this,_r).resumePausedMutations()}getQueryCache(){return pt(this,Ft)}getMutationCache(){return pt(this,_r)}getDefaultOptions(){return pt(this,wr)}setDefaultOptions(i){Ct(this,wr,i)}setQueryDefaults(i,e){pt(this,jr).set(hashKey(i),{queryKey:i,defaultOptions:e})}getQueryDefaults(i){const e=[...pt(this,jr).values()];let s={};return e.forEach(o=>{partialMatchKey(i,o.queryKey)&&(s={...s,...o.defaultOptions})}),s}setMutationDefaults(i,e){pt(this,Fr).set(hashKey(i),{mutationKey:i,defaultOptions:e})}getMutationDefaults(i){const e=[...pt(this,Fr).values()];let s={};return e.forEach(o=>{partialMatchKey(i,o.mutationKey)&&(s={...s,...o.defaultOptions})}),s}defaultQueryOptions(i){if(i!=null&&i._defaulted)return i;const e={...pt(this,wr).queries,...(i==null?void 0:i.queryKey)&&this.getQueryDefaults(i.queryKey),...i,_defaulted:!0};return e.queryHash||(e.queryHash=hashQueryKeyByOptions(e.queryKey,e)),typeof e.refetchOnReconnect>"u"&&(e.refetchOnReconnect=e.networkMode!=="always"),typeof e.throwOnError>"u"&&(e.throwOnError=!!e.suspense),typeof e.networkMode>"u"&&e.persister&&(e.networkMode="offlineFirst"),e}defaultMutationOptions(i){return i!=null&&i._defaulted?i:{...pt(this,wr).mutations,...(i==null?void 0:i.mutationKey)&&this.getMutationDefaults(i.mutationKey),...i,_defaulted:!0}}clear(){pt(this,Ft).clear(),pt(this,_r).clear()}},Ft=new WeakMap,_r=new WeakMap,wr=new WeakMap,jr=new WeakMap,Fr=new WeakMap,br=new WeakMap,Gr=new WeakMap,zr=new WeakMap,Jn),Kt,qt,Wr,zt,Pr,Qr,ur,rn,Vr,Kr,Ir,Ar,xr,Dr,kr,Zr,nn,Tn,an,Pn,sn,In,on,An,ln,Dn,un,kn,cn,Mn,gn,ga,_i,QueryObserver=(_i=class extends Subscribable{constructor(e,s){super();It(this,kr);It(this,nn);It(this,an);It(this,sn);It(this,on);It(this,ln);It(this,un);It(this,cn);It(this,gn);It(this,Kt,void 0);It(this,qt,void 0);It(this,Wr,void 0);It(this,zt,void 0);It(this,Pr,void 0);It(this,Qr,void 0);It(this,ur,void 0);It(this,rn,void 0);It(this,Vr,void 0);It(this,Kr,void 0);It(this,Ir,void 0);It(this,Ar,void 0);It(this,xr,void 0);It(this,Dr,void 0);Ct(this,qt,void 0),Ct(this,Wr,void 0),Ct(this,zt,void 0),Ct(this,Dr,new Set),Ct(this,Kt,e),this.options=s,Ct(this,ur,null),this.bindMethods(),this.setOptions(s)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(pt(this,qt).addObserver(this),shouldFetchOnMount(pt(this,qt),this.options)&&$t(this,kr,Zr).call(this),$t(this,on,An).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return shouldFetchOn(pt(this,qt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return shouldFetchOn(pt(this,qt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,$t(this,ln,Dn).call(this),$t(this,un,kn).call(this),pt(this,qt).removeObserver(this)}setOptions(e,s){const o=this.options,h=pt(this,qt);if(this.options=pt(this,Kt).defaultQueryOptions(e),shallowEqualObjects(o,this.options)||pt(this,Kt).getQueryCache().notify({type:"observerOptionsUpdated",query:pt(this,qt),observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=o.queryKey),$t(this,cn,Mn).call(this);const _=this.hasListeners();_&&shouldFetchOptionally(pt(this,qt),h,this.options,o)&&$t(this,kr,Zr).call(this),this.updateResult(s),_&&(pt(this,qt)!==h||this.options.enabled!==o.enabled||this.options.staleTime!==o.staleTime)&&$t(this,nn,Tn).call(this);const $=$t(this,an,Pn).call(this);_&&(pt(this,qt)!==h||this.options.enabled!==o.enabled||$!==pt(this,xr))&&$t(this,sn,In).call(this,$)}getOptimisticResult(e){const s=pt(this,Kt).getQueryCache().build(pt(this,Kt),e),o=this.createResult(s,e);return shouldAssignObserverCurrentProperties(this,o)&&(Ct(this,zt,o),Ct(this,Qr,this.options),Ct(this,Pr,pt(this,qt).state)),o}getCurrentResult(){return pt(this,zt)}trackResult(e){const s={};return Object.keys(e).forEach(o=>{Object.defineProperty(s,o,{configurable:!1,enumerable:!0,get:()=>(pt(this,Dr).add(o),e[o])})}),s}getCurrentQuery(){return pt(this,qt)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const s=pt(this,Kt).defaultQueryOptions(e),o=pt(this,Kt).getQueryCache().build(pt(this,Kt),s);return o.isFetchingOptimistic=!0,o.fetch().then(()=>this.createResult(o,s))}fetch(e){return $t(this,kr,Zr).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),pt(this,zt)))}createResult(e,s){var yt;const o=pt(this,qt),h=this.options,_=pt(this,zt),$=pt(this,Pr),j=pt(this,Qr),et=e!==o?e.state:pt(this,Wr),{state:tt}=e;let{error:nt,errorUpdatedAt:rt,fetchStatus:st,status:lt}=tt,ct=!1,ut;if(s._optimisticResults){const _t=this.hasListeners(),gt=!_t&&shouldFetchOnMount(e,s),St=_t&&shouldFetchOptionally(e,o,s,h);(gt||St)&&(st=canFetch(e.options.networkMode)?"fetching":"paused",tt.dataUpdatedAt||(lt="pending")),s._optimisticResults==="isRestoring"&&(st="idle")}if(s.select&&typeof tt.data<"u")if(_&&tt.data===($==null?void 0:$.data)&&s.select===pt(this,rn))ut=pt(this,Vr);else try{Ct(this,rn,s.select),ut=s.select(tt.data),ut=replaceData(_==null?void 0:_.data,ut,s),Ct(this,Vr,ut),Ct(this,ur,null)}catch(_t){Ct(this,ur,_t)}else ut=tt.data;if(typeof s.placeholderData<"u"&&typeof ut>"u"&&lt==="pending"){let _t;if(_!=null&&_.isPlaceholderData&&s.placeholderData===(j==null?void 0:j.placeholderData))_t=_.data;else if(_t=typeof s.placeholderData=="function"?s.placeholderData((yt=pt(this,Kr))==null?void 0:yt.state.data,pt(this,Kr)):s.placeholderData,s.select&&typeof _t<"u")try{_t=s.select(_t),Ct(this,ur,null)}catch(gt){Ct(this,ur,gt)}typeof _t<"u"&&(lt="success",ut=replaceData(_==null?void 0:_.data,_t,s),ct=!0)}pt(this,ur)&&(nt=pt(this,ur),ut=pt(this,Vr),rt=Date.now(),lt="error");const ot=st==="fetching",it=lt==="pending",at=lt==="error",dt=it&&ot;return{status:lt,fetchStatus:st,isPending:it,isSuccess:lt==="success",isError:at,isInitialLoading:dt,isLoading:dt,data:ut,dataUpdatedAt:tt.dataUpdatedAt,error:nt,errorUpdatedAt:rt,failureCount:tt.fetchFailureCount,failureReason:tt.fetchFailureReason,errorUpdateCount:tt.errorUpdateCount,isFetched:tt.dataUpdateCount>0||tt.errorUpdateCount>0,isFetchedAfterMount:tt.dataUpdateCount>et.dataUpdateCount||tt.errorUpdateCount>et.errorUpdateCount,isFetching:ot,isRefetching:ot&&!it,isLoadingError:at&&tt.dataUpdatedAt===0,isPaused:st==="paused",isPlaceholderData:ct,isRefetchError:at&&tt.dataUpdatedAt!==0,isStale:isStale(e,s),refetch:this.refetch}}updateResult(e){const s=pt(this,zt),o=this.createResult(pt(this,qt),this.options);if(Ct(this,Pr,pt(this,qt).state),Ct(this,Qr,this.options),shallowEqualObjects(o,s))return;pt(this,Pr).data!==void 0&&Ct(this,Kr,pt(this,qt)),Ct(this,zt,o);const h={},_=()=>{if(!s)return!0;const{notifyOnChangeProps:$}=this.options,j=typeof $=="function"?$():$;if(j==="all"||!j&&!pt(this,Dr).size)return!0;const _e=new Set(j??pt(this,Dr));return this.options.throwOnError&&_e.add("error"),Object.keys(pt(this,zt)).some(et=>{const tt=et;return pt(this,zt)[tt]!==s[tt]&&_e.has(tt)})};(e==null?void 0:e.listeners)!==!1&&_()&&(h.listeners=!0),$t(this,gn,ga).call(this,{...h,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&$t(this,on,An).call(this)}},Kt=new WeakMap,qt=new WeakMap,Wr=new WeakMap,zt=new WeakMap,Pr=new WeakMap,Qr=new WeakMap,ur=new WeakMap,rn=new WeakMap,Vr=new WeakMap,Kr=new WeakMap,Ir=new WeakMap,Ar=new WeakMap,xr=new WeakMap,Dr=new WeakMap,kr=new WeakSet,Zr=function(e){$t(this,cn,Mn).call(this);let s=pt(this,qt).fetch(this.options,e);return e!=null&&e.throwOnError||(s=s.catch(noop$1)),s},nn=new WeakSet,Tn=function(){if($t(this,ln,Dn).call(this),isServer||pt(this,zt).isStale||!isValidTimeout(this.options.staleTime))return;const s=timeUntilStale(pt(this,zt).dataUpdatedAt,this.options.staleTime)+1;Ct(this,Ir,setTimeout(()=>{pt(this,zt).isStale||this.updateResult()},s))},an=new WeakSet,Pn=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(pt(this,qt)):this.options.refetchInterval)??!1},sn=new WeakSet,In=function(e){$t(this,un,kn).call(this),Ct(this,xr,e),!(isServer||this.options.enabled===!1||!isValidTimeout(pt(this,xr))||pt(this,xr)===0)&&Ct(this,Ar,setInterval(()=>{(this.options.refetchIntervalInBackground||focusManager.isFocused())&&$t(this,kr,Zr).call(this)},pt(this,xr)))},on=new WeakSet,An=function(){$t(this,nn,Tn).call(this),$t(this,sn,In).call(this,$t(this,an,Pn).call(this))},ln=new WeakSet,Dn=function(){pt(this,Ir)&&(clearTimeout(pt(this,Ir)),Ct(this,Ir,void 0))},un=new WeakSet,kn=function(){pt(this,Ar)&&(clearInterval(pt(this,Ar)),Ct(this,Ar,void 0))},cn=new WeakSet,Mn=function(){const e=pt(this,Kt).getQueryCache().build(pt(this,Kt),this.options);if(e===pt(this,qt))return;const s=pt(this,qt);Ct(this,qt,e),Ct(this,Wr,e.state),this.hasListeners()&&(s==null||s.removeObserver(this),e.addObserver(this))},gn=new WeakSet,ga=function(e){notifyManager.batch(()=>{e.listeners&&this.listeners.forEach(s=>{s(pt(this,zt))}),pt(this,Kt).getQueryCache().notify({query:pt(this,qt),type:"observerResultsUpdated"})})},_i);function shouldLoadOnMount(i,e){return e.enabled!==!1&&!i.state.dataUpdatedAt&&!(i.state.status==="error"&&e.retryOnMount===!1)}function shouldFetchOnMount(i,e){return shouldLoadOnMount(i,e)||i.state.dataUpdatedAt>0&&shouldFetchOn(i,e,e.refetchOnMount)}function shouldFetchOn(i,e,s){if(e.enabled!==!1){const o=typeof s=="function"?s(i):s;return o==="always"||o!==!1&&isStale(i,e)}return!1}function shouldFetchOptionally(i,e,s,o){return s.enabled!==!1&&(i!==e||o.enabled===!1)&&(!s.suspense||i.state.status!=="error")&&isStale(i,s)}function isStale(i,e){return i.isStaleByTime(e.staleTime)}function shouldAssignObserverCurrentProperties(i,e){return!shallowEqualObjects(i.getCurrentResult(),e)}var InfiniteQueryObserver=class extends QueryObserver{constructor(i,e){super(i,e)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(i,e){super.setOptions({...i,behavior:infiniteQueryBehavior()},e)}getOptimisticResult(i){return i.behavior=infiniteQueryBehavior(),super.getOptimisticResult(i)}fetchNextPage(i){return this.fetch({...i,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(i){return this.fetch({...i,meta:{fetchMore:{direction:"backward"}}})}createResult(i,e){var _e,et,tt,nt;const{state:s}=i,o=super.createResult(i,e),{isFetching:h,isRefetching:_}=o,$=h&&((et=(_e=s.fetchMeta)==null?void 0:_e.fetchMore)==null?void 0:et.direction)==="forward",j=h&&((nt=(tt=s.fetchMeta)==null?void 0:tt.fetchMore)==null?void 0:nt.direction)==="backward";return{...o,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:hasNextPage(e,s.data),hasPreviousPage:hasPreviousPage(e,s.data),isFetchingNextPage:$,isFetchingPreviousPage:j,isRefetching:_&&!$&&!j}}},QueryClientContext=reactExports.createContext(void 0),useQueryClient=i=>{const e=reactExports.useContext(QueryClientContext);if(i)return i;if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},QueryClientProvider=({client:i,children:e})=>(reactExports.useEffect(()=>(i.mount(),()=>{i.unmount()}),[i]),reactExports.createElement(QueryClientContext.Provider,{value:i},e)),IsRestoringContext=reactExports.createContext(!1),useIsRestoring=()=>reactExports.useContext(IsRestoringContext);IsRestoringContext.Provider;function createValue(){let i=!1;return{clearReset:()=>{i=!1},reset:()=>{i=!0},isReset:()=>i}}var QueryErrorResetBoundaryContext=reactExports.createContext(createValue()),useQueryErrorResetBoundary=()=>reactExports.useContext(QueryErrorResetBoundaryContext);function shouldThrowError(i,e){return typeof i=="function"?i(...e):!!i}var ensurePreventErrorBoundaryRetry=(i,e)=>{(i.suspense||i.throwOnError)&&(e.isReset()||(i.retryOnMount=!1))},useClearResetErrorBoundary=i=>{reactExports.useEffect(()=>{i.clearReset()},[i])},getHasError=({result:i,errorResetBoundary:e,throwOnError:s,query:o})=>i.isError&&!e.isReset()&&!i.isFetching&&shouldThrowError(s,[i.error,o]),ensureStaleTime=i=>{i.suspense&&typeof i.staleTime!="number"&&(i.staleTime=1e3)},willFetch=(i,e)=>i.isLoading&&i.isFetching&&!e,shouldSuspend=(i,e,s)=>(i==null?void 0:i.suspense)&&willFetch(e,s),fetchOptimistic=(i,e,s)=>e.fetchOptimistic(i).catch(()=>{s.clearReset()});function useBaseQuery(i,e,s){const o=useQueryClient(s),h=useIsRestoring(),_=useQueryErrorResetBoundary(),$=o.defaultQueryOptions(i);$._optimisticResults=h?"isRestoring":"optimistic",ensureStaleTime($),ensurePreventErrorBoundaryRetry($,_),useClearResetErrorBoundary(_);const[j]=reactExports.useState(()=>new e(o,$)),_e=j.getOptimisticResult($);if(reactExports.useSyncExternalStore(reactExports.useCallback(et=>{const tt=h?()=>{}:j.subscribe(notifyManager.batchCalls(et));return j.updateResult(),tt},[j,h]),()=>j.getCurrentResult(),()=>j.getCurrentResult()),reactExports.useEffect(()=>{j.setOptions($,{listeners:!1})},[$,j]),shouldSuspend($,_e,h))throw fetchOptimistic($,j,_);if(getHasError({result:_e,errorResetBoundary:_,throwOnError:$.throwOnError,query:j.getCurrentQuery()}))throw _e.error;return $.notifyOnChangeProps?_e:j.trackResult(_e)}function useQuery(i,e){return useBaseQuery(i,QueryObserver,e)}function useInfiniteQuery(i,e){return useBaseQuery(i,InfiniteQueryObserver,e)}var client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(i){function e(bt,xt){var Pt=bt.length;bt.push(xt);e:for(;0<Pt;){var Nt=Pt-1>>>1,Bt=bt[Nt];if(0<h(Bt,xt))bt[Nt]=xt,bt[Pt]=Bt,Pt=Nt;else break e}}function s(bt){return bt.length===0?null:bt[0]}function o(bt){if(bt.length===0)return null;var xt=bt[0],Pt=bt.pop();if(Pt!==xt){bt[0]=Pt;e:for(var Nt=0,Bt=bt.length,Vt=Bt>>>1;Nt<Vt;){var Ht=2*(Nt+1)-1,Wt=bt[Ht],Qt=Ht+1,rr=bt[Qt];if(0>h(Wt,Pt))Qt<Bt&&0>h(rr,Wt)?(bt[Nt]=rr,bt[Qt]=Pt,Nt=Qt):(bt[Nt]=Wt,bt[Ht]=Pt,Nt=Ht);else if(Qt<Bt&&0>h(rr,Pt))bt[Nt]=rr,bt[Qt]=Pt,Nt=Qt;else break e}}return xt}function h(bt,xt){var Pt=bt.sortIndex-xt.sortIndex;return Pt!==0?Pt:bt.id-xt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var _=performance;i.unstable_now=function(){return _.now()}}else{var $=Date,j=$.now();i.unstable_now=function(){return $.now()-j}}var _e=[],et=[],tt=1,nt=null,rt=3,st=!1,lt=!1,ct=!1,ut=typeof setTimeout=="function"?setTimeout:null,ot=typeof clearTimeout=="function"?clearTimeout:null,it=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function at(bt){for(var xt=s(et);xt!==null;){if(xt.callback===null)o(et);else if(xt.startTime<=bt)o(et),xt.sortIndex=xt.expirationTime,e(_e,xt);else break;xt=s(et)}}function dt(bt){if(ct=!1,at(bt),!lt)if(s(_e)!==null)lt=!0,Tt(ht);else{var xt=s(et);xt!==null&&Mt(dt,xt.startTime-bt)}}function ht(bt,xt){lt=!1,ct&&(ct=!1,ot(gt),gt=-1),st=!0;var Pt=rt;try{for(at(xt),nt=s(_e);nt!==null&&(!(nt.expirationTime>xt)||bt&&!At());){var Nt=nt.callback;if(typeof Nt=="function"){nt.callback=null,rt=nt.priorityLevel;var Bt=Nt(nt.expirationTime<=xt);xt=i.unstable_now(),typeof Bt=="function"?nt.callback=Bt:nt===s(_e)&&o(_e),at(xt)}else o(_e);nt=s(_e)}if(nt!==null)var Vt=!0;else{var Ht=s(et);Ht!==null&&Mt(dt,Ht.startTime-xt),Vt=!1}return Vt}finally{nt=null,rt=Pt,st=!1}}var yt=!1,_t=null,gt=-1,St=5,Rt=-1;function At(){return!(i.unstable_now()-Rt<St)}function kt(){if(_t!==null){var bt=i.unstable_now();Rt=bt;var xt=!0;try{xt=_t(!0,bt)}finally{xt?Dt():(yt=!1,_t=null)}}else yt=!1}var Dt;if(typeof it=="function")Dt=function(){it(kt)};else if(typeof MessageChannel<"u"){var ft=new MessageChannel,wt=ft.port2;ft.port1.onmessage=kt,Dt=function(){wt.postMessage(null)}}else Dt=function(){ut(kt,0)};function Tt(bt){_t=bt,yt||(yt=!0,Dt())}function Mt(bt,xt){gt=ut(function(){bt(i.unstable_now())},xt)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(bt){bt.callback=null},i.unstable_continueExecution=function(){lt||st||(lt=!0,Tt(ht))},i.unstable_forceFrameRate=function(bt){0>bt||125<bt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):St=0<bt?Math.floor(1e3/bt):5},i.unstable_getCurrentPriorityLevel=function(){return rt},i.unstable_getFirstCallbackNode=function(){return s(_e)},i.unstable_next=function(bt){switch(rt){case 1:case 2:case 3:var xt=3;break;default:xt=rt}var Pt=rt;rt=xt;try{return bt()}finally{rt=Pt}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(bt,xt){switch(bt){case 1:case 2:case 3:case 4:case 5:break;default:bt=3}var Pt=rt;rt=bt;try{return xt()}finally{rt=Pt}},i.unstable_scheduleCallback=function(bt,xt,Pt){var Nt=i.unstable_now();switch(typeof Pt=="object"&&Pt!==null?(Pt=Pt.delay,Pt=typeof Pt=="number"&&0<Pt?Nt+Pt:Nt):Pt=Nt,bt){case 1:var Bt=-1;break;case 2:Bt=250;break;case 5:Bt=1073741823;break;case 4:Bt=1e4;break;default:Bt=5e3}return Bt=Pt+Bt,bt={id:tt++,callback:xt,priorityLevel:bt,startTime:Pt,expirationTime:Bt,sortIndex:-1},Pt>Nt?(bt.sortIndex=Pt,e(et,bt),s(_e)===null&&bt===s(et)&&(ct?(ot(gt),gt=-1):ct=!0,Mt(dt,Pt-Nt))):(bt.sortIndex=Bt,e(_e,bt),lt||st||(lt=!0,Tt(ht))),bt},i.unstable_shouldYield=At,i.unstable_wrapCallback=function(bt){var xt=rt;return function(){var Pt=rt;rt=xt;try{return bt.apply(this,arguments)}finally{rt=Pt}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$1(i){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+i,s=1;s<arguments.length;s++)e+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+i+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(i,e){ha(i,e),ha(i+"Capture",e)}function ha(i,e){for(ea[i]=e,i=0;i<e.length;i++)da.add(e[i])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(i){return ja.call(ma,i)?!0:ja.call(la,i)?!1:ka.test(i)?ma[i]=!0:(la[i]=!0,!1)}function pa(i,e,s,o){if(s!==null&&s.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return o?!1:s!==null?!s.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function qa(i,e,s,o){if(e===null||typeof e>"u"||pa(i,e,s,o))return!0;if(o)return!1;if(s!==null)switch(s.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function v(i,e,s,o,h,_,$){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=o,this.attributeNamespace=h,this.mustUseProperty=s,this.propertyName=i,this.type=e,this.sanitizeURL=_,this.removeEmptyString=$}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){z[i]=new v(i,0,!1,i,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var e=i[0];z[e]=new v(e,1,!1,i[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(i){z[i]=new v(i,2,!1,i.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){z[i]=new v(i,2,!1,i,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){z[i]=new v(i,3,!1,i.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(i){z[i]=new v(i,3,!0,i,null,!1,!1)});["capture","download"].forEach(function(i){z[i]=new v(i,4,!1,i,null,!1,!1)});["cols","rows","size","span"].forEach(function(i){z[i]=new v(i,6,!1,i,null,!1,!1)});["rowSpan","start"].forEach(function(i){z[i]=new v(i,5,!1,i.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var e=i.replace(ra,sa);z[e]=new v(e,1,!1,i,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var e=i.replace(ra,sa);z[e]=new v(e,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(i){var e=i.replace(ra,sa);z[e]=new v(e,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(i){z[i]=new v(i,1,!1,i.toLowerCase(),null,!1,!1)});z.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(i){z[i]=new v(i,1,!1,i.toLowerCase(),null,!0,!0)});function ta(i,e,s,o){var h=z.hasOwnProperty(e)?z[e]:null;(h!==null?h.type!==0:o||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(qa(e,s,h,o)&&(s=null),o||h===null?oa(e)&&(s===null?i.removeAttribute(e):i.setAttribute(e,""+s)):h.mustUseProperty?i[h.propertyName]=s===null?h.type===3?!1:"":s:(e=h.attributeName,o=h.attributeNamespace,s===null?i.removeAttribute(e):(h=h.type,s=h===3||h===4&&s===!0?"":""+s,o?i.setAttributeNS(o,e,s):i.setAttribute(e,s))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(i){return i===null||typeof i!="object"?null:(i=Ja&&i[Ja]||i["@@iterator"],typeof i=="function"?i:null)}var A=Object.assign,La;function Ma(i){if(La===void 0)try{throw Error()}catch(s){var e=s.stack.trim().match(/\n( *(at )?)/);La=e&&e[1]||""}return`
`+La+i}var Na=!1;function Oa(i,e){if(!i||Na)return"";Na=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(et){var o=et}Reflect.construct(i,[],e)}else{try{e.call()}catch(et){o=et}i.call(e.prototype)}else{try{throw Error()}catch(et){o=et}i()}}catch(et){if(et&&o&&typeof et.stack=="string"){for(var h=et.stack.split(`
`),_=o.stack.split(`
`),$=h.length-1,j=_.length-1;1<=$&&0<=j&&h[$]!==_[j];)j--;for(;1<=$&&0<=j;$--,j--)if(h[$]!==_[j]){if($!==1||j!==1)do if($--,j--,0>j||h[$]!==_[j]){var _e=`
`+h[$].replace(" at new "," at ");return i.displayName&&_e.includes("<anonymous>")&&(_e=_e.replace("<anonymous>",i.displayName)),_e}while(1<=$&&0<=j);break}}}finally{Na=!1,Error.prepareStackTrace=s}return(i=i?i.displayName||i.name:"")?Ma(i):""}function Pa(i){switch(i.tag){case 5:return Ma(i.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return i=Oa(i.type,!1),i;case 11:return i=Oa(i.type.render,!1),i;case 1:return i=Oa(i.type,!0),i;default:return""}}function Qa(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case Ca:return(i.displayName||"Context")+".Consumer";case Ba:return(i._context.displayName||"Context")+".Provider";case Da:var e=i.render;return i=i.displayName,i||(i=e.displayName||e.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Ga:return e=i.displayName||null,e!==null?e:Qa(i.type)||"Memo";case Ha:e=i._payload,i=i._init;try{return Qa(i(e))}catch{}}return null}function Ra(i){var e=i.type;switch(i.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=e.render,i=i.displayName||i.name||"",e.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(e);case 8:return e===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Sa(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ta(i){var e=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ua(i){var e=Ta(i)?"checked":"value",s=Object.getOwnPropertyDescriptor(i.constructor.prototype,e),o=""+i[e];if(!i.hasOwnProperty(e)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,_=s.set;return Object.defineProperty(i,e,{configurable:!0,get:function(){return h.call(this)},set:function($){o=""+$,_.call(this,$)}}),Object.defineProperty(i,e,{enumerable:s.enumerable}),{getValue:function(){return o},setValue:function($){o=""+$},stopTracking:function(){i._valueTracker=null,delete i[e]}}}}function Va(i){i._valueTracker||(i._valueTracker=Ua(i))}function Wa(i){if(!i)return!1;var e=i._valueTracker;if(!e)return!0;var s=e.getValue(),o="";return i&&(o=Ta(i)?i.checked?"true":"false":i.value),i=o,i!==s?(e.setValue(i),!0):!1}function Xa(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Ya(i,e){var s=e.checked;return A({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??i._wrapperState.initialChecked})}function Za(i,e){var s=e.defaultValue==null?"":e.defaultValue,o=e.checked!=null?e.checked:e.defaultChecked;s=Sa(e.value!=null?e.value:s),i._wrapperState={initialChecked:o,initialValue:s,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ab(i,e){e=e.checked,e!=null&&ta(i,"checked",e,!1)}function bb(i,e){ab(i,e);var s=Sa(e.value),o=e.type;if(s!=null)o==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+s):i.value!==""+s&&(i.value=""+s);else if(o==="submit"||o==="reset"){i.removeAttribute("value");return}e.hasOwnProperty("value")?cb(i,e.type,s):e.hasOwnProperty("defaultValue")&&cb(i,e.type,Sa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(i.defaultChecked=!!e.defaultChecked)}function db(i,e,s){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var o=e.type;if(!(o!=="submit"&&o!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+i._wrapperState.initialValue,s||e===i.value||(i.value=e),i.defaultValue=e}s=i.name,s!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,s!==""&&(i.name=s)}function cb(i,e,s){(e!=="number"||Xa(i.ownerDocument)!==i)&&(s==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+s&&(i.defaultValue=""+s))}var eb=Array.isArray;function fb(i,e,s,o){if(i=i.options,e){e={};for(var h=0;h<s.length;h++)e["$"+s[h]]=!0;for(s=0;s<i.length;s++)h=e.hasOwnProperty("$"+i[s].value),i[s].selected!==h&&(i[s].selected=h),h&&o&&(i[s].defaultSelected=!0)}else{for(s=""+Sa(s),e=null,h=0;h<i.length;h++){if(i[h].value===s){i[h].selected=!0,o&&(i[h].defaultSelected=!0);return}e!==null||i[h].disabled||(e=i[h])}e!==null&&(e.selected=!0)}}function gb(i,e){if(e.dangerouslySetInnerHTML!=null)throw Error(p$1(91));return A({},e,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function hb(i,e){var s=e.value;if(s==null){if(s=e.children,e=e.defaultValue,s!=null){if(e!=null)throw Error(p$1(92));if(eb(s)){if(1<s.length)throw Error(p$1(93));s=s[0]}e=s}e==null&&(e=""),s=e}i._wrapperState={initialValue:Sa(s)}}function ib(i,e){var s=Sa(e.value),o=Sa(e.defaultValue);s!=null&&(s=""+s,s!==i.value&&(i.value=s),e.defaultValue==null&&i.defaultValue!==s&&(i.defaultValue=s)),o!=null&&(i.defaultValue=""+o)}function jb(i){var e=i.textContent;e===i._wrapperState.initialValue&&e!==""&&e!==null&&(i.value=e)}function kb(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(i,e){return i==null||i==="http://www.w3.org/1999/xhtml"?kb(e):i==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var mb,nb=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,s,o,h){MSApp.execUnsafeLocalFunction(function(){return i(e,s,o,h)})}:i}(function(i,e){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=e;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=mb.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;e.firstChild;)i.appendChild(e.firstChild)}});function ob(i,e){if(e){var s=i.firstChild;if(s&&s===i.lastChild&&s.nodeType===3){s.nodeValue=e;return}}i.textContent=e}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(i){qb.forEach(function(e){e=e+i.charAt(0).toUpperCase()+i.substring(1),pb[e]=pb[i]})});function rb(i,e,s){return e==null||typeof e=="boolean"||e===""?"":s||typeof e!="number"||e===0||pb.hasOwnProperty(i)&&pb[i]?(""+e).trim():e+"px"}function sb(i,e){i=i.style;for(var s in e)if(e.hasOwnProperty(s)){var o=s.indexOf("--")===0,h=rb(s,e[s],o);s==="float"&&(s="cssFloat"),o?i.setProperty(s,h):i[s]=h}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(i,e){if(e){if(tb[i]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(p$1(137,i));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(p$1(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(p$1(61))}if(e.style!=null&&typeof e.style!="object")throw Error(p$1(62))}}function vb(i,e){if(i.indexOf("-")===-1)return typeof e.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var yb=null,zb=null,Ab=null;function Bb(i){if(i=Cb(i)){if(typeof yb!="function")throw Error(p$1(280));var e=i.stateNode;e&&(e=Db(e),yb(i.stateNode,i.type,e))}}function Eb(i){zb?Ab?Ab.push(i):Ab=[i]:zb=i}function Fb(){if(zb){var i=zb,e=Ab;if(Ab=zb=null,Bb(i),e)for(i=0;i<e.length;i++)Bb(e[i])}}function Gb(i,e){return i(e)}function Hb(){}var Ib=!1;function Jb(i,e,s){if(Ib)return i(e,s);Ib=!0;try{return Gb(i,e,s)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(i,e){var s=i.stateNode;if(s===null)return null;var o=Db(s);if(o===null)return null;s=o[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(i=i.type,o=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!o;break e;default:i=!1}if(i)return null;if(s&&typeof s!="function")throw Error(p$1(231,e,typeof s));return s}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(i,e,s,o,h,_,$,j,_e){var et=Array.prototype.slice.call(arguments,3);try{e.apply(s,et)}catch(tt){this.onError(tt)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(i){Ob=!0,Pb=i}};function Tb(i,e,s,o,h,_,$,j,_e){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(i,e,s,o,h,_,$,j,_e){if(Tb.apply(this,arguments),Ob){if(Ob){var et=Pb;Ob=!1,Pb=null}else throw Error(p$1(198));Qb||(Qb=!0,Rb=et)}}function Vb(i){var e=i,s=i;if(i.alternate)for(;e.return;)e=e.return;else{i=e;do e=i,e.flags&4098&&(s=e.return),i=e.return;while(i)}return e.tag===3?s:null}function Wb(i){if(i.tag===13){var e=i.memoizedState;if(e===null&&(i=i.alternate,i!==null&&(e=i.memoizedState)),e!==null)return e.dehydrated}return null}function Xb(i){if(Vb(i)!==i)throw Error(p$1(188))}function Yb(i){var e=i.alternate;if(!e){if(e=Vb(i),e===null)throw Error(p$1(188));return e!==i?null:i}for(var s=i,o=e;;){var h=s.return;if(h===null)break;var _=h.alternate;if(_===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===_.child){for(_=h.child;_;){if(_===s)return Xb(h),i;if(_===o)return Xb(h),e;_=_.sibling}throw Error(p$1(188))}if(s.return!==o.return)s=h,o=_;else{for(var $=!1,j=h.child;j;){if(j===s){$=!0,s=h,o=_;break}if(j===o){$=!0,o=h,s=_;break}j=j.sibling}if(!$){for(j=_.child;j;){if(j===s){$=!0,s=_,o=h;break}if(j===o){$=!0,o=_,s=h;break}j=j.sibling}if(!$)throw Error(p$1(189))}}if(s.alternate!==o)throw Error(p$1(190))}if(s.tag!==3)throw Error(p$1(188));return s.stateNode.current===s?i:e}function Zb(i){return i=Yb(i),i!==null?$b(i):null}function $b(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var e=$b(i);if(e!==null)return e;i=i.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(i){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,i,void 0,(i.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(i){return i>>>=0,i===0?32:31-(pc(i)/qc|0)|0}var rc=64,sc=4194304;function tc(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function uc(i,e){var s=i.pendingLanes;if(s===0)return 0;var o=0,h=i.suspendedLanes,_=i.pingedLanes,$=s&268435455;if($!==0){var j=$&~h;j!==0?o=tc(j):(_&=$,_!==0&&(o=tc(_)))}else $=s&~h,$!==0?o=tc($):_!==0&&(o=tc(_));if(o===0)return 0;if(e!==0&&e!==o&&!(e&h)&&(h=o&-o,_=e&-e,h>=_||h===16&&(_&4194240)!==0))return e;if(o&4&&(o|=s&16),e=i.entangledLanes,e!==0)for(i=i.entanglements,e&=o;0<e;)s=31-oc(e),h=1<<s,o|=i[s],e&=~h;return o}function vc(i,e){switch(i){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(i,e){for(var s=i.suspendedLanes,o=i.pingedLanes,h=i.expirationTimes,_=i.pendingLanes;0<_;){var $=31-oc(_),j=1<<$,_e=h[$];_e===-1?(!(j&s)||j&o)&&(h[$]=vc(j,e)):_e<=e&&(i.expiredLanes|=j),_&=~j}}function xc(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function yc(){var i=rc;return rc<<=1,!(rc&4194240)&&(rc=64),i}function zc(i){for(var e=[],s=0;31>s;s++)e.push(i);return e}function Ac(i,e,s){i.pendingLanes|=e,e!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,e=31-oc(e),i[e]=s}function Bc(i,e){var s=i.pendingLanes&~e;i.pendingLanes=e,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=e,i.mutableReadLanes&=e,i.entangledLanes&=e,e=i.entanglements;var o=i.eventTimes;for(i=i.expirationTimes;0<s;){var h=31-oc(s),_=1<<h;e[h]=0,o[h]=-1,i[h]=-1,s&=~_}}function Cc(i,e){var s=i.entangledLanes|=e;for(i=i.entanglements;s;){var o=31-oc(s),h=1<<o;h&e|i[o]&e&&(i[o]|=e),s&=~h}}var C=0;function Dc(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(i,e){switch(i){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(e.pointerId)}}function Tc(i,e,s,o,h,_){return i===null||i.nativeEvent!==_?(i={blockedOn:e,domEventName:s,eventSystemFlags:o,nativeEvent:_,targetContainers:[h]},e!==null&&(e=Cb(e),e!==null&&Fc(e)),i):(i.eventSystemFlags|=o,e=i.targetContainers,h!==null&&e.indexOf(h)===-1&&e.push(h),i)}function Uc(i,e,s,o,h){switch(e){case"focusin":return Lc=Tc(Lc,i,e,s,o,h),!0;case"dragenter":return Mc=Tc(Mc,i,e,s,o,h),!0;case"mouseover":return Nc=Tc(Nc,i,e,s,o,h),!0;case"pointerover":var _=h.pointerId;return Oc.set(_,Tc(Oc.get(_)||null,i,e,s,o,h)),!0;case"gotpointercapture":return _=h.pointerId,Pc.set(_,Tc(Pc.get(_)||null,i,e,s,o,h)),!0}return!1}function Vc(i){var e=Wc(i.target);if(e!==null){var s=Vb(e);if(s!==null){if(e=s.tag,e===13){if(e=Wb(s),e!==null){i.blockedOn=e,Ic(i.priority,function(){Gc(s)});return}}else if(e===3&&s.stateNode.current.memoizedState.isDehydrated){i.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Xc(i){if(i.blockedOn!==null)return!1;for(var e=i.targetContainers;0<e.length;){var s=Yc(i.domEventName,i.eventSystemFlags,e[0],i.nativeEvent);if(s===null){s=i.nativeEvent;var o=new s.constructor(s.type,s);wb=o,s.target.dispatchEvent(o),wb=null}else return e=Cb(s),e!==null&&Fc(e),i.blockedOn=s,!1;e.shift()}return!0}function Zc(i,e,s){Xc(i)&&s.delete(e)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(i,e){i.blockedOn===e&&(i.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(i){function e(h){return ad(h,i)}if(0<Kc.length){ad(Kc[0],i);for(var s=1;s<Kc.length;s++){var o=Kc[s];o.blockedOn===i&&(o.blockedOn=null)}}for(Lc!==null&&ad(Lc,i),Mc!==null&&ad(Mc,i),Nc!==null&&ad(Nc,i),Oc.forEach(e),Pc.forEach(e),s=0;s<Qc.length;s++)o=Qc[s],o.blockedOn===i&&(o.blockedOn=null);for(;0<Qc.length&&(s=Qc[0],s.blockedOn===null);)Vc(s),s.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(i,e,s,o){var h=C,_=cd.transition;cd.transition=null;try{C=1,fd(i,e,s,o)}finally{C=h,cd.transition=_}}function gd(i,e,s,o){var h=C,_=cd.transition;cd.transition=null;try{C=4,fd(i,e,s,o)}finally{C=h,cd.transition=_}}function fd(i,e,s,o){if(dd){var h=Yc(i,e,s,o);if(h===null)hd(i,e,o,id,s),Sc(i,o);else if(Uc(h,i,e,s,o))o.stopPropagation();else if(Sc(i,o),e&4&&-1<Rc.indexOf(i)){for(;h!==null;){var _=Cb(h);if(_!==null&&Ec(_),_=Yc(i,e,s,o),_===null&&hd(i,e,o,id,s),_===h)break;h=_}h!==null&&o.stopPropagation()}else hd(i,e,o,null,s)}}var id=null;function Yc(i,e,s,o){if(id=null,i=xb(o),i=Wc(i),i!==null)if(e=Vb(i),e===null)i=null;else if(s=e.tag,s===13){if(i=Wb(e),i!==null)return i;i=null}else if(s===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;i=null}else e!==i&&(i=null);return id=i,null}function jd(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var i,e=ld,s=e.length,o,h="value"in kd?kd.value:kd.textContent,_=h.length;for(i=0;i<s&&e[i]===h[i];i++);var $=s-i;for(o=1;o<=$&&e[s-o]===h[_-o];o++);return md=h.slice(i,1<o?1-o:void 0)}function od(i){var e=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&e===13&&(i=13)):i=e,i===10&&(i=13),32<=i||i===13?i:0}function pd(){return!0}function qd(){return!1}function rd(i){function e(s,o,h,_,$){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=_,this.target=$,this.currentTarget=null;for(var j in i)i.hasOwnProperty(j)&&(s=i[j],this[j]=s?s(_):_[j]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),e}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==yd&&(yd&&i.type==="mousemove"?(wd=i.screenX-yd.screenX,xd=i.screenY-yd.screenY):xd=wd=0,yd=i),wd)},movementY:function(i){return"movementY"in i?i.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(i){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(i):(i=Od[i])?!!e[i]:!1}function zd(){return Pd}var Qd=A({},ud,{key:function(i){if(i.key){var e=Md[i.key]||i.key;if(e!=="Unidentified")return e}return i.type==="keypress"?(i=od(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Nd[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(i){return i.type==="keypress"?od(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?od(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=String.fromCharCode(32),fe=!1;function ge(i,e){switch(i){case"keyup":return $d.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ie=!1;function je(i,e){switch(i){case"compositionend":return he(e);case"keypress":return e.which!==32?null:(fe=!0,ee);case"textInput":return i=e.data,i===ee&&fe?null:i;default:return null}}function ke(i,e){if(ie)return i==="compositionend"||!ae&&ge(i,e)?(i=nd(),md=ld=kd=null,ie=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return de&&e.locale!=="ko"?null:e.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(i){var e=i&&i.nodeName&&i.nodeName.toLowerCase();return e==="input"?!!le[i.type]:e==="textarea"}function ne(i,e,s,o){Eb(o),e=oe(e,"onChange"),0<e.length&&(s=new td("onChange","change",null,s,o),i.push({event:s,listeners:e}))}var pe=null,qe=null;function re(i){se(i,0)}function te(i){var e=ue(i);if(Wa(e))return i}function ve(i,e){if(i==="change")return e}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(i){if(i.propertyName==="value"&&te(qe)){var e=[];ne(e,qe,i,xb(i)),Jb(re,e)}}function Ce(i,e,s){i==="focusin"?(Ae(),pe=e,qe=s,pe.attachEvent("onpropertychange",Be)):i==="focusout"&&Ae()}function De(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return te(qe)}function Ee(i,e){if(i==="click")return te(e)}function Fe(i,e){if(i==="input"||i==="change")return te(e)}function Ge(i,e){return i===e&&(i!==0||1/i===1/e)||i!==i&&e!==e}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(i,e){if(He(i,e))return!0;if(typeof i!="object"||i===null||typeof e!="object"||e===null)return!1;var s=Object.keys(i),o=Object.keys(e);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!ja.call(e,h)||!He(i[h],e[h]))return!1}return!0}function Je(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Ke(i,e){var s=Je(i);i=0;for(var o;s;){if(s.nodeType===3){if(o=i+s.textContent.length,i<=e&&o>=e)return{node:s,offset:e-i};i=o}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Je(s)}}function Le(i,e){return i&&e?i===e?!0:i&&i.nodeType===3?!1:e&&e.nodeType===3?Le(i,e.parentNode):"contains"in i?i.contains(e):i.compareDocumentPosition?!!(i.compareDocumentPosition(e)&16):!1:!1}function Me(){for(var i=window,e=Xa();e instanceof i.HTMLIFrameElement;){try{var s=typeof e.contentWindow.location.href=="string"}catch{s=!1}if(s)i=e.contentWindow;else break;e=Xa(i.document)}return e}function Ne(i){var e=i&&i.nodeName&&i.nodeName.toLowerCase();return e&&(e==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||e==="textarea"||i.contentEditable==="true")}function Oe(i){var e=Me(),s=i.focusedElem,o=i.selectionRange;if(e!==s&&s&&s.ownerDocument&&Le(s.ownerDocument.documentElement,s)){if(o!==null&&Ne(s)){if(e=o.start,i=o.end,i===void 0&&(i=e),"selectionStart"in s)s.selectionStart=e,s.selectionEnd=Math.min(i,s.value.length);else if(i=(e=s.ownerDocument||document)&&e.defaultView||window,i.getSelection){i=i.getSelection();var h=s.textContent.length,_=Math.min(o.start,h);o=o.end===void 0?_:Math.min(o.end,h),!i.extend&&_>o&&(h=o,o=_,_=h),h=Ke(s,_);var $=Ke(s,o);h&&$&&(i.rangeCount!==1||i.anchorNode!==h.node||i.anchorOffset!==h.offset||i.focusNode!==$.node||i.focusOffset!==$.offset)&&(e=e.createRange(),e.setStart(h.node,h.offset),i.removeAllRanges(),_>o?(i.addRange(e),i.extend($.node,$.offset)):(e.setEnd($.node,$.offset),i.addRange(e)))}}for(e=[],i=s;i=i.parentNode;)i.nodeType===1&&e.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<e.length;s++)i=e[s],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(i,e,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Te||Qe==null||Qe!==Xa(o)||(o=Qe,"selectionStart"in o&&Ne(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Se&&Ie(Se,o)||(Se=o,o=oe(Re,"onSelect"),0<o.length&&(e=new td("onSelect","select",null,e,s),i.push({event:e,listeners:o}),e.target=Qe)))}function Ve(i,e){var s={};return s[i.toLowerCase()]=e.toLowerCase(),s["Webkit"+i]="webkit"+e,s["Moz"+i]="moz"+e,s}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(i){if(Xe[i])return Xe[i];if(!We[i])return i;var e=We[i],s;for(s in e)if(e.hasOwnProperty(s)&&s in Ye)return Xe[i]=e[s];return i}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(i,e){df.set(i,e),fa(e,[i])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(i,e,s){var o=i.type||"unknown-event";i.currentTarget=s,Ub(o,e,void 0,i),i.currentTarget=null}function se(i,e){e=(e&4)!==0;for(var s=0;s<i.length;s++){var o=i[s],h=o.event;o=o.listeners;e:{var _=void 0;if(e)for(var $=o.length-1;0<=$;$--){var j=o[$],_e=j.instance,et=j.currentTarget;if(j=j.listener,_e!==_&&h.isPropagationStopped())break e;nf(h,j,et),_=_e}else for($=0;$<o.length;$++){if(j=o[$],_e=j.instance,et=j.currentTarget,j=j.listener,_e!==_&&h.isPropagationStopped())break e;nf(h,j,et),_=_e}}}if(Qb)throw i=Rb,Qb=!1,Rb=null,i}function D(i,e){var s=e[of];s===void 0&&(s=e[of]=new Set);var o=i+"__bubble";s.has(o)||(pf(e,i,2,!1),s.add(o))}function qf(i,e,s){var o=0;e&&(o|=4),pf(s,i,o,e)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(i){if(!i[rf]){i[rf]=!0,da.forEach(function(s){s!=="selectionchange"&&(mf.has(s)||qf(s,!1,i),qf(s,!0,i))});var e=i.nodeType===9?i:i.ownerDocument;e===null||e[rf]||(e[rf]=!0,qf("selectionchange",!1,e))}}function pf(i,e,s,o){switch(jd(e)){case 1:var h=ed;break;case 4:h=gd;break;default:h=fd}s=h.bind(null,e,s,i),h=void 0,!Lb||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(h=!0),o?h!==void 0?i.addEventListener(e,s,{capture:!0,passive:h}):i.addEventListener(e,s,!0):h!==void 0?i.addEventListener(e,s,{passive:h}):i.addEventListener(e,s,!1)}function hd(i,e,s,o,h){var _=o;if(!(e&1)&&!(e&2)&&o!==null)e:for(;;){if(o===null)return;var $=o.tag;if($===3||$===4){var j=o.stateNode.containerInfo;if(j===h||j.nodeType===8&&j.parentNode===h)break;if($===4)for($=o.return;$!==null;){var _e=$.tag;if((_e===3||_e===4)&&(_e=$.stateNode.containerInfo,_e===h||_e.nodeType===8&&_e.parentNode===h))return;$=$.return}for(;j!==null;){if($=Wc(j),$===null)return;if(_e=$.tag,_e===5||_e===6){o=_=$;continue e}j=j.parentNode}}o=o.return}Jb(function(){var et=_,tt=xb(s),nt=[];e:{var rt=df.get(i);if(rt!==void 0){var st=td,lt=i;switch(i){case"keypress":if(od(s)===0)break e;case"keydown":case"keyup":st=Rd;break;case"focusin":lt="focus",st=Fd;break;case"focusout":lt="blur",st=Fd;break;case"beforeblur":case"afterblur":st=Fd;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":st=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":st=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":st=Vd;break;case $e:case af:case bf:st=Hd;break;case cf:st=Xd;break;case"scroll":st=vd;break;case"wheel":st=Zd;break;case"copy":case"cut":case"paste":st=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":st=Td}var ct=(e&4)!==0,ut=!ct&&i==="scroll",ot=ct?rt!==null?rt+"Capture":null:rt;ct=[];for(var it=et,at;it!==null;){at=it;var dt=at.stateNode;if(at.tag===5&&dt!==null&&(at=dt,ot!==null&&(dt=Kb(it,ot),dt!=null&&ct.push(tf(it,dt,at)))),ut)break;it=it.return}0<ct.length&&(rt=new st(rt,lt,null,s,tt),nt.push({event:rt,listeners:ct}))}}if(!(e&7)){e:{if(rt=i==="mouseover"||i==="pointerover",st=i==="mouseout"||i==="pointerout",rt&&s!==wb&&(lt=s.relatedTarget||s.fromElement)&&(Wc(lt)||lt[uf]))break e;if((st||rt)&&(rt=tt.window===tt?tt:(rt=tt.ownerDocument)?rt.defaultView||rt.parentWindow:window,st?(lt=s.relatedTarget||s.toElement,st=et,lt=lt?Wc(lt):null,lt!==null&&(ut=Vb(lt),lt!==ut||lt.tag!==5&&lt.tag!==6)&&(lt=null)):(st=null,lt=et),st!==lt)){if(ct=Bd,dt="onMouseLeave",ot="onMouseEnter",it="mouse",(i==="pointerout"||i==="pointerover")&&(ct=Td,dt="onPointerLeave",ot="onPointerEnter",it="pointer"),ut=st==null?rt:ue(st),at=lt==null?rt:ue(lt),rt=new ct(dt,it+"leave",st,s,tt),rt.target=ut,rt.relatedTarget=at,dt=null,Wc(tt)===et&&(ct=new ct(ot,it+"enter",lt,s,tt),ct.target=at,ct.relatedTarget=ut,dt=ct),ut=dt,st&&lt)t:{for(ct=st,ot=lt,it=0,at=ct;at;at=vf(at))it++;for(at=0,dt=ot;dt;dt=vf(dt))at++;for(;0<it-at;)ct=vf(ct),it--;for(;0<at-it;)ot=vf(ot),at--;for(;it--;){if(ct===ot||ot!==null&&ct===ot.alternate)break t;ct=vf(ct),ot=vf(ot)}ct=null}else ct=null;st!==null&&wf(nt,rt,st,ct,!1),lt!==null&&ut!==null&&wf(nt,ut,lt,ct,!0)}}e:{if(rt=et?ue(et):window,st=rt.nodeName&&rt.nodeName.toLowerCase(),st==="select"||st==="input"&&rt.type==="file")var ht=ve;else if(me(rt))if(we)ht=Fe;else{ht=De;var yt=Ce}else(st=rt.nodeName)&&st.toLowerCase()==="input"&&(rt.type==="checkbox"||rt.type==="radio")&&(ht=Ee);if(ht&&(ht=ht(i,et))){ne(nt,ht,s,tt);break e}yt&&yt(i,rt,et),i==="focusout"&&(yt=rt._wrapperState)&&yt.controlled&&rt.type==="number"&&cb(rt,"number",rt.value)}switch(yt=et?ue(et):window,i){case"focusin":(me(yt)||yt.contentEditable==="true")&&(Qe=yt,Re=et,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(nt,s,tt);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(nt,s,tt)}var _t;if(ae)e:{switch(i){case"compositionstart":var gt="onCompositionStart";break e;case"compositionend":gt="onCompositionEnd";break e;case"compositionupdate":gt="onCompositionUpdate";break e}gt=void 0}else ie?ge(i,s)&&(gt="onCompositionEnd"):i==="keydown"&&s.keyCode===229&&(gt="onCompositionStart");gt&&(de&&s.locale!=="ko"&&(ie||gt!=="onCompositionStart"?gt==="onCompositionEnd"&&ie&&(_t=nd()):(kd=tt,ld="value"in kd?kd.value:kd.textContent,ie=!0)),yt=oe(et,gt),0<yt.length&&(gt=new Ld(gt,i,null,s,tt),nt.push({event:gt,listeners:yt}),_t?gt.data=_t:(_t=he(s),_t!==null&&(gt.data=_t)))),(_t=ce?je(i,s):ke(i,s))&&(et=oe(et,"onBeforeInput"),0<et.length&&(tt=new Ld("onBeforeInput","beforeinput",null,s,tt),nt.push({event:tt,listeners:et}),tt.data=_t))}se(nt,e)})}function tf(i,e,s){return{instance:i,listener:e,currentTarget:s}}function oe(i,e){for(var s=e+"Capture",o=[];i!==null;){var h=i,_=h.stateNode;h.tag===5&&_!==null&&(h=_,_=Kb(i,s),_!=null&&o.unshift(tf(i,_,h)),_=Kb(i,e),_!=null&&o.push(tf(i,_,h))),i=i.return}return o}function vf(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function wf(i,e,s,o,h){for(var _=e._reactName,$=[];s!==null&&s!==o;){var j=s,_e=j.alternate,et=j.stateNode;if(_e!==null&&_e===o)break;j.tag===5&&et!==null&&(j=et,h?(_e=Kb(s,_),_e!=null&&$.unshift(tf(s,_e,j))):h||(_e=Kb(s,_),_e!=null&&$.push(tf(s,_e,j)))),s=s.return}$.length!==0&&i.push({event:e,listeners:$})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(i){return(typeof i=="string"?i:""+i).replace(xf,`
`).replace(yf,"")}function Af(i,e,s){if(e=zf(e),zf(i)!==e&&s)throw Error(p$1(425))}function Bf(){}var Cf=null,Df=null;function Ef(i,e){return i==="textarea"||i==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(i){return Hf.resolve(null).then(i).catch(If)}:Ff;function If(i){setTimeout(function(){throw i})}function Kf(i,e){var s=e,o=0;do{var h=s.nextSibling;if(i.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"){if(o===0){i.removeChild(h),bd(e);return}o--}else s!=="$"&&s!=="$?"&&s!=="$!"||o++;s=h}while(s);bd(e)}function Lf(i){for(;i!=null;i=i.nextSibling){var e=i.nodeType;if(e===1||e===3)break;if(e===8){if(e=i.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return i}function Mf(i){i=i.previousSibling;for(var e=0;i;){if(i.nodeType===8){var s=i.data;if(s==="$"||s==="$!"||s==="$?"){if(e===0)return i;e--}else s==="/$"&&e++}i=i.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(i){var e=i[Of];if(e)return e;for(var s=i.parentNode;s;){if(e=s[uf]||s[Of]){if(s=e.alternate,e.child!==null||s!==null&&s.child!==null)for(i=Mf(i);i!==null;){if(s=i[Of])return s;i=Mf(i)}return e}i=s,s=i.parentNode}return null}function Cb(i){return i=i[Of]||i[uf],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function ue(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(p$1(33))}function Db(i){return i[Pf]||null}var Sf=[],Tf=-1;function Uf(i){return{current:i}}function E(i){0>Tf||(i.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(i,e){Tf++,Sf[Tf]=i.current,i.current=e}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(i,e){var s=i.type.contextTypes;if(!s)return Vf;var o=i.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===e)return o.__reactInternalMemoizedMaskedChildContext;var h={},_;for(_ in s)h[_]=e[_];return o&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=e,i.__reactInternalMemoizedMaskedChildContext=h),h}function Zf(i){return i=i.childContextTypes,i!=null}function $f(){E(Wf),E(H)}function ag(i,e,s){if(H.current!==Vf)throw Error(p$1(168));G(H,e),G(Wf,s)}function bg(i,e,s){var o=i.stateNode;if(e=e.childContextTypes,typeof o.getChildContext!="function")return s;o=o.getChildContext();for(var h in o)if(!(h in e))throw Error(p$1(108,Ra(i)||"Unknown",h));return A({},s,o)}function cg(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,i),G(Wf,Wf.current),!0}function dg(i,e,s){var o=i.stateNode;if(!o)throw Error(p$1(169));s?(i=bg(i,e,Xf),o.__reactInternalMemoizedMergedChildContext=i,E(Wf),E(H),G(H,i)):E(Wf),G(Wf,s)}var eg=null,fg=!1,gg=!1;function hg(i){eg===null?eg=[i]:eg.push(i)}function ig(i){fg=!0,hg(i)}function jg(){if(!gg&&eg!==null){gg=!0;var i=0,e=C;try{var s=eg;for(C=1;i<s.length;i++){var o=s[i];do o=o(!0);while(o!==null)}eg=null,fg=!1}catch(h){throw eg!==null&&(eg=eg.slice(i+1)),ac(fc,jg),h}finally{C=e,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(i,e){kg[lg++]=ng,kg[lg++]=mg,mg=i,ng=e}function ug(i,e,s){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=i;var o=rg;i=sg;var h=32-oc(o)-1;o&=~(1<<h),s+=1;var _=32-oc(e)+h;if(30<_){var $=h-h%5;_=(o&(1<<$)-1).toString(32),o>>=$,h-=$,rg=1<<32-oc(e)+h|s<<h|o,sg=_+i}else rg=1<<_|s<<h|o,sg=i}function vg(i){i.return!==null&&(tg(i,1),ug(i,1,0))}function wg(i){for(;i===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;i===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(i,e){var s=Bg(5,null,null,0);s.elementType="DELETED",s.stateNode=e,s.return=i,e=i.deletions,e===null?(i.deletions=[s],i.flags|=16):e.push(s)}function Cg(i,e){switch(i.tag){case 5:var s=i.type;return e=e.nodeType!==1||s.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(i.stateNode=e,xg=i,yg=Lf(e.firstChild),!0):!1;case 6:return e=i.pendingProps===""||e.nodeType!==3?null:e,e!==null?(i.stateNode=e,xg=i,yg=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(s=qg!==null?{id:rg,overflow:sg}:null,i.memoizedState={dehydrated:e,treeContext:s,retryLane:1073741824},s=Bg(18,null,null,0),s.stateNode=e,s.return=i,i.child=s,xg=i,yg=null,!0):!1;default:return!1}}function Dg(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Eg(i){if(I){var e=yg;if(e){var s=e;if(!Cg(i,e)){if(Dg(i))throw Error(p$1(418));e=Lf(s.nextSibling);var o=xg;e&&Cg(i,e)?Ag(o,s):(i.flags=i.flags&-4097|2,I=!1,xg=i)}}else{if(Dg(i))throw Error(p$1(418));i.flags=i.flags&-4097|2,I=!1,xg=i}}}function Fg(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;xg=i}function Gg(i){if(i!==xg)return!1;if(!I)return Fg(i),I=!0,!1;var e;if((e=i.tag!==3)&&!(e=i.tag!==5)&&(e=i.type,e=e!=="head"&&e!=="body"&&!Ef(i.type,i.memoizedProps)),e&&(e=yg)){if(Dg(i))throw Hg(),Error(p$1(418));for(;e;)Ag(i,e),e=Lf(e.nextSibling)}if(Fg(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(p$1(317));e:{for(i=i.nextSibling,e=0;i;){if(i.nodeType===8){var s=i.data;if(s==="/$"){if(e===0){yg=Lf(i.nextSibling);break e}e--}else s!=="$"&&s!=="$!"&&s!=="$?"||e++}i=i.nextSibling}yg=null}}else yg=xg?Lf(i.stateNode.nextSibling):null;return!0}function Hg(){for(var i=yg;i;)i=Lf(i.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(i){zg===null?zg=[i]:zg.push(i)}var Kg=ua.ReactCurrentBatchConfig;function Lg(i,e){if(i&&i.defaultProps){e=A({},e),i=i.defaultProps;for(var s in i)e[s]===void 0&&(e[s]=i[s]);return e}return e}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg(i){var e=Mg.current;E(Mg),i._currentValue=e}function Sg(i,e,s){for(;i!==null;){var o=i.alternate;if((i.childLanes&e)!==e?(i.childLanes|=e,o!==null&&(o.childLanes|=e)):o!==null&&(o.childLanes&e)!==e&&(o.childLanes|=e),i===s)break;i=i.return}}function Tg(i,e){Ng=i,Pg=Og=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&e&&(Ug=!0),i.firstContext=null)}function Vg(i){var e=i._currentValue;if(Pg!==i)if(i={context:i,memoizedValue:e,next:null},Og===null){if(Ng===null)throw Error(p$1(308));Og=i,Ng.dependencies={lanes:0,firstContext:i}}else Og=Og.next=i;return e}var Wg=null;function Xg(i){Wg===null?Wg=[i]:Wg.push(i)}function Yg(i,e,s,o){var h=e.interleaved;return h===null?(s.next=s,Xg(e)):(s.next=h.next,h.next=s),e.interleaved=s,Zg(i,o)}function Zg(i,e){i.lanes|=e;var s=i.alternate;for(s!==null&&(s.lanes|=e),s=i,i=i.return;i!==null;)i.childLanes|=e,s=i.alternate,s!==null&&(s.childLanes|=e),s=i,i=i.return;return s.tag===3?s.stateNode:null}var $g=!1;function ah(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh(i,e){i=i.updateQueue,e.updateQueue===i&&(e.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function ch(i,e){return{eventTime:i,lane:e,tag:0,payload:null,callback:null,next:null}}function dh(i,e,s){var o=i.updateQueue;if(o===null)return null;if(o=o.shared,K&2){var h=o.pending;return h===null?e.next=e:(e.next=h.next,h.next=e),o.pending=e,Zg(i,s)}return h=o.interleaved,h===null?(e.next=e,Xg(o)):(e.next=h.next,h.next=e),o.interleaved=e,Zg(i,s)}function eh(i,e,s){if(e=e.updateQueue,e!==null&&(e=e.shared,(s&4194240)!==0)){var o=e.lanes;o&=i.pendingLanes,s|=o,e.lanes=s,Cc(i,s)}}function fh(i,e){var s=i.updateQueue,o=i.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,_=null;if(s=s.firstBaseUpdate,s!==null){do{var $={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};_===null?h=_=$:_=_.next=$,s=s.next}while(s!==null);_===null?h=_=e:_=_.next=e}else h=_=e;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:_,shared:o.shared,effects:o.effects},i.updateQueue=s;return}i=s.lastBaseUpdate,i===null?s.firstBaseUpdate=e:i.next=e,s.lastBaseUpdate=e}function gh(i,e,s,o){var h=i.updateQueue;$g=!1;var _=h.firstBaseUpdate,$=h.lastBaseUpdate,j=h.shared.pending;if(j!==null){h.shared.pending=null;var _e=j,et=_e.next;_e.next=null,$===null?_=et:$.next=et,$=_e;var tt=i.alternate;tt!==null&&(tt=tt.updateQueue,j=tt.lastBaseUpdate,j!==$&&(j===null?tt.firstBaseUpdate=et:j.next=et,tt.lastBaseUpdate=_e))}if(_!==null){var nt=h.baseState;$=0,tt=et=_e=null,j=_;do{var rt=j.lane,st=j.eventTime;if((o&rt)===rt){tt!==null&&(tt=tt.next={eventTime:st,lane:0,tag:j.tag,payload:j.payload,callback:j.callback,next:null});e:{var lt=i,ct=j;switch(rt=e,st=s,ct.tag){case 1:if(lt=ct.payload,typeof lt=="function"){nt=lt.call(st,nt,rt);break e}nt=lt;break e;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=ct.payload,rt=typeof lt=="function"?lt.call(st,nt,rt):lt,rt==null)break e;nt=A({},nt,rt);break e;case 2:$g=!0}}j.callback!==null&&j.lane!==0&&(i.flags|=64,rt=h.effects,rt===null?h.effects=[j]:rt.push(j))}else st={eventTime:st,lane:rt,tag:j.tag,payload:j.payload,callback:j.callback,next:null},tt===null?(et=tt=st,_e=nt):tt=tt.next=st,$|=rt;if(j=j.next,j===null){if(j=h.shared.pending,j===null)break;rt=j,j=rt.next,rt.next=null,h.lastBaseUpdate=rt,h.shared.pending=null}}while(1);if(tt===null&&(_e=nt),h.baseState=_e,h.firstBaseUpdate=et,h.lastBaseUpdate=tt,e=h.shared.interleaved,e!==null){h=e;do $|=h.lane,h=h.next;while(h!==e)}else _===null&&(h.shared.lanes=0);hh|=$,i.lanes=$,i.memoizedState=nt}}function ih(i,e,s){if(i=e.effects,e.effects=null,i!==null)for(e=0;e<i.length;e++){var o=i[e],h=o.callback;if(h!==null){if(o.callback=null,o=s,typeof h!="function")throw Error(p$1(191,h));h.call(o)}}}var jh=new aa.Component().refs;function kh(i,e,s,o){e=i.memoizedState,s=s(o,e),s=s==null?e:A({},e,s),i.memoizedState=s,i.lanes===0&&(i.updateQueue.baseState=s)}var nh={isMounted:function(i){return(i=i._reactInternals)?Vb(i)===i:!1},enqueueSetState:function(i,e,s){i=i._reactInternals;var o=L(),h=lh(i),_=ch(o,h);_.payload=e,s!=null&&(_.callback=s),e=dh(i,_,h),e!==null&&(mh(e,i,h,o),eh(e,i,h))},enqueueReplaceState:function(i,e,s){i=i._reactInternals;var o=L(),h=lh(i),_=ch(o,h);_.tag=1,_.payload=e,s!=null&&(_.callback=s),e=dh(i,_,h),e!==null&&(mh(e,i,h,o),eh(e,i,h))},enqueueForceUpdate:function(i,e){i=i._reactInternals;var s=L(),o=lh(i),h=ch(s,o);h.tag=2,e!=null&&(h.callback=e),e=dh(i,h,o),e!==null&&(mh(e,i,o,s),eh(e,i,o))}};function oh(i,e,s,o,h,_,$){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(o,_,$):e.prototype&&e.prototype.isPureReactComponent?!Ie(s,o)||!Ie(h,_):!0}function ph(i,e,s){var o=!1,h=Vf,_=e.contextType;return typeof _=="object"&&_!==null?_=Vg(_):(h=Zf(e)?Xf:H.current,o=e.contextTypes,_=(o=o!=null)?Yf(i,h):Vf),e=new e(s,_),i.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=nh,i.stateNode=e,e._reactInternals=i,o&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=h,i.__reactInternalMemoizedMaskedChildContext=_),e}function qh(i,e,s,o){i=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(s,o),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(s,o),e.state!==i&&nh.enqueueReplaceState(e,e.state,null)}function rh(i,e,s,o){var h=i.stateNode;h.props=s,h.state=i.memoizedState,h.refs=jh,ah(i);var _=e.contextType;typeof _=="object"&&_!==null?h.context=Vg(_):(_=Zf(e)?Xf:H.current,h.context=Yf(i,_)),h.state=i.memoizedState,_=e.getDerivedStateFromProps,typeof _=="function"&&(kh(i,e,_,s),h.state=i.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(e=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),e!==h.state&&nh.enqueueReplaceState(h,h.state,null),gh(i,s,h,o),h.state=i.memoizedState),typeof h.componentDidMount=="function"&&(i.flags|=4194308)}function sh(i,e,s){if(i=s.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(p$1(309));var o=s.stateNode}if(!o)throw Error(p$1(147,i));var h=o,_=""+i;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===_?e.ref:(e=function($){var j=h.refs;j===jh&&(j=h.refs={}),$===null?delete j[_]:j[_]=$},e._stringRef=_,e)}if(typeof i!="string")throw Error(p$1(284));if(!s._owner)throw Error(p$1(290,i))}return i}function th(i,e){throw i=Object.prototype.toString.call(e),Error(p$1(31,i==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":i))}function uh(i){var e=i._init;return e(i._payload)}function vh(i){function e(ot,it){if(i){var at=ot.deletions;at===null?(ot.deletions=[it],ot.flags|=16):at.push(it)}}function s(ot,it){if(!i)return null;for(;it!==null;)e(ot,it),it=it.sibling;return null}function o(ot,it){for(ot=new Map;it!==null;)it.key!==null?ot.set(it.key,it):ot.set(it.index,it),it=it.sibling;return ot}function h(ot,it){return ot=wh(ot,it),ot.index=0,ot.sibling=null,ot}function _(ot,it,at){return ot.index=at,i?(at=ot.alternate,at!==null?(at=at.index,at<it?(ot.flags|=2,it):at):(ot.flags|=2,it)):(ot.flags|=1048576,it)}function $(ot){return i&&ot.alternate===null&&(ot.flags|=2),ot}function j(ot,it,at,dt){return it===null||it.tag!==6?(it=xh(at,ot.mode,dt),it.return=ot,it):(it=h(it,at),it.return=ot,it)}function _e(ot,it,at,dt){var ht=at.type;return ht===ya?tt(ot,it,at.props.children,dt,at.key):it!==null&&(it.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===Ha&&uh(ht)===it.type)?(dt=h(it,at.props),dt.ref=sh(ot,it,at),dt.return=ot,dt):(dt=yh(at.type,at.key,at.props,null,ot.mode,dt),dt.ref=sh(ot,it,at),dt.return=ot,dt)}function et(ot,it,at,dt){return it===null||it.tag!==4||it.stateNode.containerInfo!==at.containerInfo||it.stateNode.implementation!==at.implementation?(it=zh(at,ot.mode,dt),it.return=ot,it):(it=h(it,at.children||[]),it.return=ot,it)}function tt(ot,it,at,dt,ht){return it===null||it.tag!==7?(it=Ah(at,ot.mode,dt,ht),it.return=ot,it):(it=h(it,at),it.return=ot,it)}function nt(ot,it,at){if(typeof it=="string"&&it!==""||typeof it=="number")return it=xh(""+it,ot.mode,at),it.return=ot,it;if(typeof it=="object"&&it!==null){switch(it.$$typeof){case va:return at=yh(it.type,it.key,it.props,null,ot.mode,at),at.ref=sh(ot,null,it),at.return=ot,at;case wa:return it=zh(it,ot.mode,at),it.return=ot,it;case Ha:var dt=it._init;return nt(ot,dt(it._payload),at)}if(eb(it)||Ka(it))return it=Ah(it,ot.mode,at,null),it.return=ot,it;th(ot,it)}return null}function rt(ot,it,at,dt){var ht=it!==null?it.key:null;if(typeof at=="string"&&at!==""||typeof at=="number")return ht!==null?null:j(ot,it,""+at,dt);if(typeof at=="object"&&at!==null){switch(at.$$typeof){case va:return at.key===ht?_e(ot,it,at,dt):null;case wa:return at.key===ht?et(ot,it,at,dt):null;case Ha:return ht=at._init,rt(ot,it,ht(at._payload),dt)}if(eb(at)||Ka(at))return ht!==null?null:tt(ot,it,at,dt,null);th(ot,at)}return null}function st(ot,it,at,dt,ht){if(typeof dt=="string"&&dt!==""||typeof dt=="number")return ot=ot.get(at)||null,j(it,ot,""+dt,ht);if(typeof dt=="object"&&dt!==null){switch(dt.$$typeof){case va:return ot=ot.get(dt.key===null?at:dt.key)||null,_e(it,ot,dt,ht);case wa:return ot=ot.get(dt.key===null?at:dt.key)||null,et(it,ot,dt,ht);case Ha:var yt=dt._init;return st(ot,it,at,yt(dt._payload),ht)}if(eb(dt)||Ka(dt))return ot=ot.get(at)||null,tt(it,ot,dt,ht,null);th(it,dt)}return null}function lt(ot,it,at,dt){for(var ht=null,yt=null,_t=it,gt=it=0,St=null;_t!==null&&gt<at.length;gt++){_t.index>gt?(St=_t,_t=null):St=_t.sibling;var Rt=rt(ot,_t,at[gt],dt);if(Rt===null){_t===null&&(_t=St);break}i&&_t&&Rt.alternate===null&&e(ot,_t),it=_(Rt,it,gt),yt===null?ht=Rt:yt.sibling=Rt,yt=Rt,_t=St}if(gt===at.length)return s(ot,_t),I&&tg(ot,gt),ht;if(_t===null){for(;gt<at.length;gt++)_t=nt(ot,at[gt],dt),_t!==null&&(it=_(_t,it,gt),yt===null?ht=_t:yt.sibling=_t,yt=_t);return I&&tg(ot,gt),ht}for(_t=o(ot,_t);gt<at.length;gt++)St=st(_t,ot,gt,at[gt],dt),St!==null&&(i&&St.alternate!==null&&_t.delete(St.key===null?gt:St.key),it=_(St,it,gt),yt===null?ht=St:yt.sibling=St,yt=St);return i&&_t.forEach(function(At){return e(ot,At)}),I&&tg(ot,gt),ht}function ct(ot,it,at,dt){var ht=Ka(at);if(typeof ht!="function")throw Error(p$1(150));if(at=ht.call(at),at==null)throw Error(p$1(151));for(var yt=ht=null,_t=it,gt=it=0,St=null,Rt=at.next();_t!==null&&!Rt.done;gt++,Rt=at.next()){_t.index>gt?(St=_t,_t=null):St=_t.sibling;var At=rt(ot,_t,Rt.value,dt);if(At===null){_t===null&&(_t=St);break}i&&_t&&At.alternate===null&&e(ot,_t),it=_(At,it,gt),yt===null?ht=At:yt.sibling=At,yt=At,_t=St}if(Rt.done)return s(ot,_t),I&&tg(ot,gt),ht;if(_t===null){for(;!Rt.done;gt++,Rt=at.next())Rt=nt(ot,Rt.value,dt),Rt!==null&&(it=_(Rt,it,gt),yt===null?ht=Rt:yt.sibling=Rt,yt=Rt);return I&&tg(ot,gt),ht}for(_t=o(ot,_t);!Rt.done;gt++,Rt=at.next())Rt=st(_t,ot,gt,Rt.value,dt),Rt!==null&&(i&&Rt.alternate!==null&&_t.delete(Rt.key===null?gt:Rt.key),it=_(Rt,it,gt),yt===null?ht=Rt:yt.sibling=Rt,yt=Rt);return i&&_t.forEach(function(kt){return e(ot,kt)}),I&&tg(ot,gt),ht}function ut(ot,it,at,dt){if(typeof at=="object"&&at!==null&&at.type===ya&&at.key===null&&(at=at.props.children),typeof at=="object"&&at!==null){switch(at.$$typeof){case va:e:{for(var ht=at.key,yt=it;yt!==null;){if(yt.key===ht){if(ht=at.type,ht===ya){if(yt.tag===7){s(ot,yt.sibling),it=h(yt,at.props.children),it.return=ot,ot=it;break e}}else if(yt.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===Ha&&uh(ht)===yt.type){s(ot,yt.sibling),it=h(yt,at.props),it.ref=sh(ot,yt,at),it.return=ot,ot=it;break e}s(ot,yt);break}else e(ot,yt);yt=yt.sibling}at.type===ya?(it=Ah(at.props.children,ot.mode,dt,at.key),it.return=ot,ot=it):(dt=yh(at.type,at.key,at.props,null,ot.mode,dt),dt.ref=sh(ot,it,at),dt.return=ot,ot=dt)}return $(ot);case wa:e:{for(yt=at.key;it!==null;){if(it.key===yt)if(it.tag===4&&it.stateNode.containerInfo===at.containerInfo&&it.stateNode.implementation===at.implementation){s(ot,it.sibling),it=h(it,at.children||[]),it.return=ot,ot=it;break e}else{s(ot,it);break}else e(ot,it);it=it.sibling}it=zh(at,ot.mode,dt),it.return=ot,ot=it}return $(ot);case Ha:return yt=at._init,ut(ot,it,yt(at._payload),dt)}if(eb(at))return lt(ot,it,at,dt);if(Ka(at))return ct(ot,it,at,dt);th(ot,at)}return typeof at=="string"&&at!==""||typeof at=="number"?(at=""+at,it!==null&&it.tag===6?(s(ot,it.sibling),it=h(it,at),it.return=ot,ot=it):(s(ot,it),it=xh(at,ot.mode,dt),it.return=ot,ot=it),$(ot)):s(ot,it)}return ut}var Bh=vh(!0),Ch=vh(!1),Dh={},Eh=Uf(Dh),Fh=Uf(Dh),Gh=Uf(Dh);function Hh(i){if(i===Dh)throw Error(p$1(174));return i}function Ih(i,e){switch(G(Gh,e),G(Fh,i),G(Eh,Dh),i=e.nodeType,i){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lb(null,"");break;default:i=i===8?e.parentNode:e,e=i.namespaceURI||null,i=i.tagName,e=lb(e,i)}E(Eh),G(Eh,e)}function Jh(){E(Eh),E(Fh),E(Gh)}function Kh(i){Hh(Gh.current);var e=Hh(Eh.current),s=lb(e,i.type);e!==s&&(G(Fh,i),G(Eh,s))}function Lh(i){Fh.current===i&&(E(Eh),E(Fh))}var M=Uf(0);function Mh(i){for(var e=i;e!==null;){if(e.tag===13){var s=e.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break;for(;e.sibling===null;){if(e.return===null||e.return===i)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Nh=[];function Oh(){for(var i=0;i<Nh.length;i++)Nh[i]._workInProgressVersionPrimary=null;Nh.length=0}var Ph=ua.ReactCurrentDispatcher,Qh=ua.ReactCurrentBatchConfig,Rh=0,N=null,O=null,P=null,Sh=!1,Th=!1,Uh=0,Vh=0;function Q(){throw Error(p$1(321))}function Wh(i,e){if(e===null)return!1;for(var s=0;s<e.length&&s<i.length;s++)if(!He(i[s],e[s]))return!1;return!0}function Xh(i,e,s,o,h,_){if(Rh=_,N=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ph.current=i===null||i.memoizedState===null?Yh:Zh,i=s(o,h),Th){_=0;do{if(Th=!1,Uh=0,25<=_)throw Error(p$1(301));_+=1,P=O=null,e.updateQueue=null,Ph.current=$h,i=s(o,h)}while(Th)}if(Ph.current=ai,e=O!==null&&O.next!==null,Rh=0,P=O=N=null,Sh=!1,e)throw Error(p$1(300));return i}function bi(){var i=Uh!==0;return Uh=0,i}function ci(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return P===null?N.memoizedState=P=i:P=P.next=i,P}function di(){if(O===null){var i=N.alternate;i=i!==null?i.memoizedState:null}else i=O.next;var e=P===null?N.memoizedState:P.next;if(e!==null)P=e,O=i;else{if(i===null)throw Error(p$1(310));O=i,i={memoizedState:O.memoizedState,baseState:O.baseState,baseQueue:O.baseQueue,queue:O.queue,next:null},P===null?N.memoizedState=P=i:P=P.next=i}return P}function ei(i,e){return typeof e=="function"?e(i):e}function fi(i){var e=di(),s=e.queue;if(s===null)throw Error(p$1(311));s.lastRenderedReducer=i;var o=O,h=o.baseQueue,_=s.pending;if(_!==null){if(h!==null){var $=h.next;h.next=_.next,_.next=$}o.baseQueue=h=_,s.pending=null}if(h!==null){_=h.next,o=o.baseState;var j=$=null,_e=null,et=_;do{var tt=et.lane;if((Rh&tt)===tt)_e!==null&&(_e=_e.next={lane:0,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null}),o=et.hasEagerState?et.eagerState:i(o,et.action);else{var nt={lane:tt,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null};_e===null?(j=_e=nt,$=o):_e=_e.next=nt,N.lanes|=tt,hh|=tt}et=et.next}while(et!==null&&et!==_);_e===null?$=o:_e.next=j,He(o,e.memoizedState)||(Ug=!0),e.memoizedState=o,e.baseState=$,e.baseQueue=_e,s.lastRenderedState=o}if(i=s.interleaved,i!==null){h=i;do _=h.lane,N.lanes|=_,hh|=_,h=h.next;while(h!==i)}else h===null&&(s.lanes=0);return[e.memoizedState,s.dispatch]}function gi(i){var e=di(),s=e.queue;if(s===null)throw Error(p$1(311));s.lastRenderedReducer=i;var o=s.dispatch,h=s.pending,_=e.memoizedState;if(h!==null){s.pending=null;var $=h=h.next;do _=i(_,$.action),$=$.next;while($!==h);He(_,e.memoizedState)||(Ug=!0),e.memoizedState=_,e.baseQueue===null&&(e.baseState=_),s.lastRenderedState=_}return[_,o]}function hi(){}function ii(i,e){var s=N,o=di(),h=e(),_=!He(o.memoizedState,h);if(_&&(o.memoizedState=h,Ug=!0),o=o.queue,ji(ki.bind(null,s,o,i),[i]),o.getSnapshot!==e||_||P!==null&&P.memoizedState.tag&1){if(s.flags|=2048,li(9,mi.bind(null,s,o,h,e),void 0,null),R===null)throw Error(p$1(349));Rh&30||ni(s,e,h)}return h}function ni(i,e,s){i.flags|=16384,i={getSnapshot:e,value:s},e=N.updateQueue,e===null?(e={lastEffect:null,stores:null},N.updateQueue=e,e.stores=[i]):(s=e.stores,s===null?e.stores=[i]:s.push(i))}function mi(i,e,s,o){e.value=s,e.getSnapshot=o,oi(e)&&pi(i)}function ki(i,e,s){return s(function(){oi(e)&&pi(i)})}function oi(i){var e=i.getSnapshot;i=i.value;try{var s=e();return!He(i,s)}catch{return!0}}function pi(i){var e=Zg(i,1);e!==null&&mh(e,i,1,-1)}function qi(i){var e=ci();return typeof i=="function"&&(i=i()),e.memoizedState=e.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:i},e.queue=i,i=i.dispatch=ri.bind(null,N,i),[e.memoizedState,i]}function li(i,e,s,o){return i={tag:i,create:e,destroy:s,deps:o,next:null},e=N.updateQueue,e===null?(e={lastEffect:null,stores:null},N.updateQueue=e,e.lastEffect=i.next=i):(s=e.lastEffect,s===null?e.lastEffect=i.next=i:(o=s.next,s.next=i,i.next=o,e.lastEffect=i)),i}function si(){return di().memoizedState}function ti(i,e,s,o){var h=ci();N.flags|=i,h.memoizedState=li(1|e,s,void 0,o===void 0?null:o)}function ui(i,e,s,o){var h=di();o=o===void 0?null:o;var _=void 0;if(O!==null){var $=O.memoizedState;if(_=$.destroy,o!==null&&Wh(o,$.deps)){h.memoizedState=li(e,s,_,o);return}}N.flags|=i,h.memoizedState=li(1|e,s,_,o)}function vi(i,e){return ti(8390656,8,i,e)}function ji(i,e){return ui(2048,8,i,e)}function wi(i,e){return ui(4,2,i,e)}function xi(i,e){return ui(4,4,i,e)}function yi(i,e){if(typeof e=="function")return i=i(),e(i),function(){e(null)};if(e!=null)return i=i(),e.current=i,function(){e.current=null}}function zi(i,e,s){return s=s!=null?s.concat([i]):null,ui(4,4,yi.bind(null,e,i),s)}function Ai(){}function Bi(i,e){var s=di();e=e===void 0?null:e;var o=s.memoizedState;return o!==null&&e!==null&&Wh(e,o[1])?o[0]:(s.memoizedState=[i,e],i)}function Ci(i,e){var s=di();e=e===void 0?null:e;var o=s.memoizedState;return o!==null&&e!==null&&Wh(e,o[1])?o[0]:(i=i(),s.memoizedState=[i,e],i)}function Di(i,e,s){return Rh&21?(He(s,e)||(s=yc(),N.lanes|=s,hh|=s,i.baseState=!0),e):(i.baseState&&(i.baseState=!1,Ug=!0),i.memoizedState=s)}function Ei(i,e){var s=C;C=s!==0&&4>s?s:4,i(!0);var o=Qh.transition;Qh.transition={};try{i(!1),e()}finally{C=s,Qh.transition=o}}function Fi(){return di().memoizedState}function Gi(i,e,s){var o=lh(i);if(s={lane:o,action:s,hasEagerState:!1,eagerState:null,next:null},Hi(i))Ii(e,s);else if(s=Yg(i,e,s,o),s!==null){var h=L();mh(s,i,o,h),Ji(s,e,o)}}function ri(i,e,s){var o=lh(i),h={lane:o,action:s,hasEagerState:!1,eagerState:null,next:null};if(Hi(i))Ii(e,h);else{var _=i.alternate;if(i.lanes===0&&(_===null||_.lanes===0)&&(_=e.lastRenderedReducer,_!==null))try{var $=e.lastRenderedState,j=_($,s);if(h.hasEagerState=!0,h.eagerState=j,He(j,$)){var _e=e.interleaved;_e===null?(h.next=h,Xg(e)):(h.next=_e.next,_e.next=h),e.interleaved=h;return}}catch{}finally{}s=Yg(i,e,h,o),s!==null&&(h=L(),mh(s,i,o,h),Ji(s,e,o))}}function Hi(i){var e=i.alternate;return i===N||e!==null&&e===N}function Ii(i,e){Th=Sh=!0;var s=i.pending;s===null?e.next=e:(e.next=s.next,s.next=e),i.pending=e}function Ji(i,e,s){if(s&4194240){var o=e.lanes;o&=i.pendingLanes,s|=o,e.lanes=s,Cc(i,s)}}var ai={readContext:Vg,useCallback:Q,useContext:Q,useEffect:Q,useImperativeHandle:Q,useInsertionEffect:Q,useLayoutEffect:Q,useMemo:Q,useReducer:Q,useRef:Q,useState:Q,useDebugValue:Q,useDeferredValue:Q,useTransition:Q,useMutableSource:Q,useSyncExternalStore:Q,useId:Q,unstable_isNewReconciler:!1},Yh={readContext:Vg,useCallback:function(i,e){return ci().memoizedState=[i,e===void 0?null:e],i},useContext:Vg,useEffect:vi,useImperativeHandle:function(i,e,s){return s=s!=null?s.concat([i]):null,ti(4194308,4,yi.bind(null,e,i),s)},useLayoutEffect:function(i,e){return ti(4194308,4,i,e)},useInsertionEffect:function(i,e){return ti(4,2,i,e)},useMemo:function(i,e){var s=ci();return e=e===void 0?null:e,i=i(),s.memoizedState=[i,e],i},useReducer:function(i,e,s){var o=ci();return e=s!==void 0?s(e):e,o.memoizedState=o.baseState=e,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:e},o.queue=i,i=i.dispatch=Gi.bind(null,N,i),[o.memoizedState,i]},useRef:function(i){var e=ci();return i={current:i},e.memoizedState=i},useState:qi,useDebugValue:Ai,useDeferredValue:function(i){return ci().memoizedState=i},useTransition:function(){var i=qi(!1),e=i[0];return i=Ei.bind(null,i[1]),ci().memoizedState=i,[e,i]},useMutableSource:function(){},useSyncExternalStore:function(i,e,s){var o=N,h=ci();if(I){if(s===void 0)throw Error(p$1(407));s=s()}else{if(s=e(),R===null)throw Error(p$1(349));Rh&30||ni(o,e,s)}h.memoizedState=s;var _={value:s,getSnapshot:e};return h.queue=_,vi(ki.bind(null,o,_,i),[i]),o.flags|=2048,li(9,mi.bind(null,o,_,s,e),void 0,null),s},useId:function(){var i=ci(),e=R.identifierPrefix;if(I){var s=sg,o=rg;s=(o&~(1<<32-oc(o)-1)).toString(32)+s,e=":"+e+"R"+s,s=Uh++,0<s&&(e+="H"+s.toString(32)),e+=":"}else s=Vh++,e=":"+e+"r"+s.toString(32)+":";return i.memoizedState=e},unstable_isNewReconciler:!1},Zh={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:fi,useRef:si,useState:function(){return fi(ei)},useDebugValue:Ai,useDeferredValue:function(i){var e=di();return Di(e,O.memoizedState,i)},useTransition:function(){var i=fi(ei)[0],e=di().memoizedState;return[i,e]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1},$h={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:gi,useRef:si,useState:function(){return gi(ei)},useDebugValue:Ai,useDeferredValue:function(i){var e=di();return O===null?e.memoizedState=i:Di(e,O.memoizedState,i)},useTransition:function(){var i=gi(ei)[0],e=di().memoizedState;return[i,e]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1};function Ki(i,e){try{var s="",o=e;do s+=Pa(o),o=o.return;while(o);var h=s}catch(_){h=`
Error generating stack: `+_.message+`
`+_.stack}return{value:i,source:e,stack:h,digest:null}}function Li(i,e,s){return{value:i,source:null,stack:s??null,digest:e??null}}function Mi(i,e){try{console.error(e.value)}catch(s){setTimeout(function(){throw s})}}var Ni=typeof WeakMap=="function"?WeakMap:Map;function Oi(i,e,s){s=ch(-1,s),s.tag=3,s.payload={element:null};var o=e.value;return s.callback=function(){Pi||(Pi=!0,Qi=o),Mi(i,e)},s}function Ri(i,e,s){s=ch(-1,s),s.tag=3;var o=i.type.getDerivedStateFromError;if(typeof o=="function"){var h=e.value;s.payload=function(){return o(h)},s.callback=function(){Mi(i,e)}}var _=i.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(s.callback=function(){Mi(i,e),typeof o!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var $=e.stack;this.componentDidCatch(e.value,{componentStack:$!==null?$:""})}),s}function Ti(i,e,s){var o=i.pingCache;if(o===null){o=i.pingCache=new Ni;var h=new Set;o.set(e,h)}else h=o.get(e),h===void 0&&(h=new Set,o.set(e,h));h.has(s)||(h.add(s),i=Ui.bind(null,i,e,s),e.then(i,i))}function Vi(i){do{var e;if((e=i.tag===13)&&(e=i.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return i;i=i.return}while(i!==null);return null}function Wi(i,e,s,o,h){return i.mode&1?(i.flags|=65536,i.lanes=h,i):(i===e?i.flags|=65536:(i.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(e=ch(-1,1),e.tag=2,dh(s,e,1))),s.lanes|=1),i)}var Xi=ua.ReactCurrentOwner,Ug=!1;function Yi(i,e,s,o){e.child=i===null?Ch(e,null,s,o):Bh(e,i.child,s,o)}function Zi(i,e,s,o,h){s=s.render;var _=e.ref;return Tg(e,h),o=Xh(i,e,s,o,_,h),s=bi(),i!==null&&!Ug?(e.updateQueue=i.updateQueue,e.flags&=-2053,i.lanes&=~h,$i(i,e,h)):(I&&s&&vg(e),e.flags|=1,Yi(i,e,o,h),e.child)}function aj(i,e,s,o,h){if(i===null){var _=s.type;return typeof _=="function"&&!bj(_)&&_.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(e.tag=15,e.type=_,cj(i,e,_,o,h)):(i=yh(s.type,null,o,e,e.mode,h),i.ref=e.ref,i.return=e,e.child=i)}if(_=i.child,!(i.lanes&h)){var $=_.memoizedProps;if(s=s.compare,s=s!==null?s:Ie,s($,o)&&i.ref===e.ref)return $i(i,e,h)}return e.flags|=1,i=wh(_,o),i.ref=e.ref,i.return=e,e.child=i}function cj(i,e,s,o,h){if(i!==null){var _=i.memoizedProps;if(Ie(_,o)&&i.ref===e.ref)if(Ug=!1,e.pendingProps=o=_,(i.lanes&h)!==0)i.flags&131072&&(Ug=!0);else return e.lanes=i.lanes,$i(i,e,h)}return dj(i,e,s,o,h)}function ej(i,e,s){var o=e.pendingProps,h=o.children,_=i!==null?i.memoizedState:null;if(o.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(fj,gj),gj|=s;else{if(!(s&1073741824))return i=_!==null?_.baseLanes|s:s,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:i,cachePool:null,transitions:null},e.updateQueue=null,G(fj,gj),gj|=i,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=_!==null?_.baseLanes:s,G(fj,gj),gj|=o}else _!==null?(o=_.baseLanes|s,e.memoizedState=null):o=s,G(fj,gj),gj|=o;return Yi(i,e,h,s),e.child}function hj(i,e){var s=e.ref;(i===null&&s!==null||i!==null&&i.ref!==s)&&(e.flags|=512,e.flags|=2097152)}function dj(i,e,s,o,h){var _=Zf(s)?Xf:H.current;return _=Yf(e,_),Tg(e,h),s=Xh(i,e,s,o,_,h),o=bi(),i!==null&&!Ug?(e.updateQueue=i.updateQueue,e.flags&=-2053,i.lanes&=~h,$i(i,e,h)):(I&&o&&vg(e),e.flags|=1,Yi(i,e,s,h),e.child)}function ij(i,e,s,o,h){if(Zf(s)){var _=!0;cg(e)}else _=!1;if(Tg(e,h),e.stateNode===null)jj(i,e),ph(e,s,o),rh(e,s,o,h),o=!0;else if(i===null){var $=e.stateNode,j=e.memoizedProps;$.props=j;var _e=$.context,et=s.contextType;typeof et=="object"&&et!==null?et=Vg(et):(et=Zf(s)?Xf:H.current,et=Yf(e,et));var tt=s.getDerivedStateFromProps,nt=typeof tt=="function"||typeof $.getSnapshotBeforeUpdate=="function";nt||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(j!==o||_e!==et)&&qh(e,$,o,et),$g=!1;var rt=e.memoizedState;$.state=rt,gh(e,o,$,h),_e=e.memoizedState,j!==o||rt!==_e||Wf.current||$g?(typeof tt=="function"&&(kh(e,s,tt,o),_e=e.memoizedState),(j=$g||oh(e,s,j,o,rt,_e,et))?(nt||typeof $.UNSAFE_componentWillMount!="function"&&typeof $.componentWillMount!="function"||(typeof $.componentWillMount=="function"&&$.componentWillMount(),typeof $.UNSAFE_componentWillMount=="function"&&$.UNSAFE_componentWillMount()),typeof $.componentDidMount=="function"&&(e.flags|=4194308)):(typeof $.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=o,e.memoizedState=_e),$.props=o,$.state=_e,$.context=et,o=j):(typeof $.componentDidMount=="function"&&(e.flags|=4194308),o=!1)}else{$=e.stateNode,bh(i,e),j=e.memoizedProps,et=e.type===e.elementType?j:Lg(e.type,j),$.props=et,nt=e.pendingProps,rt=$.context,_e=s.contextType,typeof _e=="object"&&_e!==null?_e=Vg(_e):(_e=Zf(s)?Xf:H.current,_e=Yf(e,_e));var st=s.getDerivedStateFromProps;(tt=typeof st=="function"||typeof $.getSnapshotBeforeUpdate=="function")||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(j!==nt||rt!==_e)&&qh(e,$,o,_e),$g=!1,rt=e.memoizedState,$.state=rt,gh(e,o,$,h);var lt=e.memoizedState;j!==nt||rt!==lt||Wf.current||$g?(typeof st=="function"&&(kh(e,s,st,o),lt=e.memoizedState),(et=$g||oh(e,s,et,o,rt,lt,_e)||!1)?(tt||typeof $.UNSAFE_componentWillUpdate!="function"&&typeof $.componentWillUpdate!="function"||(typeof $.componentWillUpdate=="function"&&$.componentWillUpdate(o,lt,_e),typeof $.UNSAFE_componentWillUpdate=="function"&&$.UNSAFE_componentWillUpdate(o,lt,_e)),typeof $.componentDidUpdate=="function"&&(e.flags|=4),typeof $.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof $.componentDidUpdate!="function"||j===i.memoizedProps&&rt===i.memoizedState||(e.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||j===i.memoizedProps&&rt===i.memoizedState||(e.flags|=1024),e.memoizedProps=o,e.memoizedState=lt),$.props=o,$.state=lt,$.context=_e,o=et):(typeof $.componentDidUpdate!="function"||j===i.memoizedProps&&rt===i.memoizedState||(e.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||j===i.memoizedProps&&rt===i.memoizedState||(e.flags|=1024),o=!1)}return kj(i,e,s,o,_,h)}function kj(i,e,s,o,h,_){hj(i,e);var $=(e.flags&128)!==0;if(!o&&!$)return h&&dg(e,s,!1),$i(i,e,_);o=e.stateNode,Xi.current=e;var j=$&&typeof s.getDerivedStateFromError!="function"?null:o.render();return e.flags|=1,i!==null&&$?(e.child=Bh(e,i.child,null,_),e.child=Bh(e,null,j,_)):Yi(i,e,j,_),e.memoizedState=o.state,h&&dg(e,s,!0),e.child}function lj(i){var e=i.stateNode;e.pendingContext?ag(i,e.pendingContext,e.pendingContext!==e.context):e.context&&ag(i,e.context,!1),Ih(i,e.containerInfo)}function mj(i,e,s,o,h){return Ig(),Jg(h),e.flags|=256,Yi(i,e,s,o),e.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj(i){return{baseLanes:i,cachePool:null,transitions:null}}function pj(i,e,s){var o=e.pendingProps,h=M.current,_=!1,$=(e.flags&128)!==0,j;if((j=$)||(j=i!==null&&i.memoizedState===null?!1:(h&2)!==0),j?(_=!0,e.flags&=-129):(i===null||i.memoizedState!==null)&&(h|=1),G(M,h&1),i===null)return Eg(e),i=e.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(e.mode&1?i.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):($=o.children,i=o.fallback,_?(o=e.mode,_=e.child,$={mode:"hidden",children:$},!(o&1)&&_!==null?(_.childLanes=0,_.pendingProps=$):_=qj($,o,0,null),i=Ah(i,o,s,null),_.return=e,i.return=e,_.sibling=i,e.child=_,e.child.memoizedState=oj(s),e.memoizedState=nj,i):rj(e,$));if(h=i.memoizedState,h!==null&&(j=h.dehydrated,j!==null))return sj(i,e,$,o,j,h,s);if(_){_=o.fallback,$=e.mode,h=i.child,j=h.sibling;var _e={mode:"hidden",children:o.children};return!($&1)&&e.child!==h?(o=e.child,o.childLanes=0,o.pendingProps=_e,e.deletions=null):(o=wh(h,_e),o.subtreeFlags=h.subtreeFlags&14680064),j!==null?_=wh(j,_):(_=Ah(_,$,s,null),_.flags|=2),_.return=e,o.return=e,o.sibling=_,e.child=o,o=_,_=e.child,$=i.child.memoizedState,$=$===null?oj(s):{baseLanes:$.baseLanes|s,cachePool:null,transitions:$.transitions},_.memoizedState=$,_.childLanes=i.childLanes&~s,e.memoizedState=nj,o}return _=i.child,i=_.sibling,o=wh(_,{mode:"visible",children:o.children}),!(e.mode&1)&&(o.lanes=s),o.return=e,o.sibling=null,i!==null&&(s=e.deletions,s===null?(e.deletions=[i],e.flags|=16):s.push(i)),e.child=o,e.memoizedState=null,o}function rj(i,e){return e=qj({mode:"visible",children:e},i.mode,0,null),e.return=i,i.child=e}function tj(i,e,s,o){return o!==null&&Jg(o),Bh(e,i.child,null,s),i=rj(e,e.pendingProps.children),i.flags|=2,e.memoizedState=null,i}function sj(i,e,s,o,h,_,$){if(s)return e.flags&256?(e.flags&=-257,o=Li(Error(p$1(422))),tj(i,e,$,o)):e.memoizedState!==null?(e.child=i.child,e.flags|=128,null):(_=o.fallback,h=e.mode,o=qj({mode:"visible",children:o.children},h,0,null),_=Ah(_,h,$,null),_.flags|=2,o.return=e,_.return=e,o.sibling=_,e.child=o,e.mode&1&&Bh(e,i.child,null,$),e.child.memoizedState=oj($),e.memoizedState=nj,_);if(!(e.mode&1))return tj(i,e,$,null);if(h.data==="$!"){if(o=h.nextSibling&&h.nextSibling.dataset,o)var j=o.dgst;return o=j,_=Error(p$1(419)),o=Li(_,o,void 0),tj(i,e,$,o)}if(j=($&i.childLanes)!==0,Ug||j){if(o=R,o!==null){switch($&-$){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=h&(o.suspendedLanes|$)?0:h,h!==0&&h!==_.retryLane&&(_.retryLane=h,Zg(i,h),mh(o,i,h,-1))}return uj(),o=Li(Error(p$1(421))),tj(i,e,$,o)}return h.data==="$?"?(e.flags|=128,e.child=i.child,e=vj.bind(null,i),h._reactRetry=e,null):(i=_.treeContext,yg=Lf(h.nextSibling),xg=e,I=!0,zg=null,i!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=i.id,sg=i.overflow,qg=e),e=rj(e,o.children),e.flags|=4096,e)}function wj(i,e,s){i.lanes|=e;var o=i.alternate;o!==null&&(o.lanes|=e),Sg(i.return,e,s)}function xj(i,e,s,o,h){var _=i.memoizedState;_===null?i.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h}:(_.isBackwards=e,_.rendering=null,_.renderingStartTime=0,_.last=o,_.tail=s,_.tailMode=h)}function yj(i,e,s){var o=e.pendingProps,h=o.revealOrder,_=o.tail;if(Yi(i,e,o.children,s),o=M.current,o&2)o=o&1|2,e.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=e.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&wj(i,s,e);else if(i.tag===19)wj(i,s,e);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break e;for(;i.sibling===null;){if(i.return===null||i.return===e)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}o&=1}if(G(M,o),!(e.mode&1))e.memoizedState=null;else switch(h){case"forwards":for(s=e.child,h=null;s!==null;)i=s.alternate,i!==null&&Mh(i)===null&&(h=s),s=s.sibling;s=h,s===null?(h=e.child,e.child=null):(h=s.sibling,s.sibling=null),xj(e,!1,h,s,_);break;case"backwards":for(s=null,h=e.child,e.child=null;h!==null;){if(i=h.alternate,i!==null&&Mh(i)===null){e.child=h;break}i=h.sibling,h.sibling=s,s=h,h=i}xj(e,!0,s,null,_);break;case"together":xj(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function jj(i,e){!(e.mode&1)&&i!==null&&(i.alternate=null,e.alternate=null,e.flags|=2)}function $i(i,e,s){if(i!==null&&(e.dependencies=i.dependencies),hh|=e.lanes,!(s&e.childLanes))return null;if(i!==null&&e.child!==i.child)throw Error(p$1(153));if(e.child!==null){for(i=e.child,s=wh(i,i.pendingProps),e.child=s,s.return=e;i.sibling!==null;)i=i.sibling,s=s.sibling=wh(i,i.pendingProps),s.return=e;s.sibling=null}return e.child}function zj(i,e,s){switch(e.tag){case 3:lj(e),Ig();break;case 5:Kh(e);break;case 1:Zf(e.type)&&cg(e);break;case 4:Ih(e,e.stateNode.containerInfo);break;case 10:var o=e.type._context,h=e.memoizedProps.value;G(Mg,o._currentValue),o._currentValue=h;break;case 13:if(o=e.memoizedState,o!==null)return o.dehydrated!==null?(G(M,M.current&1),e.flags|=128,null):s&e.child.childLanes?pj(i,e,s):(G(M,M.current&1),i=$i(i,e,s),i!==null?i.sibling:null);G(M,M.current&1);break;case 19:if(o=(s&e.childLanes)!==0,i.flags&128){if(o)return yj(i,e,s);e.flags|=128}if(h=e.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),G(M,M.current),o)break;return null;case 22:case 23:return e.lanes=0,ej(i,e,s)}return $i(i,e,s)}var Aj,Bj,Cj,Dj;Aj=function(i,e){for(var s=e.child;s!==null;){if(s.tag===5||s.tag===6)i.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};Bj=function(){};Cj=function(i,e,s,o){var h=i.memoizedProps;if(h!==o){i=e.stateNode,Hh(Eh.current);var _=null;switch(s){case"input":h=Ya(i,h),o=Ya(i,o),_=[];break;case"select":h=A({},h,{value:void 0}),o=A({},o,{value:void 0}),_=[];break;case"textarea":h=gb(i,h),o=gb(i,o),_=[];break;default:typeof h.onClick!="function"&&typeof o.onClick=="function"&&(i.onclick=Bf)}ub(s,o);var $;s=null;for(et in h)if(!o.hasOwnProperty(et)&&h.hasOwnProperty(et)&&h[et]!=null)if(et==="style"){var j=h[et];for($ in j)j.hasOwnProperty($)&&(s||(s={}),s[$]="")}else et!=="dangerouslySetInnerHTML"&&et!=="children"&&et!=="suppressContentEditableWarning"&&et!=="suppressHydrationWarning"&&et!=="autoFocus"&&(ea.hasOwnProperty(et)?_||(_=[]):(_=_||[]).push(et,null));for(et in o){var _e=o[et];if(j=h!=null?h[et]:void 0,o.hasOwnProperty(et)&&_e!==j&&(_e!=null||j!=null))if(et==="style")if(j){for($ in j)!j.hasOwnProperty($)||_e&&_e.hasOwnProperty($)||(s||(s={}),s[$]="");for($ in _e)_e.hasOwnProperty($)&&j[$]!==_e[$]&&(s||(s={}),s[$]=_e[$])}else s||(_||(_=[]),_.push(et,s)),s=_e;else et==="dangerouslySetInnerHTML"?(_e=_e?_e.__html:void 0,j=j?j.__html:void 0,_e!=null&&j!==_e&&(_=_||[]).push(et,_e)):et==="children"?typeof _e!="string"&&typeof _e!="number"||(_=_||[]).push(et,""+_e):et!=="suppressContentEditableWarning"&&et!=="suppressHydrationWarning"&&(ea.hasOwnProperty(et)?(_e!=null&&et==="onScroll"&&D("scroll",i),_||j===_e||(_=[])):(_=_||[]).push(et,_e))}s&&(_=_||[]).push("style",s);var et=_;(e.updateQueue=et)&&(e.flags|=4)}};Dj=function(i,e,s,o){s!==o&&(e.flags|=4)};function Ej(i,e){if(!I)switch(i.tailMode){case"hidden":e=i.tail;for(var s=null;e!==null;)e.alternate!==null&&(s=e),e=e.sibling;s===null?i.tail=null:s.sibling=null;break;case"collapsed":s=i.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?e||i.tail===null?i.tail=null:i.tail.sibling=null:o.sibling=null}}function S(i){var e=i.alternate!==null&&i.alternate.child===i.child,s=0,o=0;if(e)for(var h=i.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&14680064,o|=h.flags&14680064,h.return=i,h=h.sibling;else for(h=i.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=i,h=h.sibling;return i.subtreeFlags|=o,i.childLanes=s,e}function Fj(i,e,s){var o=e.pendingProps;switch(wg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(e),null;case 1:return Zf(e.type)&&$f(),S(e),null;case 3:return o=e.stateNode,Jh(),E(Wf),E(H),Oh(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Gg(e)?e.flags|=4:i===null||i.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,zg!==null&&(Gj(zg),zg=null))),Bj(i,e),S(e),null;case 5:Lh(e);var h=Hh(Gh.current);if(s=e.type,i!==null&&e.stateNode!=null)Cj(i,e,s,o,h),i.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!o){if(e.stateNode===null)throw Error(p$1(166));return S(e),null}if(i=Hh(Eh.current),Gg(e)){o=e.stateNode,s=e.type;var _=e.memoizedProps;switch(o[Of]=e,o[Pf]=_,i=(e.mode&1)!==0,s){case"dialog":D("cancel",o),D("close",o);break;case"iframe":case"object":case"embed":D("load",o);break;case"video":case"audio":for(h=0;h<lf.length;h++)D(lf[h],o);break;case"source":D("error",o);break;case"img":case"image":case"link":D("error",o),D("load",o);break;case"details":D("toggle",o);break;case"input":Za(o,_),D("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!_.multiple},D("invalid",o);break;case"textarea":hb(o,_),D("invalid",o)}ub(s,_),h=null;for(var $ in _)if(_.hasOwnProperty($)){var j=_[$];$==="children"?typeof j=="string"?o.textContent!==j&&(_.suppressHydrationWarning!==!0&&Af(o.textContent,j,i),h=["children",j]):typeof j=="number"&&o.textContent!==""+j&&(_.suppressHydrationWarning!==!0&&Af(o.textContent,j,i),h=["children",""+j]):ea.hasOwnProperty($)&&j!=null&&$==="onScroll"&&D("scroll",o)}switch(s){case"input":Va(o),db(o,_,!0);break;case"textarea":Va(o),jb(o);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(o.onclick=Bf)}o=h,e.updateQueue=o,o!==null&&(e.flags|=4)}else{$=h.nodeType===9?h:h.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=kb(s)),i==="http://www.w3.org/1999/xhtml"?s==="script"?(i=$.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof o.is=="string"?i=$.createElement(s,{is:o.is}):(i=$.createElement(s),s==="select"&&($=i,o.multiple?$.multiple=!0:o.size&&($.size=o.size))):i=$.createElementNS(i,s),i[Of]=e,i[Pf]=o,Aj(i,e,!1,!1),e.stateNode=i;e:{switch($=vb(s,o),s){case"dialog":D("cancel",i),D("close",i),h=o;break;case"iframe":case"object":case"embed":D("load",i),h=o;break;case"video":case"audio":for(h=0;h<lf.length;h++)D(lf[h],i);h=o;break;case"source":D("error",i),h=o;break;case"img":case"image":case"link":D("error",i),D("load",i),h=o;break;case"details":D("toggle",i),h=o;break;case"input":Za(i,o),h=Ya(i,o),D("invalid",i);break;case"option":h=o;break;case"select":i._wrapperState={wasMultiple:!!o.multiple},h=A({},o,{value:void 0}),D("invalid",i);break;case"textarea":hb(i,o),h=gb(i,o),D("invalid",i);break;default:h=o}ub(s,h),j=h;for(_ in j)if(j.hasOwnProperty(_)){var _e=j[_];_==="style"?sb(i,_e):_==="dangerouslySetInnerHTML"?(_e=_e?_e.__html:void 0,_e!=null&&nb(i,_e)):_==="children"?typeof _e=="string"?(s!=="textarea"||_e!=="")&&ob(i,_e):typeof _e=="number"&&ob(i,""+_e):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(ea.hasOwnProperty(_)?_e!=null&&_==="onScroll"&&D("scroll",i):_e!=null&&ta(i,_,_e,$))}switch(s){case"input":Va(i),db(i,o,!1);break;case"textarea":Va(i),jb(i);break;case"option":o.value!=null&&i.setAttribute("value",""+Sa(o.value));break;case"select":i.multiple=!!o.multiple,_=o.value,_!=null?fb(i,!!o.multiple,_,!1):o.defaultValue!=null&&fb(i,!!o.multiple,o.defaultValue,!0);break;default:typeof h.onClick=="function"&&(i.onclick=Bf)}switch(s){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return S(e),null;case 6:if(i&&e.stateNode!=null)Dj(i,e,i.memoizedProps,o);else{if(typeof o!="string"&&e.stateNode===null)throw Error(p$1(166));if(s=Hh(Gh.current),Hh(Eh.current),Gg(e)){if(o=e.stateNode,s=e.memoizedProps,o[Of]=e,(_=o.nodeValue!==s)&&(i=xg,i!==null))switch(i.tag){case 3:Af(o.nodeValue,s,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Af(o.nodeValue,s,(i.mode&1)!==0)}_&&(e.flags|=4)}else o=(s.nodeType===9?s:s.ownerDocument).createTextNode(o),o[Of]=e,e.stateNode=o}return S(e),null;case 13:if(E(M),o=e.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(I&&yg!==null&&e.mode&1&&!(e.flags&128))Hg(),Ig(),e.flags|=98560,_=!1;else if(_=Gg(e),o!==null&&o.dehydrated!==null){if(i===null){if(!_)throw Error(p$1(318));if(_=e.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(p$1(317));_[Of]=e}else Ig(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;S(e),_=!1}else zg!==null&&(Gj(zg),zg=null),_=!0;if(!_)return e.flags&65536?e:null}return e.flags&128?(e.lanes=s,e):(o=o!==null,o!==(i!==null&&i.memoizedState!==null)&&o&&(e.child.flags|=8192,e.mode&1&&(i===null||M.current&1?T===0&&(T=3):uj())),e.updateQueue!==null&&(e.flags|=4),S(e),null);case 4:return Jh(),Bj(i,e),i===null&&sf(e.stateNode.containerInfo),S(e),null;case 10:return Rg(e.type._context),S(e),null;case 17:return Zf(e.type)&&$f(),S(e),null;case 19:if(E(M),_=e.memoizedState,_===null)return S(e),null;if(o=(e.flags&128)!==0,$=_.rendering,$===null)if(o)Ej(_,!1);else{if(T!==0||i!==null&&i.flags&128)for(i=e.child;i!==null;){if($=Mh(i),$!==null){for(e.flags|=128,Ej(_,!1),o=$.updateQueue,o!==null&&(e.updateQueue=o,e.flags|=4),e.subtreeFlags=0,o=s,s=e.child;s!==null;)_=s,i=o,_.flags&=14680066,$=_.alternate,$===null?(_.childLanes=0,_.lanes=i,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=$.childLanes,_.lanes=$.lanes,_.child=$.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=$.memoizedProps,_.memoizedState=$.memoizedState,_.updateQueue=$.updateQueue,_.type=$.type,i=$.dependencies,_.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),s=s.sibling;return G(M,M.current&1|2),e.child}i=i.sibling}_.tail!==null&&B()>Hj&&(e.flags|=128,o=!0,Ej(_,!1),e.lanes=4194304)}else{if(!o)if(i=Mh($),i!==null){if(e.flags|=128,o=!0,s=i.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),Ej(_,!0),_.tail===null&&_.tailMode==="hidden"&&!$.alternate&&!I)return S(e),null}else 2*B()-_.renderingStartTime>Hj&&s!==1073741824&&(e.flags|=128,o=!0,Ej(_,!1),e.lanes=4194304);_.isBackwards?($.sibling=e.child,e.child=$):(s=_.last,s!==null?s.sibling=$:e.child=$,_.last=$)}return _.tail!==null?(e=_.tail,_.rendering=e,_.tail=e.sibling,_.renderingStartTime=B(),e.sibling=null,s=M.current,G(M,o?s&1|2:s&1),e):(S(e),null);case 22:case 23:return Ij(),o=e.memoizedState!==null,i!==null&&i.memoizedState!==null!==o&&(e.flags|=8192),o&&e.mode&1?gj&1073741824&&(S(e),e.subtreeFlags&6&&(e.flags|=8192)):S(e),null;case 24:return null;case 25:return null}throw Error(p$1(156,e.tag))}function Jj(i,e){switch(wg(e),e.tag){case 1:return Zf(e.type)&&$f(),i=e.flags,i&65536?(e.flags=i&-65537|128,e):null;case 3:return Jh(),E(Wf),E(H),Oh(),i=e.flags,i&65536&&!(i&128)?(e.flags=i&-65537|128,e):null;case 5:return Lh(e),null;case 13:if(E(M),i=e.memoizedState,i!==null&&i.dehydrated!==null){if(e.alternate===null)throw Error(p$1(340));Ig()}return i=e.flags,i&65536?(e.flags=i&-65537|128,e):null;case 19:return E(M),null;case 4:return Jh(),null;case 10:return Rg(e.type._context),null;case 22:case 23:return Ij(),null;case 24:return null;default:return null}}var Kj=!1,U=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Mj(i,e){var s=i.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(o){W(i,e,o)}else s.current=null}function Nj(i,e,s){try{s()}catch(o){W(i,e,o)}}var Oj=!1;function Pj(i,e){if(Cf=dd,i=Me(),Ne(i)){if("selectionStart"in i)var s={start:i.selectionStart,end:i.selectionEnd};else e:{s=(s=i.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,_=o.focusNode;o=o.focusOffset;try{s.nodeType,_.nodeType}catch{s=null;break e}var $=0,j=-1,_e=-1,et=0,tt=0,nt=i,rt=null;t:for(;;){for(var st;nt!==s||h!==0&&nt.nodeType!==3||(j=$+h),nt!==_||o!==0&&nt.nodeType!==3||(_e=$+o),nt.nodeType===3&&($+=nt.nodeValue.length),(st=nt.firstChild)!==null;)rt=nt,nt=st;for(;;){if(nt===i)break t;if(rt===s&&++et===h&&(j=$),rt===_&&++tt===o&&(_e=$),(st=nt.nextSibling)!==null)break;nt=rt,rt=nt.parentNode}nt=st}s=j===-1||_e===-1?null:{start:j,end:_e}}else s=null}s=s||{start:0,end:0}}else s=null;for(Df={focusedElem:i,selectionRange:s},dd=!1,V=e;V!==null;)if(e=V,i=e.child,(e.subtreeFlags&1028)!==0&&i!==null)i.return=e,V=i;else for(;V!==null;){e=V;try{var lt=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(lt!==null){var ct=lt.memoizedProps,ut=lt.memoizedState,ot=e.stateNode,it=ot.getSnapshotBeforeUpdate(e.elementType===e.type?ct:Lg(e.type,ct),ut);ot.__reactInternalSnapshotBeforeUpdate=it}break;case 3:var at=e.stateNode.containerInfo;at.nodeType===1?at.textContent="":at.nodeType===9&&at.documentElement&&at.removeChild(at.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$1(163))}}catch(dt){W(e,e.return,dt)}if(i=e.sibling,i!==null){i.return=e.return,V=i;break}V=e.return}return lt=Oj,Oj=!1,lt}function Qj(i,e,s){var o=e.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var h=o=o.next;do{if((h.tag&i)===i){var _=h.destroy;h.destroy=void 0,_!==void 0&&Nj(e,s,_)}h=h.next}while(h!==o)}}function Rj(i,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var s=e=e.next;do{if((s.tag&i)===i){var o=s.create;s.destroy=o()}s=s.next}while(s!==e)}}function Sj(i){var e=i.ref;if(e!==null){var s=i.stateNode;switch(i.tag){case 5:i=s;break;default:i=s}typeof e=="function"?e(i):e.current=i}}function Tj(i){var e=i.alternate;e!==null&&(i.alternate=null,Tj(e)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(e=i.stateNode,e!==null&&(delete e[Of],delete e[Pf],delete e[of],delete e[Qf],delete e[Rf])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Uj(i){return i.tag===5||i.tag===3||i.tag===4}function Vj(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Uj(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Wj(i,e,s){var o=i.tag;if(o===5||o===6)i=i.stateNode,e?s.nodeType===8?s.parentNode.insertBefore(i,e):s.insertBefore(i,e):(s.nodeType===8?(e=s.parentNode,e.insertBefore(i,s)):(e=s,e.appendChild(i)),s=s._reactRootContainer,s!=null||e.onclick!==null||(e.onclick=Bf));else if(o!==4&&(i=i.child,i!==null))for(Wj(i,e,s),i=i.sibling;i!==null;)Wj(i,e,s),i=i.sibling}function Xj(i,e,s){var o=i.tag;if(o===5||o===6)i=i.stateNode,e?s.insertBefore(i,e):s.appendChild(i);else if(o!==4&&(i=i.child,i!==null))for(Xj(i,e,s),i=i.sibling;i!==null;)Xj(i,e,s),i=i.sibling}var X$2=null,Yj=!1;function Zj(i,e,s){for(s=s.child;s!==null;)ak(i,e,s),s=s.sibling}function ak(i,e,s){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,s)}catch{}switch(s.tag){case 5:U||Mj(s,e);case 6:var o=X$2,h=Yj;X$2=null,Zj(i,e,s),X$2=o,Yj=h,X$2!==null&&(Yj?(i=X$2,s=s.stateNode,i.nodeType===8?i.parentNode.removeChild(s):i.removeChild(s)):X$2.removeChild(s.stateNode));break;case 18:X$2!==null&&(Yj?(i=X$2,s=s.stateNode,i.nodeType===8?Kf(i.parentNode,s):i.nodeType===1&&Kf(i,s),bd(i)):Kf(X$2,s.stateNode));break;case 4:o=X$2,h=Yj,X$2=s.stateNode.containerInfo,Yj=!0,Zj(i,e,s),X$2=o,Yj=h;break;case 0:case 11:case 14:case 15:if(!U&&(o=s.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){h=o=o.next;do{var _=h,$=_.destroy;_=_.tag,$!==void 0&&(_&2||_&4)&&Nj(s,e,$),h=h.next}while(h!==o)}Zj(i,e,s);break;case 1:if(!U&&(Mj(s,e),o=s.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=s.memoizedProps,o.state=s.memoizedState,o.componentWillUnmount()}catch(j){W(s,e,j)}Zj(i,e,s);break;case 21:Zj(i,e,s);break;case 22:s.mode&1?(U=(o=U)||s.memoizedState!==null,Zj(i,e,s),U=o):Zj(i,e,s);break;default:Zj(i,e,s)}}function bk(i){var e=i.updateQueue;if(e!==null){i.updateQueue=null;var s=i.stateNode;s===null&&(s=i.stateNode=new Lj),e.forEach(function(o){var h=ck.bind(null,i,o);s.has(o)||(s.add(o),o.then(h,h))})}}function dk(i,e){var s=e.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o];try{var _=i,$=e,j=$;e:for(;j!==null;){switch(j.tag){case 5:X$2=j.stateNode,Yj=!1;break e;case 3:X$2=j.stateNode.containerInfo,Yj=!0;break e;case 4:X$2=j.stateNode.containerInfo,Yj=!0;break e}j=j.return}if(X$2===null)throw Error(p$1(160));ak(_,$,h),X$2=null,Yj=!1;var _e=h.alternate;_e!==null&&(_e.return=null),h.return=null}catch(et){W(h,e,et)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ek(e,i),e=e.sibling}function ek(i,e){var s=i.alternate,o=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(dk(e,i),fk(i),o&4){try{Qj(3,i,i.return),Rj(3,i)}catch(ct){W(i,i.return,ct)}try{Qj(5,i,i.return)}catch(ct){W(i,i.return,ct)}}break;case 1:dk(e,i),fk(i),o&512&&s!==null&&Mj(s,s.return);break;case 5:if(dk(e,i),fk(i),o&512&&s!==null&&Mj(s,s.return),i.flags&32){var h=i.stateNode;try{ob(h,"")}catch(ct){W(i,i.return,ct)}}if(o&4&&(h=i.stateNode,h!=null)){var _=i.memoizedProps,$=s!==null?s.memoizedProps:_,j=i.type,_e=i.updateQueue;if(i.updateQueue=null,_e!==null)try{j==="input"&&_.type==="radio"&&_.name!=null&&ab(h,_),vb(j,$);var et=vb(j,_);for($=0;$<_e.length;$+=2){var tt=_e[$],nt=_e[$+1];tt==="style"?sb(h,nt):tt==="dangerouslySetInnerHTML"?nb(h,nt):tt==="children"?ob(h,nt):ta(h,tt,nt,et)}switch(j){case"input":bb(h,_);break;case"textarea":ib(h,_);break;case"select":var rt=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!_.multiple;var st=_.value;st!=null?fb(h,!!_.multiple,st,!1):rt!==!!_.multiple&&(_.defaultValue!=null?fb(h,!!_.multiple,_.defaultValue,!0):fb(h,!!_.multiple,_.multiple?[]:"",!1))}h[Pf]=_}catch(ct){W(i,i.return,ct)}}break;case 6:if(dk(e,i),fk(i),o&4){if(i.stateNode===null)throw Error(p$1(162));h=i.stateNode,_=i.memoizedProps;try{h.nodeValue=_}catch(ct){W(i,i.return,ct)}}break;case 3:if(dk(e,i),fk(i),o&4&&s!==null&&s.memoizedState.isDehydrated)try{bd(e.containerInfo)}catch(ct){W(i,i.return,ct)}break;case 4:dk(e,i),fk(i);break;case 13:dk(e,i),fk(i),h=i.child,h.flags&8192&&(_=h.memoizedState!==null,h.stateNode.isHidden=_,!_||h.alternate!==null&&h.alternate.memoizedState!==null||(gk=B())),o&4&&bk(i);break;case 22:if(tt=s!==null&&s.memoizedState!==null,i.mode&1?(U=(et=U)||tt,dk(e,i),U=et):dk(e,i),fk(i),o&8192){if(et=i.memoizedState!==null,(i.stateNode.isHidden=et)&&!tt&&i.mode&1)for(V=i,tt=i.child;tt!==null;){for(nt=V=tt;V!==null;){switch(rt=V,st=rt.child,rt.tag){case 0:case 11:case 14:case 15:Qj(4,rt,rt.return);break;case 1:Mj(rt,rt.return);var lt=rt.stateNode;if(typeof lt.componentWillUnmount=="function"){o=rt,s=rt.return;try{e=o,lt.props=e.memoizedProps,lt.state=e.memoizedState,lt.componentWillUnmount()}catch(ct){W(o,s,ct)}}break;case 5:Mj(rt,rt.return);break;case 22:if(rt.memoizedState!==null){hk(nt);continue}}st!==null?(st.return=rt,V=st):hk(nt)}tt=tt.sibling}e:for(tt=null,nt=i;;){if(nt.tag===5){if(tt===null){tt=nt;try{h=nt.stateNode,et?(_=h.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(j=nt.stateNode,_e=nt.memoizedProps.style,$=_e!=null&&_e.hasOwnProperty("display")?_e.display:null,j.style.display=rb("display",$))}catch(ct){W(i,i.return,ct)}}}else if(nt.tag===6){if(tt===null)try{nt.stateNode.nodeValue=et?"":nt.memoizedProps}catch(ct){W(i,i.return,ct)}}else if((nt.tag!==22&&nt.tag!==23||nt.memoizedState===null||nt===i)&&nt.child!==null){nt.child.return=nt,nt=nt.child;continue}if(nt===i)break e;for(;nt.sibling===null;){if(nt.return===null||nt.return===i)break e;tt===nt&&(tt=null),nt=nt.return}tt===nt&&(tt=null),nt.sibling.return=nt.return,nt=nt.sibling}}break;case 19:dk(e,i),fk(i),o&4&&bk(i);break;case 21:break;default:dk(e,i),fk(i)}}function fk(i){var e=i.flags;if(e&2){try{e:{for(var s=i.return;s!==null;){if(Uj(s)){var o=s;break e}s=s.return}throw Error(p$1(160))}switch(o.tag){case 5:var h=o.stateNode;o.flags&32&&(ob(h,""),o.flags&=-33);var _=Vj(i);Xj(i,_,h);break;case 3:case 4:var $=o.stateNode.containerInfo,j=Vj(i);Wj(i,j,$);break;default:throw Error(p$1(161))}}catch(_e){W(i,i.return,_e)}i.flags&=-3}e&4096&&(i.flags&=-4097)}function ik(i,e,s){V=i,jk(i)}function jk(i,e,s){for(var o=(i.mode&1)!==0;V!==null;){var h=V,_=h.child;if(h.tag===22&&o){var $=h.memoizedState!==null||Kj;if(!$){var j=h.alternate,_e=j!==null&&j.memoizedState!==null||U;j=Kj;var et=U;if(Kj=$,(U=_e)&&!et)for(V=h;V!==null;)$=V,_e=$.child,$.tag===22&&$.memoizedState!==null?kk(h):_e!==null?(_e.return=$,V=_e):kk(h);for(;_!==null;)V=_,jk(_),_=_.sibling;V=h,Kj=j,U=et}lk(i)}else h.subtreeFlags&8772&&_!==null?(_.return=h,V=_):lk(i)}}function lk(i){for(;V!==null;){var e=V;if(e.flags&8772){var s=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:U||Rj(5,e);break;case 1:var o=e.stateNode;if(e.flags&4&&!U)if(s===null)o.componentDidMount();else{var h=e.elementType===e.type?s.memoizedProps:Lg(e.type,s.memoizedProps);o.componentDidUpdate(h,s.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var _=e.updateQueue;_!==null&&ih(e,_,o);break;case 3:var $=e.updateQueue;if($!==null){if(s=null,e.child!==null)switch(e.child.tag){case 5:s=e.child.stateNode;break;case 1:s=e.child.stateNode}ih(e,$,s)}break;case 5:var j=e.stateNode;if(s===null&&e.flags&4){s=j;var _e=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":_e.autoFocus&&s.focus();break;case"img":_e.src&&(s.src=_e.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var et=e.alternate;if(et!==null){var tt=et.memoizedState;if(tt!==null){var nt=tt.dehydrated;nt!==null&&bd(nt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$1(163))}U||e.flags&512&&Sj(e)}catch(rt){W(e,e.return,rt)}}if(e===i){V=null;break}if(s=e.sibling,s!==null){s.return=e.return,V=s;break}V=e.return}}function hk(i){for(;V!==null;){var e=V;if(e===i){V=null;break}var s=e.sibling;if(s!==null){s.return=e.return,V=s;break}V=e.return}}function kk(i){for(;V!==null;){var e=V;try{switch(e.tag){case 0:case 11:case 15:var s=e.return;try{Rj(4,e)}catch(_e){W(e,s,_e)}break;case 1:var o=e.stateNode;if(typeof o.componentDidMount=="function"){var h=e.return;try{o.componentDidMount()}catch(_e){W(e,h,_e)}}var _=e.return;try{Sj(e)}catch(_e){W(e,_,_e)}break;case 5:var $=e.return;try{Sj(e)}catch(_e){W(e,$,_e)}}}catch(_e){W(e,e.return,_e)}if(e===i){V=null;break}var j=e.sibling;if(j!==null){j.return=e.return,V=j;break}V=e.return}}var mk=Math.ceil,nk=ua.ReactCurrentDispatcher,ok=ua.ReactCurrentOwner,pk=ua.ReactCurrentBatchConfig,K=0,R=null,Y=null,Z=0,gj=0,fj=Uf(0),T=0,qk=null,hh=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=1/0,vk=null,Pi=!1,Qi=null,Si=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L(){return K&6?B():Bk!==-1?Bk:Bk=B()}function lh(i){return i.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Ck===0&&(Ck=yc()),Ck):(i=C,i!==0||(i=window.event,i=i===void 0?16:jd(i.type)),i):1}function mh(i,e,s,o){if(50<zk)throw zk=0,Ak=null,Error(p$1(185));Ac(i,s,o),(!(K&2)||i!==R)&&(i===R&&(!(K&2)&&(rk|=s),T===4&&Dk(i,Z)),Ek(i,o),s===1&&K===0&&!(e.mode&1)&&(Hj=B()+500,fg&&jg()))}function Ek(i,e){var s=i.callbackNode;wc(i,e);var o=uc(i,i===R?Z:0);if(o===0)s!==null&&bc(s),i.callbackNode=null,i.callbackPriority=0;else if(e=o&-o,i.callbackPriority!==e){if(s!=null&&bc(s),e===1)i.tag===0?ig(Fk.bind(null,i)):hg(Fk.bind(null,i)),Jf(function(){!(K&6)&&jg()}),s=null;else{switch(Dc(o)){case 1:s=fc;break;case 4:s=gc;break;case 16:s=hc;break;case 536870912:s=jc;break;default:s=hc}s=Gk(s,Hk.bind(null,i))}i.callbackPriority=e,i.callbackNode=s}}function Hk(i,e){if(Bk=-1,Ck=0,K&6)throw Error(p$1(327));var s=i.callbackNode;if(Ik()&&i.callbackNode!==s)return null;var o=uc(i,i===R?Z:0);if(o===0)return null;if(o&30||o&i.expiredLanes||e)e=Jk(i,o);else{e=o;var h=K;K|=2;var _=Kk();(R!==i||Z!==e)&&(vk=null,Hj=B()+500,Lk(i,e));do try{Mk();break}catch(j){Nk(i,j)}while(1);Qg(),nk.current=_,K=h,Y!==null?e=0:(R=null,Z=0,e=T)}if(e!==0){if(e===2&&(h=xc(i),h!==0&&(o=h,e=Ok(i,h))),e===1)throw s=qk,Lk(i,0),Dk(i,o),Ek(i,B()),s;if(e===6)Dk(i,o);else{if(h=i.current.alternate,!(o&30)&&!Pk(h)&&(e=Jk(i,o),e===2&&(_=xc(i),_!==0&&(o=_,e=Ok(i,_))),e===1))throw s=qk,Lk(i,0),Dk(i,o),Ek(i,B()),s;switch(i.finishedWork=h,i.finishedLanes=o,e){case 0:case 1:throw Error(p$1(345));case 2:Qk(i,uk,vk);break;case 3:if(Dk(i,o),(o&130023424)===o&&(e=gk+500-B(),10<e)){if(uc(i,0)!==0)break;if(h=i.suspendedLanes,(h&o)!==o){L(),i.pingedLanes|=i.suspendedLanes&h;break}i.timeoutHandle=Ff(Qk.bind(null,i,uk,vk),e);break}Qk(i,uk,vk);break;case 4:if(Dk(i,o),(o&4194240)===o)break;for(e=i.eventTimes,h=-1;0<o;){var $=31-oc(o);_=1<<$,$=e[$],$>h&&(h=$),o&=~_}if(o=h,o=B()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*mk(o/1960))-o,10<o){i.timeoutHandle=Ff(Qk.bind(null,i,uk,vk),o);break}Qk(i,uk,vk);break;case 5:Qk(i,uk,vk);break;default:throw Error(p$1(329))}}}return Ek(i,B()),i.callbackNode===s?Hk.bind(null,i):null}function Ok(i,e){var s=tk;return i.current.memoizedState.isDehydrated&&(Lk(i,e).flags|=256),i=Jk(i,e),i!==2&&(e=uk,uk=s,e!==null&&Gj(e)),i}function Gj(i){uk===null?uk=i:uk.push.apply(uk,i)}function Pk(i){for(var e=i;;){if(e.flags&16384){var s=e.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var o=0;o<s.length;o++){var h=s[o],_=h.getSnapshot;h=h.value;try{if(!He(_(),h))return!1}catch{return!1}}}if(s=e.child,e.subtreeFlags&16384&&s!==null)s.return=e,e=s;else{if(e===i)break;for(;e.sibling===null;){if(e.return===null||e.return===i)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Dk(i,e){for(e&=~sk,e&=~rk,i.suspendedLanes|=e,i.pingedLanes&=~e,i=i.expirationTimes;0<e;){var s=31-oc(e),o=1<<s;i[s]=-1,e&=~o}}function Fk(i){if(K&6)throw Error(p$1(327));Ik();var e=uc(i,0);if(!(e&1))return Ek(i,B()),null;var s=Jk(i,e);if(i.tag!==0&&s===2){var o=xc(i);o!==0&&(e=o,s=Ok(i,o))}if(s===1)throw s=qk,Lk(i,0),Dk(i,e),Ek(i,B()),s;if(s===6)throw Error(p$1(345));return i.finishedWork=i.current.alternate,i.finishedLanes=e,Qk(i,uk,vk),Ek(i,B()),null}function Rk(i,e){var s=K;K|=1;try{return i(e)}finally{K=s,K===0&&(Hj=B()+500,fg&&jg())}}function Sk(i){xk!==null&&xk.tag===0&&!(K&6)&&Ik();var e=K;K|=1;var s=pk.transition,o=C;try{if(pk.transition=null,C=1,i)return i()}finally{C=o,pk.transition=s,K=e,!(K&6)&&jg()}}function Ij(){gj=fj.current,E(fj)}function Lk(i,e){i.finishedWork=null,i.finishedLanes=0;var s=i.timeoutHandle;if(s!==-1&&(i.timeoutHandle=-1,Gf(s)),Y!==null)for(s=Y.return;s!==null;){var o=s;switch(wg(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&$f();break;case 3:Jh(),E(Wf),E(H),Oh();break;case 5:Lh(o);break;case 4:Jh();break;case 13:E(M);break;case 19:E(M);break;case 10:Rg(o.type._context);break;case 22:case 23:Ij()}s=s.return}if(R=i,Y=i=wh(i.current,null),Z=gj=e,T=0,qk=null,sk=rk=hh=0,uk=tk=null,Wg!==null){for(e=0;e<Wg.length;e++)if(s=Wg[e],o=s.interleaved,o!==null){s.interleaved=null;var h=o.next,_=s.pending;if(_!==null){var $=_.next;_.next=h,o.next=$}s.pending=o}Wg=null}return i}function Nk(i,e){do{var s=Y;try{if(Qg(),Ph.current=ai,Sh){for(var o=N.memoizedState;o!==null;){var h=o.queue;h!==null&&(h.pending=null),o=o.next}Sh=!1}if(Rh=0,P=O=N=null,Th=!1,Uh=0,ok.current=null,s===null||s.return===null){T=1,qk=e,Y=null;break}e:{var _=i,$=s.return,j=s,_e=e;if(e=Z,j.flags|=32768,_e!==null&&typeof _e=="object"&&typeof _e.then=="function"){var et=_e,tt=j,nt=tt.tag;if(!(tt.mode&1)&&(nt===0||nt===11||nt===15)){var rt=tt.alternate;rt?(tt.updateQueue=rt.updateQueue,tt.memoizedState=rt.memoizedState,tt.lanes=rt.lanes):(tt.updateQueue=null,tt.memoizedState=null)}var st=Vi($);if(st!==null){st.flags&=-257,Wi(st,$,j,_,e),st.mode&1&&Ti(_,et,e),e=st,_e=et;var lt=e.updateQueue;if(lt===null){var ct=new Set;ct.add(_e),e.updateQueue=ct}else lt.add(_e);break e}else{if(!(e&1)){Ti(_,et,e),uj();break e}_e=Error(p$1(426))}}else if(I&&j.mode&1){var ut=Vi($);if(ut!==null){!(ut.flags&65536)&&(ut.flags|=256),Wi(ut,$,j,_,e),Jg(Ki(_e,j));break e}}_=_e=Ki(_e,j),T!==4&&(T=2),tk===null?tk=[_]:tk.push(_),_=$;do{switch(_.tag){case 3:_.flags|=65536,e&=-e,_.lanes|=e;var ot=Oi(_,_e,e);fh(_,ot);break e;case 1:j=_e;var it=_.type,at=_.stateNode;if(!(_.flags&128)&&(typeof it.getDerivedStateFromError=="function"||at!==null&&typeof at.componentDidCatch=="function"&&(Si===null||!Si.has(at)))){_.flags|=65536,e&=-e,_.lanes|=e;var dt=Ri(_,j,e);fh(_,dt);break e}}_=_.return}while(_!==null)}Tk(s)}catch(ht){e=ht,Y===s&&s!==null&&(Y=s=s.return);continue}break}while(1)}function Kk(){var i=nk.current;return nk.current=ai,i===null?ai:i}function uj(){(T===0||T===3||T===2)&&(T=4),R===null||!(hh&268435455)&&!(rk&268435455)||Dk(R,Z)}function Jk(i,e){var s=K;K|=2;var o=Kk();(R!==i||Z!==e)&&(vk=null,Lk(i,e));do try{Uk();break}catch(h){Nk(i,h)}while(1);if(Qg(),K=s,nk.current=o,Y!==null)throw Error(p$1(261));return R=null,Z=0,T}function Uk(){for(;Y!==null;)Vk(Y)}function Mk(){for(;Y!==null&&!cc();)Vk(Y)}function Vk(i){var e=Wk(i.alternate,i,gj);i.memoizedProps=i.pendingProps,e===null?Tk(i):Y=e,ok.current=null}function Tk(i){var e=i;do{var s=e.alternate;if(i=e.return,e.flags&32768){if(s=Jj(s,e),s!==null){s.flags&=32767,Y=s;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{T=6,Y=null;return}}else if(s=Fj(s,e,gj),s!==null){Y=s;return}if(e=e.sibling,e!==null){Y=e;return}Y=e=i}while(e!==null);T===0&&(T=5)}function Qk(i,e,s){var o=C,h=pk.transition;try{pk.transition=null,C=1,Xk(i,e,s,o)}finally{pk.transition=h,C=o}return null}function Xk(i,e,s,o){do Ik();while(xk!==null);if(K&6)throw Error(p$1(327));s=i.finishedWork;var h=i.finishedLanes;if(s===null)return null;if(i.finishedWork=null,i.finishedLanes=0,s===i.current)throw Error(p$1(177));i.callbackNode=null,i.callbackPriority=0;var _=s.lanes|s.childLanes;if(Bc(i,_),i===R&&(Y=R=null,Z=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||wk||(wk=!0,Gk(hc,function(){return Ik(),null})),_=(s.flags&15990)!==0,s.subtreeFlags&15990||_){_=pk.transition,pk.transition=null;var $=C;C=1;var j=K;K|=4,ok.current=null,Pj(i,s),ek(s,i),Oe(Df),dd=!!Cf,Df=Cf=null,i.current=s,ik(s),dc(),K=j,C=$,pk.transition=_}else i.current=s;if(wk&&(wk=!1,xk=i,yk=h),_=i.pendingLanes,_===0&&(Si=null),mc(s.stateNode),Ek(i,B()),e!==null)for(o=i.onRecoverableError,s=0;s<e.length;s++)h=e[s],o(h.value,{componentStack:h.stack,digest:h.digest});if(Pi)throw Pi=!1,i=Qi,Qi=null,i;return yk&1&&i.tag!==0&&Ik(),_=i.pendingLanes,_&1?i===Ak?zk++:(zk=0,Ak=i):zk=0,jg(),null}function Ik(){if(xk!==null){var i=Dc(yk),e=pk.transition,s=C;try{if(pk.transition=null,C=16>i?16:i,xk===null)var o=!1;else{if(i=xk,xk=null,yk=0,K&6)throw Error(p$1(331));var h=K;for(K|=4,V=i.current;V!==null;){var _=V,$=_.child;if(V.flags&16){var j=_.deletions;if(j!==null){for(var _e=0;_e<j.length;_e++){var et=j[_e];for(V=et;V!==null;){var tt=V;switch(tt.tag){case 0:case 11:case 15:Qj(8,tt,_)}var nt=tt.child;if(nt!==null)nt.return=tt,V=nt;else for(;V!==null;){tt=V;var rt=tt.sibling,st=tt.return;if(Tj(tt),tt===et){V=null;break}if(rt!==null){rt.return=st,V=rt;break}V=st}}}var lt=_.alternate;if(lt!==null){var ct=lt.child;if(ct!==null){lt.child=null;do{var ut=ct.sibling;ct.sibling=null,ct=ut}while(ct!==null)}}V=_}}if(_.subtreeFlags&2064&&$!==null)$.return=_,V=$;else e:for(;V!==null;){if(_=V,_.flags&2048)switch(_.tag){case 0:case 11:case 15:Qj(9,_,_.return)}var ot=_.sibling;if(ot!==null){ot.return=_.return,V=ot;break e}V=_.return}}var it=i.current;for(V=it;V!==null;){$=V;var at=$.child;if($.subtreeFlags&2064&&at!==null)at.return=$,V=at;else e:for($=it;V!==null;){if(j=V,j.flags&2048)try{switch(j.tag){case 0:case 11:case 15:Rj(9,j)}}catch(ht){W(j,j.return,ht)}if(j===$){V=null;break e}var dt=j.sibling;if(dt!==null){dt.return=j.return,V=dt;break e}V=j.return}}if(K=h,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,i)}catch{}o=!0}return o}finally{C=s,pk.transition=e}}return!1}function Yk(i,e,s){e=Ki(s,e),e=Oi(i,e,1),i=dh(i,e,1),e=L(),i!==null&&(Ac(i,1,e),Ek(i,e))}function W(i,e,s){if(i.tag===3)Yk(i,i,s);else for(;e!==null;){if(e.tag===3){Yk(e,i,s);break}else if(e.tag===1){var o=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Si===null||!Si.has(o))){i=Ki(s,i),i=Ri(e,i,1),e=dh(e,i,1),i=L(),e!==null&&(Ac(e,1,i),Ek(e,i));break}}e=e.return}}function Ui(i,e,s){var o=i.pingCache;o!==null&&o.delete(e),e=L(),i.pingedLanes|=i.suspendedLanes&s,R===i&&(Z&s)===s&&(T===4||T===3&&(Z&130023424)===Z&&500>B()-gk?Lk(i,0):sk|=s),Ek(i,e)}function Zk(i,e){e===0&&(i.mode&1?(e=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):e=1);var s=L();i=Zg(i,e),i!==null&&(Ac(i,e,s),Ek(i,s))}function vj(i){var e=i.memoizedState,s=0;e!==null&&(s=e.retryLane),Zk(i,s)}function ck(i,e){var s=0;switch(i.tag){case 13:var o=i.stateNode,h=i.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=i.stateNode;break;default:throw Error(p$1(314))}o!==null&&o.delete(e),Zk(i,s)}var Wk;Wk=function(i,e,s){if(i!==null)if(i.memoizedProps!==e.pendingProps||Wf.current)Ug=!0;else{if(!(i.lanes&s)&&!(e.flags&128))return Ug=!1,zj(i,e,s);Ug=!!(i.flags&131072)}else Ug=!1,I&&e.flags&1048576&&ug(e,ng,e.index);switch(e.lanes=0,e.tag){case 2:var o=e.type;jj(i,e),i=e.pendingProps;var h=Yf(e,H.current);Tg(e,s),h=Xh(null,e,o,i,h,s);var _=bi();return e.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Zf(o)?(_=!0,cg(e)):_=!1,e.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,ah(e),h.updater=nh,e.stateNode=h,h._reactInternals=e,rh(e,o,i,s),e=kj(null,e,o,!0,_,s)):(e.tag=0,I&&_&&vg(e),Yi(null,e,h,s),e=e.child),e;case 16:o=e.elementType;e:{switch(jj(i,e),i=e.pendingProps,h=o._init,o=h(o._payload),e.type=o,h=e.tag=$k(o),i=Lg(o,i),h){case 0:e=dj(null,e,o,i,s);break e;case 1:e=ij(null,e,o,i,s);break e;case 11:e=Zi(null,e,o,i,s);break e;case 14:e=aj(null,e,o,Lg(o.type,i),s);break e}throw Error(p$1(306,o,""))}return e;case 0:return o=e.type,h=e.pendingProps,h=e.elementType===o?h:Lg(o,h),dj(i,e,o,h,s);case 1:return o=e.type,h=e.pendingProps,h=e.elementType===o?h:Lg(o,h),ij(i,e,o,h,s);case 3:e:{if(lj(e),i===null)throw Error(p$1(387));o=e.pendingProps,_=e.memoizedState,h=_.element,bh(i,e),gh(e,o,null,s);var $=e.memoizedState;if(o=$.element,_.isDehydrated)if(_={element:o,isDehydrated:!1,cache:$.cache,pendingSuspenseBoundaries:$.pendingSuspenseBoundaries,transitions:$.transitions},e.updateQueue.baseState=_,e.memoizedState=_,e.flags&256){h=Ki(Error(p$1(423)),e),e=mj(i,e,o,s,h);break e}else if(o!==h){h=Ki(Error(p$1(424)),e),e=mj(i,e,o,s,h);break e}else for(yg=Lf(e.stateNode.containerInfo.firstChild),xg=e,I=!0,zg=null,s=Ch(e,null,o,s),e.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Ig(),o===h){e=$i(i,e,s);break e}Yi(i,e,o,s)}e=e.child}return e;case 5:return Kh(e),i===null&&Eg(e),o=e.type,h=e.pendingProps,_=i!==null?i.memoizedProps:null,$=h.children,Ef(o,h)?$=null:_!==null&&Ef(o,_)&&(e.flags|=32),hj(i,e),Yi(i,e,$,s),e.child;case 6:return i===null&&Eg(e),null;case 13:return pj(i,e,s);case 4:return Ih(e,e.stateNode.containerInfo),o=e.pendingProps,i===null?e.child=Bh(e,null,o,s):Yi(i,e,o,s),e.child;case 11:return o=e.type,h=e.pendingProps,h=e.elementType===o?h:Lg(o,h),Zi(i,e,o,h,s);case 7:return Yi(i,e,e.pendingProps,s),e.child;case 8:return Yi(i,e,e.pendingProps.children,s),e.child;case 12:return Yi(i,e,e.pendingProps.children,s),e.child;case 10:e:{if(o=e.type._context,h=e.pendingProps,_=e.memoizedProps,$=h.value,G(Mg,o._currentValue),o._currentValue=$,_!==null)if(He(_.value,$)){if(_.children===h.children&&!Wf.current){e=$i(i,e,s);break e}}else for(_=e.child,_!==null&&(_.return=e);_!==null;){var j=_.dependencies;if(j!==null){$=_.child;for(var _e=j.firstContext;_e!==null;){if(_e.context===o){if(_.tag===1){_e=ch(-1,s&-s),_e.tag=2;var et=_.updateQueue;if(et!==null){et=et.shared;var tt=et.pending;tt===null?_e.next=_e:(_e.next=tt.next,tt.next=_e),et.pending=_e}}_.lanes|=s,_e=_.alternate,_e!==null&&(_e.lanes|=s),Sg(_.return,s,e),j.lanes|=s;break}_e=_e.next}}else if(_.tag===10)$=_.type===e.type?null:_.child;else if(_.tag===18){if($=_.return,$===null)throw Error(p$1(341));$.lanes|=s,j=$.alternate,j!==null&&(j.lanes|=s),Sg($,s,e),$=_.sibling}else $=_.child;if($!==null)$.return=_;else for($=_;$!==null;){if($===e){$=null;break}if(_=$.sibling,_!==null){_.return=$.return,$=_;break}$=$.return}_=$}Yi(i,e,h.children,s),e=e.child}return e;case 9:return h=e.type,o=e.pendingProps.children,Tg(e,s),h=Vg(h),o=o(h),e.flags|=1,Yi(i,e,o,s),e.child;case 14:return o=e.type,h=Lg(o,e.pendingProps),h=Lg(o.type,h),aj(i,e,o,h,s);case 15:return cj(i,e,e.type,e.pendingProps,s);case 17:return o=e.type,h=e.pendingProps,h=e.elementType===o?h:Lg(o,h),jj(i,e),e.tag=1,Zf(o)?(i=!0,cg(e)):i=!1,Tg(e,s),ph(e,o,h),rh(e,o,h,s),kj(null,e,o,!0,i,s);case 19:return yj(i,e,s);case 22:return ej(i,e,s)}throw Error(p$1(156,e.tag))};function Gk(i,e){return ac(i,e)}function al(i,e,s,o){this.tag=i,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(i,e,s,o){return new al(i,e,s,o)}function bj(i){return i=i.prototype,!(!i||!i.isReactComponent)}function $k(i){if(typeof i=="function")return bj(i)?1:0;if(i!=null){if(i=i.$$typeof,i===Da)return 11;if(i===Ga)return 14}return 2}function wh(i,e){var s=i.alternate;return s===null?(s=Bg(i.tag,e,i.key,i.mode),s.elementType=i.elementType,s.type=i.type,s.stateNode=i.stateNode,s.alternate=i,i.alternate=s):(s.pendingProps=e,s.type=i.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=i.flags&14680064,s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,e=i.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},s.sibling=i.sibling,s.index=i.index,s.ref=i.ref,s}function yh(i,e,s,o,h,_){var $=2;if(o=i,typeof i=="function")bj(i)&&($=1);else if(typeof i=="string")$=5;else e:switch(i){case ya:return Ah(s.children,h,_,e);case za:$=8,h|=8;break;case Aa:return i=Bg(12,s,e,h|2),i.elementType=Aa,i.lanes=_,i;case Ea:return i=Bg(13,s,e,h),i.elementType=Ea,i.lanes=_,i;case Fa:return i=Bg(19,s,e,h),i.elementType=Fa,i.lanes=_,i;case Ia:return qj(s,h,_,e);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Ba:$=10;break e;case Ca:$=9;break e;case Da:$=11;break e;case Ga:$=14;break e;case Ha:$=16,o=null;break e}throw Error(p$1(130,i==null?i:typeof i,""))}return e=Bg($,s,e,h),e.elementType=i,e.type=o,e.lanes=_,e}function Ah(i,e,s,o){return i=Bg(7,i,o,e),i.lanes=s,i}function qj(i,e,s,o){return i=Bg(22,i,o,e),i.elementType=Ia,i.lanes=s,i.stateNode={isHidden:!1},i}function xh(i,e,s){return i=Bg(6,i,null,e),i.lanes=s,i}function zh(i,e,s){return e=Bg(4,i.children!==null?i.children:[],i.key,e),e.lanes=s,e.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},e}function bl(i,e,s,o,h){this.tag=e,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=o,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function cl(i,e,s,o,h,_,$,j,_e){return i=new bl(i,e,s,j,_e),e===1?(e=1,_===!0&&(e|=8)):e=0,_=Bg(3,null,null,e),i.current=_,_.stateNode=i,_.memoizedState={element:o,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah(_),i}function dl(i,e,s){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:o==null?null:""+o,children:i,containerInfo:e,implementation:s}}function el(i){if(!i)return Vf;i=i._reactInternals;e:{if(Vb(i)!==i||i.tag!==1)throw Error(p$1(170));var e=i;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Zf(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(p$1(171))}if(i.tag===1){var s=i.type;if(Zf(s))return bg(i,s,e)}return e}function fl(i,e,s,o,h,_,$,j,_e){return i=cl(s,o,!0,i,h,_,$,j,_e),i.context=el(null),s=i.current,o=L(),h=lh(s),_=ch(o,h),_.callback=e??null,dh(s,_,h),i.current.lanes=h,Ac(i,h,o),Ek(i,o),i}function gl(i,e,s,o){var h=e.current,_=L(),$=lh(h);return s=el(s),e.context===null?e.context=s:e.pendingContext=s,e=ch(_,$),e.payload={element:i},o=o===void 0?null:o,o!==null&&(e.callback=o),i=dh(h,e,$),i!==null&&(mh(i,h,$,_),eh(i,h,$)),$}function hl(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function il(i,e){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var s=i.retryLane;i.retryLane=s!==0&&s<e?s:e}}function jl(i,e){il(i,e),(i=i.alternate)&&il(i,e)}function kl(){return null}var ll=typeof reportError=="function"?reportError:function(i){console.error(i)};function ml(i){this._internalRoot=i}nl.prototype.render=ml.prototype.render=function(i){var e=this._internalRoot;if(e===null)throw Error(p$1(409));gl(i,e,null,null)};nl.prototype.unmount=ml.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var e=i.containerInfo;Sk(function(){gl(null,i,null,null)}),e[uf]=null}};function nl(i){this._internalRoot=i}nl.prototype.unstable_scheduleHydration=function(i){if(i){var e=Hc();i={blockedOn:null,target:i,priority:e};for(var s=0;s<Qc.length&&e!==0&&e<Qc[s].priority;s++);Qc.splice(s,0,i),s===0&&Vc(i)}};function ol(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function pl(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function ql(){}function rl(i,e,s,o,h){if(h){if(typeof o=="function"){var _=o;o=function(){var et=hl($);_.call(et)}}var $=fl(e,o,i,0,null,!1,!1,"",ql);return i._reactRootContainer=$,i[uf]=$.current,sf(i.nodeType===8?i.parentNode:i),Sk(),$}for(;h=i.lastChild;)i.removeChild(h);if(typeof o=="function"){var j=o;o=function(){var et=hl(_e);j.call(et)}}var _e=cl(i,0,!1,null,null,!1,!1,"",ql);return i._reactRootContainer=_e,i[uf]=_e.current,sf(i.nodeType===8?i.parentNode:i),Sk(function(){gl(e,_e,s,o)}),_e}function sl(i,e,s,o,h){var _=s._reactRootContainer;if(_){var $=_;if(typeof h=="function"){var j=h;h=function(){var _e=hl($);j.call(_e)}}gl(e,$,i,h)}else $=rl(s,e,i,h,o);return hl($)}Ec=function(i){switch(i.tag){case 3:var e=i.stateNode;if(e.current.memoizedState.isDehydrated){var s=tc(e.pendingLanes);s!==0&&(Cc(e,s|1),Ek(e,B()),!(K&6)&&(Hj=B()+500,jg()))}break;case 13:Sk(function(){var o=Zg(i,1);if(o!==null){var h=L();mh(o,i,1,h)}}),jl(i,1)}};Fc=function(i){if(i.tag===13){var e=Zg(i,134217728);if(e!==null){var s=L();mh(e,i,134217728,s)}jl(i,134217728)}};Gc=function(i){if(i.tag===13){var e=lh(i),s=Zg(i,e);if(s!==null){var o=L();mh(s,i,e,o)}jl(i,e)}};Hc=function(){return C};Ic=function(i,e){var s=C;try{return C=i,e()}finally{C=s}};yb=function(i,e,s){switch(e){case"input":if(bb(i,s),e=s.name,s.type==="radio"&&e!=null){for(s=i;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<s.length;e++){var o=s[e];if(o!==i&&o.form===i.form){var h=Db(o);if(!h)throw Error(p$1(90));Wa(o),bb(o,h)}}}break;case"textarea":ib(i,s);break;case"select":e=s.value,e!=null&&fb(i,!!s.multiple,e,!1)}};Gb=Rk;Hb=Sk;var tl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Rk]},ul={findFiberByHostInstance:Wc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vl={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Zb(i),i===null?null:i.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||kl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{kc=wl.inject(vl),lc=wl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl;reactDom_production_min.createPortal=function(i,e){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ol(e))throw Error(p$1(200));return dl(i,e,null,s)};reactDom_production_min.createRoot=function(i,e){if(!ol(i))throw Error(p$1(299));var s=!1,o="",h=ll;return e!=null&&(e.unstable_strictMode===!0&&(s=!0),e.identifierPrefix!==void 0&&(o=e.identifierPrefix),e.onRecoverableError!==void 0&&(h=e.onRecoverableError)),e=cl(i,1,!1,null,null,s,!1,o,h),i[uf]=e.current,sf(i.nodeType===8?i.parentNode:i),new ml(e)};reactDom_production_min.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var e=i._reactInternals;if(e===void 0)throw typeof i.render=="function"?Error(p$1(188)):(i=Object.keys(i).join(","),Error(p$1(268,i)));return i=Zb(e),i=i===null?null:i.stateNode,i};reactDom_production_min.flushSync=function(i){return Sk(i)};reactDom_production_min.hydrate=function(i,e,s){if(!pl(e))throw Error(p$1(200));return sl(null,i,e,!0,s)};reactDom_production_min.hydrateRoot=function(i,e,s){if(!ol(i))throw Error(p$1(405));var o=s!=null&&s.hydratedSources||null,h=!1,_="",$=ll;if(s!=null&&(s.unstable_strictMode===!0&&(h=!0),s.identifierPrefix!==void 0&&(_=s.identifierPrefix),s.onRecoverableError!==void 0&&($=s.onRecoverableError)),e=fl(e,null,i,1,s??null,h,!1,_,$),i[uf]=e.current,sf(i),o)for(i=0;i<o.length;i++)s=o[i],h=s._getVersion,h=h(s._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[s,h]:e.mutableSourceEagerHydrationData.push(s,h);return new nl(e)};reactDom_production_min.render=function(i,e,s){if(!pl(e))throw Error(p$1(200));return sl(null,i,e,!1,s)};reactDom_production_min.unmountComponentAtNode=function(i){if(!pl(i))throw Error(p$1(40));return i._reactRootContainer?(Sk(function(){sl(null,null,i,!1,function(){i._reactRootContainer=null,i[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Rk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(i,e,s,o){if(!pl(s))throw Error(p$1(200));if(i==null||i._reactInternals===void 0)throw Error(p$1(38));return sl(i,e,s,!1,o)};reactDom_production_min.version="18.2.0-next-9e3b772b8-20220608";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(i){console.error(i)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,m$1=reactDomExports;client.createRoot=m$1.createRoot,client.hydrateRoot=m$1.hydrateRoot;function r$1(i){var e,s,o="";if(typeof i=="string"||typeof i=="number")o+=i;else if(typeof i=="object")if(Array.isArray(i))for(e=0;e<i.length;e++)i[e]&&(s=r$1(i[e]))&&(o&&(o+=" "),o+=s);else for(e in i)i[e]&&(o&&(o+=" "),o+=e);return o}function clsx$1(){for(var i,e,s=0,o="";s<arguments.length;)(i=arguments[s++])&&(e=r$1(i))&&(o&&(o+=" "),o+=e);return o}function Banner({children:i,status:e,staticPosition:s=!1,className:o}){return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx("div",{className:clsx$1("m-3 flex items-center justify-center rounded-xl px-6 py-3",e==="error"?"bg-rose-900 font-radiocanada text-white":"bg-emerald-800 font-grandstander text-lime-100",!s&&"absolute inset-x-0",o),children:i})})}function ErrorBanner({message:i,staticPosition:e}){return jsxRuntimeExports.jsxs(Banner,{status:"error",staticPosition:e,children:[jsxRuntimeExports.jsx("strong",{className:"font-semibold",children:"Key Invalid"}),": ",i," Download a new key from [",jsxRuntimeExports.jsx("a",{href:"https://slime2.stream/account",target:"_blank",rel:"noreferrer",className:"text-rose-200 underline",children:"slime2.stream/account"}),"]."]})}var cssUnit={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function parseLengthAndUnit(i){if(typeof i=="number")return{value:i,unit:"px"};var e,s=(i.match(/^[0-9.]*/)||"").toString();s.includes(".")?e=parseFloat(s):e=parseInt(s,10);var o=(i.match(/[^0-9]*$/)||"").toString();return cssUnit[o]?{value:e,unit:o}:(console.warn("React Spinners: ".concat(i," is not a valid css value. Defaulting to ").concat(e,"px.")),{value:e,unit:"px"})}function cssValue(i){var e=parseLengthAndUnit(i);return"".concat(e.value).concat(e.unit)}var createAnimation=function(i,e,s){var o="react-spinners-".concat(i,"-").concat(s);if(typeof window>"u"||!window.document)return o;var h=document.createElement("style");document.head.appendChild(h);var _=h.sheet,$=`
    @keyframes `.concat(o,` {
      `).concat(e,`
    }
  `);return _&&_.insertRule($,0),o},__assign$1=globalThis&&globalThis.__assign||function(){return __assign$1=Object.assign||function(i){for(var e,s=1,o=arguments.length;s<o;s++){e=arguments[s];for(var h in e)Object.prototype.hasOwnProperty.call(e,h)&&(i[h]=e[h])}return i},__assign$1.apply(this,arguments)},__rest=globalThis&&globalThis.__rest||function(i,e){var s={};for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&e.indexOf(o)<0&&(s[o]=i[o]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var h=0,o=Object.getOwnPropertySymbols(i);h<o.length;h++)e.indexOf(o[h])<0&&Object.prototype.propertyIsEnumerable.call(i,o[h])&&(s[o[h]]=i[o[h]]);return s},scale$1=createAnimation("ScaleLoader","0% {transform: scaley(1.0)} 50% {transform: scaley(0.4)} 100% {transform: scaley(1.0)}","scale");function ScaleLoader(i){var e=i.loading,s=e===void 0?!0:e,o=i.color,h=o===void 0?"#000000":o,_=i.speedMultiplier,$=_===void 0?1:_,j=i.cssOverride,_e=j===void 0?{}:j,et=i.height,tt=et===void 0?35:et,nt=i.width,rt=nt===void 0?4:nt,st=i.radius,lt=st===void 0?2:st,ct=i.margin,ut=ct===void 0?2:ct,ot=__rest(i,["loading","color","speedMultiplier","cssOverride","height","width","radius","margin"]),it=__assign$1({display:"inherit"},_e),at=function(dt){return{backgroundColor:h,width:cssValue(rt),height:cssValue(tt),margin:cssValue(ut),borderRadius:cssValue(lt),display:"inline-block",animation:"".concat(scale$1," ").concat(1/$,"s ").concat(dt*.1,"s infinite cubic-bezier(0.2, 0.68, 0.18, 1.08)"),animationFillMode:"both"}};return s?reactExports.createElement("span",__assign$1({style:it},ot),reactExports.createElement("span",{style:at(1)}),reactExports.createElement("span",{style:at(2)}),reactExports.createElement("span",{style:at(3)}),reactExports.createElement("span",{style:at(4)}),reactExports.createElement("span",{style:at(5)})):null}var colors$3={},log$2={},picocolors_browser={exports:{}},x=String,create=function(){return{isColorSupported:!1,reset:x,bold:x,dim:x,italic:x,underline:x,inverse:x,hidden:x,strikethrough:x,black:x,red:x,green:x,yellow:x,blue:x,magenta:x,cyan:x,white:x,gray:x,bgBlack:x,bgRed:x,bgGreen:x,bgYellow:x,bgBlue:x,bgMagenta:x,bgCyan:x,bgWhite:x}};picocolors_browser.exports=create();picocolors_browser.exports.createColors=create;var picocolors_browserExports=picocolors_browser.exports;(function(i){Object.defineProperty(i,"__esModule",{value:!0});function e(_e,et){for(var tt in et)Object.defineProperty(_e,tt,{enumerable:!0,get:et[tt]})}e(i,{dim:function(){return $},default:function(){return j}});const s=o(picocolors_browserExports);function o(_e){return _e&&_e.__esModule?_e:{default:_e}}let h=new Set;function _(_e,et,tt){typeof process<"u"&&{}.JEST_WORKER_ID||tt&&h.has(tt)||(tt&&h.add(tt),console.warn(""),et.forEach(nt=>console.warn(_e,"-",nt)))}function $(_e){return s.default.dim(_e)}const j={info(_e,et){_(s.default.bold(s.default.cyan("info")),...Array.isArray(_e)?[_e]:[et,_e])},warn(_e,et){_(s.default.bold(s.default.yellow("warn")),...Array.isArray(_e)?[_e]:[et,_e])},risk(_e,et){_(s.default.bold(s.default.magenta("risk")),...Array.isArray(_e)?[_e]:[et,_e])}}})(log$2);(function(i){Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"default",{enumerable:!0,get:function(){return h}});const e=s(log$2);function s(_){return _&&_.__esModule?_:{default:_}}function o({version:_,from:$,to:j}){e.default.warn(`${$}-color-renamed`,[`As of Tailwind CSS ${_}, \`${$}\` has been renamed to \`${j}\`.`,"Update your configuration file to silence this warning."])}const h={inherit:"inherit",current:"currentColor",transparent:"transparent",black:"#000",white:"#fff",slate:{50:"#f8fafc",100:"#f1f5f9",200:"#e2e8f0",300:"#cbd5e1",400:"#94a3b8",500:"#64748b",600:"#475569",700:"#334155",800:"#1e293b",900:"#0f172a",950:"#020617"},gray:{50:"#f9fafb",100:"#f3f4f6",200:"#e5e7eb",300:"#d1d5db",400:"#9ca3af",500:"#6b7280",600:"#4b5563",700:"#374151",800:"#1f2937",900:"#111827",950:"#030712"},zinc:{50:"#fafafa",100:"#f4f4f5",200:"#e4e4e7",300:"#d4d4d8",400:"#a1a1aa",500:"#71717a",600:"#52525b",700:"#3f3f46",800:"#27272a",900:"#18181b",950:"#09090b"},neutral:{50:"#fafafa",100:"#f5f5f5",200:"#e5e5e5",300:"#d4d4d4",400:"#a3a3a3",500:"#737373",600:"#525252",700:"#404040",800:"#262626",900:"#171717",950:"#0a0a0a"},stone:{50:"#fafaf9",100:"#f5f5f4",200:"#e7e5e4",300:"#d6d3d1",400:"#a8a29e",500:"#78716c",600:"#57534e",700:"#44403c",800:"#292524",900:"#1c1917",950:"#0c0a09"},red:{50:"#fef2f2",100:"#fee2e2",200:"#fecaca",300:"#fca5a5",400:"#f87171",500:"#ef4444",600:"#dc2626",700:"#b91c1c",800:"#991b1b",900:"#7f1d1d",950:"#450a0a"},orange:{50:"#fff7ed",100:"#ffedd5",200:"#fed7aa",300:"#fdba74",400:"#fb923c",500:"#f97316",600:"#ea580c",700:"#c2410c",800:"#9a3412",900:"#7c2d12",950:"#431407"},amber:{50:"#fffbeb",100:"#fef3c7",200:"#fde68a",300:"#fcd34d",400:"#fbbf24",500:"#f59e0b",600:"#d97706",700:"#b45309",800:"#92400e",900:"#78350f",950:"#451a03"},yellow:{50:"#fefce8",100:"#fef9c3",200:"#fef08a",300:"#fde047",400:"#facc15",500:"#eab308",600:"#ca8a04",700:"#a16207",800:"#854d0e",900:"#713f12",950:"#422006"},lime:{50:"#f7fee7",100:"#ecfccb",200:"#d9f99d",300:"#bef264",400:"#a3e635",500:"#84cc16",600:"#65a30d",700:"#4d7c0f",800:"#3f6212",900:"#365314",950:"#1a2e05"},green:{50:"#f0fdf4",100:"#dcfce7",200:"#bbf7d0",300:"#86efac",400:"#4ade80",500:"#22c55e",600:"#16a34a",700:"#15803d",800:"#166534",900:"#14532d",950:"#052e16"},emerald:{50:"#ecfdf5",100:"#d1fae5",200:"#a7f3d0",300:"#6ee7b7",400:"#34d399",500:"#10b981",600:"#059669",700:"#047857",800:"#065f46",900:"#064e3b",950:"#022c22"},teal:{50:"#f0fdfa",100:"#ccfbf1",200:"#99f6e4",300:"#5eead4",400:"#2dd4bf",500:"#14b8a6",600:"#0d9488",700:"#0f766e",800:"#115e59",900:"#134e4a",950:"#042f2e"},cyan:{50:"#ecfeff",100:"#cffafe",200:"#a5f3fc",300:"#67e8f9",400:"#22d3ee",500:"#06b6d4",600:"#0891b2",700:"#0e7490",800:"#155e75",900:"#164e63",950:"#083344"},sky:{50:"#f0f9ff",100:"#e0f2fe",200:"#bae6fd",300:"#7dd3fc",400:"#38bdf8",500:"#0ea5e9",600:"#0284c7",700:"#0369a1",800:"#075985",900:"#0c4a6e",950:"#082f49"},blue:{50:"#eff6ff",100:"#dbeafe",200:"#bfdbfe",300:"#93c5fd",400:"#60a5fa",500:"#3b82f6",600:"#2563eb",700:"#1d4ed8",800:"#1e40af",900:"#1e3a8a",950:"#172554"},indigo:{50:"#eef2ff",100:"#e0e7ff",200:"#c7d2fe",300:"#a5b4fc",400:"#818cf8",500:"#6366f1",600:"#4f46e5",700:"#4338ca",800:"#3730a3",900:"#312e81",950:"#1e1b4b"},violet:{50:"#f5f3ff",100:"#ede9fe",200:"#ddd6fe",300:"#c4b5fd",400:"#a78bfa",500:"#8b5cf6",600:"#7c3aed",700:"#6d28d9",800:"#5b21b6",900:"#4c1d95",950:"#2e1065"},purple:{50:"#faf5ff",100:"#f3e8ff",200:"#e9d5ff",300:"#d8b4fe",400:"#c084fc",500:"#a855f7",600:"#9333ea",700:"#7e22ce",800:"#6b21a8",900:"#581c87",950:"#3b0764"},fuchsia:{50:"#fdf4ff",100:"#fae8ff",200:"#f5d0fe",300:"#f0abfc",400:"#e879f9",500:"#d946ef",600:"#c026d3",700:"#a21caf",800:"#86198f",900:"#701a75",950:"#4a044e"},pink:{50:"#fdf2f8",100:"#fce7f3",200:"#fbcfe8",300:"#f9a8d4",400:"#f472b6",500:"#ec4899",600:"#db2777",700:"#be185d",800:"#9d174d",900:"#831843",950:"#500724"},rose:{50:"#fff1f2",100:"#ffe4e6",200:"#fecdd3",300:"#fda4af",400:"#fb7185",500:"#f43f5e",600:"#e11d48",700:"#be123c",800:"#9f1239",900:"#881337",950:"#4c0519"},get lightBlue(){return o({version:"v2.2",from:"lightBlue",to:"sky"}),this.sky},get warmGray(){return o({version:"v3.0",from:"warmGray",to:"stone"}),this.stone},get trueGray(){return o({version:"v3.0",from:"trueGray",to:"neutral"}),this.neutral},get coolGray(){return o({version:"v3.0",from:"coolGray",to:"gray"}),this.gray},get blueGray(){return o({version:"v3.0",from:"blueGray",to:"slate"}),this.slate}}})(colors$3);let colors$1=colors$3;var colors_1=(colors$1.__esModule?colors$1:{default:colors$1}).default;const colors$2=getDefaultExportFromCjs(colors_1);function LoadingBanner({message:i,items:e,staticPosition:s}){return jsxRuntimeExports.jsxs(Banner,{status:"loading",staticPosition:s,className:"flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center gap-3",children:[scaleLoader,i,scaleLoader]}),e&&jsxRuntimeExports.jsx("div",{className:"flex flex-col",children:e.map(o=>jsxRuntimeExports.jsx(LoadingItem,{...o},o.message))})]})}function LoadingItem({message:i,status:e}){let s=scaleLoader;switch(e){case"error":s=jsxRuntimeExports.jsx("p",{children:"❌"});break;case"success":s=jsxRuntimeExports.jsx("p",{children:"✅"});break}return jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between gap-2",children:[jsxRuntimeExports.jsx("p",{children:i}),s]})}const scaleLoader=jsxRuntimeExports.jsx(ScaleLoader,{color:colors$2.lime[100],loading:!0,speedMultiplier:.5,height:16,width:3,radius:10});function emptyFunction$1(){}function useClient(){return reactExports.useContext(ClientContext)}function useClientDispatch(){const i=reactExports.useContext(ClientDispatchContext);function e(_e){i({type:"set-on-event",onEvent:_e})}function s(_e){i({type:"set-platform",platform:_e})}function o(_e,et){i({type:"set-key",provider:_e,key:et})}function h(_e){i({type:"set-max-events",maxEvents:_e})}function _(_e){i({type:"set-event-delay",delay:_e})}function $(_e,et){i({type:"set-event-expiration",expiration:_e,options:et})}function j(_e){i({type:"set-widget-settings-page",fragment:_e})}return{onEvent:e,setKey:o,setPlatform:s,setMaxEvents:h,setEventDelay:_,setEventExpiration:$,setWidgetSettingsPage:j}}const initialState$3={sendEvent:emptyFunction$1,maxEvents:100,platforms:[],keys:{twitch:"",google:""}},ClientContext=reactExports.createContext(initialState$3),ClientDispatchContext=reactExports.createContext(emptyFunction$1);function clientReducer(i,e){switch(e.type){case"set-platform":return{...i,platforms:Array.isArray(e.platform)?e.platform:[e.platform]};case"set-key":return{...i,keys:{...i.keys,[e.provider]:e.key}};case"set-on-event":return{...i,sendEvent:e.onEvent};case"set-max-events":return{...i,maxEvents:e.maxEvents};case"set-event-expiration":return{...i,eventExpiration:e.expiration,eventExpirationOptions:e.options};case"set-event-delay":return{...i,eventDelay:e.delay};case"set-widget-settings-page":return{...i,settingsPage:e.fragment}}}function multiplyMatrices(i,e){let s=i.length;Array.isArray(i[0])||(i=[i]),Array.isArray(e[0])||(e=e.map($=>[$]));let o=e[0].length,h=e[0].map(($,j)=>e.map(_e=>_e[j])),_=i.map($=>h.map(j=>{let _e=0;if(!Array.isArray($)){for(let et of j)_e+=$*et;return _e}for(let et=0;et<$.length;et++)_e+=$[et]*(j[et]||0);return _e}));return s===1&&(_=_[0]),o===1?_.map($=>$[0]):_}function isString$2(i){return type(i)==="string"}function type(i){return(Object.prototype.toString.call(i).match(/^\[object\s+(.*?)\]$/)[1]||"").toLowerCase()}function toPrecision(i,e){i=+i,e=+e;let s=(Math.floor(i)+"").length;if(e>s)return+i.toFixed(e-s);{let o=10**(s-e);return Math.round(i/o)*o}}function parseFunction(i){if(!i)return;i=i.trim();const e=/^([a-z]+)\((.+?)\)$/i,s=/^-?[\d.]+$/;let o=i.match(e);if(o){let h=[];return o[2].replace(/\/?\s*([-\w.]+(?:%|deg)?)/g,(_,$)=>{/%$/.test($)?($=new Number($.slice(0,-1)/100),$.type="<percentage>"):/deg$/.test($)?($=new Number(+$.slice(0,-3)),$.type="<angle>",$.unit="deg"):s.test($)&&($=new Number($),$.type="<number>"),_.startsWith("/")&&($=$ instanceof Number?$:new Number($),$.alpha=!0),h.push($)}),{name:o[1].toLowerCase(),rawName:o[1],rawArgs:o[2],args:h}}}function last(i){return i[i.length-1]}function interpolate(i,e,s){return isNaN(i)?e:isNaN(e)?i:i+(e-i)*s}function interpolateInv(i,e,s){return(s-i)/(e-i)}function mapRange(i,e,s){return interpolate(e[0],e[1],interpolateInv(i[0],i[1],s))}function parseCoordGrammar(i){return i.map(e=>e.split("|").map(s=>{s=s.trim();let o=s.match(/^(<[a-z]+>)\[(-?[.\d]+),\s*(-?[.\d]+)\]?$/);if(o){let h=new String(o[1]);return h.range=[+o[2],+o[3]],h}return s}))}var util$1=Object.freeze({__proto__:null,interpolate,interpolateInv,isString:isString$2,last,mapRange,multiplyMatrices,parseCoordGrammar,parseFunction,toPrecision,type});class Hooks{add(e,s,o){if(typeof arguments[0]!="string"){for(var e in arguments[0])this.add(e,arguments[0][e],arguments[1]);return}(Array.isArray(e)?e:[e]).forEach(function(h){this[h]=this[h]||[],s&&this[h][o?"unshift":"push"](s)},this)}run(e,s){this[e]=this[e]||[],this[e].forEach(function(o){o.call(s&&s.context?s.context:s,s)})}}const hooks=new Hooks;var defaults$3={gamut_mapping:"lch.c",precision:5,deltaE:"76"};const WHITES={D50:[.3457/.3585,1,(1-.3457-.3585)/.3585],D65:[.3127/.329,1,(1-.3127-.329)/.329]};function getWhite(i){return Array.isArray(i)?i:WHITES[i]}function adapt$1(i,e,s,o={}){if(i=getWhite(i),e=getWhite(e),!i||!e)throw new TypeError(`Missing white point to convert ${i?"":"from"}${!i&&!e?"/":""}${e?"":"to"}`);if(i===e)return s;let h={W1:i,W2:e,XYZ:s,options:o};if(hooks.run("chromatic-adaptation-start",h),h.M||(h.W1===WHITES.D65&&h.W2===WHITES.D50?h.M=[[1.0479298208405488,.022946793341019088,-.05019222954313557],[.029627815688159344,.990434484573249,-.01707382502938514],[-.009243058152591178,.015055144896577895,.7518742899580008]]:h.W1===WHITES.D50&&h.W2===WHITES.D65&&(h.M=[[.9554734527042182,-.023098536874261423,.0632593086610217],[-.028369706963208136,1.0099954580058226,.021041398966943008],[.012314001688319899,-.020507696433477912,1.3303659366080753]])),hooks.run("chromatic-adaptation-end",h),h.M)return multiplyMatrices(h.M,h.XYZ);throw new TypeError("Only Bradford CAT with white points D50 and D65 supported for now.")}const ε$4=75e-6,Xt=class Xt{constructor(e){var h,_,$;this.id=e.id,this.name=e.name,this.base=e.base?Xt.get(e.base):null,this.aliases=e.aliases,this.base&&(this.fromBase=e.fromBase,this.toBase=e.toBase);let s=e.coords??this.base.coords;for(let j in s)"name"in s[j]||(s[j].name=j);this.coords=s;let o=e.white??this.base.white??"D65";this.white=getWhite(o),this.formats=e.formats??{};for(let j in this.formats){let _e=this.formats[j];_e.type||(_e.type="function"),_e.name||(_e.name=j)}e.cssId&&!((h=this.formats.functions)!=null&&h.color)?(this.formats.color={id:e.cssId},Object.defineProperty(this,"cssId",{value:e.cssId})):(_=this.formats)!=null&&_.color&&!(($=this.formats)!=null&&$.color.id)&&(this.formats.color.id=this.id),this.referred=e.referred,Object.defineProperty(this,"path",{value:getPath(this).reverse(),writable:!1,enumerable:!0,configurable:!0}),hooks.run("colorspace-init-end",this)}inGamut(e,{epsilon:s=ε$4}={}){if(this.isPolar)return e=this.toBase(e),this.base.inGamut(e,{epsilon:s});let o=Object.values(this.coords);return e.every((h,_)=>{let $=o[_];if($.type!=="angle"&&$.range){if(Number.isNaN(h))return!0;let[j,_e]=$.range;return(j===void 0||h>=j-s)&&(_e===void 0||h<=_e+s)}return!0})}get cssId(){var e,s;return((s=(e=this.formats.functions)==null?void 0:e.color)==null?void 0:s.id)||this.id}get isPolar(){for(let e in this.coords)if(this.coords[e].type==="angle")return!0;return!1}getFormat(e){if(typeof e=="object")return e=processFormat(e,this),e;let s;return e==="default"?s=Object.values(this.formats)[0]:s=this.formats[e],s?(s=processFormat(s,this),s):null}equals(e){return e?this===e||this.id===e.id:!1}to(e,s){if(arguments.length===1&&([e,s]=[e.space,e.coords]),e=Xt.get(e),this.equals(e))return s;s=s.map(j=>Number.isNaN(j)?0:j);let o=this.path,h=e.path,_,$;for(let j=0;j<o.length&&o[j].equals(h[j]);j++)_=o[j],$=j;if(!_)throw new Error(`Cannot convert between color spaces ${this} and ${e}: no connection space was found`);for(let j=o.length-1;j>$;j--)s=o[j].toBase(s);for(let j=$+1;j<h.length;j++)s=h[j].fromBase(s);return s}from(e,s){return arguments.length===1&&([e,s]=[e.space,e.coords]),e=Xt.get(e),e.to(this,s)}toString(){return`${this.name} (${this.id})`}getMinCoords(){let e=[];for(let s in this.coords){let o=this.coords[s],h=o.range||o.refRange;e.push((h==null?void 0:h.min)??0)}return e}static get all(){return[...new Set(Object.values(Xt.registry))]}static register(e,s){if(arguments.length===1&&(s=arguments[0],e=s.id),s=this.get(s),this.registry[e]&&this.registry[e]!==s)throw new Error(`Duplicate color space registration: '${e}'`);if(this.registry[e]=s,arguments.length===1&&s.aliases)for(let o of s.aliases)this.register(o,s);return s}static get(e,...s){if(!e||e instanceof Xt)return e;if(type(e)==="string"){let h=Xt.registry[e.toLowerCase()];if(!h)throw new TypeError(`No color space found with id = "${e}"`);return h}if(s.length)return Xt.get(...s);throw new TypeError(`${e} is not a valid color space`)}static resolveCoord(e,s){var _e;let o=type(e),h,_;if(o==="string"?e.includes(".")?[h,_]=e.split("."):[h,_]=[,e]:Array.isArray(e)?[h,_]=e:(h=e.space,_=e.coordId),h=Xt.get(h),h||(h=s),!h)throw new TypeError(`Cannot resolve coordinate reference ${e}: No color space specified and relative references are not allowed here`);if(o=type(_),o==="number"||o==="string"&&_>=0){let et=Object.entries(h.coords)[_];if(et)return{space:h,id:et[0],index:_,...et[1]}}h=Xt.get(h);let $=_.toLowerCase(),j=0;for(let et in h.coords){let tt=h.coords[et];if(et.toLowerCase()===$||((_e=tt.name)==null?void 0:_e.toLowerCase())===$)return{space:h,id:et,index:j,...tt};j++}throw new TypeError(`No "${_}" coordinate found in ${h.name}. Its coordinates are: ${Object.keys(h.coords).join(", ")}`)}};ar(Xt,"registry",{}),ar(Xt,"DEFAULT_FORMAT",{type:"functions",name:"color"});let ColorSpace=Xt;function getPath(i){let e=[i];for(let s=i;s=s.base;)e.push(s);return e}function processFormat(i,{coords:e}={}){if(i.coords&&!i.coordGrammar){i.type||(i.type="function"),i.name||(i.name="color"),i.coordGrammar=parseCoordGrammar(i.coords);let s=Object.entries(e).map(([o,h],_)=>{let $=i.coordGrammar[_][0],j=h.range||h.refRange,_e=$.range,et="";return $=="<percentage>"?(_e=[0,100],et="%"):$=="<angle>"&&(et="deg"),{fromRange:j,toRange:_e,suffix:et}});i.serializeCoords=(o,h)=>o.map((_,$)=>{let{fromRange:j,toRange:_e,suffix:et}=s[$];return j&&_e&&(_=mapRange(j,_e,_)),_=toPrecision(_,h),et&&(_+=et),_})}return i}var XYZ_D65=new ColorSpace({id:"xyz-d65",name:"XYZ D65",coords:{x:{name:"X"},y:{name:"Y"},z:{name:"Z"}},white:"D65",formats:{color:{ids:["xyz-d65","xyz"]}},aliases:["xyz"]});class RGBColorSpace extends ColorSpace{constructor(e){e.coords||(e.coords={r:{range:[0,1],name:"Red"},g:{range:[0,1],name:"Green"},b:{range:[0,1],name:"Blue"}}),e.base||(e.base=XYZ_D65),e.toXYZ_M&&e.fromXYZ_M&&(e.toBase??(e.toBase=s=>{let o=multiplyMatrices(e.toXYZ_M,s);return this.white!==this.base.white&&(o=adapt$1(this.white,this.base.white,o)),o}),e.fromBase??(e.fromBase=s=>(s=adapt$1(this.base.white,this.white,s),multiplyMatrices(e.fromXYZ_M,s)))),e.referred??(e.referred="display"),super(e)}}function parse(i,{meta:e}={}){var o,h,_,$,j;let s={str:(o=String(i))==null?void 0:o.trim()};if(hooks.run("parse-start",s),s.color)return s.color;if(s.parsed=parseFunction(s.str),s.parsed){let _e=s.parsed.name;if(_e==="color"){let et=s.parsed.args.shift(),tt=s.parsed.rawArgs.indexOf("/")>0?s.parsed.args.pop():1;for(let rt of ColorSpace.all){let st=rt.getFormat("color");if(st&&(et===st.id||(h=st.ids)!=null&&h.includes(et))){const lt=Object.keys(rt.coords).map((ct,ut)=>s.parsed.args[ut]||0);return e&&(e.formatId="color"),{spaceId:rt.id,coords:lt,alpha:tt}}}let nt="";if(et in ColorSpace.registry){let rt=(j=($=(_=ColorSpace.registry[et].formats)==null?void 0:_.functions)==null?void 0:$.color)==null?void 0:j.id;rt&&(nt=`Did you mean color(${rt})?`)}throw new TypeError(`Cannot parse color(${et}). `+(nt||"Missing a plugin?"))}else for(let et of ColorSpace.all){let tt=et.getFormat(_e);if(tt&&tt.type==="function"){let nt=1;(tt.lastAlpha||last(s.parsed.args).alpha)&&(nt=s.parsed.args.pop());let rt=s.parsed.args,st;return tt.coordGrammar&&(st=Object.entries(et.coords).map(([lt,ct],ut)=>{var yt;let ot=tt.coordGrammar[ut],it=(yt=rt[ut])==null?void 0:yt.type,at=ot.find(_t=>_t==it);if(!at){let _t=ct.name||lt;throw new TypeError(`${it} not allowed for ${_t} in ${_e}()`)}let dt=at.range;it==="<percentage>"&&(dt||(dt=[0,1]));let ht=ct.range||ct.refRange;return dt&&ht&&(rt[ut]=mapRange(dt,ht,rt[ut])),at})),e&&Object.assign(e,{formatId:tt.name,types:st}),{spaceId:et.id,coords:rt,alpha:nt}}}}else for(let _e of ColorSpace.all)for(let et in _e.formats){let tt=_e.formats[et];if(tt.type!=="custom"||tt.test&&!tt.test(s.str))continue;let nt=tt.parse(s.str);if(nt)return nt.alpha??(nt.alpha=1),e&&(e.formatId=et),nt}throw new TypeError(`Could not parse ${i} as a color. Missing a plugin?`)}function getColor(i){if(!i)throw new TypeError("Empty color reference");isString$2(i)&&(i=parse(i));let e=i.space||i.spaceId;return e instanceof ColorSpace||(i.space=ColorSpace.get(e)),i.alpha===void 0&&(i.alpha=1),i}function getAll(i,e){return e=ColorSpace.get(e),e.from(i)}function get$1(i,e){let{space:s,index:o}=ColorSpace.resolveCoord(e,i.space);return getAll(i,s)[o]}function setAll(i,e,s){return e=ColorSpace.get(e),i.coords=e.to(i.space,s),i}function set$1(i,e,s){if(i=getColor(i),arguments.length===2&&type(arguments[1])==="object"){let o=arguments[1];for(let h in o)set$1(i,h,o[h])}else{typeof s=="function"&&(s=s(get$1(i,e)));let{space:o,index:h}=ColorSpace.resolveCoord(e,i.space),_=getAll(i,o);_[h]=s,setAll(i,o,_)}return i}var XYZ_D50=new ColorSpace({id:"xyz-d50",name:"XYZ D50",white:"D50",base:XYZ_D65,fromBase:i=>adapt$1(XYZ_D65.white,"D50",i),toBase:i=>adapt$1("D50",XYZ_D65.white,i),formats:{color:{}}});const ε$3=216/24389,ε3$1=24/116,κ$1=24389/27;let white$1=WHITES.D50;var lab=new ColorSpace({id:"lab",name:"Lab",coords:{l:{refRange:[0,100],name:"L"},a:{refRange:[-125,125]},b:{refRange:[-125,125]}},white:white$1,base:XYZ_D50,fromBase(i){let s=i.map((o,h)=>o/white$1[h]).map(o=>o>ε$3?Math.cbrt(o):(κ$1*o+16)/116);return[116*s[1]-16,500*(s[0]-s[1]),200*(s[1]-s[2])]},toBase(i){let e=[];return e[1]=(i[0]+16)/116,e[0]=i[1]/500+e[1],e[2]=e[1]-i[2]/200,[e[0]>ε3$1?Math.pow(e[0],3):(116*e[0]-16)/κ$1,i[0]>8?Math.pow((i[0]+16)/116,3):i[0]/κ$1,e[2]>ε3$1?Math.pow(e[2],3):(116*e[2]-16)/κ$1].map((o,h)=>o*white$1[h])},formats:{lab:{coords:["<number> | <percentage>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}});function constrain(i){return(i%360+360)%360}function adjust(i,e){if(i==="raw")return e;let[s,o]=e.map(constrain),h=o-s;return i==="increasing"?h<0&&(o+=360):i==="decreasing"?h>0&&(s+=360):i==="longer"?-180<h&&h<180&&(h>0?s+=360:o+=360):i==="shorter"&&(h>180?s+=360:h<-180&&(o+=360)),[s,o]}var lch=new ColorSpace({id:"lch",name:"LCH",coords:{l:{refRange:[0,100],name:"Lightness"},c:{refRange:[0,150],name:"Chroma"},h:{refRange:[0,360],type:"angle",name:"Hue"}},base:lab,fromBase(i){let[e,s,o]=i,h;const _=.02;return Math.abs(s)<_&&Math.abs(o)<_?h=NaN:h=Math.atan2(o,s)*180/Math.PI,[e,Math.sqrt(s**2+o**2),constrain(h)]},toBase(i){let[e,s,o]=i;return s<0&&(s=0),isNaN(o)&&(o=0),[e,s*Math.cos(o*Math.PI/180),s*Math.sin(o*Math.PI/180)]},formats:{lch:{coords:["<number> | <percentage>","<number> | <percentage>","<number> | <angle>"]}}});const Gfactor=25**7,π$1=Math.PI,r2d=180/π$1,d2r$1=π$1/180;function deltaE2000(i,e,{kL:s=1,kC:o=1,kH:h=1}={}){let[_,$,j]=lab.from(i),_e=lch.from(lab,[_,$,j])[1],[et,tt,nt]=lab.from(e),rt=lch.from(lab,[et,tt,nt])[1];_e<0&&(_e=0),rt<0&&(rt=0);let lt=((_e+rt)/2)**7,ct=.5*(1-Math.sqrt(lt/(lt+Gfactor))),ut=(1+ct)*$,ot=(1+ct)*tt,it=Math.sqrt(ut**2+j**2),at=Math.sqrt(ot**2+nt**2),dt=ut===0&&j===0?0:Math.atan2(j,ut),ht=ot===0&&nt===0?0:Math.atan2(nt,ot);dt<0&&(dt+=2*π$1),ht<0&&(ht+=2*π$1),dt*=r2d,ht*=r2d;let yt=et-_,_t=at-it,gt=ht-dt,St=dt+ht,Rt=Math.abs(gt),At;it*at===0?At=0:Rt<=180?At=gt:gt>180?At=gt-360:gt<-180?At=gt+360:console.log("the unthinkable has happened");let kt=2*Math.sqrt(at*it)*Math.sin(At*d2r$1/2),Dt=(_+et)/2,ft=(it+at)/2,wt=Math.pow(ft,7),Tt;it*at===0?Tt=St:Rt<=180?Tt=St/2:St<360?Tt=(St+360)/2:Tt=(St-360)/2;let Mt=(Dt-50)**2,bt=1+.015*Mt/Math.sqrt(20+Mt),xt=1+.045*ft,Pt=1;Pt-=.17*Math.cos((Tt-30)*d2r$1),Pt+=.24*Math.cos(2*Tt*d2r$1),Pt+=.32*Math.cos((3*Tt+6)*d2r$1),Pt-=.2*Math.cos((4*Tt-63)*d2r$1);let Nt=1+.015*ft*Pt,Bt=30*Math.exp(-1*((Tt-275)/25)**2),Vt=2*Math.sqrt(wt/(wt+Gfactor)),Ht=-1*Math.sin(2*Bt*d2r$1)*Vt,Wt=(yt/(s*bt))**2;return Wt+=(_t/(o*xt))**2,Wt+=(kt/(h*Nt))**2,Wt+=Ht*(_t/(o*xt))*(kt/(h*Nt)),Math.sqrt(Wt)}const ε$2=75e-6;function inGamut(i,e=i.space,{epsilon:s=ε$2}={}){i=getColor(i),e=ColorSpace.get(e);let o=i.coords;return e!==i.space&&(o=e.from(i)),e.inGamut(o,{epsilon:s})}function clone(i){return{space:i.space,coords:i.coords.slice(),alpha:i.alpha}}function toGamut(i,{method:e=defaults$3.gamut_mapping,space:s=i.space}={}){if(isString$2(arguments[1])&&(s=arguments[1]),s=ColorSpace.get(s),inGamut(i,s,{epsilon:0}))return getColor(i);let o=to(i,s);if(e!=="clip"&&!inGamut(i,s)){let h=toGamut(clone(o),{method:"clip",space:s});if(deltaE2000(i,h)>2){let _=ColorSpace.resolveCoord(e),$=_.space,j=_.id,_e=to(o,$),tt=(_.range||_.refRange)[0],nt=.01,rt=tt,st=get$1(_e,j);for(;st-rt>nt;){let lt=clone(_e);lt=toGamut(lt,{space:s,method:"clip"}),deltaE2000(_e,lt)-2<nt?rt=get$1(_e,j):st=get$1(_e,j),set$1(_e,j,(rt+st)/2)}o=to(_e,s)}else o=h}if(e==="clip"||!inGamut(o,s,{epsilon:0})){let h=Object.values(s.coords).map(_=>_.range||[]);o.coords=o.coords.map((_,$)=>{let[j,_e]=h[$];return j!==void 0&&(_=Math.max(j,_)),_e!==void 0&&(_=Math.min(_,_e)),_})}return s!==i.space&&(o=to(o,i.space)),i.coords=o.coords,i}toGamut.returns="color";function to(i,e,{inGamut:s}={}){i=getColor(i),e=ColorSpace.get(e);let o=e.from(i),h={space:e,coords:o,alpha:i.alpha};return s&&(h=toGamut(h)),h}to.returns="color";function serialize(i,{precision:e=defaults$3.precision,format:s="default",inGamut:o=!0,...h}={}){var _e;let _;i=getColor(i);let $=s;s=i.space.getFormat(s)??i.space.getFormat("default")??ColorSpace.DEFAULT_FORMAT,o||(o=s.toGamut);let j=i.coords;if(j=j.map(et=>et||0),o&&!inGamut(i)&&(j=toGamut(clone(i),o===!0?void 0:o).coords),s.type==="custom")if(h.precision=e,s.serialize)_=s.serialize(j,i.alpha,h);else throw new TypeError(`format ${$} can only be used to parse colors, not for serialization`);else{let et=s.name||"color";s.serializeCoords?j=s.serializeCoords(j,e):e!==null&&(j=j.map(st=>toPrecision(st,e)));let tt=[...j];if(et==="color"){let st=s.id||((_e=s.ids)==null?void 0:_e[0])||i.space.id;tt.unshift(st)}let nt=i.alpha;e!==null&&(nt=toPrecision(nt,e));let rt=i.alpha<1&&!s.noAlpha?`${s.commas?",":" /"} ${nt}`:"";_=`${et}(${tt.join(s.commas?", ":" ")}${rt})`}return _}const toXYZ_M$5=[[.6369580483012914,.14461690358620832,.1688809751641721],[.2627002120112671,.6779980715188708,.05930171646986196],[0,.028072693049087428,1.060985057710791]],fromXYZ_M$5=[[1.716651187971268,-.355670783776392,-.25336628137366],[-.666684351832489,1.616481236634939,.0157685458139111],[.017639857445311,-.042770613257809,.942103121235474]];var REC2020Linear=new RGBColorSpace({id:"rec2020-linear",name:"Linear REC.2020",white:"D65",toXYZ_M:toXYZ_M$5,fromXYZ_M:fromXYZ_M$5,formats:{color:{}}});const α=1.09929682680944,β=.018053968510807;var REC2020=new RGBColorSpace({id:"rec2020",name:"REC.2020",base:REC2020Linear,toBase(i){return i.map(function(e){return e<β*4.5?e/4.5:Math.pow((e+α-1)/α,1/.45)})},fromBase(i){return i.map(function(e){return e>=β?α*Math.pow(e,.45)-(α-1):4.5*e})},formats:{color:{}}});const toXYZ_M$4=[[.4865709486482162,.26566769316909306,.1982172852343625],[.2289745640697488,.6917385218365064,.079286914093745],[0,.04511338185890264,1.043944368900976]],fromXYZ_M$4=[[2.493496911941425,-.9313836179191239,-.40271078445071684],[-.8294889695615747,1.7626640603183463,.023624685841943577],[.03584583024378447,-.07617238926804182,.9568845240076872]];var P3Linear=new RGBColorSpace({id:"p3-linear",name:"Linear P3",white:"D65",toXYZ_M:toXYZ_M$4,fromXYZ_M:fromXYZ_M$4});const toXYZ_M$3=[[.41239079926595934,.357584339383878,.1804807884018343],[.21263900587151027,.715168678767756,.07219231536073371],[.01933081871559182,.11919477979462598,.9505321522496607]],fromXYZ_M$3=[[3.2409699419045226,-1.537383177570094,-.4986107602930034],[-.9692436362808796,1.8759675015077202,.04155505740717559],[.05563007969699366,-.20397695888897652,1.0569715142428786]];var sRGBLinear=new RGBColorSpace({id:"srgb-linear",name:"Linear sRGB",white:"D65",toXYZ_M:toXYZ_M$3,fromXYZ_M:fromXYZ_M$3,formats:{color:{}}}),KEYWORDS={aliceblue:[240/255,248/255,1],antiquewhite:[250/255,235/255,215/255],aqua:[0,1,1],aquamarine:[127/255,1,212/255],azure:[240/255,1,1],beige:[245/255,245/255,220/255],bisque:[1,228/255,196/255],black:[0,0,0],blanchedalmond:[1,235/255,205/255],blue:[0,0,1],blueviolet:[138/255,43/255,226/255],brown:[165/255,42/255,42/255],burlywood:[222/255,184/255,135/255],cadetblue:[95/255,158/255,160/255],chartreuse:[127/255,1,0],chocolate:[210/255,105/255,30/255],coral:[1,127/255,80/255],cornflowerblue:[100/255,149/255,237/255],cornsilk:[1,248/255,220/255],crimson:[220/255,20/255,60/255],cyan:[0,1,1],darkblue:[0,0,139/255],darkcyan:[0,139/255,139/255],darkgoldenrod:[184/255,134/255,11/255],darkgray:[169/255,169/255,169/255],darkgreen:[0,100/255,0],darkgrey:[169/255,169/255,169/255],darkkhaki:[189/255,183/255,107/255],darkmagenta:[139/255,0,139/255],darkolivegreen:[85/255,107/255,47/255],darkorange:[1,140/255,0],darkorchid:[153/255,50/255,204/255],darkred:[139/255,0,0],darksalmon:[233/255,150/255,122/255],darkseagreen:[143/255,188/255,143/255],darkslateblue:[72/255,61/255,139/255],darkslategray:[47/255,79/255,79/255],darkslategrey:[47/255,79/255,79/255],darkturquoise:[0,206/255,209/255],darkviolet:[148/255,0,211/255],deeppink:[1,20/255,147/255],deepskyblue:[0,191/255,1],dimgray:[105/255,105/255,105/255],dimgrey:[105/255,105/255,105/255],dodgerblue:[30/255,144/255,1],firebrick:[178/255,34/255,34/255],floralwhite:[1,250/255,240/255],forestgreen:[34/255,139/255,34/255],fuchsia:[1,0,1],gainsboro:[220/255,220/255,220/255],ghostwhite:[248/255,248/255,1],gold:[1,215/255,0],goldenrod:[218/255,165/255,32/255],gray:[128/255,128/255,128/255],green:[0,128/255,0],greenyellow:[173/255,1,47/255],grey:[128/255,128/255,128/255],honeydew:[240/255,1,240/255],hotpink:[1,105/255,180/255],indianred:[205/255,92/255,92/255],indigo:[75/255,0,130/255],ivory:[1,1,240/255],khaki:[240/255,230/255,140/255],lavender:[230/255,230/255,250/255],lavenderblush:[1,240/255,245/255],lawngreen:[124/255,252/255,0],lemonchiffon:[1,250/255,205/255],lightblue:[173/255,216/255,230/255],lightcoral:[240/255,128/255,128/255],lightcyan:[224/255,1,1],lightgoldenrodyellow:[250/255,250/255,210/255],lightgray:[211/255,211/255,211/255],lightgreen:[144/255,238/255,144/255],lightgrey:[211/255,211/255,211/255],lightpink:[1,182/255,193/255],lightsalmon:[1,160/255,122/255],lightseagreen:[32/255,178/255,170/255],lightskyblue:[135/255,206/255,250/255],lightslategray:[119/255,136/255,153/255],lightslategrey:[119/255,136/255,153/255],lightsteelblue:[176/255,196/255,222/255],lightyellow:[1,1,224/255],lime:[0,1,0],limegreen:[50/255,205/255,50/255],linen:[250/255,240/255,230/255],magenta:[1,0,1],maroon:[128/255,0,0],mediumaquamarine:[102/255,205/255,170/255],mediumblue:[0,0,205/255],mediumorchid:[186/255,85/255,211/255],mediumpurple:[147/255,112/255,219/255],mediumseagreen:[60/255,179/255,113/255],mediumslateblue:[123/255,104/255,238/255],mediumspringgreen:[0,250/255,154/255],mediumturquoise:[72/255,209/255,204/255],mediumvioletred:[199/255,21/255,133/255],midnightblue:[25/255,25/255,112/255],mintcream:[245/255,1,250/255],mistyrose:[1,228/255,225/255],moccasin:[1,228/255,181/255],navajowhite:[1,222/255,173/255],navy:[0,0,128/255],oldlace:[253/255,245/255,230/255],olive:[128/255,128/255,0],olivedrab:[107/255,142/255,35/255],orange:[1,165/255,0],orangered:[1,69/255,0],orchid:[218/255,112/255,214/255],palegoldenrod:[238/255,232/255,170/255],palegreen:[152/255,251/255,152/255],paleturquoise:[175/255,238/255,238/255],palevioletred:[219/255,112/255,147/255],papayawhip:[1,239/255,213/255],peachpuff:[1,218/255,185/255],peru:[205/255,133/255,63/255],pink:[1,192/255,203/255],plum:[221/255,160/255,221/255],powderblue:[176/255,224/255,230/255],purple:[128/255,0,128/255],rebeccapurple:[102/255,51/255,153/255],red:[1,0,0],rosybrown:[188/255,143/255,143/255],royalblue:[65/255,105/255,225/255],saddlebrown:[139/255,69/255,19/255],salmon:[250/255,128/255,114/255],sandybrown:[244/255,164/255,96/255],seagreen:[46/255,139/255,87/255],seashell:[1,245/255,238/255],sienna:[160/255,82/255,45/255],silver:[192/255,192/255,192/255],skyblue:[135/255,206/255,235/255],slateblue:[106/255,90/255,205/255],slategray:[112/255,128/255,144/255],slategrey:[112/255,128/255,144/255],snow:[1,250/255,250/255],springgreen:[0,1,127/255],steelblue:[70/255,130/255,180/255],tan:[210/255,180/255,140/255],teal:[0,128/255,128/255],thistle:[216/255,191/255,216/255],tomato:[1,99/255,71/255],turquoise:[64/255,224/255,208/255],violet:[238/255,130/255,238/255],wheat:[245/255,222/255,179/255],white:[1,1,1],whitesmoke:[245/255,245/255,245/255],yellow:[1,1,0],yellowgreen:[154/255,205/255,50/255]};let coordGrammar=Array(3).fill("<percentage> | <number>[0, 255]"),coordGrammarNumber=Array(3).fill("<number>[0, 255]");var sRGB=new RGBColorSpace({id:"srgb",name:"sRGB",base:sRGBLinear,fromBase:i=>i.map(e=>{let s=e<0?-1:1,o=e*s;return o>.0031308?s*(1.055*o**(1/2.4)-.055):12.92*e}),toBase:i=>i.map(e=>{let s=e<0?-1:1,o=e*s;return o<.04045?e/12.92:s*((o+.055)/1.055)**2.4}),formats:{rgb:{coords:coordGrammar},rgb_number:{name:"rgb",commas:!0,coords:coordGrammarNumber,noAlpha:!0},color:{},rgba:{coords:coordGrammar,commas:!0,lastAlpha:!0},rgba_number:{name:"rgba",commas:!0,coords:coordGrammarNumber},hex:{type:"custom",toGamut:!0,test:i=>/^#([a-f0-9]{3,4}){1,2}$/i.test(i),parse(i){i.length<=5&&(i=i.replace(/[a-f0-9]/gi,"$&$&"));let e=[];return i.replace(/[a-f0-9]{2}/gi,s=>{e.push(parseInt(s,16)/255)}),{spaceId:"srgb",coords:e.slice(0,3),alpha:e.slice(3)[0]}},serialize:(i,e,{collapse:s=!0}={})=>{e<1&&i.push(e),i=i.map(_=>Math.round(_*255));let o=s&&i.every(_=>_%17===0);return"#"+i.map(_=>o?(_/17).toString(16):_.toString(16).padStart(2,"0")).join("")}},keyword:{type:"custom",test:i=>/^[a-z]+$/i.test(i),parse(i){i=i.toLowerCase();let e={spaceId:"srgb",coords:null,alpha:1};if(i==="transparent"?(e.coords=KEYWORDS.black,e.alpha=0):e.coords=KEYWORDS[i],e.coords)return e}}}}),P3=new RGBColorSpace({id:"p3",name:"P3",base:P3Linear,fromBase:sRGB.fromBase,toBase:sRGB.toBase,formats:{color:{id:"display-p3"}}});defaults$3.display_space=sRGB;if(typeof CSS<"u"&&CSS.supports)for(let i of[lab,REC2020,P3]){let e=i.getMinCoords(),o=serialize({space:i,coords:e,alpha:1});if(CSS.supports("color",o)){defaults$3.display_space=i;break}}function display(i,{space:e=defaults$3.display_space,...s}={}){let o=serialize(i,s);if(typeof CSS>"u"||CSS.supports("color",o)||!defaults$3.display_space)o=new String(o),o.color=i;else{let h=to(i,e);o=new String(serialize(h,s)),o.color=h}return o}function distance(i,e,s="lab"){s=ColorSpace.get(s);let o=s.from(i),h=s.from(e);return Math.sqrt(o.reduce((_,$,j)=>{let _e=h[j];return isNaN($)||isNaN(_e)?_:_+(_e-$)**2},0))}function equals(i,e){return i=getColor(i),e=getColor(e),i.space===e.space&&i.alpha===e.alpha&&i.coords.every((s,o)=>s===e.coords[o])}function getLuminance(i){return get$1(i,[XYZ_D65,"y"])}function setLuminance(i,e){set$1(i,[XYZ_D65,"y"],e)}function register$2(i){Object.defineProperty(i.prototype,"luminance",{get(){return getLuminance(this)},set(e){setLuminance(this,e)}})}var luminance=Object.freeze({__proto__:null,getLuminance,register:register$2,setLuminance});function contrastWCAG21(i,e){i=getColor(i),e=getColor(e);let s=Math.max(getLuminance(i),0),o=Math.max(getLuminance(e),0);return o>s&&([s,o]=[o,s]),(s+.05)/(o+.05)}const normBG=.56,normTXT=.57,revTXT=.62,revBG=.65,blkThrs=.022,blkClmp=1.414,loClip=.1,deltaYmin=5e-4,scaleBoW=1.14,loBoWoffset=.027,scaleWoB=1.14;function fclamp(i){return i>=blkThrs?i:i+(blkThrs-i)**blkClmp}function linearize(i){let e=i<0?-1:1,s=Math.abs(i);return e*Math.pow(s,2.4)}function contrastAPCA(i,e){e=getColor(e),i=getColor(i);let s,o,h,_,$,j;e=to(e,"srgb"),[_,$,j]=e.coords;let _e=linearize(_)*.2126729+linearize($)*.7151522+linearize(j)*.072175;i=to(i,"srgb"),[_,$,j]=i.coords;let et=linearize(_)*.2126729+linearize($)*.7151522+linearize(j)*.072175,tt=fclamp(_e),nt=fclamp(et),rt=nt>tt;return Math.abs(nt-tt)<deltaYmin?o=0:rt?(s=nt**normBG-tt**normTXT,o=s*scaleBoW):(s=nt**revBG-tt**revTXT,o=s*scaleWoB),Math.abs(o)<loClip?h=0:o>0?h=o-loBoWoffset:h=o+loBoWoffset,h*100}function contrastMichelson(i,e){i=getColor(i),e=getColor(e);let s=Math.max(getLuminance(i),0),o=Math.max(getLuminance(e),0);o>s&&([s,o]=[o,s]);let h=s+o;return h===0?0:(s-o)/h}const max$1=5e4;function contrastWeber(i,e){i=getColor(i),e=getColor(e);let s=Math.max(getLuminance(i),0),o=Math.max(getLuminance(e),0);return o>s&&([s,o]=[o,s]),o===0?max$1:(s-o)/o}function contrastLstar(i,e){i=getColor(i),e=getColor(e);let s=get$1(i,[lab,"l"]),o=get$1(e,[lab,"l"]);return Math.abs(s-o)}const ε$1=216/24389,ε3=24/116,κ=24389/27;let white=WHITES.D65;var lab_d65=new ColorSpace({id:"lab-d65",name:"Lab D65",coords:{l:{refRange:[0,100],name:"L"},a:{refRange:[-125,125]},b:{refRange:[-125,125]}},white,base:XYZ_D65,fromBase(i){let s=i.map((o,h)=>o/white[h]).map(o=>o>ε$1?Math.cbrt(o):(κ*o+16)/116);return[116*s[1]-16,500*(s[0]-s[1]),200*(s[1]-s[2])]},toBase(i){let e=[];return e[1]=(i[0]+16)/116,e[0]=i[1]/500+e[1],e[2]=e[1]-i[2]/200,[e[0]>ε3?Math.pow(e[0],3):(116*e[0]-16)/κ,i[0]>8?Math.pow((i[0]+16)/116,3):i[0]/κ,e[2]>ε3?Math.pow(e[2],3):(116*e[2]-16)/κ].map((o,h)=>o*white[h])},formats:{"lab-d65":{coords:["<number> | <percentage>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}});const phi=Math.pow(5,.5)*.5+.5;function contrastDeltaPhi(i,e){i=getColor(i),e=getColor(e);let s=get$1(i,[lab_d65,"l"]),o=get$1(e,[lab_d65,"l"]),h=Math.abs(Math.pow(s,phi)-Math.pow(o,phi)),_=Math.pow(h,1/phi)*Math.SQRT2-40;return _<7.5?0:_}var contrastMethods=Object.freeze({__proto__:null,contrastAPCA,contrastDeltaPhi,contrastLstar,contrastMichelson,contrastWCAG21,contrastWeber});function contrast(i,e,s={}){isString$2(s)&&(s={algorithm:s});let{algorithm:o,...h}=s;if(!o){let _=Object.keys(contrastMethods).map($=>$.replace(/^contrast/,"")).join(", ");throw new TypeError(`contrast() function needs a contrast algorithm. Please specify one of: ${_}`)}i=getColor(i),e=getColor(e);for(let _ in contrastMethods)if("contrast"+o.toLowerCase()===_.toLowerCase())return contrastMethods[_](i,e,h);throw new TypeError(`Unknown contrast algorithm: ${o}`)}function uv(i){let[e,s,o]=getAll(i,XYZ_D65),h=e+15*s+3*o;return[4*e/h,9*s/h]}function xy(i){let[e,s,o]=getAll(i,XYZ_D65),h=e+s+o;return[e/h,s/h]}function register$1(i){Object.defineProperty(i.prototype,"uv",{get(){return uv(this)}}),Object.defineProperty(i.prototype,"xy",{get(){return xy(this)}})}var chromaticity=Object.freeze({__proto__:null,register:register$1,uv,xy});function deltaE76(i,e){return distance(i,e,"lab")}const π=Math.PI,d2r=π/180;function deltaECMC(i,e,{l:s=2,c:o=1}={}){let[h,_,$]=lab.from(i),[,j,_e]=lch.from(lab,[h,_,$]),[et,tt,nt]=lab.from(e),rt=lch.from(lab,[et,tt,nt])[1];j<0&&(j=0),rt<0&&(rt=0);let st=h-et,lt=j-rt,ct=_-tt,ut=$-nt,ot=ct**2+ut**2-lt**2,it=.511;h>=16&&(it=.040975*h/(1+.01765*h));let at=.0638*j/(1+.0131*j)+.638,dt;Number.isNaN(_e)&&(_e=0),_e>=164&&_e<=345?dt=.56+Math.abs(.2*Math.cos((_e+168)*d2r)):dt=.36+Math.abs(.4*Math.cos((_e+35)*d2r));let ht=Math.pow(j,4),yt=Math.sqrt(ht/(ht+1900)),_t=at*(yt*dt+1-yt),gt=(st/(s*it))**2;return gt+=(lt/(o*at))**2,gt+=ot/_t**2,Math.sqrt(gt)}const Yw$1=203;var XYZ_Abs_D65=new ColorSpace({id:"xyz-abs-d65",name:"Absolute XYZ D65",coords:{x:{refRange:[0,9504.7],name:"Xa"},y:{refRange:[0,1e4],name:"Ya"},z:{refRange:[0,10888.3],name:"Za"}},base:XYZ_D65,fromBase(i){return i.map(e=>Math.max(e*Yw$1,0))},toBase(i){return i.map(e=>Math.max(e/Yw$1,0))}});const b$1=1.15,g=.66,n$1=2610/2**14,ninv$1=2**14/2610,c1$2=3424/2**12,c2$2=2413/2**7,c3$2=2392/2**7,p=1.7*2523/2**5,pinv=2**5/(1.7*2523),d=-.56,d0=16295499532821565e-27,XYZtoCone_M=[[.41478972,.579999,.014648],[-.20151,1.120649,.0531008],[-.0166008,.2648,.6684799]],ConetoXYZ_M=[[1.9242264357876067,-1.0047923125953657,.037651404030618],[.35031676209499907,.7264811939316552,-.06538442294808501],[-.09098281098284752,-.3127282905230739,1.5227665613052603]],ConetoIab_M=[[.5,.5,0],[3.524,-4.066708,.542708],[.199076,1.096799,-1.295875]],IabtoCone_M=[[1,.1386050432715393,.05804731615611886],[.9999999999999999,-.1386050432715393,-.05804731615611886],[.9999999999999998,-.09601924202631895,-.8118918960560388]];var Jzazbz=new ColorSpace({id:"jzazbz",name:"Jzazbz",coords:{jz:{refRange:[0,1],name:"Jz"},az:{refRange:[-.5,.5]},bz:{refRange:[-.5,.5]}},base:XYZ_Abs_D65,fromBase(i){let[e,s,o]=i,h=b$1*e-(b$1-1)*o,_=g*s-(g-1)*e,j=multiplyMatrices(XYZtoCone_M,[h,_,o]).map(function(rt){let st=c1$2+c2$2*(rt/1e4)**n$1,lt=1+c3$2*(rt/1e4)**n$1;return(st/lt)**p}),[_e,et,tt]=multiplyMatrices(ConetoIab_M,j);return[(1+d)*_e/(1+d*_e)-d0,et,tt]},toBase(i){let[e,s,o]=i,h=(e+d0)/(1+d-d*(e+d0)),$=multiplyMatrices(IabtoCone_M,[h,s,o]).map(function(rt){let st=c1$2-rt**pinv,lt=c3$2*rt**pinv-c2$2;return 1e4*(st/lt)**ninv$1}),[j,_e,et]=multiplyMatrices(ConetoXYZ_M,$),tt=(j+(b$1-1)*et)/b$1,nt=(_e+(g-1)*tt)/g;return[tt,nt,et]},formats:{color:{}}}),jzczhz=new ColorSpace({id:"jzczhz",name:"JzCzHz",coords:{jz:{refRange:[0,1],name:"Jz"},cz:{refRange:[0,1],name:"Chroma"},hz:{refRange:[0,360],type:"angle",name:"Hue"}},base:Jzazbz,fromBase(i){let[e,s,o]=i,h;const _=2e-4;return Math.abs(s)<_&&Math.abs(o)<_?h=NaN:h=Math.atan2(o,s)*180/Math.PI,[e,Math.sqrt(s**2+o**2),constrain(h)]},toBase(i){return[i[0],i[1]*Math.cos(i[2]*Math.PI/180),i[1]*Math.sin(i[2]*Math.PI/180)]},formats:{color:{}}});function deltaEJz(i,e){let[s,o,h]=jzczhz.from(i),[_,$,j]=jzczhz.from(e),_e=s-_,et=o-$;Number.isNaN(h)&&Number.isNaN(j)?(h=0,j=0):Number.isNaN(h)?h=j:Number.isNaN(j)&&(j=h);let tt=h-j,nt=2*Math.sqrt(o*$)*Math.sin(tt/2*(Math.PI/180));return Math.sqrt(_e**2+et**2+nt**2)}const c1$1=3424/4096,c2$1=2413/128,c3$1=2392/128,m1=2610/16384,m2=2523/32,im1=16384/2610,im2=32/2523,XYZtoLMS_M$1=[[.3592,.6976,-.0358],[-.1922,1.1004,.0755],[.007,.0749,.8434]],LMStoIPT_M=[[2048/4096,2048/4096,0],[6610/4096,-13613/4096,7003/4096],[17933/4096,-17390/4096,-543/4096]],IPTtoLMS_M=[[.9999888965628402,.008605050147287059,.11103437159861648],[1.00001110343716,-.008605050147287059,-.11103437159861648],[1.0000320633910054,.56004913547279,-.3206339100541203]],LMStoXYZ_M$1=[[2.0701800566956137,-1.326456876103021,.20661600684785517],[.3649882500326575,.6804673628522352,-.04542175307585323],[-.04959554223893211,-.04942116118675749,1.1879959417328034]];var ictcp=new ColorSpace({id:"ictcp",name:"ICTCP",coords:{i:{refRange:[0,1],name:"I"},ct:{refRange:[-.5,.5],name:"CT"},cp:{refRange:[-.5,.5],name:"CP"}},base:XYZ_Abs_D65,fromBase(i){let e=multiplyMatrices(XYZtoLMS_M$1,i);return LMStoICtCp(e)},toBase(i){let e=ICtCptoLMS(i);return multiplyMatrices(LMStoXYZ_M$1,e)},formats:{color:{}}});function LMStoICtCp(i){let e=i.map(function(s){let o=c1$1+c2$1*(s/1e4)**m1,h=1+c3$1*(s/1e4)**m1;return(o/h)**m2});return multiplyMatrices(LMStoIPT_M,e)}function ICtCptoLMS(i){return multiplyMatrices(IPTtoLMS_M,i).map(function(o){let h=Math.max(o**im2-c1$1,0),_=c2$1-c3$1*o**im2;return 1e4*(h/_)**im1})}function deltaEITP(i,e){let[s,o,h]=ictcp.from(i),[_,$,j]=ictcp.from(e);return 720*Math.sqrt((s-_)**2+.25*(o-$)**2+(h-j)**2)}const XYZtoLMS_M=[[.8190224432164319,.3619062562801221,-.12887378261216414],[.0329836671980271,.9292868468965546,.03614466816999844],[.048177199566046255,.26423952494422764,.6335478258136937]],LMStoXYZ_M=[[1.2268798733741557,-.5578149965554813,.28139105017721583],[-.04057576262431372,1.1122868293970594,-.07171106666151701],[-.07637294974672142,-.4214933239627914,1.5869240244272418]],LMStoLab_M=[[.2104542553,.793617785,-.0040720468],[1.9779984951,-2.428592205,.4505937099],[.0259040371,.7827717662,-.808675766]],LabtoLMS_M=[[.9999999984505198,.39633779217376786,.2158037580607588],[1.0000000088817609,-.10556134232365635,-.06385417477170591],[1.0000000546724108,-.08948418209496575,-1.2914855378640917]];var OKLab=new ColorSpace({id:"oklab",name:"Oklab",coords:{l:{refRange:[0,1],name:"L"},a:{refRange:[-.4,.4]},b:{refRange:[-.4,.4]}},white:"D65",base:XYZ_D65,fromBase(i){let s=multiplyMatrices(XYZtoLMS_M,i).map(o=>Math.cbrt(o));return multiplyMatrices(LMStoLab_M,s)},toBase(i){let s=multiplyMatrices(LabtoLMS_M,i).map(o=>o**3);return multiplyMatrices(LMStoXYZ_M,s)},formats:{oklab:{coords:["<percentage> | <number>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}});function deltaEOK(i,e){let[s,o,h]=OKLab.from(i),[_,$,j]=OKLab.from(e),_e=s-_,et=o-$,tt=h-j;return Math.sqrt(_e**2+et**2+tt**2)}var deltaEMethods={deltaE76,deltaECMC,deltaE2000,deltaEJz,deltaEITP,deltaEOK};function deltaE(i,e,s={}){isString$2(s)&&(s={method:s});let{method:o=defaults$3.deltaE,...h}=s;i=getColor(i),e=getColor(e);for(let _ in deltaEMethods)if("deltae"+o.toLowerCase()===_.toLowerCase())return deltaEMethods[_](i,e,h);throw new TypeError(`Unknown deltaE method: ${o}`)}function lighten(i,e=.25){let o=[ColorSpace.get("oklch","lch"),"l"];return set$1(i,o,h=>h*(1+e))}function darken(i,e=.25){let o=[ColorSpace.get("oklch","lch"),"l"];return set$1(i,o,h=>h*(1-e))}var variations=Object.freeze({__proto__:null,darken,lighten});function mix(i,e,s=.5,o={}){[i,e]=[getColor(i),getColor(e)],type(s)==="object"&&([s,o]=[.5,s]);let{space:h,outputSpace:_,premultiplied:$}=o;return range(i,e,{space:h,outputSpace:_,premultiplied:$})(s)}function steps(i,e,s={}){let o;isRange(i)&&([o,s]=[i,e],[i,e]=o.rangeArgs.colors);let{maxDeltaE:h,deltaEMethod:_,steps:$=2,maxSteps:j=1e3,..._e}=s;o||([i,e]=[getColor(i),getColor(e)],o=range(i,e,_e));let et=deltaE(i,e),tt=h>0?Math.max($,Math.ceil(et/h)+1):$,nt=[];if(j!==void 0&&(tt=Math.min(tt,j)),tt===1)nt=[{p:.5,color:o(.5)}];else{let rt=1/(tt-1);nt=Array.from({length:tt},(st,lt)=>{let ct=lt*rt;return{p:ct,color:o(ct)}})}if(h>0){let rt=nt.reduce((st,lt,ct)=>{if(ct===0)return 0;let ut=deltaE(lt.color,nt[ct-1].color,_);return Math.max(st,ut)},0);for(;rt>h;){rt=0;for(let st=1;st<nt.length&&nt.length<j;st++){let lt=nt[st-1],ct=nt[st],ut=(ct.p+lt.p)/2,ot=o(ut);rt=Math.max(rt,deltaE(ot,lt.color),deltaE(ot,ct.color)),nt.splice(st,0,{p:ut,color:o(ut)}),st++}}}return nt=nt.map(rt=>rt.color),nt}function range(i,e,s={}){if(isRange(i)){let[_e,et]=[i,e];return range(..._e.rangeArgs.colors,{..._e.rangeArgs.options,...et})}let{space:o,outputSpace:h,progression:_,premultiplied:$}=s;i=getColor(i),e=getColor(e),i=clone(i),e=clone(e);let j={colors:[i,e],options:s};if(o?o=ColorSpace.get(o):o=ColorSpace.registry[defaults$3.interpolationSpace]||i.space,h=h?ColorSpace.get(h):o,i=to(i,o),e=to(e,o),i=toGamut(i),e=toGamut(e),o.coords.h&&o.coords.h.type==="angle"){let _e=s.hue=s.hue||"shorter",et=[o,"h"],[tt,nt]=[get$1(i,et),get$1(e,et)];[tt,nt]=adjust(_e,[tt,nt]),set$1(i,et,tt),set$1(e,et,nt)}return $&&(i.coords=i.coords.map(_e=>_e*i.alpha),e.coords=e.coords.map(_e=>_e*e.alpha)),Object.assign(_e=>{_e=_?_(_e):_e;let et=i.coords.map((rt,st)=>{let lt=e.coords[st];return interpolate(rt,lt,_e)}),tt=interpolate(i.alpha,e.alpha,_e),nt={space:o,coords:et,alpha:tt};return $&&(nt.coords=nt.coords.map(rt=>rt/tt)),h!==o&&(nt=to(nt,h)),nt},{rangeArgs:j})}function isRange(i){return type(i)==="function"&&!!i.rangeArgs}defaults$3.interpolationSpace="lab";function register(i){i.defineFunction("mix",mix,{returns:"color"}),i.defineFunction("range",range,{returns:"function<color>"}),i.defineFunction("steps",steps,{returns:"array<color>"})}var interpolation=Object.freeze({__proto__:null,isRange,mix,range,register,steps}),HSL=new ColorSpace({id:"hsl",name:"HSL",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},l:{range:[0,100],name:"Lightness"}},base:sRGB,fromBase:i=>{let e=Math.max(...i),s=Math.min(...i),[o,h,_]=i,[$,j,_e]=[NaN,0,(s+e)/2],et=e-s;if(et!==0){switch(j=_e===0||_e===1?0:(e-_e)/Math.min(_e,1-_e),e){case o:$=(h-_)/et+(h<_?6:0);break;case h:$=(_-o)/et+2;break;case _:$=(o-h)/et+4}$=$*60}return[$,j*100,_e*100]},toBase:i=>{let[e,s,o]=i;e=e%360,e<0&&(e+=360),s/=100,o/=100;function h(_){let $=(_+e/30)%12,j=s*Math.min(o,1-o);return o-j*Math.max(-1,Math.min($-3,9-$,1))}return[h(0),h(8),h(4)]},formats:{hsl:{toGamut:!0,coords:["<number> | <angle>","<percentage>","<percentage>"]},hsla:{coords:["<number> | <angle>","<percentage>","<percentage>"],commas:!0,lastAlpha:!0}}}),HSV=new ColorSpace({id:"hsv",name:"HSV",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},v:{range:[0,100],name:"Value"}},base:HSL,fromBase(i){let[e,s,o]=i;s/=100,o/=100;let h=o+s*Math.min(o,1-o);return[e,h===0?0:200*(1-o/h),100*h]},toBase(i){let[e,s,o]=i;s/=100,o/=100;let h=o*(1-s/2);return[e,h===0||h===1?0:(o-h)/Math.min(h,1-h)*100,h*100]},formats:{color:{toGamut:!0}}}),hwb=new ColorSpace({id:"hwb",name:"HWB",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},w:{range:[0,100],name:"Whiteness"},b:{range:[0,100],name:"Blackness"}},base:HSV,fromBase(i){let[e,s,o]=i;return[e,o*(100-s)/100,100-o]},toBase(i){let[e,s,o]=i;s/=100,o/=100;let h=s+o;if(h>=1){let j=s/h;return[e,0,j*100]}let _=1-o,$=_===0?0:1-s/_;return[e,$*100,_*100]},formats:{hwb:{toGamut:!0,coords:["<number> | <angle>","<percentage>","<percentage>"]}}});const toXYZ_M$2=[[.5766690429101305,.1855582379065463,.1882286462349947],[.29734497525053605,.6273635662554661,.07529145849399788],[.02703136138641234,.07068885253582723,.9913375368376388]],fromXYZ_M$2=[[2.0415879038107465,-.5650069742788596,-.34473135077832956],[-.9692436362808795,1.8759675015077202,.04155505740717557],[.013444280632031142,-.11836239223101838,1.0151749943912054]];var A98Linear=new RGBColorSpace({id:"a98rgb-linear",name:"Linear Adobe® 98 RGB compatible",white:"D65",toXYZ_M:toXYZ_M$2,fromXYZ_M:fromXYZ_M$2}),a98rgb=new RGBColorSpace({id:"a98rgb",name:"Adobe® 98 RGB compatible",base:A98Linear,toBase:i=>i.map(e=>Math.pow(Math.abs(e),563/256)*Math.sign(e)),fromBase:i=>i.map(e=>Math.pow(Math.abs(e),256/563)*Math.sign(e)),formats:{color:{id:"a98-rgb"}}});const toXYZ_M$1=[[.7977604896723027,.13518583717574031,.0313493495815248],[.2880711282292934,.7118432178101014,8565396060525902e-20],[0,0,.8251046025104601]],fromXYZ_M$1=[[1.3457989731028281,-.25558010007997534,-.05110628506753401],[-.5446224939028347,1.5082327413132781,.02053603239147973],[0,0,1.2119675456389454]];var ProPhotoLinear=new RGBColorSpace({id:"prophoto-linear",name:"Linear ProPhoto",white:"D50",base:XYZ_D50,toXYZ_M:toXYZ_M$1,fromXYZ_M:fromXYZ_M$1});const Et=1/512,Et2=16/512;var prophoto=new RGBColorSpace({id:"prophoto",name:"ProPhoto",base:ProPhotoLinear,toBase(i){return i.map(e=>e<Et2?e/16:e**1.8)},fromBase(i){return i.map(e=>e>=Et?e**(1/1.8):16*e)},formats:{color:{id:"prophoto-rgb"}}}),oklch=new ColorSpace({id:"oklch",name:"Oklch",coords:{l:{refRange:[0,1],name:"Lightness"},c:{refRange:[0,.4],name:"Chroma"},h:{refRange:[0,360],type:"angle",name:"Hue"}},white:"D65",base:OKLab,fromBase(i){let[e,s,o]=i,h;const _=2e-4;return Math.abs(s)<_&&Math.abs(o)<_?h=NaN:h=Math.atan2(o,s)*180/Math.PI,[e,Math.sqrt(s**2+o**2),constrain(h)]},toBase(i){let[e,s,o]=i,h,_;return isNaN(o)?(h=0,_=0):(h=s*Math.cos(o*Math.PI/180),_=s*Math.sin(o*Math.PI/180)),[e,h,_]},formats:{oklch:{coords:["<number> | <percentage>","<number> | <percentage>[0,1]","<number> | <angle>"]}}});const Yw=203,n=2610/2**14,ninv=2**14/2610,m=2523/2**5,minv=2**5/2523,c1=3424/2**12,c2=2413/2**7,c3=2392/2**7;var rec2100Pq=new RGBColorSpace({id:"rec2100pq",name:"REC.2100-PQ",base:REC2020Linear,toBase(i){return i.map(function(e){return(Math.max(e**minv-c1,0)/(c2-c3*e**minv))**ninv*1e4/Yw})},fromBase(i){return i.map(function(e){let s=Math.max(e*Yw/1e4,0),o=c1+c2*s**n,h=1+c3*s**n;return(o/h)**m})},formats:{color:{id:"rec2100-pq"}}});const a=.17883277,b=.28466892,c=.55991073,scale=3.7743;var rec2100Hlg=new RGBColorSpace({id:"rec2100hlg",cssid:"rec2100-hlg",name:"REC.2100-HLG",referred:"scene",base:REC2020Linear,toBase(i){return i.map(function(e){return e<=.5?e**2/3*scale:(Math.exp((e-c)/a)+b)/12*scale})},fromBase(i){return i.map(function(e){return e/=scale,e<=1/12?Math.sqrt(3*e):a*Math.log(12*e-b)+c})},formats:{color:{id:"rec2100-hlg"}}});const CATs={};hooks.add("chromatic-adaptation-start",i=>{i.options.method&&(i.M=adapt(i.W1,i.W2,i.options.method))});hooks.add("chromatic-adaptation-end",i=>{i.M||(i.M=adapt(i.W1,i.W2,i.options.method))});function defineCAT({id:i,toCone_M:e,fromCone_M:s}){CATs[i]=arguments[0]}function adapt(i,e,s="Bradford"){let o=CATs[s],[h,_,$]=multiplyMatrices(o.toCone_M,i),[j,_e,et]=multiplyMatrices(o.toCone_M,e),tt=[[j/h,0,0],[0,_e/_,0],[0,0,et/$]],nt=multiplyMatrices(tt,o.toCone_M);return multiplyMatrices(o.fromCone_M,nt)}defineCAT({id:"von Kries",toCone_M:[[.40024,.7076,-.08081],[-.2263,1.16532,.0457],[0,0,.91822]],fromCone_M:[[1.8599364,-1.1293816,.2198974],[.3611914,.6388125,-64e-7],[0,0,1.0890636]]});defineCAT({id:"Bradford",toCone_M:[[.8951,.2664,-.1614],[-.7502,1.7135,.0367],[.0389,-.0685,1.0296]],fromCone_M:[[.9869929,-.1470543,.1599627],[.4323053,.5183603,.0492912],[-.0085287,.0400428,.9684867]]});defineCAT({id:"CAT02",toCone_M:[[.7328,.4296,-.1624],[-.7036,1.6975,.0061],[.003,.0136,.9834]],fromCone_M:[[1.0961238,-.278869,.1827452],[.454369,.4735332,.0720978],[-.0096276,-.005698,1.0153256]]});defineCAT({id:"CAT16",toCone_M:[[.401288,.650173,-.051461],[-.250268,1.204414,.045854],[-.002079,.048952,.953127]],fromCone_M:[[1.862067855087233,-1.011254630531685,.1491867754444518],[.3875265432361372,.6214474419314753,-.008973985167612518],[-.01584149884933386,-.03412293802851557,1.04996443687785]]});Object.assign(WHITES,{A:[1.0985,1,.35585],C:[.98074,1,1.18232],D55:[.95682,1,.92149],D75:[.94972,1,1.22638],E:[1,1,1],F2:[.99186,1,.67393],F7:[.95041,1,1.08747],F11:[1.00962,1,.6435]});WHITES.ACES=[.32168/.33767,1,(1-.32168-.33767)/.33767];const toXYZ_M=[[.6624541811085053,.13400420645643313,.1561876870049078],[.27222871678091454,.6740817658111484,.05368951740793705],[-.005574649490394108,.004060733528982826,1.0103391003129971]],fromXYZ_M=[[1.6410233796943257,-.32480329418479,-.23642469523761225],[-.6636628587229829,1.6153315916573379,.016756347685530137],[.011721894328375376,-.008284441996237409,.9883948585390215]];var ACEScg=new RGBColorSpace({id:"acescg",name:"ACEScg",coords:{r:{range:[0,65504],name:"Red"},g:{range:[0,65504],name:"Green"},b:{range:[0,65504],name:"Blue"}},referred:"scene",white:WHITES.ACES,toXYZ_M,fromXYZ_M,formats:{color:{}}});const ε=2**-16,ACES_min_nonzero=-.35828683,ACES_cc_max=(Math.log2(65504)+9.72)/17.52;var acescc=new RGBColorSpace({id:"acescc",name:"ACEScc",coords:{r:{range:[ACES_min_nonzero,ACES_cc_max],name:"Red"},g:{range:[ACES_min_nonzero,ACES_cc_max],name:"Green"},b:{range:[ACES_min_nonzero,ACES_cc_max],name:"Blue"}},referred:"scene",base:ACEScg,toBase(i){const e=-.3013698630136986;return i.map(function(s){return s<=e?(2**(s*17.52-9.72)-ε)*2:s<ACES_cc_max?2**(s*17.52-9.72):65504})},fromBase(i){return i.map(function(e){return e<=0?(Math.log2(ε)+9.72)/17.52:e<ε?(Math.log2(ε+e*.5)+9.72)/17.52:(Math.log2(e)+9.72)/17.52})},formats:{color:{}}}),spaces=Object.freeze({__proto__:null,A98RGB:a98rgb,A98RGB_Linear:A98Linear,ACEScc:acescc,ACEScg,HSL,HSV,HWB:hwb,ICTCP:ictcp,JzCzHz:jzczhz,Jzazbz,LCH:lch,Lab:lab,Lab_D65:lab_d65,OKLCH:oklch,OKLab,P3,P3_Linear:P3Linear,ProPhoto:prophoto,ProPhoto_Linear:ProPhotoLinear,REC_2020:REC2020,REC_2020_Linear:REC2020Linear,REC_2100_HLG:rec2100Hlg,REC_2100_PQ:rec2100Pq,XYZ_ABS_D65:XYZ_Abs_D65,XYZ_D50,XYZ_D65,sRGB,sRGB_Linear:sRGBLinear});class Color{constructor(...e){let s;e.length===1&&(s=getColor(e[0]));let o,h,_;s?(o=s.space||s.spaceId,h=s.coords,_=s.alpha):[o,h,_]=e,Object.defineProperty(this,"space",{value:ColorSpace.get(o),writable:!1,enumerable:!0,configurable:!0}),this.coords=h?h.slice():[0,0,0],this.alpha=_<1?_:1;for(let $=0;$<this.coords.length;$++)this.coords[$]==="NaN"&&(this.coords[$]=NaN);for(let $ in this.space.coords)Object.defineProperty(this,$,{get:()=>this.get($),set:j=>this.set($,j)})}get spaceId(){return this.space.id}clone(){return new Color(this.space,this.coords,this.alpha)}toJSON(){return{spaceId:this.spaceId,coords:this.coords,alpha:this.alpha}}display(...e){let s=display(this,...e);return s.color=new Color(s.color),s}static get(e,...s){return e instanceof Color?e:new Color(e,...s)}static defineFunction(e,s,o=s){let{instance:h=!0,returns:_}=o,$=function(...j){let _e=s(...j);if(_==="color")_e=Color.get(_e);else if(_==="function<color>"){let et=_e;_e=function(...tt){let nt=et(...tt);return Color.get(nt)},Object.assign(_e,et)}else _==="array<color>"&&(_e=_e.map(et=>Color.get(et)));return _e};e in Color||(Color[e]=$),h&&(Color.prototype[e]=function(...j){return $(this,...j)})}static defineFunctions(e){for(let s in e)Color.defineFunction(s,e[s],e[s])}static extend(e){if(e.register)e.register(Color);else for(let s in e)Color.defineFunction(s,e[s])}}Color.defineFunctions({get:get$1,getAll,set:set$1,setAll,to,equals,inGamut,toGamut,distance,toString:serialize});Object.assign(Color,{util:util$1,hooks,WHITES,Space:ColorSpace,spaces:ColorSpace.registry,parse,defaults:defaults$3});for(let i of Object.keys(spaces))ColorSpace.register(spaces[i]);for(let i in ColorSpace.registry)addSpaceAccessors(i,ColorSpace.registry[i]);hooks.add("colorspace-init-end",i=>{var e;addSpaceAccessors(i.id,i),(e=i.aliases)==null||e.forEach(s=>{addSpaceAccessors(s,i)})});function addSpaceAccessors(i,e){Object.keys(e.coords),Object.values(e.coords).map(o=>o.name);let s=i.replace(/-/g,"_");Object.defineProperty(Color.prototype,s,{get(){let o=this.getAll(i);return typeof Proxy>"u"?o:new Proxy(o,{has:(h,_)=>{try{return ColorSpace.resolveCoord([e,_]),!0}catch{}return Reflect.has(h,_)},get:(h,_,$)=>{if(_&&typeof _!="symbol"&&!(_ in h)){let{index:j}=ColorSpace.resolveCoord([e,_]);if(j>=0)return h[j]}return Reflect.get(h,_,$)},set:(h,_,$,j)=>{if(_&&typeof _!="symbol"&&!(_ in h)||_>=0){let{index:_e}=ColorSpace.resolveCoord([e,_]);if(_e>=0)return h[_e]=$,this.setAll(i,h),!0}return Reflect.set(h,_,$,j)}})},set(o){this.setAll(i,o)},configurable:!0,enumerable:!0})}Color.extend(deltaEMethods);Color.extend({deltaE});Object.assign(Color,{deltaEMethods});Color.extend(variations);Color.extend({contrast});Color.extend(chromaticity);Color.extend(luminance);Color.extend(interpolation);Color.extend(contrastMethods);class Slime2Color extends Color{static light(e){return new Color(this._generateAccessibleColor(e,"black")).toString({format:"hex"})}static dark(e){return new Color(this._generateAccessibleColor(e,"white")).toString({format:"hex"})}static accessibleBackground(e){const s=this._contrast("black",e),o=this._contrast("white",e);return s>o?"black":"white"}static accessibleForeground(e){const s=this._contrast(e,"black"),o=this._contrast(e,"white");return s>o?"black":"white"}static _generateAccessibleColor(e,s){let o=e;const h=this.steps(e,s==="black"?"white":"black",{space:"hsv",outputSpace:"srgb",steps:9});for(const _ of h)if(this._contrast(s,_)>75){o=_;break}return o}static _contrast(e,s){return Math.abs(this.contrastAPCA(e,s))}}const infiniteCache={gcTime:1/0,staleTime:1/0,retry:1,retryOnMount:!1,refetchOnMount:!1,refetchOnWindowFocus:!1,refetchOnReconnect:!1};function generateInnerHTML(i){const s=(i instanceof DocumentFragment?i:i[0]).cloneNode(!0),o=document.createElement("div");o.appendChild(s);const h=o.innerHTML;return o.remove(),h}function cloneTemplate(i){const e=document.getElementById(i);if(!e)throw Error(`Template with id "${i}" not found.`);if(e.tagName!=="TEMPLATE")throw Error(`Element with id "${i}" is not a template.`);return e.content.cloneNode(!0)}const avatarSize=60,providerLogoSize=20;function SuccessBanner({broadcaster:i,staticPosition:e,platform:s}){const[o,h]=reactExports.useState(!1);return reactExports.useEffect(()=>{setTimeout(()=>{h(!0)},3.5*1e3)},[]),o?null:jsxRuntimeExports.jsx(Banner,{status:"success",staticPosition:e,className:"slime2-banner-fade",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center",children:["Connected to",jsxRuntimeExports.jsx("a",{href:i.url,target:"_blank",children:jsxRuntimeExports.jsxs("div",{className:"relative mx-3 inline-block",children:[jsxRuntimeExports.jsx("img",{src:i.image,alt:"Your Profile Picture",width:avatarSize,height:avatarSize,className:"inline rounded-full"}),jsxRuntimeExports.jsx("img",{src:`https://slime2.stream/assets/${s}-logo.svg`,height:providerLogoSize,width:providerLogoSize,alt:"Stream Platform Logo",className:"absolute -bottom-px -right-1"})]})}),i.displayName]})})}function usePlatformReady(){const i=reactExports.useContext(PlatformReadyContext);function e(s){return!!i[s]}return{isPlatformReady:e}}function usePlatformReadyDispatch(){const i=reactExports.useContext(PlatformReadyDispatchContext);function e(s){i({type:s})}return{setPlatformReady:e}}const initialState$2={},PlatformReadyContext=reactExports.createContext(initialState$2),PlatformReadyDispatchContext=reactExports.createContext(emptyFunction$1);function platformReadyReducer(i,e){switch(e.type){case"twitch":return{...i,twitch:!0};case"youtube":return{...i,youtube:!0}}}function useEventList(){return reactExports.useContext(EventListContext)}function useEventListDispatch(){const i=reactExports.useContext(EventListDispatchContext),e=useEventList(),s=useClient(),{maxEvents:o,eventDelay:h}=s;function _(et,tt){i({type:"remove",eventType:et,eventId:tt})}function $(et){if(e.length+1>o){const[nt]=e;_(nt.type,nt.id)}function tt(){i({type:"add",event:{...et,renderable:!0,remove:()=>_(et.type,et.id)}})}h?setTimeout(tt,h):tt()}function j(et){i({type:"remove-user",userId:et})}function _e(){i({type:"remove-messages"})}return{removeEvent:_,addEvent:$,removeUser:j,removeMessages:_e}}const initialState$1=[],EventListContext=reactExports.createContext(initialState$1),EventListDispatchContext=reactExports.createContext(emptyFunction$1);function eventListReducer(i,e){switch(e.type){case"add":return[...i,e.event];case"remove":return i.filter(s=>s.type!==e.eventType||s.id!==e.eventId);case"remove-user":return i.filter(s=>s.userId!==e.userId);case"remove-messages":return i.filter(s=>s.type!=="message")}}var extendStatics=function(i,e){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,o){s.__proto__=o}||function(s,o){for(var h in o)Object.prototype.hasOwnProperty.call(o,h)&&(s[h]=o[h])},extendStatics(i,e)};function __extends(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");extendStatics(i,e);function s(){this.constructor=i}i.prototype=e===null?Object.create(e):(s.prototype=e.prototype,new s)}var __assign=function(){return __assign=Object.assign||function(e){for(var s,o=1,h=arguments.length;o<h;o++){s=arguments[o];for(var _ in s)Object.prototype.hasOwnProperty.call(s,_)&&(e[_]=s[_])}return e},__assign.apply(this,arguments)};function __decorate(i,e,s,o){var h=arguments.length,_=h<3?e:o===null?o=Object.getOwnPropertyDescriptor(e,s):o,$;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_=Reflect.decorate(i,e,s,o);else for(var j=i.length-1;j>=0;j--)($=i[j])&&(_=(h<3?$(_):h>3?$(e,s,_):$(e,s))||_);return h>3&&_&&Object.defineProperty(e,s,_),_}function __awaiter(i,e,s,o){function h(_){return _ instanceof s?_:new s(function($){$(_)})}return new(s||(s=Promise))(function(_,$){function j(tt){try{et(o.next(tt))}catch(nt){$(nt)}}function _e(tt){try{et(o.throw(tt))}catch(nt){$(nt)}}function et(tt){tt.done?_(tt.value):h(tt.value).then(j,_e)}et((o=o.apply(i,e||[])).next())})}function __generator(i,e){var s={label:0,sent:function(){if(_[0]&1)throw _[1];return _[1]},trys:[],ops:[]},o,h,_,$;return $={next:j(0),throw:j(1),return:j(2)},typeof Symbol=="function"&&($[Symbol.iterator]=function(){return this}),$;function j(et){return function(tt){return _e([et,tt])}}function _e(et){if(o)throw new TypeError("Generator is already executing.");for(;$&&($=0,et[0]&&(s=0)),s;)try{if(o=1,h&&(_=et[0]&2?h.return:et[0]?h.throw||((_=h.return)&&_.call(h),0):h.next)&&!(_=_.call(h,et[1])).done)return _;switch(h=0,_&&(et=[et[0]&2,_.value]),et[0]){case 0:case 1:_=et;break;case 4:return s.label++,{value:et[1],done:!1};case 5:s.label++,h=et[1],et=[0];continue;case 7:et=s.ops.pop(),s.trys.pop();continue;default:if(_=s.trys,!(_=_.length>0&&_[_.length-1])&&(et[0]===6||et[0]===2)){s=0;continue}if(et[0]===3&&(!_||et[1]>_[0]&&et[1]<_[3])){s.label=et[1];break}if(et[0]===6&&s.label<_[1]){s.label=_[1],_=et;break}if(_&&s.label<_[2]){s.label=_[2],s.ops.push(et);break}_[2]&&s.ops.pop(),s.trys.pop();continue}et=e.call(i,s)}catch(tt){et=[6,tt],h=0}finally{o=_=0}if(et[0]&5)throw et[1];return{value:et[0]?et[1]:void 0,done:!0}}}function __values(i){var e=typeof Symbol=="function"&&Symbol.iterator,s=e&&i[e],o=0;if(s)return s.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&o>=i.length&&(i=void 0),{value:i&&i[o++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(i,e){var s=typeof Symbol=="function"&&i[Symbol.iterator];if(!s)return i;var o=s.call(i),h,_=[],$;try{for(;(e===void 0||e-- >0)&&!(h=o.next()).done;)_.push(h.value)}catch(j){$={error:j}}finally{try{h&&!h.done&&(s=o.return)&&s.call(o)}finally{if($)throw $.error}}return _}function __spreadArray(i,e,s){if(s||arguments.length===2)for(var o=0,h=e.length,_;o<h;o++)(_||!(o in e))&&(_||(_=Array.prototype.slice.call(e,0,o)),_[o]=e[o]);return i.concat(_||Array.prototype.slice.call(e))}typeof SuppressedError=="function"&&SuppressedError;const isNode=Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]";var _a$3,LogLevel;(function(i){i[i.CRITICAL=0]="CRITICAL",i[i.ERROR=1]="ERROR",i[i.WARNING=2]="WARNING",i[i.INFO=3]="INFO",i[i.DEBUG=4]="DEBUG",i[i.TRACE=7]="TRACE"})(LogLevel||(LogLevel={}));function resolveLogLevel(i){if(typeof i=="number"){if(Object.prototype.hasOwnProperty.call(LogLevel,i))return i;var e=Object.keys(LogLevel).map(function(o){return parseInt(o,10)}).filter(function(o){return!isNaN(o)&&o<i});return e.length?Math.max.apply(Math,e):LogLevel.WARNING}var s=i.replace(/\d+$/,"").toUpperCase();if(!Object.prototype.hasOwnProperty.call(LogLevel,s))throw new Error("Unknown log level string: ".concat(i));return LogLevel[s]}var debugFunction=isNode?console.log.bind(console):console.debug.bind(console),LogLevelToConsoleFunction=(_a$3={},_a$3[LogLevel.CRITICAL]=console.error.bind(console),_a$3[LogLevel.ERROR]=console.error.bind(console),_a$3[LogLevel.WARNING]=console.warn.bind(console),_a$3[LogLevel.INFO]=console.info.bind(console),_a$3[LogLevel.DEBUG]=debugFunction.bind(console),_a$3[LogLevel.TRACE]=console.trace.bind(console),_a$3);function Enumerable(i){return i===void 0&&(i=!0),function(e,s){Object.defineProperty(e,s,{get:function(){},set:function(o){Object.defineProperty(this,s,{value:o,writable:!0,enumerable:i})},enumerable:i})}}function flatten(i){var e;return(e=[]).concat.apply(e,__spreadArray([],__read(i),!1))}function resolveConfigValue(i){return __awaiter(this,void 0,Promise,function(){return __generator(this,function(e){switch(e.label){case 0:return typeof i!="function"?[3,2]:[4,i()];case 1:return[2,e.sent()];case 2:return[2,i]}})})}function resolveConfigValueSync(i){return typeof i=="function"?i():i}function fibWithLimit(i){var e,s,o;return __generator(this,function(h){switch(h.label){case 0:e=0,s=1,h.label=1;case 1:return e<i?[4,e]:[3,3];case 2:return h.sent(),o=__read([s,e+s],2),e=o[0],s=o[1],[3,1];case 3:return[4,i];case 4:return h.sent(),[3,3];case 5:return[2]}})}function arrayToObject$2(i,e){return Object.assign.apply(Object,__spreadArray([{}],__read(i.map(e)),!1))}function forEachObjectEntry(i,e){Object.entries(i).forEach(function(s){var o=__read(s,2),h=o[0],_=o[1];return e(_,h)})}function indexBy(i,e){if(typeof e!="function"){var s=e;e=function(o){return o[s].toString()}}return arrayToObject$2(i,function(o){var h;return h={},h[e(o)]=o,h})}function isNullish(i){return i==null}function mapNullable(i,e){return isNullish(i)?null:e(i)}function mapOptional(i,e){return isNullish(i)?void 0:e(i)}function delay(i){return __awaiter(this,void 0,Promise,function(){return __generator(this,function(e){switch(e.label){case 0:return[4,new Promise(function(s){return setTimeout(s,i)})];case 1:return e.sent(),[2]}})})}function promiseWithResolvers(){var i,e,s=new Promise(function(o,h){i=o,e=h});return{promise:s,resolve:i,reject:e}}function padLeft(i,e,s){if(typeof i=="number"&&(i=i.toString()),e=e-i.length,e<=0)return i;s===void 0&&(s=" ");var o="";do(e&1)===1&&(o+=s),e>>=1,e&&(s+=s);while(e);return o+i}function splitWithLimit(i,e,s){var o=i.split(e);return o.length<=s?o:__spreadArray(__spreadArray([],__read(o.slice(0,s-1)),!1),[o.slice(s-1).join(e)],!1)}function utf8Length(i){return __spreadArray([],__read(i),!1).length}function utf8Substring(i,e,s){return __spreadArray([],__read(i),!1).slice(e,s).join("")}var _a$2,_b$1,data=typeof process>"u"?[]:(_b$1=(_a$2={}.LOGGING)===null||_a$2===void 0?void 0:_a$2.split(";").map(function(i){var e=i.split("=",2),s=e[0],o=e[1];return o?[s==="default"?void 0:s.split(":"),resolveLogLevel(o)]:null}).filter(function(i){return!!i}).sort(function(i,e){var s,o,h=i[0],_=e[0];return((s=_==null?void 0:_.length)!==null&&s!==void 0?s:0)-((o=h==null?void 0:h.length)!==null&&o!==void 0?o:0)}))!==null&&_b$1!==void 0?_b$1:[],defaultIndex=data.findIndex(function(i){var e=i[0];return!e}),defaultLevel=void 0;defaultIndex!==-1&&(defaultLevel=data[defaultIndex][1],data.splice(defaultIndex));function isPrefix(i,e){return e.length<=i.length&&e.every(function(s,o){return s===i[o]})}function getMinLogLevelFromEnv(i){for(var e=i.split(":"),s=0,o=data;s<o.length;s++){var h=o[s],_=h[0],$=h[1];if(isPrefix(e,_))return $}return defaultLevel}var BaseLogger=function(){function i(e){var s=e.name,o=e.minLevel,h=e.emoji,_=h===void 0?!1:h,$=e.colors,j=e.timestamps,_e=j===void 0?isNode:j,et,tt;this._name=s,this._minLevel=(tt=(et=mapOptional(o,function(nt){return resolveLogLevel(nt)}))!==null&&et!==void 0?et:getMinLogLevelFromEnv(s))!==null&&tt!==void 0?tt:LogLevel.WARNING,this._emoji=_,this._colors=$,this._timestamps=_e}return i.prototype.crit=function(e){this.log(LogLevel.CRITICAL,e)},i.prototype.error=function(e){this.log(LogLevel.ERROR,e)},i.prototype.warn=function(e){this.log(LogLevel.WARNING,e)},i.prototype.info=function(e){this.log(LogLevel.INFO,e)},i.prototype.debug=function(e){this.log(LogLevel.DEBUG,e)},i.prototype.trace=function(e){this.log(LogLevel.TRACE,e)},i}(),BrowserLogger=function(i){__extends(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.log=function(s,o){if(!(s>this._minLevel)){var h=LogLevelToConsoleFunction[s],_="[".concat(this._name,"] ").concat(o);this._timestamps&&(_="[".concat(new Date().toISOString(),"] ").concat(o)),h(_)}},e}(BaseLogger),CustomLoggerWrapper=function(){function i(e){var s=e.name,o=e.minLevel,h=e.custom,_;this._minLevel=(_=mapOptional(o,function($){return resolveLogLevel($)}))!==null&&_!==void 0?_:getMinLogLevelFromEnv(s),this._override=typeof h=="function"?{log:h}:h}return i.prototype.log=function(e,s){this._shouldLog(e)&&this._override.log(e,s)},i.prototype.crit=function(e){this._override.crit?this._shouldLog(LogLevel.CRITICAL)&&this._override.crit(e):this.log(LogLevel.CRITICAL,e)},i.prototype.error=function(e){this._override.error?this._shouldLog(LogLevel.ERROR)&&this._override.error(e):this.log(LogLevel.ERROR,e)},i.prototype.warn=function(e){this._override.warn?this._shouldLog(LogLevel.WARNING)&&this._override.warn(e):this.log(LogLevel.WARNING,e)},i.prototype.info=function(e){this._override.info?this._shouldLog(LogLevel.INFO)&&this._override.info(e):this.log(LogLevel.INFO,e)},i.prototype.debug=function(e){this._override.debug?this._shouldLog(LogLevel.DEBUG)&&this._override.debug(e):this.log(LogLevel.DEBUG,e)},i.prototype.trace=function(e){this._override.trace?this._shouldLog(LogLevel.TRACE)&&this._override.trace(e):this.log(LogLevel.TRACE,e)},i.prototype._shouldLog=function(e){return this._minLevel===void 0||this._minLevel>=e},i}(),_a$1,_b,_c,LogLevelToEmoji=(_a$1={},_a$1[LogLevel.CRITICAL]="🛑",_a$1[LogLevel.ERROR]="❌",_a$1[LogLevel.WARNING]="⚠️ ",_a$1[LogLevel.INFO]="ℹ️ ",_a$1[LogLevel.DEBUG]="🐞",_a$1[LogLevel.TRACE]="🐾",_a$1),colors={black:30,red:31,green:32,yellow:33,blue:34,magenta:35,cyan:36,white:37,blackBright:90,redBright:91,greenBright:92,yellowBright:93,blueBright:94,magentaBright:95,cyanBright:96,whiteBright:97},bgColors={bgBlack:40,bgRed:41,bgGreen:42,bgYellow:43,bgBlue:44,bgMagenta:45,bgCyan:46,bgWhite:47,bgBlackBright:100,bgRedBright:101,bgGreenBright:102,bgYellowBright:103,bgBlueBright:104,bgMagentaBright:105,bgCyanBright:106,bgWhiteBright:107};function createGenericWrapper(i,e,s){return function(o){return"\x1B[".concat(i,"m").concat(s?s(o):o,"\x1B[").concat(e,"m")}}function createColorWrapper(i){return createGenericWrapper(colors[i],39)}function createBgWrapper(i,e){return createGenericWrapper(bgColors[i],49,e)}var LogLevelToColor=(_b={},_b[LogLevel.CRITICAL]=createColorWrapper("red"),_b[LogLevel.ERROR]=createColorWrapper("redBright"),_b[LogLevel.WARNING]=createColorWrapper("yellow"),_b[LogLevel.INFO]=createColorWrapper("blue"),_b[LogLevel.DEBUG]=createColorWrapper("magenta"),_b[LogLevel.TRACE]=createGenericWrapper(0,0),_b),LogLevelToBackgroundColor=(_c={},_c[LogLevel.CRITICAL]=createBgWrapper("bgRed",createColorWrapper("white")),_c[LogLevel.ERROR]=createBgWrapper("bgRedBright",createColorWrapper("white")),_c[LogLevel.WARNING]=createBgWrapper("bgYellow",createColorWrapper("black")),_c[LogLevel.INFO]=createBgWrapper("bgBlue",createColorWrapper("white")),_c[LogLevel.DEBUG]=createBgWrapper("bgMagenta",createColorWrapper("black")),_c[LogLevel.TRACE]=createGenericWrapper(7,27),_c),NodeLogger=function(i){__extends(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.log=function(s,o){var h,_,$;if(!(s>this._minLevel)){var j=LogLevelToConsoleFunction[s],_e="";if(this._timestamps&&(_e+="[".concat(new Date().toISOString(),"] ")),this._emoji){var et=LogLevelToEmoji[s];_e+="".concat(et," ")}var tt=($=(h=this._colors)!==null&&h!==void 0?h:(_=process.stdout)===null||_===void 0?void 0:_.isTTY)!==null&&$!==void 0?$:!0;tt?_e+="".concat(LogLevelToBackgroundColor[s](this._name)," ").concat(LogLevelToBackgroundColor[s](LogLevel[s])," ").concat(LogLevelToColor[s](o)):_e+="[".concat(this._name,":").concat(LogLevel[s].toLowerCase(),"] ").concat(o),j(_e)}},e}(BaseLogger);function createLogger(i){return i.custom?new CustomLoggerWrapper(i):isNode?new NodeLogger(i):new BrowserLogger(i)}var CustomError$1=function(i){__extends(e,i);function e(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];var h=this.constructor,_=this,$;return _=i.apply(this,__spreadArray([],__read(s),!1))||this,Object.setPrototypeOf(_,h.prototype),($=Error.captureStackTrace)===null||$===void 0||$.call(Error,_,h.constructor),_}return Object.defineProperty(e.prototype,"name",{get:function(){return this.constructor.name},enumerable:!1,configurable:!0}),e}(Error),RetryAfterError=function(i){__extends(e,i);function e(s){var o=i.call(this,"Need to retry after ".concat(s," ms"))||this;return o._retryAt=Date.now()+s,o}return Object.defineProperty(e.prototype,"retryAt",{get:function(){return this._retryAt},enumerable:!1,configurable:!0}),e}(CustomError$1),RateLimitReachedError=function(i){__extends(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e}(CustomError$1),promise_allsettled={exports:{}},callBind$1={exports:{}},ERROR_MESSAGE="Function.prototype.bind called on incompatible ",toStr$2=Object.prototype.toString,max=Math.max,funcType="[object Function]",concatty=function(e,s){for(var o=[],h=0;h<e.length;h+=1)o[h]=e[h];for(var _=0;_<s.length;_+=1)o[_+e.length]=s[_];return o},slicy=function(e,s){for(var o=[],h=s||0,_=0;h<e.length;h+=1,_+=1)o[_]=e[h];return o},joiny=function(i,e){for(var s="",o=0;o<i.length;o+=1)s+=i[o],o+1<i.length&&(s+=e);return s},implementation$6=function(e){var s=this;if(typeof s!="function"||toStr$2.apply(s)!==funcType)throw new TypeError(ERROR_MESSAGE+s);for(var o=slicy(arguments,1),h,_=function(){if(this instanceof h){var tt=s.apply(this,concatty(o,arguments));return Object(tt)===tt?tt:this}return s.apply(e,concatty(o,arguments))},$=max(0,s.length-o.length),j=[],_e=0;_e<$;_e++)j[_e]="$"+_e;if(h=Function("binder","return function ("+joiny(j,",")+"){ return binder.apply(this,arguments); }")(_),s.prototype){var et=function(){};et.prototype=s.prototype,h.prototype=new et,et.prototype=null}return h},implementation$5=implementation$6,functionBind=Function.prototype.bind||implementation$5,shams$1,hasRequiredShams$1;function requireShams$1(){return hasRequiredShams$1||(hasRequiredShams$1=1,shams$1=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},s=Symbol("test"),o=Object(s);if(typeof s=="string"||Object.prototype.toString.call(s)!=="[object Symbol]"||Object.prototype.toString.call(o)!=="[object Symbol]")return!1;var h=42;e[s]=h;for(s in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var _=Object.getOwnPropertySymbols(e);if(_.length!==1||_[0]!==s||!Object.prototype.propertyIsEnumerable.call(e,s))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var $=Object.getOwnPropertyDescriptor(e,s);if($.value!==h||$.enumerable!==!0)return!1}return!0}),shams$1}var hasSymbols$1,hasRequiredHasSymbols;function requireHasSymbols(){if(hasRequiredHasSymbols)return hasSymbols$1;hasRequiredHasSymbols=1;var i=typeof Symbol<"u"&&Symbol,e=requireShams$1();return hasSymbols$1=function(){return typeof i!="function"||typeof Symbol!="function"||typeof i("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},hasSymbols$1}var hasProto,hasRequiredHasProto;function requireHasProto(){if(hasRequiredHasProto)return hasProto;hasRequiredHasProto=1;var i={foo:{}},e=Object;return hasProto=function(){return{__proto__:i}.foo===i.foo&&!({__proto__:null}instanceof e)},hasProto}var hasown,hasRequiredHasown;function requireHasown(){if(hasRequiredHasown)return hasown;hasRequiredHasown=1;var i=Function.prototype.call,e=Object.prototype.hasOwnProperty,s=functionBind;return hasown=s.call(i,e),hasown}var getIntrinsic,hasRequiredGetIntrinsic$1;function requireGetIntrinsic$1(){if(hasRequiredGetIntrinsic$1)return getIntrinsic;hasRequiredGetIntrinsic$1=1;var i,e=SyntaxError,s=Function,o=TypeError,h=function(kt){try{return s('"use strict"; return ('+kt+").constructor;")()}catch{}},_=Object.getOwnPropertyDescriptor;if(_)try{_({},"")}catch{_=null}var $=function(){throw new o},j=_?function(){try{return arguments.callee,$}catch{try{return _(arguments,"callee").get}catch{return $}}}():$,_e=requireHasSymbols()(),et=requireHasProto()(),tt=Object.getPrototypeOf||(et?function(kt){return kt.__proto__}:null),nt={},rt=typeof Uint8Array>"u"||!tt?i:tt(Uint8Array),st={"%AggregateError%":typeof AggregateError>"u"?i:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?i:ArrayBuffer,"%ArrayIteratorPrototype%":_e&&tt?tt([][Symbol.iterator]()):i,"%AsyncFromSyncIteratorPrototype%":i,"%AsyncFunction%":nt,"%AsyncGenerator%":nt,"%AsyncGeneratorFunction%":nt,"%AsyncIteratorPrototype%":nt,"%Atomics%":typeof Atomics>"u"?i:Atomics,"%BigInt%":typeof BigInt>"u"?i:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?i:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?i:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?i:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?i:Float32Array,"%Float64Array%":typeof Float64Array>"u"?i:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?i:FinalizationRegistry,"%Function%":s,"%GeneratorFunction%":nt,"%Int8Array%":typeof Int8Array>"u"?i:Int8Array,"%Int16Array%":typeof Int16Array>"u"?i:Int16Array,"%Int32Array%":typeof Int32Array>"u"?i:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":_e&&tt?tt(tt([][Symbol.iterator]())):i,"%JSON%":typeof JSON=="object"?JSON:i,"%Map%":typeof Map>"u"?i:Map,"%MapIteratorPrototype%":typeof Map>"u"||!_e||!tt?i:tt(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?i:Promise,"%Proxy%":typeof Proxy>"u"?i:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?i:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?i:Set,"%SetIteratorPrototype%":typeof Set>"u"||!_e||!tt?i:tt(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?i:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":_e&&tt?tt(""[Symbol.iterator]()):i,"%Symbol%":_e?Symbol:i,"%SyntaxError%":e,"%ThrowTypeError%":j,"%TypedArray%":rt,"%TypeError%":o,"%Uint8Array%":typeof Uint8Array>"u"?i:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?i:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?i:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?i:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?i:WeakMap,"%WeakRef%":typeof WeakRef>"u"?i:WeakRef,"%WeakSet%":typeof WeakSet>"u"?i:WeakSet};if(tt)try{null.error}catch(kt){var lt=tt(tt(kt));st["%Error.prototype%"]=lt}var ct=function kt(Dt){var ft;if(Dt==="%AsyncFunction%")ft=h("async function () {}");else if(Dt==="%GeneratorFunction%")ft=h("function* () {}");else if(Dt==="%AsyncGeneratorFunction%")ft=h("async function* () {}");else if(Dt==="%AsyncGenerator%"){var wt=kt("%AsyncGeneratorFunction%");wt&&(ft=wt.prototype)}else if(Dt==="%AsyncIteratorPrototype%"){var Tt=kt("%AsyncGenerator%");Tt&&tt&&(ft=tt(Tt.prototype))}return st[Dt]=ft,ft},ut={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ot=functionBind,it=requireHasown(),at=ot.call(Function.call,Array.prototype.concat),dt=ot.call(Function.apply,Array.prototype.splice),ht=ot.call(Function.call,String.prototype.replace),yt=ot.call(Function.call,String.prototype.slice),_t=ot.call(Function.call,RegExp.prototype.exec),gt=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,St=/\\(\\)?/g,Rt=function(Dt){var ft=yt(Dt,0,1),wt=yt(Dt,-1);if(ft==="%"&&wt!=="%")throw new e("invalid intrinsic syntax, expected closing `%`");if(wt==="%"&&ft!=="%")throw new e("invalid intrinsic syntax, expected opening `%`");var Tt=[];return ht(Dt,gt,function(Mt,bt,xt,Pt){Tt[Tt.length]=xt?ht(Pt,St,"$1"):bt||Mt}),Tt},At=function(Dt,ft){var wt=Dt,Tt;if(it(ut,wt)&&(Tt=ut[wt],wt="%"+Tt[0]+"%"),it(st,wt)){var Mt=st[wt];if(Mt===nt&&(Mt=ct(wt)),typeof Mt>"u"&&!ft)throw new o("intrinsic "+Dt+" exists, but is not available. Please file an issue!");return{alias:Tt,name:wt,value:Mt}}throw new e("intrinsic "+Dt+" does not exist!")};return getIntrinsic=function(Dt,ft){if(typeof Dt!="string"||Dt.length===0)throw new o("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof ft!="boolean")throw new o('"allowMissing" argument must be a boolean');if(_t(/^%?[^%]*%?$/,Dt)===null)throw new e("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var wt=Rt(Dt),Tt=wt.length>0?wt[0]:"",Mt=At("%"+Tt+"%",ft),bt=Mt.name,xt=Mt.value,Pt=!1,Nt=Mt.alias;Nt&&(Tt=Nt[0],dt(wt,at([0,1],Nt)));for(var Bt=1,Vt=!0;Bt<wt.length;Bt+=1){var Ht=wt[Bt],Wt=yt(Ht,0,1),Qt=yt(Ht,-1);if((Wt==='"'||Wt==="'"||Wt==="`"||Qt==='"'||Qt==="'"||Qt==="`")&&Wt!==Qt)throw new e("property names with quotes must have matching quotes");if((Ht==="constructor"||!Vt)&&(Pt=!0),Tt+="."+Ht,bt="%"+Tt+"%",it(st,bt))xt=st[bt];else if(xt!=null){if(!(Ht in xt)){if(!ft)throw new o("base intrinsic for "+Dt+" exists, but the property is not available.");return}if(_&&Bt+1>=wt.length){var rr=_(xt,Ht);Vt=!!rr,Vt&&"get"in rr&&!("originalValue"in rr.get)?xt=rr.get:xt=xt[Ht]}else Vt=it(xt,Ht),xt=xt[Ht];Vt&&!Pt&&(st[bt]=xt)}}return xt},getIntrinsic}var GetIntrinsic$5=requireGetIntrinsic$1(),$defineProperty$1=GetIntrinsic$5("%Object.defineProperty%",!0),hasPropertyDescriptors$1=function(){if($defineProperty$1)try{return $defineProperty$1({},"a",{value:1}),!0}catch{return!1}return!1};hasPropertyDescriptors$1.hasArrayLengthDefineBug=function(){if(!hasPropertyDescriptors$1())return null;try{return $defineProperty$1([],"length",{value:1}).length!==1}catch{return!0}};var hasPropertyDescriptors_1=hasPropertyDescriptors$1,GetIntrinsic$4=requireGetIntrinsic$1(),$gOPD=GetIntrinsic$4("%Object.getOwnPropertyDescriptor%",!0);if($gOPD)try{$gOPD([],"length")}catch{$gOPD=null}var gopd$1=$gOPD,hasPropertyDescriptors=hasPropertyDescriptors_1(),GetIntrinsic$3=requireGetIntrinsic$1(),$defineProperty=hasPropertyDescriptors&&GetIntrinsic$3("%Object.defineProperty%",!0);if($defineProperty)try{$defineProperty({},"a",{value:1})}catch{$defineProperty=!1}var $SyntaxError=GetIntrinsic$3("%SyntaxError%"),$TypeError$1=GetIntrinsic$3("%TypeError%"),gopd=gopd$1,defineDataProperty$1=function(e,s,o){if(!e||typeof e!="object"&&typeof e!="function")throw new $TypeError$1("`obj` must be an object or a function`");if(typeof s!="string"&&typeof s!="symbol")throw new $TypeError$1("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new $TypeError$1("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new $TypeError$1("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new $TypeError$1("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new $TypeError$1("`loose`, if provided, must be a boolean");var h=arguments.length>3?arguments[3]:null,_=arguments.length>4?arguments[4]:null,$=arguments.length>5?arguments[5]:null,j=arguments.length>6?arguments[6]:!1,_e=!!gopd&&gopd(e,s);if($defineProperty)$defineProperty(e,s,{configurable:$===null&&_e?_e.configurable:!$,enumerable:h===null&&_e?_e.enumerable:!h,value:o,writable:_===null&&_e?_e.writable:!_});else if(j||!h&&!_&&!$)e[s]=o;else throw new $SyntaxError("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},GetIntrinsic$2=requireGetIntrinsic$1(),define$1=defineDataProperty$1,hasDescriptors=hasPropertyDescriptors_1(),gOPD=gopd$1,$TypeError=GetIntrinsic$2("%TypeError%"),$floor=GetIntrinsic$2("%Math.floor%"),setFunctionLength=function(e,s){if(typeof e!="function")throw new $TypeError("`fn` is not a function");if(typeof s!="number"||s<0||s>4294967295||$floor(s)!==s)throw new $TypeError("`length` must be a positive 32-bit integer");var o=arguments.length>2&&!!arguments[2],h=!0,_=!0;if("length"in e&&gOPD){var $=gOPD(e,"length");$&&!$.configurable&&(h=!1),$&&!$.writable&&(_=!1)}return(h||_||!o)&&(hasDescriptors?define$1(e,"length",s,!0,!0):define$1(e,"length",s)),e};(function(i){var e=functionBind,s=requireGetIntrinsic$1(),o=setFunctionLength,h=s("%TypeError%"),_=s("%Function.prototype.apply%"),$=s("%Function.prototype.call%"),j=s("%Reflect.apply%",!0)||e.call($,_),_e=s("%Object.defineProperty%",!0),et=s("%Math.max%");if(_e)try{_e({},"a",{value:1})}catch{_e=null}i.exports=function(rt){if(typeof rt!="function")throw new h("a function is required");var st=j(e,$,arguments);return o(st,1+et(0,rt.length-(arguments.length-1)),!0)};var tt=function(){return j(e,_,arguments)};_e?_e(i.exports,"apply",{value:tt}):i.exports.apply=tt})(callBind$1);var callBindExports=callBind$1.exports,toStr$1=Object.prototype.toString,isArguments$1=function(e){var s=toStr$1.call(e),o=s==="[object Arguments]";return o||(o=s!=="[object Array]"&&e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&toStr$1.call(e.callee)==="[object Function]"),o},implementation$4,hasRequiredImplementation$2;function requireImplementation$2(){if(hasRequiredImplementation$2)return implementation$4;hasRequiredImplementation$2=1;var i;if(!Object.keys){var e=Object.prototype.hasOwnProperty,s=Object.prototype.toString,o=isArguments$1,h=Object.prototype.propertyIsEnumerable,_=!h.call({toString:null},"toString"),$=h.call(function(){},"prototype"),j=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],_e=function(rt){var st=rt.constructor;return st&&st.prototype===rt},et={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},tt=function(){if(typeof window>"u")return!1;for(var rt in window)try{if(!et["$"+rt]&&e.call(window,rt)&&window[rt]!==null&&typeof window[rt]=="object")try{_e(window[rt])}catch{return!0}}catch{return!0}return!1}(),nt=function(rt){if(typeof window>"u"||!tt)return _e(rt);try{return _e(rt)}catch{return!1}};i=function(st){var lt=st!==null&&typeof st=="object",ct=s.call(st)==="[object Function]",ut=o(st),ot=lt&&s.call(st)==="[object String]",it=[];if(!lt&&!ct&&!ut)throw new TypeError("Object.keys called on a non-object");var at=$&&ct;if(ot&&st.length>0&&!e.call(st,0))for(var dt=0;dt<st.length;++dt)it.push(String(dt));if(ut&&st.length>0)for(var ht=0;ht<st.length;++ht)it.push(String(ht));else for(var yt in st)!(at&&yt==="prototype")&&e.call(st,yt)&&it.push(String(yt));if(_)for(var _t=nt(st),gt=0;gt<j.length;++gt)!(_t&&j[gt]==="constructor")&&e.call(st,j[gt])&&it.push(j[gt]);return it}}return implementation$4=i,implementation$4}var slice=Array.prototype.slice,isArgs=isArguments$1,origKeys=Object.keys,keysShim=origKeys?function(e){return origKeys(e)}:requireImplementation$2(),originalKeys=Object.keys;keysShim.shim=function(){if(Object.keys){var e=function(){var s=Object.keys(arguments);return s&&s.length===arguments.length}(1,2);e||(Object.keys=function(o){return isArgs(o)?originalKeys(slice.call(o)):originalKeys(o)})}else Object.keys=keysShim;return Object.keys||keysShim};var objectKeys=keysShim,keys$1=objectKeys,hasSymbols=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",toStr=Object.prototype.toString,concat=Array.prototype.concat,defineDataProperty=defineDataProperty$1,isFunction$2=function(i){return typeof i=="function"&&toStr.call(i)==="[object Function]"},supportsDescriptors=hasPropertyDescriptors_1(),defineProperty=function(i,e,s,o){if(e in i){if(o===!0){if(i[e]===s)return}else if(!isFunction$2(o)||!o())return}supportsDescriptors?defineDataProperty(i,e,s,!0):defineDataProperty(i,e,s)},defineProperties=function(i,e){var s=arguments.length>2?arguments[2]:{},o=keys$1(e);hasSymbols&&(o=concat.call(o,Object.getOwnPropertySymbols(e)));for(var h=0;h<o.length;h+=1)defineProperty(i,o[h],e[o[h]],s[o[h]])};defineProperties.supportsDescriptors=!!supportsDescriptors;var defineProperties_1=defineProperties,requirePromise$3=function(){if(typeof Promise!="function")throw new TypeError("`Promise.allSettled` requires a global `Promise` be available.")},PromiseResolve$1,hasRequiredPromiseResolve;function requirePromiseResolve(){if(hasRequiredPromiseResolve)return PromiseResolve$1;hasRequiredPromiseResolve=1;var i=requireGetIntrinsic$1(),e=callBindExports,s=i("%Promise.resolve%",!0),o=s&&e(s);return PromiseResolve$1=function(_,$){if(!o)throw new SyntaxError("This environment does not support Promises.");return o(_,$)},PromiseResolve$1}var Type$3,hasRequiredType$2;function requireType$2(){return hasRequiredType$2||(hasRequiredType$2=1,Type$3=function(e){if(e===null)return"Null";if(typeof e>"u")return"Undefined";if(typeof e=="function"||typeof e=="object")return"Object";if(typeof e=="number")return"Number";if(typeof e=="boolean")return"Boolean";if(typeof e=="string")return"String"}),Type$3}var Type$2,hasRequiredType$1;function requireType$1(){if(hasRequiredType$1)return Type$2;hasRequiredType$1=1;var i=requireType$2();return Type$2=function(s){return typeof s=="symbol"?"Symbol":typeof s=="bigint"?"BigInt":i(s)},Type$2}var esGetIterator={exports:{}},shams,hasRequiredShams;function requireShams(){if(hasRequiredShams)return shams;hasRequiredShams=1;var i=requireShams$1();return shams=function(){return i()&&!!Symbol.toStringTag},shams}var callBound,hasRequiredCallBound;function requireCallBound(){if(hasRequiredCallBound)return callBound;hasRequiredCallBound=1;var i=requireGetIntrinsic$1(),e=callBindExports,s=e(i("String.prototype.indexOf"));return callBound=function(h,_){var $=i(h,!!_);return typeof $=="function"&&s(h,".prototype.")>-1?e($):$},callBound}var isArguments,hasRequiredIsArguments;function requireIsArguments(){if(hasRequiredIsArguments)return isArguments;hasRequiredIsArguments=1;var i=requireShams()(),e=requireCallBound(),s=e("Object.prototype.toString"),o=function(j){return i&&j&&typeof j=="object"&&Symbol.toStringTag in j?!1:s(j)==="[object Arguments]"},h=function(j){return o(j)?!0:j!==null&&typeof j=="object"&&typeof j.length=="number"&&j.length>=0&&s(j)!=="[object Array]"&&s(j.callee)==="[object Function]"},_=function(){return o(arguments)}();return o.isLegacyArguments=h,isArguments=_?o:h,isArguments}const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(__viteBrowserExternal$1);var objectInspect,hasRequiredObjectInspect;function requireObjectInspect(){if(hasRequiredObjectInspect)return objectInspect;hasRequiredObjectInspect=1;var i=typeof Map=="function"&&Map.prototype,e=Object.getOwnPropertyDescriptor&&i?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,s=i&&e&&typeof e.get=="function"?e.get:null,o=i&&Map.prototype.forEach,h=typeof Set=="function"&&Set.prototype,_=Object.getOwnPropertyDescriptor&&h?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,$=h&&_&&typeof _.get=="function"?_.get:null,j=h&&Set.prototype.forEach,_e=typeof WeakMap=="function"&&WeakMap.prototype,et=_e?WeakMap.prototype.has:null,tt=typeof WeakSet=="function"&&WeakSet.prototype,nt=tt?WeakSet.prototype.has:null,rt=typeof WeakRef=="function"&&WeakRef.prototype,st=rt?WeakRef.prototype.deref:null,lt=Boolean.prototype.valueOf,ct=Object.prototype.toString,ut=Function.prototype.toString,ot=String.prototype.match,it=String.prototype.slice,at=String.prototype.replace,dt=String.prototype.toUpperCase,ht=String.prototype.toLowerCase,yt=RegExp.prototype.test,_t=Array.prototype.concat,gt=Array.prototype.join,St=Array.prototype.slice,Rt=Math.floor,At=typeof BigInt=="function"?BigInt.prototype.valueOf:null,kt=Object.getOwnPropertySymbols,Dt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,ft=typeof Symbol=="function"&&typeof Symbol.iterator=="object",wt=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===ft||"symbol")?Symbol.toStringTag:null,Tt=Object.prototype.propertyIsEnumerable,Mt=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(mt){return mt.__proto__}:null);function bt(mt,vt){if(mt===1/0||mt===-1/0||mt!==mt||mt&&mt>-1e3&&mt<1e3||yt.call(/e/,vt))return vt;var Ut=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof mt=="number"){var Lt=mt<0?-Rt(-mt):Rt(mt);if(Lt!==mt){var jt=String(Lt),Ot=it.call(vt,jt.length+1);return at.call(jt,Ut,"$&_")+"."+at.call(at.call(Ot,/([0-9]{3})/g,"$&_"),/_$/,"")}}return at.call(vt,Ut,"$&_")}var xt=require$$0,Pt=xt.custom,Nt=On(Pt)?Pt:null;objectInspect=function mt(vt,Ut,Lt,jt){var Ot=Ut||{};if(dr(Ot,"quoteStyle")&&Ot.quoteStyle!=="single"&&Ot.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(dr(Ot,"maxStringLength")&&(typeof Ot.maxStringLength=="number"?Ot.maxStringLength<0&&Ot.maxStringLength!==1/0:Ot.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var pr=dr(Ot,"customInspect")?Ot.customInspect:!0;if(typeof pr!="boolean"&&pr!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(dr(Ot,"indent")&&Ot.indent!==null&&Ot.indent!=="	"&&!(parseInt(Ot.indent,10)===Ot.indent&&Ot.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(dr(Ot,"numericSeparator")&&typeof Ot.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var Sr=Ot.numericSeparator;if(typeof vt>"u")return"undefined";if(vt===null)return"null";if(typeof vt=="boolean")return vt?"true":"false";if(typeof vt=="string")return Nn(vt,Ot);if(typeof vt=="number"){if(vt===0)return 1/0/vt>0?"0":"-0";var Yt=String(vt);return Sr?bt(vt,Yt):Yt}if(typeof vt=="bigint"){var fr=String(vt)+"n";return Sr?bt(vt,fr):fr}var _n=typeof Ot.depth>"u"?5:Ot.depth;if(typeof Lt>"u"&&(Lt=0),Lt>=_n&&_n>0&&typeof vt=="object")return Ht(vt)?"[Array]":"[Object]";var Mr=ps(Ot,Lt);if(typeof jt>"u")jt=[];else if($n(jt,vt)>=0)return"[Circular]";function nr(Or,pn,ms){if(pn&&(jt=St.call(jt),jt.push(pn)),ms){var zn={depth:Ot.depth};return dr(Ot,"quoteStyle")&&(zn.quoteStyle=Ot.quoteStyle),mt(Or,zn,Lt+1,jt)}return mt(Or,Ot,Lt+1,jt)}if(typeof vt=="function"&&!Qt(vt)){var Un=is(vt),Ln=dn(vt,nr);return"[Function"+(Un?": "+Un:" (anonymous)")+"]"+(Ln.length>0?" { "+gt.call(Ln,", ")+" }":"")}if(On(vt)){var qn=ft?at.call(String(vt),/^(Symbol\(.*\))_[^)]*$/,"$1"):Dt.call(vt);return typeof vt=="object"&&!ft?Yr(qn):qn}if(cs(vt)){for(var Xr="<"+ht.call(String(vt.nodeName)),wn=vt.attributes||[],hn=0;hn<wn.length;hn++)Xr+=" "+wn[hn].name+"="+Bt(Vt(wn[hn].value),"double",Ot);return Xr+=">",vt.childNodes&&vt.childNodes.length&&(Xr+="..."),Xr+="</"+ht.call(String(vt.nodeName))+">",Xr}if(Ht(vt)){if(vt.length===0)return"[]";var bn=dn(vt,nr);return Mr&&!hs(bn)?"["+vn(bn,Mr)+"]":"[ "+gt.call(bn,", ")+" ]"}if(rr(vt)){var xn=dn(vt,nr);return!("cause"in Error.prototype)&&"cause"in vt&&!Tt.call(vt,"cause")?"{ ["+String(vt)+"] "+gt.call(_t.call("[cause]: "+nr(vt.cause),xn),", ")+" }":xn.length===0?"["+String(vt)+"]":"{ ["+String(vt)+"] "+gt.call(xn,", ")+" }"}if(typeof vt=="object"&&pr){if(Nt&&typeof vt[Nt]=="function"&&xt)return xt(vt,{depth:_n-Lt});if(pr!=="symbol"&&typeof vt.inspect=="function")return vt.inspect()}if(as(vt)){var Hn=[];return o&&o.call(vt,function(Or,pn){Hn.push(nr(pn,vt,!0)+" => "+nr(Or,vt))}),Bn("Map",s.call(vt),Hn,Mr)}if(ls(vt)){var jn=[];return j&&j.call(vt,function(Or){jn.push(nr(Or,vt))}),Bn("Set",$.call(vt),jn,Mr)}if(ss(vt))return yn("WeakMap");if(us(vt))return yn("WeakSet");if(os(vt))return yn("WeakRef");if(es(vt))return Yr(nr(Number(vt)));if(rs(vt))return Yr(nr(At.call(vt)));if(ts(vt))return Yr(lt.call(vt));if(ba(vt))return Yr(nr(String(vt)));if(typeof window<"u"&&vt===window)return"{ [object Window] }";if(vt===commonjsGlobal)return"{ [object globalThis] }";if(!Wt(vt)&&!Qt(vt)){var Sn=dn(vt,nr),Fn=Mt?Mt(vt)===Object.prototype:vt instanceof Object||vt.constructor===Object,Cn=vt instanceof Object?"":"null prototype",Gn=!Fn&&wt&&Object(vt)===vt&&wt in vt?it.call(hr(vt),8,-1):Cn?"Object":"",fs=Fn||typeof vt.constructor!="function"?"":vt.constructor.name?vt.constructor.name+" ":"",En=fs+(Gn||Cn?"["+gt.call(_t.call([],Gn||[],Cn||[]),": ")+"] ":"");return Sn.length===0?En+"{}":Mr?En+"{"+vn(Sn,Mr)+"}":En+"{ "+gt.call(Sn,", ")+" }"}return String(vt)};function Bt(mt,vt,Ut){var Lt=(Ut.quoteStyle||vt)==="double"?'"':"'";return Lt+mt+Lt}function Vt(mt){return at.call(String(mt),/"/g,"&quot;")}function Ht(mt){return hr(mt)==="[object Array]"&&(!wt||!(typeof mt=="object"&&wt in mt))}function Wt(mt){return hr(mt)==="[object Date]"&&(!wt||!(typeof mt=="object"&&wt in mt))}function Qt(mt){return hr(mt)==="[object RegExp]"&&(!wt||!(typeof mt=="object"&&wt in mt))}function rr(mt){return hr(mt)==="[object Error]"&&(!wt||!(typeof mt=="object"&&wt in mt))}function ba(mt){return hr(mt)==="[object String]"&&(!wt||!(typeof mt=="object"&&wt in mt))}function es(mt){return hr(mt)==="[object Number]"&&(!wt||!(typeof mt=="object"&&wt in mt))}function ts(mt){return hr(mt)==="[object Boolean]"&&(!wt||!(typeof mt=="object"&&wt in mt))}function On(mt){if(ft)return mt&&typeof mt=="object"&&mt instanceof Symbol;if(typeof mt=="symbol")return!0;if(!mt||typeof mt!="object"||!Dt)return!1;try{return Dt.call(mt),!0}catch{}return!1}function rs(mt){if(!mt||typeof mt!="object"||!At)return!1;try{return At.call(mt),!0}catch{}return!1}var ns=Object.prototype.hasOwnProperty||function(mt){return mt in this};function dr(mt,vt){return ns.call(mt,vt)}function hr(mt){return ct.call(mt)}function is(mt){if(mt.name)return mt.name;var vt=ot.call(ut.call(mt),/^function\s*([\w$]+)/);return vt?vt[1]:null}function $n(mt,vt){if(mt.indexOf)return mt.indexOf(vt);for(var Ut=0,Lt=mt.length;Ut<Lt;Ut++)if(mt[Ut]===vt)return Ut;return-1}function as(mt){if(!s||!mt||typeof mt!="object")return!1;try{s.call(mt);try{$.call(mt)}catch{return!0}return mt instanceof Map}catch{}return!1}function ss(mt){if(!et||!mt||typeof mt!="object")return!1;try{et.call(mt,et);try{nt.call(mt,nt)}catch{return!0}return mt instanceof WeakMap}catch{}return!1}function os(mt){if(!st||!mt||typeof mt!="object")return!1;try{return st.call(mt),!0}catch{}return!1}function ls(mt){if(!$||!mt||typeof mt!="object")return!1;try{$.call(mt);try{s.call(mt)}catch{return!0}return mt instanceof Set}catch{}return!1}function us(mt){if(!nt||!mt||typeof mt!="object")return!1;try{nt.call(mt,nt);try{et.call(mt,et)}catch{return!0}return mt instanceof WeakSet}catch{}return!1}function cs(mt){return!mt||typeof mt!="object"?!1:typeof HTMLElement<"u"&&mt instanceof HTMLElement?!0:typeof mt.nodeName=="string"&&typeof mt.getAttribute=="function"}function Nn(mt,vt){if(mt.length>vt.maxStringLength){var Ut=mt.length-vt.maxStringLength,Lt="... "+Ut+" more character"+(Ut>1?"s":"");return Nn(it.call(mt,0,vt.maxStringLength),vt)+Lt}var jt=at.call(at.call(mt,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,ds);return Bt(jt,"single",vt)}function ds(mt){var vt=mt.charCodeAt(0),Ut={8:"b",9:"t",10:"n",12:"f",13:"r"}[vt];return Ut?"\\"+Ut:"\\x"+(vt<16?"0":"")+dt.call(vt.toString(16))}function Yr(mt){return"Object("+mt+")"}function yn(mt){return mt+" { ? }"}function Bn(mt,vt,Ut,Lt){var jt=Lt?vn(Ut,Lt):gt.call(Ut,", ");return mt+" ("+vt+") {"+jt+"}"}function hs(mt){for(var vt=0;vt<mt.length;vt++)if($n(mt[vt],`
`)>=0)return!1;return!0}function ps(mt,vt){var Ut;if(mt.indent==="	")Ut="	";else if(typeof mt.indent=="number"&&mt.indent>0)Ut=gt.call(Array(mt.indent+1)," ");else return null;return{base:Ut,prev:gt.call(Array(vt+1),Ut)}}function vn(mt,vt){if(mt.length===0)return"";var Ut=`
`+vt.prev+vt.base;return Ut+gt.call(mt,","+Ut)+`
`+vt.prev}function dn(mt,vt){var Ut=Ht(mt),Lt=[];if(Ut){Lt.length=mt.length;for(var jt=0;jt<mt.length;jt++)Lt[jt]=dr(mt,jt)?vt(mt[jt],mt):""}var Ot=typeof kt=="function"?kt(mt):[],pr;if(ft){pr={};for(var Sr=0;Sr<Ot.length;Sr++)pr["$"+Ot[Sr]]=Ot[Sr]}for(var Yt in mt)dr(mt,Yt)&&(Ut&&String(Number(Yt))===Yt&&Yt<mt.length||ft&&pr["$"+Yt]instanceof Symbol||(yt.call(/[^\w$]/,Yt)?Lt.push(vt(Yt,mt)+": "+vt(mt[Yt],mt)):Lt.push(Yt+": "+vt(mt[Yt],mt))));if(typeof kt=="function")for(var fr=0;fr<Ot.length;fr++)Tt.call(mt,Ot[fr])&&Lt.push("["+vt(Ot[fr])+"]: "+vt(mt[Ot[fr]],mt));return Lt}return objectInspect}var sideChannel,hasRequiredSideChannel;function requireSideChannel(){if(hasRequiredSideChannel)return sideChannel;hasRequiredSideChannel=1;var i=requireGetIntrinsic$1(),e=requireCallBound(),s=requireObjectInspect(),o=i("%TypeError%"),h=i("%WeakMap%",!0),_=i("%Map%",!0),$=e("WeakMap.prototype.get",!0),j=e("WeakMap.prototype.set",!0),_e=e("WeakMap.prototype.has",!0),et=e("Map.prototype.get",!0),tt=e("Map.prototype.set",!0),nt=e("Map.prototype.has",!0),rt=function(ut,ot){for(var it=ut,at;(at=it.next)!==null;it=at)if(at.key===ot)return it.next=at.next,at.next=ut.next,ut.next=at,at},st=function(ut,ot){var it=rt(ut,ot);return it&&it.value},lt=function(ut,ot,it){var at=rt(ut,ot);at?at.value=it:ut.next={key:ot,next:ut.next,value:it}},ct=function(ut,ot){return!!rt(ut,ot)};return sideChannel=function(){var ot,it,at,dt={assert:function(ht){if(!dt.has(ht))throw new o("Side channel does not contain "+s(ht))},get:function(ht){if(h&&ht&&(typeof ht=="object"||typeof ht=="function")){if(ot)return $(ot,ht)}else if(_){if(it)return et(it,ht)}else if(at)return st(at,ht)},has:function(ht){if(h&&ht&&(typeof ht=="object"||typeof ht=="function")){if(ot)return _e(ot,ht)}else if(_){if(it)return nt(it,ht)}else if(at)return ct(at,ht);return!1},set:function(ht,yt){h&&ht&&(typeof ht=="object"||typeof ht=="function")?(ot||(ot=new h),j(ot,ht,yt)):_?(it||(it=new _),tt(it,ht,yt)):(at||(at={key:{},next:null}),lt(at,ht,yt))}};return dt},sideChannel}var internalSlot,hasRequiredInternalSlot;function requireInternalSlot(){if(hasRequiredInternalSlot)return internalSlot;hasRequiredInternalSlot=1;var i=requireGetIntrinsic$1(),e=requireHasown(),s=requireSideChannel()(),o=i("%TypeError%"),h={assert:function(_,$){if(!_||typeof _!="object"&&typeof _!="function")throw new o("`O` is not an object");if(typeof $!="string")throw new o("`slot` must be a string");if(s.assert(_),!h.has(_,$))throw new o("`"+$+"` is not present on `O`")},get:function(_,$){if(!_||typeof _!="object"&&typeof _!="function")throw new o("`O` is not an object");if(typeof $!="string")throw new o("`slot` must be a string");var j=s.get(_);return j&&j["$"+$]},has:function(_,$){if(!_||typeof _!="object"&&typeof _!="function")throw new o("`O` is not an object");if(typeof $!="string")throw new o("`slot` must be a string");var j=s.get(_);return!!j&&e(j,"$"+$)},set:function(_,$,j){if(!_||typeof _!="object"&&typeof _!="function")throw new o("`O` is not an object");if(typeof $!="string")throw new o("`slot` must be a string");var _e=s.get(_);_e||(_e={},s.set(_,_e)),_e["$"+$]=j}};return Object.freeze&&Object.freeze(h),internalSlot=h,internalSlot}var stopIterationIterator,hasRequiredStopIterationIterator;function requireStopIterationIterator(){if(hasRequiredStopIterationIterator)return stopIterationIterator;hasRequiredStopIterationIterator=1;var i=requireInternalSlot(),e=SyntaxError,s=typeof StopIteration=="object"?StopIteration:null;return stopIterationIterator=function(h){if(!s)throw new e("this environment lacks StopIteration");i.set(h,"[[Done]]",!1);var _={next:function(){var j=i.get(this,"[[Iterator]]"),_e=i.get(j,"[[Done]]");try{return{done:_e,value:_e?void 0:j.next()}}catch(et){if(i.set(j,"[[Done]]",!0),et!==s)throw et;return{done:!0,value:void 0}}}};return i.set(_,"[[Iterator]]",h),_},stopIterationIterator}var isarray,hasRequiredIsarray;function requireIsarray(){if(hasRequiredIsarray)return isarray;hasRequiredIsarray=1;var i={}.toString;return isarray=Array.isArray||function(e){return i.call(e)=="[object Array]"},isarray}var isString$1,hasRequiredIsString;function requireIsString(){if(hasRequiredIsString)return isString$1;hasRequiredIsString=1;var i=String.prototype.valueOf,e=function($){try{return i.call($),!0}catch{return!1}},s=Object.prototype.toString,o="[object String]",h=requireShams()();return isString$1=function($){return typeof $=="string"?!0:typeof $!="object"?!1:h?e($):s.call($)===o},isString$1}var isMap,hasRequiredIsMap;function requireIsMap(){if(hasRequiredIsMap)return isMap;hasRequiredIsMap=1;var i=typeof Map=="function"&&Map.prototype?Map:null,e=typeof Set=="function"&&Set.prototype?Set:null,s;i||(s=function($){return!1});var o=i?Map.prototype.has:null,h=e?Set.prototype.has:null;return!s&&!o&&(s=function($){return!1}),isMap=s||function($){if(!$||typeof $!="object")return!1;try{if(o.call($),h)try{h.call($)}catch{return!0}return $ instanceof i}catch{}return!1},isMap}var isSet,hasRequiredIsSet;function requireIsSet(){if(hasRequiredIsSet)return isSet;hasRequiredIsSet=1;var i=typeof Map=="function"&&Map.prototype?Map:null,e=typeof Set=="function"&&Set.prototype?Set:null,s;e||(s=function($){return!1});var o=i?Map.prototype.has:null,h=e?Set.prototype.has:null;return!s&&!h&&(s=function($){return!1}),isSet=s||function($){if(!$||typeof $!="object")return!1;try{if(h.call($),o)try{o.call($)}catch{return!0}return $ instanceof e}catch{}return!1},isSet}var hasRequiredEsGetIterator;function requireEsGetIterator(){if(hasRequiredEsGetIterator)return esGetIterator.exports;hasRequiredEsGetIterator=1;var i=requireIsArguments(),e=requireStopIterationIterator();if(requireHasSymbols()()||requireShams$1()()){var s=Symbol.iterator;esGetIterator.exports=function(St){if(St!=null&&typeof St[s]<"u")return St[s]();if(i(St))return Array.prototype[s].call(St)}}else{var o=requireIsarray(),h=requireIsString(),_=requireGetIntrinsic$1(),$=_("%Map%",!0),j=_("%Set%",!0),_e=requireCallBound(),et=_e("Array.prototype.push"),tt=_e("String.prototype.charCodeAt"),nt=_e("String.prototype.slice"),rt=function(St,Rt){var At=St.length;if(Rt+1>=At)return Rt+1;var kt=tt(St,Rt);if(kt<55296||kt>56319)return Rt+1;var Dt=tt(St,Rt+1);return Dt<56320||Dt>57343?Rt+1:Rt+2},st=function(St){var Rt=0;return{next:function(){var kt=Rt>=St.length,Dt;return kt||(Dt=St[Rt],Rt+=1),{done:kt,value:Dt}}}},lt=function(St,Rt){if(o(St)||i(St))return st(St);if(h(St)){var At=0;return{next:function(){var Dt=rt(St,At),ft=nt(St,At,Dt);return At=Dt,{done:Dt>St.length,value:ft}}}}if(Rt&&typeof St["_es6-shim iterator_"]<"u")return St["_es6-shim iterator_"]()};if(!$&&!j)esGetIterator.exports=function(St){if(St!=null)return lt(St,!0)};else{var ct=requireIsMap(),ut=requireIsSet(),ot=_e("Map.prototype.forEach",!0),it=_e("Set.prototype.forEach",!0);if(typeof process>"u"||!process.versions||!process.versions.node)var at=_e("Map.prototype.iterator",!0),dt=_e("Set.prototype.iterator",!0);var ht=_e("Map.prototype.@@iterator",!0)||_e("Map.prototype._es6-shim iterator_",!0),yt=_e("Set.prototype.@@iterator",!0)||_e("Set.prototype._es6-shim iterator_",!0),_t=function(St){if(ct(St)){if(at)return e(at(St));if(ht)return ht(St);if(ot){var Rt=[];return ot(St,function(kt,Dt){et(Rt,[Dt,kt])}),st(Rt)}}if(ut(St)){if(dt)return e(dt(St));if(yt)return yt(St);if(it){var At=[];return it(St,function(kt){et(At,kt)}),st(At)}}};esGetIterator.exports=function(St){return _t(St)||lt(St)}}}return esGetIterator.exports}var iterateIterator,hasRequiredIterateIterator;function requireIterateIterator(){if(hasRequiredIterateIterator)return iterateIterator;hasRequiredIterateIterator=1;var i=TypeError;return iterateIterator=function(s){if(!s||typeof s.next!="function")throw new i("iterator must be an object with a `next` method");if(arguments.length>1){var o=arguments[1];if(typeof o!="function")throw new i("`callback`, if provided, must be a function")}for(var h=o||[],_;(_=s.next())&&!_.done;)o?o(_.value):h.push(_.value);if(!o)return h},iterateIterator}var iterateValue,hasRequiredIterateValue;function requireIterateValue(){if(hasRequiredIterateValue)return iterateValue;hasRequiredIterateValue=1;var i=requireEsGetIterator(),e=TypeError,s=requireIterateIterator();return iterateValue=function(h){var _=i(h);if(!_)throw new e("non-iterable value provided");return arguments.length>1?s(_,arguments[1]):s(_)},iterateValue}var CheckObjectCoercible,hasRequiredCheckObjectCoercible;function requireCheckObjectCoercible(){if(hasRequiredCheckObjectCoercible)return CheckObjectCoercible;hasRequiredCheckObjectCoercible=1;var i=requireGetIntrinsic$1(),e=i("%TypeError%");return CheckObjectCoercible=function(o,h){if(o==null)throw new e(h||"Cannot call method on "+o);return o},CheckObjectCoercible}var RequireObjectCoercible,hasRequiredRequireObjectCoercible;function requireRequireObjectCoercible(){return hasRequiredRequireObjectCoercible||(hasRequiredRequireObjectCoercible=1,RequireObjectCoercible=requireCheckObjectCoercible()),RequireObjectCoercible}var _isNaN,hasRequired_isNaN;function require_isNaN(){return hasRequired_isNaN||(hasRequired_isNaN=1,_isNaN=Number.isNaN||function(e){return e!==e}),_isNaN}var _isFinite,hasRequired_isFinite;function require_isFinite(){if(hasRequired_isFinite)return _isFinite;hasRequired_isFinite=1;var i=require_isNaN();return _isFinite=function(e){return(typeof e=="number"||typeof e=="bigint")&&!i(e)&&e!==1/0&&e!==-1/0},_isFinite}var isInteger,hasRequiredIsInteger;function requireIsInteger(){if(hasRequiredIsInteger)return isInteger;hasRequiredIsInteger=1;var i=requireGetIntrinsic$1(),e=i("%Math.abs%"),s=i("%Math.floor%"),o=require_isNaN(),h=require_isFinite();return isInteger=function($){if(typeof $!="number"||o($)||!h($))return!1;var j=e($);return s(j)===j},isInteger}var ArrayCreate,hasRequiredArrayCreate;function requireArrayCreate(){if(hasRequiredArrayCreate)return ArrayCreate;hasRequiredArrayCreate=1;var i=requireGetIntrinsic$1(),e=i("%Array.prototype%"),s=i("%RangeError%"),o=i("%SyntaxError%"),h=i("%TypeError%"),_=requireIsInteger(),$=Math.pow(2,32)-1,j=requireHasProto()(),_e=i("%Object.setPrototypeOf%",!0)||(j?function(et,tt){return et.__proto__=tt,et}:null);return ArrayCreate=function(tt){if(!_(tt)||tt<0)throw new h("Assertion failed: `length` must be an integer Number >= 0");if(tt>$)throw new s("length is greater than (2**32 - 1)");var nt=arguments.length>1?arguments[1]:e,rt=[];if(nt!==e){if(!_e)throw new o("ArrayCreate: a `proto` argument that is not `Array.prototype` is not supported in an environment that does not support setting the [[Prototype]]");_e(rt,nt)}return tt!==0&&(rt.length=tt),rt},ArrayCreate}var IsPropertyKey,hasRequiredIsPropertyKey;function requireIsPropertyKey(){return hasRequiredIsPropertyKey||(hasRequiredIsPropertyKey=1,IsPropertyKey=function(e){return typeof e=="string"||typeof e=="symbol"}),IsPropertyKey}var Type$1,hasRequiredType;function requireType(){if(hasRequiredType)return Type$1;hasRequiredType=1;var i=requireType$2();return Type$1=function(s){return typeof s=="symbol"?"Symbol":typeof s=="bigint"?"BigInt":i(s)},Type$1}var Get,hasRequiredGet;function requireGet(){if(hasRequiredGet)return Get;hasRequiredGet=1;var i=requireGetIntrinsic$1(),e=i("%TypeError%"),s=requireObjectInspect(),o=requireIsPropertyKey(),h=requireType();return Get=function($,j){if(h($)!=="Object")throw new e("Assertion failed: Type(O) is not Object");if(!o(j))throw new e("Assertion failed: IsPropertyKey(P) is not true, got "+s(j));return $[j]},Get}var IsArray$1,hasRequiredIsArray$1;function requireIsArray$1(){if(hasRequiredIsArray$1)return IsArray$1;hasRequiredIsArray$1=1;var i=requireGetIntrinsic$1(),e=i("%Array%"),s=!e.isArray&&requireCallBound()("Object.prototype.toString");return IsArray$1=e.isArray||function(h){return s(h)==="[object Array]"},IsArray$1}var IsArray,hasRequiredIsArray;function requireIsArray(){return hasRequiredIsArray||(hasRequiredIsArray=1,IsArray=requireIsArray$1()),IsArray}var IsConstructor={exports:{}},GetIntrinsic$1,hasRequiredGetIntrinsic;function requireGetIntrinsic(){return hasRequiredGetIntrinsic||(hasRequiredGetIntrinsic=1,GetIntrinsic$1=requireGetIntrinsic$1()),GetIntrinsic$1}var isPropertyDescriptor,hasRequiredIsPropertyDescriptor;function requireIsPropertyDescriptor(){if(hasRequiredIsPropertyDescriptor)return isPropertyDescriptor;hasRequiredIsPropertyDescriptor=1;var i=requireGetIntrinsic$1(),e=requireHasown(),s=i("%TypeError%");return isPropertyDescriptor=function(h,_){if(h.Type(_)!=="Object")return!1;var $={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var j in _)if(e(_,j)&&!$[j])return!1;if(h.IsDataDescriptor(_)&&h.IsAccessorDescriptor(_))throw new s("Property Descriptors may not be both accessor and data descriptors");return!0},isPropertyDescriptor}var DefineOwnProperty,hasRequiredDefineOwnProperty;function requireDefineOwnProperty(){if(hasRequiredDefineOwnProperty)return DefineOwnProperty;hasRequiredDefineOwnProperty=1;var i=hasPropertyDescriptors_1,e=requireGetIntrinsic$1(),s=i()&&e("%Object.defineProperty%",!0),o=i.hasArrayLengthDefineBug(),h=o&&requireIsArray$1(),_=requireCallBound(),$=_("Object.prototype.propertyIsEnumerable");return DefineOwnProperty=function(_e,et,tt,nt,rt,st){if(!s){if(!_e(st)||!st["[[Configurable]]"]||!st["[[Writable]]"]||rt in nt&&$(nt,rt)!==!!st["[[Enumerable]]"])return!1;var lt=st["[[Value]]"];return nt[rt]=lt,et(nt[rt],lt)}return o&&rt==="length"&&"[[Value]]"in st&&h(nt)&&nt.length!==st["[[Value]]"]?(nt.length=st["[[Value]]"],nt.length===st["[[Value]]"]):(s(nt,rt,tt(st)),!0)},DefineOwnProperty}var isMatchRecord,hasRequiredIsMatchRecord;function requireIsMatchRecord(){if(hasRequiredIsMatchRecord)return isMatchRecord;hasRequiredIsMatchRecord=1;var i=requireHasown();return isMatchRecord=function(s){return i(s,"[[StartIndex]]")&&i(s,"[[EndIndex]]")&&s["[[StartIndex]]"]>=0&&s["[[EndIndex]]"]>=s["[[StartIndex]]"]&&String(parseInt(s["[[StartIndex]]"],10))===String(s["[[StartIndex]]"])&&String(parseInt(s["[[EndIndex]]"],10))===String(s["[[EndIndex]]"])},isMatchRecord}var assertRecord,hasRequiredAssertRecord;function requireAssertRecord(){if(hasRequiredAssertRecord)return assertRecord;hasRequiredAssertRecord=1;var i=requireGetIntrinsic$1(),e=i("%TypeError%"),s=i("%SyntaxError%"),o=requireHasown(),h=requireIsInteger(),_=requireIsMatchRecord(),$={"Property Descriptor":function(_e){var et={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};if(!_e)return!1;for(var tt in _e)if(o(_e,tt)&&!et[tt])return!1;var nt=o(_e,"[[Value]]"),rt=o(_e,"[[Get]]")||o(_e,"[[Set]]");if(nt&&rt)throw new e("Property Descriptors may not be both accessor and data descriptors");return!0},"Match Record":_,"Iterator Record":function(_e){return o(_e,"[[Iterator]]")&&o(_e,"[[NextMethod]]")&&o(_e,"[[Done]]")},"PromiseCapability Record":function(_e){return!!_e&&o(_e,"[[Resolve]]")&&typeof _e["[[Resolve]]"]=="function"&&o(_e,"[[Reject]]")&&typeof _e["[[Reject]]"]=="function"&&o(_e,"[[Promise]]")&&_e["[[Promise]]"]&&typeof _e["[[Promise]]"].then=="function"},"AsyncGeneratorRequest Record":function(_e){return!!_e&&o(_e,"[[Completion]]")&&o(_e,"[[Capability]]")&&$["PromiseCapability Record"](_e["[[Capability]]"])},"RegExp Record":function(_e){return _e&&o(_e,"[[IgnoreCase]]")&&typeof _e["[[IgnoreCase]]"]=="boolean"&&o(_e,"[[Multiline]]")&&typeof _e["[[Multiline]]"]=="boolean"&&o(_e,"[[DotAll]]")&&typeof _e["[[DotAll]]"]=="boolean"&&o(_e,"[[Unicode]]")&&typeof _e["[[Unicode]]"]=="boolean"&&o(_e,"[[CapturingGroupsCount]]")&&typeof _e["[[CapturingGroupsCount]]"]=="number"&&h(_e["[[CapturingGroupsCount]]"])&&_e["[[CapturingGroupsCount]]"]>=0}};return assertRecord=function(_e,et,tt,nt){var rt=$[et];if(typeof rt!="function")throw new s("unknown record type: "+et);if(_e(nt)!=="Object"||!rt(nt))throw new e(tt+" must be a "+et)},assertRecord}var fromPropertyDescriptor,hasRequiredFromPropertyDescriptor$1;function requireFromPropertyDescriptor$1(){return hasRequiredFromPropertyDescriptor$1||(hasRequiredFromPropertyDescriptor$1=1,fromPropertyDescriptor=function(e){if(typeof e>"u")return e;var s={};return"[[Value]]"in e&&(s.value=e["[[Value]]"]),"[[Writable]]"in e&&(s.writable=!!e["[[Writable]]"]),"[[Get]]"in e&&(s.get=e["[[Get]]"]),"[[Set]]"in e&&(s.set=e["[[Set]]"]),"[[Enumerable]]"in e&&(s.enumerable=!!e["[[Enumerable]]"]),"[[Configurable]]"in e&&(s.configurable=!!e["[[Configurable]]"]),s}),fromPropertyDescriptor}var FromPropertyDescriptor,hasRequiredFromPropertyDescriptor;function requireFromPropertyDescriptor(){if(hasRequiredFromPropertyDescriptor)return FromPropertyDescriptor;hasRequiredFromPropertyDescriptor=1;var i=requireAssertRecord(),e=requireFromPropertyDescriptor$1(),s=requireType();return FromPropertyDescriptor=function(h){return typeof h<"u"&&i(s,"Property Descriptor","Desc",h),e(h)},FromPropertyDescriptor}var IsAccessorDescriptor,hasRequiredIsAccessorDescriptor;function requireIsAccessorDescriptor(){if(hasRequiredIsAccessorDescriptor)return IsAccessorDescriptor;hasRequiredIsAccessorDescriptor=1;var i=requireHasown(),e=requireType(),s=requireAssertRecord();return IsAccessorDescriptor=function(h){return!(typeof h>"u"||(s(e,"Property Descriptor","Desc",h),!i(h,"[[Get]]")&&!i(h,"[[Set]]")))},IsAccessorDescriptor}var IsDataDescriptor,hasRequiredIsDataDescriptor;function requireIsDataDescriptor(){if(hasRequiredIsDataDescriptor)return IsDataDescriptor;hasRequiredIsDataDescriptor=1;var i=requireHasown(),e=requireType(),s=requireAssertRecord();return IsDataDescriptor=function(h){return!(typeof h>"u"||(s(e,"Property Descriptor","Desc",h),!i(h,"[[Value]]")&&!i(h,"[[Writable]]")))},IsDataDescriptor}var SameValue,hasRequiredSameValue;function requireSameValue(){if(hasRequiredSameValue)return SameValue;hasRequiredSameValue=1;var i=require_isNaN();return SameValue=function(s,o){return s===o?s===0?1/s===1/o:!0:i(s)&&i(o)},SameValue}var ToBoolean,hasRequiredToBoolean;function requireToBoolean(){return hasRequiredToBoolean||(hasRequiredToBoolean=1,ToBoolean=function(e){return!!e}),ToBoolean}var isCallable,hasRequiredIsCallable$1;function requireIsCallable$1(){if(hasRequiredIsCallable$1)return isCallable;hasRequiredIsCallable$1=1;var i=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,s,o;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{s=Object.defineProperty({},"length",{get:function(){throw o}}),o={},e(function(){throw 42},null,s)}catch(it){it!==o&&(e=null)}else e=null;var h=/^\s*class\b/,_=function(at){try{var dt=i.call(at);return h.test(dt)}catch{return!1}},$=function(at){try{return _(at)?!1:(i.call(at),!0)}catch{return!1}},j=Object.prototype.toString,_e="[object Object]",et="[object Function]",tt="[object GeneratorFunction]",nt="[object HTMLAllCollection]",rt="[object HTML document.all class]",st="[object HTMLCollection]",lt=typeof Symbol=="function"&&!!Symbol.toStringTag,ct=!(0 in[,]),ut=function(){return!1};if(typeof document=="object"){var ot=document.all;j.call(ot)===j.call(document.all)&&(ut=function(at){if((ct||!at)&&(typeof at>"u"||typeof at=="object"))try{var dt=j.call(at);return(dt===nt||dt===rt||dt===st||dt===_e)&&at("")==null}catch{}return!1})}return isCallable=e?function(at){if(ut(at))return!0;if(!at||typeof at!="function"&&typeof at!="object")return!1;try{e(at,null,s)}catch(dt){if(dt!==o)return!1}return!_(at)&&$(at)}:function(at){if(ut(at))return!0;if(!at||typeof at!="function"&&typeof at!="object")return!1;if(lt)return $(at);if(_(at))return!1;var dt=j.call(at);return dt!==et&&dt!==tt&&!/^\[object HTML/.test(dt)?!1:$(at)},isCallable}var IsCallable,hasRequiredIsCallable;function requireIsCallable(){return hasRequiredIsCallable||(hasRequiredIsCallable=1,IsCallable=requireIsCallable$1()),IsCallable}var ToPropertyDescriptor,hasRequiredToPropertyDescriptor;function requireToPropertyDescriptor(){if(hasRequiredToPropertyDescriptor)return ToPropertyDescriptor;hasRequiredToPropertyDescriptor=1;var i=requireHasown(),e=requireGetIntrinsic$1(),s=e("%TypeError%"),o=requireType(),h=requireToBoolean(),_=requireIsCallable();return ToPropertyDescriptor=function(j){if(o(j)!=="Object")throw new s("ToPropertyDescriptor requires an object");var _e={};if(i(j,"enumerable")&&(_e["[[Enumerable]]"]=h(j.enumerable)),i(j,"configurable")&&(_e["[[Configurable]]"]=h(j.configurable)),i(j,"value")&&(_e["[[Value]]"]=j.value),i(j,"writable")&&(_e["[[Writable]]"]=h(j.writable)),i(j,"get")){var et=j.get;if(typeof et<"u"&&!_(et))throw new s("getter must be a function");_e["[[Get]]"]=et}if(i(j,"set")){var tt=j.set;if(typeof tt<"u"&&!_(tt))throw new s("setter must be a function");_e["[[Set]]"]=tt}if((i(_e,"[[Get]]")||i(_e,"[[Set]]"))&&(i(_e,"[[Value]]")||i(_e,"[[Writable]]")))throw new s("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return _e},ToPropertyDescriptor}var DefinePropertyOrThrow,hasRequiredDefinePropertyOrThrow;function requireDefinePropertyOrThrow(){if(hasRequiredDefinePropertyOrThrow)return DefinePropertyOrThrow;hasRequiredDefinePropertyOrThrow=1;var i=requireGetIntrinsic$1(),e=i("%TypeError%"),s=requireIsPropertyDescriptor(),o=requireDefineOwnProperty(),h=requireFromPropertyDescriptor(),_=requireIsAccessorDescriptor(),$=requireIsDataDescriptor(),j=requireIsPropertyKey(),_e=requireSameValue(),et=requireToPropertyDescriptor(),tt=requireType();return DefinePropertyOrThrow=function(rt,st,lt){if(tt(rt)!=="Object")throw new e("Assertion failed: Type(O) is not Object");if(!j(st))throw new e("Assertion failed: IsPropertyKey(P) is not true");var ct=s({Type:tt,IsDataDescriptor:$,IsAccessorDescriptor:_},lt)?lt:et(lt);if(!s({Type:tt,IsDataDescriptor:$,IsAccessorDescriptor:_},ct))throw new e("Assertion failed: Desc is not a valid Property Descriptor");return o($,_e,h,rt,st,ct)},DefinePropertyOrThrow}var hasRequiredIsConstructor;function requireIsConstructor(){if(hasRequiredIsConstructor)return IsConstructor.exports;hasRequiredIsConstructor=1;var i=requireGetIntrinsic(),e=i("%Reflect.construct%",!0),s=requireDefinePropertyOrThrow();try{s({},"",{"[[Get]]":function(){}})}catch{s=null}if(s&&e){var o={},h={};s(h,"length",{"[[Get]]":function(){throw o},"[[Enumerable]]":!0}),IsConstructor.exports=function($){try{e($,h)}catch(j){return j===o}}}else IsConstructor.exports=function($){return typeof $=="function"&&!!$.prototype};return IsConstructor.exports}var ArraySpeciesCreate,hasRequiredArraySpeciesCreate;function requireArraySpeciesCreate(){if(hasRequiredArraySpeciesCreate)return ArraySpeciesCreate;hasRequiredArraySpeciesCreate=1;var i=requireGetIntrinsic$1(),e=i("%Symbol.species%",!0),s=i("%TypeError%"),o=requireArrayCreate(),h=requireGet(),_=requireIsArray(),$=requireIsConstructor(),j=requireType(),_e=requireIsInteger();return ArraySpeciesCreate=function(tt,nt){if(!_e(nt)||nt<0)throw new s("Assertion failed: length must be an integer >= 0");var rt=_(tt);if(!rt)return o(nt);var st=h(tt,"constructor");if(e&&j(st)==="Object"&&(st=h(st,e),st===null&&(st=void 0)),typeof st>"u")return o(nt);if(!$(st))throw new s("C must be a constructor");return new st(nt)},ArraySpeciesCreate}var Call,hasRequiredCall;function requireCall(){if(hasRequiredCall)return Call;hasRequiredCall=1;var i=requireGetIntrinsic$1(),e=requireCallBound(),s=i("%TypeError%"),o=requireIsArray(),h=i("%Reflect.apply%",!0)||e("Function.prototype.apply");return Call=function($,j){var _e=arguments.length>2?arguments[2]:[];if(!o(_e))throw new s("Assertion failed: optional `argumentsList`, if provided, must be a List");return h($,j,_e)},Call}var isPrimitive$1,hasRequiredIsPrimitive$1;function requireIsPrimitive$1(){return hasRequiredIsPrimitive$1||(hasRequiredIsPrimitive$1=1,isPrimitive$1=function(e){return e===null||typeof e!="function"&&typeof e!="object"}),isPrimitive$1}var IsExtensible,hasRequiredIsExtensible;function requireIsExtensible(){if(hasRequiredIsExtensible)return IsExtensible;hasRequiredIsExtensible=1;var i=requireGetIntrinsic$1(),e=i("%Object.preventExtensions%",!0),s=i("%Object.isExtensible%",!0),o=requireIsPrimitive$1();return IsExtensible=e?function(_){return!o(_)&&s(_)}:function(_){return!o(_)},IsExtensible}var isFullyPopulatedPropertyDescriptor,hasRequiredIsFullyPopulatedPropertyDescriptor;function requireIsFullyPopulatedPropertyDescriptor(){return hasRequiredIsFullyPopulatedPropertyDescriptor||(hasRequiredIsFullyPopulatedPropertyDescriptor=1,isFullyPopulatedPropertyDescriptor=function(e,s){return!!s&&typeof s=="object"&&"[[Enumerable]]"in s&&"[[Configurable]]"in s&&(e.IsAccessorDescriptor(s)||e.IsDataDescriptor(s))}),isFullyPopulatedPropertyDescriptor}var IsGenericDescriptor,hasRequiredIsGenericDescriptor;function requireIsGenericDescriptor(){if(hasRequiredIsGenericDescriptor)return IsGenericDescriptor;hasRequiredIsGenericDescriptor=1;var i=requireAssertRecord(),e=requireIsAccessorDescriptor(),s=requireIsDataDescriptor(),o=requireType();return IsGenericDescriptor=function(_){return typeof _>"u"?!1:(i(o,"Property Descriptor","Desc",_),!e(_)&&!s(_))},IsGenericDescriptor}var ValidateAndApplyPropertyDescriptor,hasRequiredValidateAndApplyPropertyDescriptor;function requireValidateAndApplyPropertyDescriptor(){if(hasRequiredValidateAndApplyPropertyDescriptor)return ValidateAndApplyPropertyDescriptor;hasRequiredValidateAndApplyPropertyDescriptor=1;var i=requireGetIntrinsic$1(),e=i("%TypeError%"),s=requireDefineOwnProperty(),o=requireIsFullyPopulatedPropertyDescriptor(),h=requireIsPropertyDescriptor(),_=requireFromPropertyDescriptor(),$=requireIsAccessorDescriptor(),j=requireIsDataDescriptor(),_e=requireIsGenericDescriptor(),et=requireIsPropertyKey(),tt=requireSameValue(),nt=requireType();return ValidateAndApplyPropertyDescriptor=function(st,lt,ct,ut,ot){var it=nt(st);if(it!=="Undefined"&&it!=="Object")throw new e("Assertion failed: O must be undefined or an Object");if(!et(lt))throw new e("Assertion failed: P must be a Property Key");if(nt(ct)!=="Boolean")throw new e("Assertion failed: extensible must be a Boolean");if(!h({Type:nt,IsDataDescriptor:j,IsAccessorDescriptor:$},ut))throw new e("Assertion failed: Desc must be a Property Descriptor");if(nt(ot)!=="Undefined"&&!h({Type:nt,IsDataDescriptor:j,IsAccessorDescriptor:$},ot))throw new e("Assertion failed: current must be a Property Descriptor, or undefined");if(nt(ot)==="Undefined")return ct?it==="Undefined"?!0:$(ut)?s(j,tt,_,st,lt,ut):s(j,tt,_,st,lt,{"[[Configurable]]":!!ut["[[Configurable]]"],"[[Enumerable]]":!!ut["[[Enumerable]]"],"[[Value]]":ut["[[Value]]"],"[[Writable]]":!!ut["[[Writable]]"]}):!1;if(!o({IsAccessorDescriptor:$,IsDataDescriptor:j},ot))throw new e("`current`, when present, must be a fully populated and valid Property Descriptor");if(!ot["[[Configurable]]"]){if("[[Configurable]]"in ut&&ut["[[Configurable]]"]||"[[Enumerable]]"in ut&&!tt(ut["[[Enumerable]]"],ot["[[Enumerable]]"])||!_e(ut)&&!tt($(ut),$(ot)))return!1;if($(ot)){if("[[Get]]"in ut&&!tt(ut["[[Get]]"],ot["[[Get]]"])||"[[Set]]"in ut&&!tt(ut["[[Set]]"],ot["[[Set]]"]))return!1}else if(!ot["[[Writable]]"]&&("[[Writable]]"in ut&&ut["[[Writable]]"]||"[[Value]]"in ut&&!tt(ut["[[Value]]"],ot["[[Value]]"])))return!1}if(it!=="Undefined"){var at,dt;return j(ot)&&$(ut)?(at=("[[Configurable]]"in ut?ut:ot)["[[Configurable]]"],dt=("[[Enumerable]]"in ut?ut:ot)["[[Enumerable]]"],s(j,tt,_,st,lt,{"[[Configurable]]":!!at,"[[Enumerable]]":!!dt,"[[Get]]":("[[Get]]"in ut?ut:ot)["[[Get]]"],"[[Set]]":("[[Set]]"in ut?ut:ot)["[[Set]]"]})):$(ot)&&j(ut)?(at=("[[Configurable]]"in ut?ut:ot)["[[Configurable]]"],dt=("[[Enumerable]]"in ut?ut:ot)["[[Enumerable]]"],s(j,tt,_,st,lt,{"[[Configurable]]":!!at,"[[Enumerable]]":!!dt,"[[Value]]":("[[Value]]"in ut?ut:ot)["[[Value]]"],"[[Writable]]":!!("[[Writable]]"in ut?ut:ot)["[[Writable]]"]})):s(j,tt,_,st,lt,ut)}return!0},ValidateAndApplyPropertyDescriptor}var OrdinaryDefineOwnProperty,hasRequiredOrdinaryDefineOwnProperty;function requireOrdinaryDefineOwnProperty(){if(hasRequiredOrdinaryDefineOwnProperty)return OrdinaryDefineOwnProperty;hasRequiredOrdinaryDefineOwnProperty=1;var i=requireGetIntrinsic$1(),e=gopd$1,s=i("%SyntaxError%"),o=i("%TypeError%"),h=requireIsPropertyDescriptor(),_=requireIsAccessorDescriptor(),$=requireIsDataDescriptor(),j=requireIsExtensible(),_e=requireIsPropertyKey(),et=requireToPropertyDescriptor(),tt=requireSameValue(),nt=requireType(),rt=requireValidateAndApplyPropertyDescriptor();return OrdinaryDefineOwnProperty=function(lt,ct,ut){if(nt(lt)!=="Object")throw new o("Assertion failed: O must be an Object");if(!_e(ct))throw new o("Assertion failed: P must be a Property Key");if(!h({Type:nt,IsDataDescriptor:$,IsAccessorDescriptor:_},ut))throw new o("Assertion failed: Desc must be a Property Descriptor");if(!e){if(_(ut))throw new s("This environment does not support accessor property descriptors.");var ot=!(ct in lt)&&ut["[[Writable]]"]&&ut["[[Enumerable]]"]&&ut["[[Configurable]]"]&&"[[Value]]"in ut,it=ct in lt&&(!("[[Configurable]]"in ut)||ut["[[Configurable]]"])&&(!("[[Enumerable]]"in ut)||ut["[[Enumerable]]"])&&(!("[[Writable]]"in ut)||ut["[[Writable]]"])&&"[[Value]]"in ut;if(ot||it)return lt[ct]=ut["[[Value]]"],tt(lt[ct],ut["[[Value]]"]);throw new s("This environment does not support defining non-writable, non-enumerable, or non-configurable properties")}var at=e(lt,ct),dt=at&&et(at),ht=j(lt);return rt(lt,ct,ht,ut,dt)},OrdinaryDefineOwnProperty}var CreateDataProperty,hasRequiredCreateDataProperty;function requireCreateDataProperty(){if(hasRequiredCreateDataProperty)return CreateDataProperty;hasRequiredCreateDataProperty=1;var i=requireGetIntrinsic$1(),e=i("%TypeError%"),s=requireIsPropertyKey(),o=requireOrdinaryDefineOwnProperty(),h=requireType();return CreateDataProperty=function($,j,_e){if(h($)!=="Object")throw new e("Assertion failed: Type(O) is not Object");if(!s(j))throw new e("Assertion failed: IsPropertyKey(P) is not true");var et={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Value]]":_e,"[[Writable]]":!0};return o($,j,et)},CreateDataProperty}var CreateDataPropertyOrThrow,hasRequiredCreateDataPropertyOrThrow;function requireCreateDataPropertyOrThrow(){if(hasRequiredCreateDataPropertyOrThrow)return CreateDataPropertyOrThrow;hasRequiredCreateDataPropertyOrThrow=1;var i=requireGetIntrinsic$1(),e=i("%TypeError%"),s=requireCreateDataProperty(),o=requireIsPropertyKey(),h=requireType();return CreateDataPropertyOrThrow=function($,j,_e){if(h($)!=="Object")throw new e("Assertion failed: Type(O) is not Object");if(!o(j))throw new e("Assertion failed: IsPropertyKey(P) is not true");var et=s($,j,_e);if(!et)throw new e("unable to create data property")},CreateDataPropertyOrThrow}var HasProperty,hasRequiredHasProperty;function requireHasProperty(){if(hasRequiredHasProperty)return HasProperty;hasRequiredHasProperty=1;var i=requireGetIntrinsic$1(),e=i("%TypeError%"),s=requireIsPropertyKey(),o=requireType();return HasProperty=function(_,$){if(o(_)!=="Object")throw new e("Assertion failed: `O` must be an Object");if(!s($))throw new e("Assertion failed: `P` must be a Property Key");return $ in _},HasProperty}var mod,hasRequiredMod;function requireMod(){if(hasRequiredMod)return mod;hasRequiredMod=1;var i=Math.floor;return mod=function(s,o){var h=s%o;return i(h>=0?h:h+o)},mod}var modulo,hasRequiredModulo;function requireModulo(){if(hasRequiredModulo)return modulo;hasRequiredModulo=1;var i=requireMod();return modulo=function(s,o){return i(s,o)},modulo}var isPrimitive,hasRequiredIsPrimitive;function requireIsPrimitive(){return hasRequiredIsPrimitive||(hasRequiredIsPrimitive=1,isPrimitive=function(e){return e===null||typeof e!="function"&&typeof e!="object"}),isPrimitive}var isDateObject,hasRequiredIsDateObject;function requireIsDateObject(){if(hasRequiredIsDateObject)return isDateObject;hasRequiredIsDateObject=1;var i=Date.prototype.getDay,e=function($){try{return i.call($),!0}catch{return!1}},s=Object.prototype.toString,o="[object Date]",h=requireShams()();return isDateObject=function($){return typeof $!="object"||$===null?!1:h?e($):s.call($)===o},isDateObject}var isSymbol={exports:{}},hasRequiredIsSymbol;function requireIsSymbol(){if(hasRequiredIsSymbol)return isSymbol.exports;hasRequiredIsSymbol=1;var i=Object.prototype.toString,e=requireHasSymbols()();if(e){var s=Symbol.prototype.toString,o=/^Symbol\(.*\)$/,h=function($){return typeof $.valueOf()!="symbol"?!1:o.test(s.call($))};isSymbol.exports=function($){if(typeof $=="symbol")return!0;if(i.call($)!=="[object Symbol]")return!1;try{return h($)}catch{return!1}}}else isSymbol.exports=function($){return!1};return isSymbol.exports}var es2015,hasRequiredEs2015;function requireEs2015(){if(hasRequiredEs2015)return es2015;hasRequiredEs2015=1;var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol",e=requireIsPrimitive(),s=requireIsCallable$1(),o=requireIsDateObject(),h=requireIsSymbol(),_=function(_e,et){if(typeof _e>"u"||_e===null)throw new TypeError("Cannot call method on "+_e);if(typeof et!="string"||et!=="number"&&et!=="string")throw new TypeError('hint must be "string" or "number"');var tt=et==="string"?["toString","valueOf"]:["valueOf","toString"],nt,rt,st;for(st=0;st<tt.length;++st)if(nt=_e[tt[st]],s(nt)&&(rt=nt.call(_e),e(rt)))return rt;throw new TypeError("No default value")},$=function(_e,et){var tt=_e[et];if(tt!==null&&typeof tt<"u"){if(!s(tt))throw new TypeError(tt+" returned for property "+et+" of object "+_e+" is not a function");return tt}};return es2015=function(_e){if(e(_e))return _e;var et="default";arguments.length>1&&(arguments[1]===String?et="string":arguments[1]===Number&&(et="number"));var tt;if(i&&(Symbol.toPrimitive?tt=$(_e,Symbol.toPrimitive):h(_e)&&(tt=Symbol.prototype.valueOf)),typeof tt<"u"){var nt=tt.call(_e,et);if(e(nt))return nt;throw new TypeError("unable to convert exotic object to primitive")}return et==="default"&&(o(_e)||h(_e))&&(et="string"),_(_e,et==="default"?"number":et)},es2015}var ToPrimitive,hasRequiredToPrimitive;function requireToPrimitive(){if(hasRequiredToPrimitive)return ToPrimitive;hasRequiredToPrimitive=1;var i=requireEs2015();return ToPrimitive=function(s){return arguments.length>1?i(s,arguments[1]):i(s)},ToPrimitive}var isRegex,hasRequiredIsRegex;function requireIsRegex(){if(hasRequiredIsRegex)return isRegex;hasRequiredIsRegex=1;var i=requireCallBound(),e=requireShams()(),s,o,h,_;if(e){s=i("Object.prototype.hasOwnProperty"),o=i("RegExp.prototype.exec"),h={};var $=function(){throw h};_={toString:$,valueOf:$},typeof Symbol.toPrimitive=="symbol"&&(_[Symbol.toPrimitive]=$)}var j=i("Object.prototype.toString"),_e=Object.getOwnPropertyDescriptor,et="[object RegExp]";return isRegex=e?function(nt){if(!nt||typeof nt!="object")return!1;var rt=_e(nt,"lastIndex"),st=rt&&s(rt,"value");if(!st)return!1;try{o(nt,_)}catch(lt){return lt===h}}:function(nt){return!nt||typeof nt!="object"&&typeof nt!="function"?!1:j(nt)===et},isRegex}var safeRegexTest,hasRequiredSafeRegexTest;function requireSafeRegexTest(){if(hasRequiredSafeRegexTest)return safeRegexTest;hasRequiredSafeRegexTest=1;var i=requireCallBound(),e=requireGetIntrinsic$1(),s=requireIsRegex(),o=i("RegExp.prototype.exec"),h=e("%TypeError%");return safeRegexTest=function($){if(!s($))throw new h("`regex` must be a RegExp");return function(_e){return o($,_e)!==null}},safeRegexTest}var ToString,hasRequiredToString;function requireToString(){if(hasRequiredToString)return ToString;hasRequiredToString=1;var i=requireGetIntrinsic$1(),e=i("%String%"),s=i("%TypeError%");return ToString=function(h){if(typeof h=="symbol")throw new s("Cannot convert a Symbol value to a string");return e(h)},ToString}var implementation$3,hasRequiredImplementation$1;function requireImplementation$1(){if(hasRequiredImplementation$1)return implementation$3;hasRequiredImplementation$1=1;var i=requireRequireObjectCoercible(),e=requireToString(),s=requireCallBound(),o=s("String.prototype.replace"),h=/^\s$/.test("᠎"),_=h?/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/:/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,$=h?/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/:/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/;return implementation$3=function(){var _e=e(i(this));return o(o(_e,_,""),$,"")},implementation$3}var polyfill$2,hasRequiredPolyfill$1;function requirePolyfill$1(){if(hasRequiredPolyfill$1)return polyfill$2;hasRequiredPolyfill$1=1;var i=requireImplementation$1(),e="​",s="᠎";return polyfill$2=function(){return String.prototype.trim&&e.trim()===e&&s.trim()===s&&("_"+s).trim()==="_"+s&&(s+"_").trim()===s+"_"?String.prototype.trim:i},polyfill$2}var shim$2,hasRequiredShim$1;function requireShim$1(){if(hasRequiredShim$1)return shim$2;hasRequiredShim$1=1;var i=defineProperties_1,e=requirePolyfill$1();return shim$2=function(){var o=e();return i(String.prototype,{trim:o},{trim:function(){return String.prototype.trim!==o}}),o},shim$2}var string_prototype_trim,hasRequiredString_prototype_trim;function requireString_prototype_trim(){if(hasRequiredString_prototype_trim)return string_prototype_trim;hasRequiredString_prototype_trim=1;var i=callBindExports,e=defineProperties_1,s=requireRequireObjectCoercible(),o=requireImplementation$1(),h=requirePolyfill$1(),_=requireShim$1(),$=i(h()),j=function(et){return s(et),$(et)};return e(j,{getPolyfill:h,implementation:o,shim:_}),string_prototype_trim=j,string_prototype_trim}var StringToNumber,hasRequiredStringToNumber;function requireStringToNumber(){if(hasRequiredStringToNumber)return StringToNumber;hasRequiredStringToNumber=1;var i=requireGetIntrinsic$1(),e=i("%Number%"),s=i("%RegExp%"),o=i("%TypeError%"),h=i("%parseInt%"),_=requireCallBound(),$=requireSafeRegexTest(),j=_("String.prototype.slice"),_e=$(/^0b[01]+$/i),et=$(/^0o[0-7]+$/i),tt=$(/^[-+]0x[0-9a-f]+$/i),nt=["","​","￾"].join(""),rt=new s("["+nt+"]","g"),st=$(rt),lt=requireString_prototype_trim(),ct=requireType();return StringToNumber=function ut(ot){if(ct(ot)!=="String")throw new o("Assertion failed: `argument` is not a String");if(_e(ot))return e(h(j(ot,2),2));if(et(ot))return e(h(j(ot,2),8));if(st(ot)||tt(ot))return NaN;var it=lt(ot);return it!==ot?ut(it):e(ot)},StringToNumber}var ToNumber,hasRequiredToNumber;function requireToNumber(){if(hasRequiredToNumber)return ToNumber;hasRequiredToNumber=1;var i=requireGetIntrinsic$1(),e=i("%TypeError%"),s=i("%Number%"),o=requireIsPrimitive$1(),h=requireToPrimitive(),_=requireStringToNumber();return ToNumber=function(j){var _e=o(j)?j:h(j,s);if(typeof _e=="symbol")throw new e("Cannot convert a Symbol value to a number");if(typeof _e=="bigint")throw new e("Conversion from 'BigInt' to 'number' is not allowed.");return typeof _e=="string"?_(_e):s(_e)},ToNumber}var floor,hasRequiredFloor;function requireFloor(){if(hasRequiredFloor)return floor;hasRequiredFloor=1;var i=requireType(),e=Math.floor;return floor=function(o){return i(o)==="BigInt"?o:e(o)},floor}var truncate,hasRequiredTruncate;function requireTruncate(){if(hasRequiredTruncate)return truncate;hasRequiredTruncate=1;var i=requireGetIntrinsic$1(),e=requireFloor(),s=i("%TypeError%");return truncate=function(h){if(typeof h!="number"&&typeof h!="bigint")throw new s("argument must be a Number or a BigInt");var _=h<0?-e(-h):e(h);return _===0?0:_},truncate}var ToUint32,hasRequiredToUint32;function requireToUint32(){if(hasRequiredToUint32)return ToUint32;hasRequiredToUint32=1;var i=requireModulo(),e=requireToNumber(),s=requireTruncate(),o=require_isFinite(),h=4294967296;return ToUint32=function($){var j=e($);if(!o(j)||j===0)return 0;var _e=s(j),et=i(_e,h);return et===0?0:et},ToUint32}var ToObject,hasRequiredToObject;function requireToObject(){if(hasRequiredToObject)return ToObject;hasRequiredToObject=1;var i=requireGetIntrinsic$1(),e=i("%Object%"),s=requireRequireObjectCoercible();return ToObject=function(h){return s(h),e(h)},ToObject}var implementation$2,hasRequiredImplementation;function requireImplementation(){if(hasRequiredImplementation)return implementation$2;hasRequiredImplementation=1;var i=requireArraySpeciesCreate(),e=requireCall(),s=requireCreateDataPropertyOrThrow(),o=requireGet(),h=requireHasProperty(),_=requireIsCallable(),$=requireToUint32(),j=requireToObject(),_e=requireToString(),et=requireCallBound(),tt=requireIsString(),nt=Object("a"),rt=nt[0]!=="a"||!(0 in nt),st=et("String.prototype.split");return implementation$2=function(ct){var ut=j(this),ot=rt&&tt(ut)?st(ut,""):ut,it=$(ot.length);if(!_(ct))throw new TypeError("Array.prototype.map callback must be a function");var at;arguments.length>1&&(at=arguments[1]);for(var dt=i(ut,it),ht=0;ht<it;){var yt=_e(ht),_t=h(ut,yt);if(_t){var gt=o(ut,yt),St=e(ct,at,[gt,ht,ut]);s(dt,yt,St)}ht+=1}return dt},implementation$2}var esArrayMethodBoxesProperly,hasRequiredEsArrayMethodBoxesProperly;function requireEsArrayMethodBoxesProperly(){return hasRequiredEsArrayMethodBoxesProperly||(hasRequiredEsArrayMethodBoxesProperly=1,esArrayMethodBoxesProperly=function(e){var s=!0,o=!0,h=!1;if(typeof e=="function"){try{e.call("f",function(_,$,j){typeof j!="object"&&(s=!1)}),e.call([null],function(){"use strict";o=typeof this=="string"},"x")}catch{h=!0}return!h&&s&&o}return!1}),esArrayMethodBoxesProperly}var polyfill$1,hasRequiredPolyfill;function requirePolyfill(){if(hasRequiredPolyfill)return polyfill$1;hasRequiredPolyfill=1;var i=requireEsArrayMethodBoxesProperly(),e=requireImplementation();return polyfill$1=function(){var o=Array.prototype.map;return i(o)?o:e},polyfill$1}var shim$1,hasRequiredShim;function requireShim(){if(hasRequiredShim)return shim$1;hasRequiredShim=1;var i=defineProperties_1,e=requirePolyfill();return shim$1=function(){var o=e();return i(Array.prototype,{map:o},{map:function(){return Array.prototype.map!==o}}),o},shim$1}var array_prototype_map,hasRequiredArray_prototype_map;function requireArray_prototype_map(){if(hasRequiredArray_prototype_map)return array_prototype_map;hasRequiredArray_prototype_map=1;var i=defineProperties_1,e=requireRequireObjectCoercible(),s=requireCallBound(),o=requireImplementation(),h=requirePolyfill(),_=h(),$=requireShim(),j=s("Array.prototype.slice"),_e=function(tt,nt){return e(tt),_.apply(tt,j(arguments,1))};return i(_e,{getPolyfill:h,implementation:o,shim:$}),array_prototype_map=_e,array_prototype_map}var requirePromise$2=requirePromise$3;requirePromise$2();var PromiseResolve=requirePromiseResolve(),Type=requireType$1(),iterate=requireIterateValue(),map=requireArray_prototype_map(),GetIntrinsic=requireGetIntrinsic$1(),callBind=callBindExports,all$1=callBind(GetIntrinsic("%Promise.all%")),reject=callBind(GetIntrinsic("%Promise.reject%")),implementation$1=function(e){var s=this;if(Type(s)!=="Object")throw new TypeError("`this` value must be an object");var o=iterate(e);return all$1(s,map(o,function(h){var _=function(_e){return{status:"fulfilled",value:_e}},$=function(_e){return{status:"rejected",reason:_e}},j=PromiseResolve(s,h);try{return j.then(_,$)}catch(_e){return reject(s,_e)}}))},requirePromise$1=requirePromise$3,implementation=implementation$1,polyfill=function(){return requirePromise$1(),typeof Promise.allSettled=="function"?Promise.allSettled:implementation},requirePromise=requirePromise$3,getPolyfill=polyfill,define=defineProperties_1,shim=function(){requirePromise();var e=getPolyfill();return define(Promise,{allSettled:e},{allSettled:function(){return Promise.allSettled!==e}}),e};(function(i){var e=callBindExports,s=defineProperties_1,o=requirePromise$3,h=implementation$1,_=polyfill,$=shim;o();var j=e(_()),_e=function(tt){return j(typeof this>"u"?Promise:this,tt)};s(_e,{getPolyfill:_,implementation:h,shim:$}),i.exports=_e,i.exports.default=_e})(promise_allsettled);var promise_allsettledExports=promise_allsettled.exports;const allSettled=getDefaultExportFromCjs(promise_allsettledExports);var ResponseBasedRateLimiter=function(){function i(e){var s=e.logger;this._queue=[],this._batchRunning=!1,this._paused=!1,this._logger=createLogger(__assign({name:"rate-limiter",emoji:!0},s))}return i.prototype.request=function(e,s){return __awaiter(this,void 0,Promise,function(){var o=this;return __generator(this,function(h){switch(h.label){case 0:return this._logger.trace("request start"),[4,new Promise(function(_,$){var j,_e={req:e,resolve:_,reject:$,limitReachedBehavior:(j=s==null?void 0:s.limitReachedBehavior)!==null&&j!==void 0?j:"enqueue"};o._batchRunning||o._nextBatchTimer||o._paused?(o._logger.trace("request queued batchRunning:".concat(o._batchRunning.toString()," hasNextBatchTimer:").concat((!!o._nextBatchTimer).toString()," paused:").concat(o._paused.toString())),o._queue.push(_e)):o._runRequestBatch([_e])})];case 1:return[2,h.sent()]}})})},i.prototype.clear=function(){this._queue=[]},i.prototype.pause=function(){this._paused=!0},i.prototype.resume=function(){this._paused=!1,this._runNextBatch()},Object.defineProperty(i.prototype,"stats",{get:function(){var e,s,o,h,_;return{lastKnownLimit:(s=(e=this._parameters)===null||e===void 0?void 0:e.limit)!==null&&s!==void 0?s:null,lastKnownRemainingRequests:(h=(o=this._parameters)===null||o===void 0?void 0:o.remaining)!==null&&h!==void 0?h:null,lastKnownResetDate:mapNullable((_=this._parameters)===null||_===void 0?void 0:_.resetsAt,function($){return new Date($)})}},enumerable:!1,configurable:!0}),i.prototype._runRequestBatch=function(e){return __awaiter(this,void 0,void 0,function(){var s,o,h,_,$,j,_e,et,tt=this;return __generator(this,function(nt){switch(nt.label){case 0:return this._logger.trace("runRequestBatch start specs:".concat(e.length)),this._batchRunning=!0,this._parameters&&this._logger.debug("Remaining requests: ".concat(this._parameters.remaining)),this._logger.debug("Doing ".concat(e.length," requests, new queue length is ").concat(this._queue.length)),s=e.map(function(rt){return __awaiter(tt,void 0,Promise,function(){var st,lt,ct,ut,ot,it,at;return __generator(this,function(dt){switch(dt.label){case 0:st=rt.req,lt=rt.resolve,ct=rt.reject,dt.label=1;case 1:return dt.trys.push([1,3,,4]),[4,this.doRequest(st)];case 2:if(ut=dt.sent(),ot=this.needsToRetryAfter(ut),ot!==null)throw this._queue.unshift(rt),this._logger.info("Retrying after ".concat(ot," ms")),new RetryAfterError(ot);return it=this.getParametersFromResponse(ut),lt(ut),[2,it];case 3:if(at=dt.sent(),at instanceof RetryAfterError)throw at;return ct(at),[2,void 0];case 4:return[2]}})})}),[4,allSettled.call(Promise,s)];case 1:return o=nt.sent(),h=o.filter(function(rt){return rt.status==="rejected"}),_=Date.now(),h.length?(this._logger.trace("runRequestBatch some rejected"),$=Math.max.apply(Math,__spreadArray([_],__read(h.map(function(rt){return rt.reason.retryAt})),!1)),j=$-_,this._logger.warn("Waiting for ".concat(j," ms because the rate limit was exceeded")),this._nextBatchTimer=setTimeout(function(){tt._parameters=void 0,tt._runNextBatch()},j)):(this._logger.trace("runRequestBatch none rejected"),_e=o.filter(function(rt){return rt.status==="fulfilled"&&rt.value!==void 0}).map(function(rt){return rt.value}).reduce(function(rt,st){return rt?st.remaining<rt.remaining?st:rt:st},void 0),this._batchRunning=!1,_e&&(this._parameters=_e,_e.resetsAt<_||_e.remaining>0?(this._logger.trace("runRequestBatch canRunMore"),this._runNextBatch()):(et=_e.resetsAt-_,this._logger.trace("runRequestBatch delay:".concat(et)),this._logger.warn("Waiting for ".concat(et," ms because the rate limit was reached")),this._queue=this._queue.filter(function(rt){switch(rt.limitReachedBehavior){case"enqueue":return!0;case"null":return rt.resolve(null),!1;case"throw":return rt.reject(new RateLimitReachedError("Request removed from queue because the rate limit was reached")),!1;default:throw new Error("this should never happen")}}),this._nextBatchTimer=setTimeout(function(){tt._parameters=void 0,tt._runNextBatch()},et)))),this._logger.trace("runRequestBatch end"),[2]}})})},i.prototype._runNextBatch=function(){if(!this._paused){this._logger.trace("runNextBatch start"),this._nextBatchTimer&&(clearTimeout(this._nextBatchTimer),this._nextBatchTimer=void 0);var e=this._parameters?Math.min(this._parameters.remaining,this._parameters.limit/10):1,s=this._queue.splice(0,e);s.length&&this._runRequestBatch(s),this._logger.trace("runNextBatch end")}},i}(),PartitionedRateLimiter=function(){function i(e){this._children=new Map,this._paused=!1,this._partitionKeyCallback=e.getPartitionKey,this._createChildCallback=e.createChild}return i.prototype.request=function(e,s){return __awaiter(this,void 0,Promise,function(){var o,h;return __generator(this,function(_){switch(_.label){case 0:return o=this._partitionKeyCallback(e),h=this._getChild(o),[4,h.request(e,s)];case 1:return[2,_.sent()]}})})},i.prototype.clear=function(){var e,s;try{for(var o=__values(this._children.values()),h=o.next();!h.done;h=o.next()){var _=h.value;_.clear()}}catch($){e={error:$}}finally{try{h&&!h.done&&(s=o.return)&&s.call(o)}finally{if(e)throw e.error}}},i.prototype.pause=function(){var e,s;this._paused=!0;try{for(var o=__values(this._children.values()),h=o.next();!h.done;h=o.next()){var _=h.value;_.pause()}}catch($){e={error:$}}finally{try{h&&!h.done&&(s=o.return)&&s.call(o)}finally{if(e)throw e.error}}},i.prototype.resume=function(){var e,s;this._paused=!1;try{for(var o=__values(this._children.values()),h=o.next();!h.done;h=o.next()){var _=h.value;_.resume()}}catch($){e={error:$}}finally{try{h&&!h.done&&(s=o.return)&&s.call(o)}finally{if(e)throw e.error}}},i.prototype.getChildStats=function(e){if(!this._children.has(e))return null;var s=this._children.get(e);return s instanceof ResponseBasedRateLimiter?s.stats:null},i.prototype._getChild=function(e){if(this._children.has(e))return this._children.get(e);var s=this._createChildCallback(e);return this._paused&&s.pause(),this._children.set(e,s),s},i}(),PartitionedTimeBasedRateLimiter=function(){function i(e){var s=e.logger,o=e.bucketSize,h=e.timeFrame,_=e.doRequest,$=e.getPartitionKey;this._partitionedQueue=new Map,this._usedFromBucket=new Map,this._paused=!1,this._logger=createLogger(__assign({name:"rate-limiter",emoji:!0},s)),this._bucketSize=o,this._timeFrame=h,this._callback=_,this._partitionKeyCallback=$}return i.prototype.request=function(e,s){return __awaiter(this,void 0,Promise,function(){var o=this;return __generator(this,function(h){switch(h.label){case 0:return[4,new Promise(function(_,$){var j,_e,et={req:e,resolve:_,reject:$,limitReachedBehavior:(j=s==null?void 0:s.limitReachedBehavior)!==null&&j!==void 0?j:"enqueue"},tt=o._partitionKeyCallback(e),nt=(_e=o._usedFromBucket.get(tt))!==null&&_e!==void 0?_e:0;if(nt>=o._bucketSize||o._paused)switch(et.limitReachedBehavior){case"enqueue":{var rt=o._getPartitionedQueue(tt);rt.push(et),nt+rt.length>=o._bucketSize?o._logger.warn("Rate limit of ".concat(o._bucketSize," for ").concat(tt?"partition ".concat(tt):"default partition"," was reached, waiting for ").concat(o._paused?"the limiter to be unpaused":"a free bucket entry","; queue size is ").concat(rt.length)):o._logger.info("Enqueueing request for ".concat(tt?"partition ".concat(tt):"default partition"," because the rate limiter is paused; queue size is ").concat(rt.length));break}case"null":{et.resolve(null),o._paused?o._logger.info("Returning null for request for ".concat(tt?"partition ".concat(tt):"default partition"," because the rate limiter is paused")):o._logger.warn("Rate limit of ".concat(o._bucketSize," for ").concat(tt?"partition ".concat(tt):"default partition"," was reached, dropping request and returning null"));break}case"throw":{et.reject(new RateLimitReachedError("Request dropped because ".concat(o._paused?"the rate limiter is paused":"the rate limit for ".concat(tt?"partition ".concat(tt):"default partition"," was reached"))));break}default:throw new Error("this should never happen")}else o._runRequest(et,tt)})];case 1:return[2,h.sent()]}})})},i.prototype.clear=function(){this._partitionedQueue.clear()},i.prototype.pause=function(){this._paused=!0},i.prototype.resume=function(){var e,s;this._paused=!1;try{for(var o=__values(this._partitionedQueue.keys()),h=o.next();!h.done;h=o.next()){var _=h.value;this._runNextRequest(_)}}catch($){e={error:$}}finally{try{h&&!h.done&&(s=o.return)&&s.call(o)}finally{if(e)throw e.error}}},i.prototype._getPartitionedQueue=function(e){if(this._partitionedQueue.has(e))return this._partitionedQueue.get(e);var s=[];return this._partitionedQueue.set(e,s),s},i.prototype._runRequest=function(e,s){var o;return __awaiter(this,void 0,void 0,function(){var h,_,$,j,_e,et,tt=this;return __generator(this,function(nt){switch(nt.label){case 0:h=this._getPartitionedQueue(s),this._logger.debug("doing a request for ".concat(s?"partition ".concat(s):"default partition",", new queue length is ").concat(h.length)),this._usedFromBucket.set(s,((o=this._usedFromBucket.get(s))!==null&&o!==void 0?o:0)+1),_=e.req,$=e.resolve,j=e.reject,nt.label=1;case 1:return nt.trys.push([1,3,4,5]),_e=$,[4,this._callback(_)];case 2:return _e.apply(void 0,[nt.sent()]),[3,5];case 3:return et=nt.sent(),j(et),[3,5];case 4:return setTimeout(function(){var rt=tt._usedFromBucket.get(s)-1;tt._usedFromBucket.set(s,rt),h.length&&rt<tt._bucketSize&&tt._runNextRequest(s)},this._timeFrame),[7];case 5:return[2]}})})},i.prototype._runNextRequest=function(e){if(!this._paused){var s=this._getPartitionedQueue(e),o=s.shift();o&&this._runRequest(o,e)}},i}(),TimeBasedRateLimiter=function(){function i(e){var s=e.logger,o=e.bucketSize,h=e.timeFrame,_=e.doRequest;this._queue=[],this._usedFromBucket=0,this._paused=!1,this._logger=createLogger(__assign({name:"rate-limiter",emoji:!0},s)),this._bucketSize=o,this._timeFrame=h,this._callback=_}return i.prototype.request=function(e,s){return __awaiter(this,void 0,Promise,function(){var o=this;return __generator(this,function(h){switch(h.label){case 0:return[4,new Promise(function(_,$){var j,_e={req:e,resolve:_,reject:$,limitReachedBehavior:(j=s==null?void 0:s.limitReachedBehavior)!==null&&j!==void 0?j:"enqueue"};if(o._usedFromBucket>=o._bucketSize||o._paused)switch(_e.limitReachedBehavior){case"enqueue":{o._queue.push(_e),o._usedFromBucket+o._queue.length>=o._bucketSize?o._logger.warn("Rate limit of ".concat(o._bucketSize," was reached, waiting for ").concat(o._paused?"the limiter to be unpaused":"a free bucket entry","; queue size is ").concat(o._queue.length)):o._logger.info("Enqueueing request because the rate limiter is paused; queue size is ".concat(o._queue.length));break}case"null":{_e.resolve(null),o._logger.warn("Rate limit of ".concat(o._bucketSize," was reached, dropping request and returning null")),o._paused?o._logger.info("Returning null for request because the rate limiter is paused"):o._logger.warn("Rate limit of ".concat(o._bucketSize," was reached, dropping request and returning null"));break}case"throw":{_e.reject(new RateLimitReachedError("Request dropped because ".concat(o._paused?"the rate limiter is paused":"the rate limit was reached")));break}default:throw new Error("this should never happen")}else o._runRequest(_e)})];case 1:return[2,h.sent()]}})})},i.prototype.clear=function(){this._queue=[]},i.prototype.pause=function(){this._paused=!0},i.prototype.resume=function(){this._paused=!1,this._runNextRequest()},i.prototype._runRequest=function(e){return __awaiter(this,void 0,void 0,function(){var s,o,h,_,$,j=this;return __generator(this,function(_e){switch(_e.label){case 0:this._logger.debug("doing a request, new queue length is ".concat(this._queue.length)),this._usedFromBucket+=1,s=e.req,o=e.resolve,h=e.reject,_e.label=1;case 1:return _e.trys.push([1,3,4,5]),_=o,[4,this._callback(s)];case 2:return _.apply(void 0,[_e.sent()]),[3,5];case 3:return $=_e.sent(),h($),[3,5];case 4:return setTimeout(function(){j._usedFromBucket-=1,j._queue.length&&j._usedFromBucket<j._bucketSize&&j._runNextRequest()},this._timeFrame),[7];case 5:return[2]}})})},i.prototype._runNextRequest=function(){if(!this._paused){var e=this._queue.shift();e&&this._runRequest(e)}},i}(),TimedPassthruRateLimiter=function(i){__extends(e,i);function e(s,o){return i.call(this,__assign(__assign({},o),{doRequest:function(h,_){return __awaiter(this,void 0,Promise,function(){return __generator(this,function($){switch($.label){case 0:return[4,s.request(h,_)];case 1:return[2,$.sent()]}})})}}))||this}return e}(TimeBasedRateLimiter);class Listener{constructor(e,s,o,h=!1){this.owner=e,this.event=s,this.listener=o,this._internal=h}unbind(){this.owner.removeListener(this)}}class EventEmitter{constructor(){this._eventListeners=new Map,this._internalEventListeners=new Map}on(e,s){return this._addListener(!1,e,s)}addListener(e,s){return this._addListener(!1,e,s)}removeListener(e,s){this._removeListener(!1,e,s)}registerEvent(){const e=s=>this.addListener(e,s);return e}emit(e,...s){if(this._eventListeners.has(e))for(const o of this._eventListeners.get(e))o(...s);if(this._internalEventListeners.has(e))for(const o of this._internalEventListeners.get(e))o(...s)}registerInternalEvent(){const e=s=>this.addInternalListener(e,s);return e}addInternalListener(e,s){return this._addListener(!0,e,s)}removeInternalListener(e,s){this._removeListener(!0,e,s)}_addListener(e,s,o){const h=e?this._eventListeners:this._internalEventListeners;return h.has(s)?h.get(s).push(o):h.set(s,[o]),new Listener(this,s,o,e)}_removeListener(e,s,o){const h=e?this._eventListeners:this._internalEventListeners;if(!s)h.clear();else if(typeof s=="object"){const _=s;this._removeListener(_._internal,_.event,_.listener)}else{const _=s;if(h.has(_))if(o){const $=h.get(_);let j=0;for(;(j=$.indexOf(o))!==-1;)$.splice(j,1)}else h.delete(_)}}}const EXPIRY_GRACE_PERIOD=6e4;function getExpiryMillis(i){return mapNullable(i.expiresIn,e=>i.obtainmentTimestamp+e*1e3-EXPIRY_GRACE_PERIOD)}function accessTokenIsExpired(i){var e;return(e=mapNullable(getExpiryMillis(i),s=>Date.now()>s))!==null&&e!==void 0?e:!1}var browserPonyfill={exports:{}};(function(i,e){var s=typeof self<"u"?self:commonjsGlobal,o=function(){function _(){this.fetch=!1,this.DOMException=s.DOMException}return _.prototype=s,new _}();(function(_){(function($){var j={searchParams:"URLSearchParams"in _,iterable:"Symbol"in _&&"iterator"in Symbol,blob:"FileReader"in _&&"Blob"in _&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in _,arrayBuffer:"ArrayBuffer"in _};function _e(ft){return ft&&DataView.prototype.isPrototypeOf(ft)}if(j.arrayBuffer)var et=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],tt=ArrayBuffer.isView||function(ft){return ft&&et.indexOf(Object.prototype.toString.call(ft))>-1};function nt(ft){if(typeof ft!="string"&&(ft=String(ft)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(ft))throw new TypeError("Invalid character in header field name");return ft.toLowerCase()}function rt(ft){return typeof ft!="string"&&(ft=String(ft)),ft}function st(ft){var wt={next:function(){var Tt=ft.shift();return{done:Tt===void 0,value:Tt}}};return j.iterable&&(wt[Symbol.iterator]=function(){return wt}),wt}function lt(ft){this.map={},ft instanceof lt?ft.forEach(function(wt,Tt){this.append(Tt,wt)},this):Array.isArray(ft)?ft.forEach(function(wt){this.append(wt[0],wt[1])},this):ft&&Object.getOwnPropertyNames(ft).forEach(function(wt){this.append(wt,ft[wt])},this)}lt.prototype.append=function(ft,wt){ft=nt(ft),wt=rt(wt);var Tt=this.map[ft];this.map[ft]=Tt?Tt+", "+wt:wt},lt.prototype.delete=function(ft){delete this.map[nt(ft)]},lt.prototype.get=function(ft){return ft=nt(ft),this.has(ft)?this.map[ft]:null},lt.prototype.has=function(ft){return this.map.hasOwnProperty(nt(ft))},lt.prototype.set=function(ft,wt){this.map[nt(ft)]=rt(wt)},lt.prototype.forEach=function(ft,wt){for(var Tt in this.map)this.map.hasOwnProperty(Tt)&&ft.call(wt,this.map[Tt],Tt,this)},lt.prototype.keys=function(){var ft=[];return this.forEach(function(wt,Tt){ft.push(Tt)}),st(ft)},lt.prototype.values=function(){var ft=[];return this.forEach(function(wt){ft.push(wt)}),st(ft)},lt.prototype.entries=function(){var ft=[];return this.forEach(function(wt,Tt){ft.push([Tt,wt])}),st(ft)},j.iterable&&(lt.prototype[Symbol.iterator]=lt.prototype.entries);function ct(ft){if(ft.bodyUsed)return Promise.reject(new TypeError("Already read"));ft.bodyUsed=!0}function ut(ft){return new Promise(function(wt,Tt){ft.onload=function(){wt(ft.result)},ft.onerror=function(){Tt(ft.error)}})}function ot(ft){var wt=new FileReader,Tt=ut(wt);return wt.readAsArrayBuffer(ft),Tt}function it(ft){var wt=new FileReader,Tt=ut(wt);return wt.readAsText(ft),Tt}function at(ft){for(var wt=new Uint8Array(ft),Tt=new Array(wt.length),Mt=0;Mt<wt.length;Mt++)Tt[Mt]=String.fromCharCode(wt[Mt]);return Tt.join("")}function dt(ft){if(ft.slice)return ft.slice(0);var wt=new Uint8Array(ft.byteLength);return wt.set(new Uint8Array(ft)),wt.buffer}function ht(){return this.bodyUsed=!1,this._initBody=function(ft){this._bodyInit=ft,ft?typeof ft=="string"?this._bodyText=ft:j.blob&&Blob.prototype.isPrototypeOf(ft)?this._bodyBlob=ft:j.formData&&FormData.prototype.isPrototypeOf(ft)?this._bodyFormData=ft:j.searchParams&&URLSearchParams.prototype.isPrototypeOf(ft)?this._bodyText=ft.toString():j.arrayBuffer&&j.blob&&_e(ft)?(this._bodyArrayBuffer=dt(ft.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):j.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(ft)||tt(ft))?this._bodyArrayBuffer=dt(ft):this._bodyText=ft=Object.prototype.toString.call(ft):this._bodyText="",this.headers.get("content-type")||(typeof ft=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):j.searchParams&&URLSearchParams.prototype.isPrototypeOf(ft)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},j.blob&&(this.blob=function(){var ft=ct(this);if(ft)return ft;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?ct(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(ot)}),this.text=function(){var ft=ct(this);if(ft)return ft;if(this._bodyBlob)return it(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(at(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},j.formData&&(this.formData=function(){return this.text().then(St)}),this.json=function(){return this.text().then(JSON.parse)},this}var yt=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function _t(ft){var wt=ft.toUpperCase();return yt.indexOf(wt)>-1?wt:ft}function gt(ft,wt){wt=wt||{};var Tt=wt.body;if(ft instanceof gt){if(ft.bodyUsed)throw new TypeError("Already read");this.url=ft.url,this.credentials=ft.credentials,wt.headers||(this.headers=new lt(ft.headers)),this.method=ft.method,this.mode=ft.mode,this.signal=ft.signal,!Tt&&ft._bodyInit!=null&&(Tt=ft._bodyInit,ft.bodyUsed=!0)}else this.url=String(ft);if(this.credentials=wt.credentials||this.credentials||"same-origin",(wt.headers||!this.headers)&&(this.headers=new lt(wt.headers)),this.method=_t(wt.method||this.method||"GET"),this.mode=wt.mode||this.mode||null,this.signal=wt.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&Tt)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(Tt)}gt.prototype.clone=function(){return new gt(this,{body:this._bodyInit})};function St(ft){var wt=new FormData;return ft.trim().split("&").forEach(function(Tt){if(Tt){var Mt=Tt.split("="),bt=Mt.shift().replace(/\+/g," "),xt=Mt.join("=").replace(/\+/g," ");wt.append(decodeURIComponent(bt),decodeURIComponent(xt))}}),wt}function Rt(ft){var wt=new lt,Tt=ft.replace(/\r?\n[\t ]+/g," ");return Tt.split(/\r?\n/).forEach(function(Mt){var bt=Mt.split(":"),xt=bt.shift().trim();if(xt){var Pt=bt.join(":").trim();wt.append(xt,Pt)}}),wt}ht.call(gt.prototype);function At(ft,wt){wt||(wt={}),this.type="default",this.status=wt.status===void 0?200:wt.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in wt?wt.statusText:"OK",this.headers=new lt(wt.headers),this.url=wt.url||"",this._initBody(ft)}ht.call(At.prototype),At.prototype.clone=function(){return new At(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new lt(this.headers),url:this.url})},At.error=function(){var ft=new At(null,{status:0,statusText:""});return ft.type="error",ft};var kt=[301,302,303,307,308];At.redirect=function(ft,wt){if(kt.indexOf(wt)===-1)throw new RangeError("Invalid status code");return new At(null,{status:wt,headers:{location:ft}})},$.DOMException=_.DOMException;try{new $.DOMException}catch{$.DOMException=function(wt,Tt){this.message=wt,this.name=Tt;var Mt=Error(wt);this.stack=Mt.stack},$.DOMException.prototype=Object.create(Error.prototype),$.DOMException.prototype.constructor=$.DOMException}function Dt(ft,wt){return new Promise(function(Tt,Mt){var bt=new gt(ft,wt);if(bt.signal&&bt.signal.aborted)return Mt(new $.DOMException("Aborted","AbortError"));var xt=new XMLHttpRequest;function Pt(){xt.abort()}xt.onload=function(){var Nt={status:xt.status,statusText:xt.statusText,headers:Rt(xt.getAllResponseHeaders()||"")};Nt.url="responseURL"in xt?xt.responseURL:Nt.headers.get("X-Request-URL");var Bt="response"in xt?xt.response:xt.responseText;Tt(new At(Bt,Nt))},xt.onerror=function(){Mt(new TypeError("Network request failed"))},xt.ontimeout=function(){Mt(new TypeError("Network request failed"))},xt.onabort=function(){Mt(new $.DOMException("Aborted","AbortError"))},xt.open(bt.method,bt.url,!0),bt.credentials==="include"?xt.withCredentials=!0:bt.credentials==="omit"&&(xt.withCredentials=!1),"responseType"in xt&&j.blob&&(xt.responseType="blob"),bt.headers.forEach(function(Nt,Bt){xt.setRequestHeader(Bt,Nt)}),bt.signal&&(bt.signal.addEventListener("abort",Pt),xt.onreadystatechange=function(){xt.readyState===4&&bt.signal.removeEventListener("abort",Pt)}),xt.send(typeof bt._bodyInit>"u"?null:bt._bodyInit)})}return Dt.polyfill=!0,_.fetch||(_.fetch=Dt,_.Headers=lt,_.Request=gt,_.Response=At),$.Headers=lt,$.Request=gt,$.Response=At,$.fetch=Dt,Object.defineProperty($,"__esModule",{value:!0}),$})({})})(o),o.fetch.ponyfill=!0,delete o.fetch.polyfill;var h=o;e=h.fetch,e.default=h.fetch,e.fetch=h.fetch,e.Headers=h.Headers,e.Request=h.Request,e.Response=h.Response,i.exports=e})(browserPonyfill,browserPonyfill.exports);var browserPonyfillExports=browserPonyfill.exports;const fetch$1=getDefaultExportFromCjs(browserPonyfillExports);var has$1=Object.prototype.hasOwnProperty,isArray$2=Array.isArray,hexTable=function(){for(var i=[],e=0;e<256;++e)i.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return i}(),compactQueue=function(e){for(;e.length>1;){var s=e.pop(),o=s.obj[s.prop];if(isArray$2(o)){for(var h=[],_=0;_<o.length;++_)typeof o[_]<"u"&&h.push(o[_]);s.obj[s.prop]=h}}},arrayToObject$1=function(e,s){for(var o=s&&s.plainObjects?Object.create(null):{},h=0;h<e.length;++h)typeof e[h]<"u"&&(o[h]=e[h]);return o},merge$1=function i(e,s,o){if(!s)return e;if(typeof s!="object"){if(isArray$2(e))e.push(s);else if(e&&typeof e=="object")(o&&(o.plainObjects||o.allowPrototypes)||!has$1.call(Object.prototype,s))&&(e[s]=!0);else return[e,s];return e}if(!e||typeof e!="object")return[e].concat(s);var h=e;return isArray$2(e)&&!isArray$2(s)&&(h=arrayToObject$1(e,o)),isArray$2(e)&&isArray$2(s)?(s.forEach(function(_,$){if(has$1.call(e,$)){var j=e[$];j&&typeof j=="object"&&_&&typeof _=="object"?e[$]=i(j,_,o):e.push(_)}else e[$]=_}),e):Object.keys(s).reduce(function(_,$){var j=s[$];return has$1.call(_,$)?_[$]=i(_[$],j,o):_[$]=j,_},h)},assign=function(e,s){return Object.keys(s).reduce(function(o,h){return o[h]=s[h],o},e)},decode=function(i,e,s){var o=i.replace(/\+/g," ");if(s==="iso-8859-1")return o.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(o)}catch{return o}},encode$2=function(e,s,o){if(e.length===0)return e;var h=e;if(typeof e=="symbol"?h=Symbol.prototype.toString.call(e):typeof e!="string"&&(h=String(e)),o==="iso-8859-1")return escape(h).replace(/%u[0-9a-f]{4}/gi,function(_e){return"%26%23"+parseInt(_e.slice(2),16)+"%3B"});for(var _="",$=0;$<h.length;++$){var j=h.charCodeAt($);if(j===45||j===46||j===95||j===126||j>=48&&j<=57||j>=65&&j<=90||j>=97&&j<=122){_+=h.charAt($);continue}if(j<128){_=_+hexTable[j];continue}if(j<2048){_=_+(hexTable[192|j>>6]+hexTable[128|j&63]);continue}if(j<55296||j>=57344){_=_+(hexTable[224|j>>12]+hexTable[128|j>>6&63]+hexTable[128|j&63]);continue}$+=1,j=65536+((j&1023)<<10|h.charCodeAt($)&1023),_+=hexTable[240|j>>18]+hexTable[128|j>>12&63]+hexTable[128|j>>6&63]+hexTable[128|j&63]}return _},compact=function(e){for(var s=[{obj:{o:e},prop:"o"}],o=[],h=0;h<s.length;++h)for(var _=s[h],$=_.obj[_.prop],j=Object.keys($),_e=0;_e<j.length;++_e){var et=j[_e],tt=$[et];typeof tt=="object"&&tt!==null&&o.indexOf(tt)===-1&&(s.push({obj:$,prop:et}),o.push(tt))}return compactQueue(s),e},isRegExp$1=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},isBuffer$1=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},combine=function(e,s){return[].concat(e,s)},utils$3={arrayToObject:arrayToObject$1,assign,combine,compact,decode,encode:encode$2,isBuffer:isBuffer$1,isRegExp:isRegExp$1,merge:merge$1},replace=String.prototype.replace,percentTwenties=/%20/g,util=utils$3,Format={RFC1738:"RFC1738",RFC3986:"RFC3986"},formats$1=util.assign({default:Format.RFC3986,formatters:{RFC1738:function(i){return replace.call(i,percentTwenties,"+")},RFC3986:function(i){return String(i)}}},Format),utils$2=utils$3,formats=formats$1,has=Object.prototype.hasOwnProperty,arrayPrefixGenerators={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,s){return e+"["+s+"]"},repeat:function(e){return e}},isArray$1=Array.isArray,push=Array.prototype.push,pushToArray=function(i,e){push.apply(i,isArray$1(e)?e:[e])},toISO=Date.prototype.toISOString,defaultFormat=formats.default,defaults$2={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:utils$2.encode,encodeValuesOnly:!1,format:defaultFormat,formatter:formats.formatters[defaultFormat],indices:!1,serializeDate:function(e){return toISO.call(e)},skipNulls:!1,strictNullHandling:!1},isNonNullishPrimitive=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},stringify=function i(e,s,o,h,_,$,j,_e,et,tt,nt,rt,st){var lt=e;if(typeof j=="function"?lt=j(s,lt):lt instanceof Date?lt=tt(lt):o==="comma"&&isArray$1(lt)&&(lt=lt.join(",")),lt===null){if(h)return $&&!rt?$(s,defaults$2.encoder,st,"key"):s;lt=""}if(isNonNullishPrimitive(lt)||utils$2.isBuffer(lt)){if($){var ct=rt?s:$(s,defaults$2.encoder,st,"key");return[nt(ct)+"="+nt($(lt,defaults$2.encoder,st,"value"))]}return[nt(s)+"="+nt(String(lt))]}var ut=[];if(typeof lt>"u")return ut;var ot;if(isArray$1(j))ot=j;else{var it=Object.keys(lt);ot=_e?it.sort(_e):it}for(var at=0;at<ot.length;++at){var dt=ot[at];_&&lt[dt]===null||(isArray$1(lt)?pushToArray(ut,i(lt[dt],typeof o=="function"?o(s,dt):s,o,h,_,$,j,_e,et,tt,nt,rt,st)):pushToArray(ut,i(lt[dt],s+(et?"."+dt:"["+dt+"]"),o,h,_,$,j,_e,et,tt,nt,rt,st)))}return ut},normalizeStringifyOptions=function(e){if(!e)return defaults$2;if(e.encoder!==null&&e.encoder!==void 0&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var s=e.charset||defaults$2.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var o=formats.default;if(typeof e.format<"u"){if(!has.call(formats.formatters,e.format))throw new TypeError("Unknown format option provided.");o=e.format}var h=formats.formatters[o],_=defaults$2.filter;return(typeof e.filter=="function"||isArray$1(e.filter))&&(_=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:defaults$2.addQueryPrefix,allowDots:typeof e.allowDots>"u"?defaults$2.allowDots:!!e.allowDots,charset:s,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:defaults$2.charsetSentinel,delimiter:typeof e.delimiter>"u"?defaults$2.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:defaults$2.encode,encoder:typeof e.encoder=="function"?e.encoder:defaults$2.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:defaults$2.encodeValuesOnly,filter:_,formatter:h,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:defaults$2.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:defaults$2.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:defaults$2.strictNullHandling}},stringify_1=function(i,e){var s=i,o=normalizeStringifyOptions(e),h,_;typeof o.filter=="function"?(_=o.filter,s=_("",s)):isArray$1(o.filter)&&(_=o.filter,h=_);var $=[];if(typeof s!="object"||s===null)return"";var j;e&&e.arrayFormat in arrayPrefixGenerators?j=e.arrayFormat:e&&"indices"in e?j=e.indices?"indices":"repeat":j="indices";var _e=arrayPrefixGenerators[j];h||(h=Object.keys(s)),o.sort&&h.sort(o.sort);for(var et=0;et<h.length;++et){var tt=h[et];o.skipNulls&&s[tt]===null||pushToArray($,stringify(s[tt],tt,_e,o.strictNullHandling,o.skipNulls,o.encode?o.encoder:null,o.filter,o.sort,o.allowDots,o.serializeDate,o.formatter,o.encodeValuesOnly,o.charset))}var nt=$.join(o.delimiter),rt=o.addQueryPrefix===!0?"?":"";return o.charsetSentinel&&(o.charset==="iso-8859-1"?rt+="utf8=%26%2310003%3B&":rt+="utf8=%E2%9C%93&"),nt.length>0?rt+nt:""};const stringify$1=getDefaultExportFromCjs(stringify_1);var utils$1=utils$3;utils$1.decode;const rawDataSymbol=Symbol("twurpleRawData");class DataObject{constructor(e){this[rawDataSymbol]=e}}class CustomError extends Error{constructor(e,s){var o;super(e,s),Object.setPrototypeOf(this,new.target.prototype),(o=Error.captureStackTrace)===null||o===void 0||o.call(Error,this,new.target.constructor)}get name(){return this.constructor.name}}class RelationAssertionError extends CustomError{constructor(){super("Relation returned null - this may be a library bug or a race condition in your own code")}}function checkRelationAssertion(i){if(i==null)throw new RelationAssertionError;return i}function rtfm(i,e,s){return o=>{const h=s?function(){return`[${e}#${this[s]} - please check https://twurple.js.org/reference/${i}/classes/${e}.html for available properties]`}:function(){return`[${e} - please check https://twurple.js.org/reference/${i}/classes/${e}.html for available properties]`};Object.defineProperty(o.prototype,Symbol.for("nodejs.util.inspect.custom"),{value:h,enumerable:!1})}}let HelixExtension=class extends DataObject{get authorName(){return this[rawDataSymbol].author_name}get bitsEnabled(){return this[rawDataSymbol].bits_enabled}get installable(){return this[rawDataSymbol].can_install}get configurationLocation(){return this[rawDataSymbol].configuration_location}get description(){return this[rawDataSymbol].description}get tosUrl(){return this[rawDataSymbol].eula_tos_url}get hasChatSupport(){return this[rawDataSymbol].has_chat_support}get iconUrl(){return this[rawDataSymbol].icon_url}getIconUrl(e){return this[rawDataSymbol].icon_urls[e]}get id(){return this[rawDataSymbol].id}get name(){return this[rawDataSymbol].name}get privacyPolicyUrl(){return this[rawDataSymbol].privacy_policy_url}get requestsIdentityLink(){return this[rawDataSymbol].request_identity_link}get screenshotUrls(){return this[rawDataSymbol].screenshot_urls}get state(){return this[rawDataSymbol].state}get subscriptionsSupportLevel(){return this[rawDataSymbol].subscriptions_support_level}get summary(){return this[rawDataSymbol].summary}get supportEmail(){return this[rawDataSymbol].support_email}get version(){return this[rawDataSymbol].version}get viewerSummery(){return this[rawDataSymbol].viewer_summary}get allowedConfigUrls(){return this[rawDataSymbol].allowlisted_config_urls}get allowedPanelUrls(){return this[rawDataSymbol].allowlisted_panel_urls}get mobileViewerUrl(){var e,s;return(s=(e=this[rawDataSymbol].views.mobile)===null||e===void 0?void 0:e.viewer_url)!==null&&s!==void 0?s:null}get panelViewerUrl(){var e,s;return(s=(e=this[rawDataSymbol].views.panel)===null||e===void 0?void 0:e.viewer_url)!==null&&s!==void 0?s:null}get panelHeight(){var e,s;return(s=(e=this[rawDataSymbol].views.panel)===null||e===void 0?void 0:e.height)!==null&&s!==void 0?s:null}get panelCanLinkExternalContent(){var e,s;return(s=(e=this[rawDataSymbol].views.panel)===null||e===void 0?void 0:e.can_link_external_content)!==null&&s!==void 0?s:null}get overlayViewerUrl(){var e,s;return(s=(e=this[rawDataSymbol].views.video_overlay)===null||e===void 0?void 0:e.viewer_url)!==null&&s!==void 0?s:null}get overlayCanLinkExternalContent(){var e,s;return(s=(e=this[rawDataSymbol].views.video_overlay)===null||e===void 0?void 0:e.can_link_external_content)!==null&&s!==void 0?s:null}get componentViewerUrl(){var e,s;return(s=(e=this[rawDataSymbol].views.component)===null||e===void 0?void 0:e.viewer_url)!==null&&s!==void 0?s:null}get componentAspectWidth(){var e,s;return(s=(e=this[rawDataSymbol].views.component)===null||e===void 0?void 0:e.aspect_width)!==null&&s!==void 0?s:null}get componentAspectHeight(){var e,s;return(s=(e=this[rawDataSymbol].views.component)===null||e===void 0?void 0:e.aspect_height)!==null&&s!==void 0?s:null}get componentAspectRatioX(){var e,s;return(s=(e=this[rawDataSymbol].views.component)===null||e===void 0?void 0:e.aspect_ratio_x)!==null&&s!==void 0?s:null}get componentAspectRatioY(){var e,s;return(s=(e=this[rawDataSymbol].views.component)===null||e===void 0?void 0:e.aspect_ratio_y)!==null&&s!==void 0?s:null}get componentAutoScales(){var e,s;return(s=(e=this[rawDataSymbol].views.component)===null||e===void 0?void 0:e.autoscale)!==null&&s!==void 0?s:null}get componentScalePixels(){var e,s;return(s=(e=this[rawDataSymbol].views.component)===null||e===void 0?void 0:e.scale_pixels)!==null&&s!==void 0?s:null}get componentTargetHeight(){var e,s;return(s=(e=this[rawDataSymbol].views.component)===null||e===void 0?void 0:e.target_height)!==null&&s!==void 0?s:null}get componentSize(){var e,s;return(s=(e=this[rawDataSymbol].views.component)===null||e===void 0?void 0:e.size)!==null&&s!==void 0?s:null}get componentZoom(){var e,s;return(s=(e=this[rawDataSymbol].views.component)===null||e===void 0?void 0:e.zoom)!==null&&s!==void 0?s:null}get componentZoomPixels(){var e,s;return(s=(e=this[rawDataSymbol].views.component)===null||e===void 0?void 0:e.zoom_pixels)!==null&&s!==void 0?s:null}get componentCanLinkExternalContent(){var e,s;return(s=(e=this[rawDataSymbol].views.component)===null||e===void 0?void 0:e.can_link_external_content)!==null&&s!==void 0?s:null}get configViewerUrl(){var e,s;return(s=(e=this[rawDataSymbol].views.config)===null||e===void 0?void 0:e.viewer_url)!==null&&s!==void 0?s:null}get configCanLinkExternalContent(){var e,s;return(s=(e=this[rawDataSymbol].views.config)===null||e===void 0?void 0:e.can_link_external_content)!==null&&s!==void 0?s:null}};HelixExtension=__decorate([rtfm("api","HelixExtension","id")],HelixExtension);class HellFreezesOverError extends CustomError{constructor(e){super(`${e} - this should never happen, please file a bug in the GitHub issue tracker`)}}function extractUserId(i){return typeof i=="string"?i:typeof i=="number"?i.toString(10):i.id}function extractUserName(i){return typeof i=="string"?i:i.name}class HttpStatusCodeError extends CustomError{constructor(e,s,o,h,_,$){super(`Encountered HTTP status code ${e}: ${s}

URL: ${o}
Method: ${h}
Body:
${!$&&_.length>150?`${_.slice(0,147)}...`:_}`),this._statusCode=e,this._url=o,this._method=h,this._body=_}get statusCode(){return this._statusCode}get url(){return this._url}get method(){return this._method}get body(){return this._body}}async function handleTwitchApiResponseError(i,e){var s;if(!i.ok){const o=i.headers.get("Content-Type")==="application/json",h=o?JSON.stringify(await i.json(),null,2):await i.text(),_=stringify$1(e.query,{arrayFormat:"repeat",addQueryPrefix:!0}),$=`${e.url}${_}`;throw new HttpStatusCodeError(i.status,i.statusText,$,(s=e.method)!==null&&s!==void 0?s:"GET",h,o)}}async function transformTwitchApiResponse(i){if(i.status===204)return;const e=await i.text();if(e)return JSON.parse(e)}function getTwitchApiUrl(i,e){switch(e){case"helix":return`https://api.twitch.tv/helix/${i.replace(/^\//,"")}`;case"auth":return`https://id.twitch.tv/oauth2/${i.replace(/^\//,"")}`;case"custom":return i;default:return i}}async function callTwitchApiRaw(i,e,s,o,h={}){var _,$;const j=(_=i.type)!==null&&_!==void 0?_:"helix",_e=getTwitchApiUrl(i.url,j),et=stringify$1(i.query,{arrayFormat:"repeat",addQueryPrefix:!0}),tt=new browserPonyfillExports.Headers({Accept:"application/json"});let nt;i.jsonBody&&(nt=JSON.stringify(i.jsonBody),tt.append("Content-Type","application/json")),e&&j!=="auth"&&tt.append("Client-ID",e),s&&tt.append("Authorization",`${j==="helix"?o??"Bearer":"OAuth"} ${s}`);const rt={...h,method:($=i.method)!==null&&$!==void 0?$:"GET",headers:tt,body:nt};return await fetch$1(`${_e}${et}`,rt)}async function callTwitchApi(i,e,s,o,h={}){const _=await callTwitchApiRaw(i,e,s,o,h);return await handleTwitchApiResponseError(_,i),await transformTwitchApiResponse(_)}function createBroadcasterQuery(i){return{broadcaster_id:extractUserId(i)}}class InvalidTokenError extends CustomError{constructor(e){super("Invalid token supplied",e)}}class InvalidTokenTypeError extends CustomError{}function createExchangeCodeQuery(i,e,s,o){return{grant_type:"authorization_code",client_id:i,client_secret:e,code:s,redirect_uri:o}}function createGetAppTokenQuery(i,e){return{grant_type:"client_credentials",client_id:i,client_secret:e}}function createRefreshTokenQuery(i,e,s){return{grant_type:"refresh_token",client_id:i,client_secret:e,refresh_token:s}}let TokenInfo=class extends DataObject{constructor(e){super(e),this._obtainmentDate=new Date}get clientId(){return this[rawDataSymbol].client_id}get userId(){var e;return(e=this[rawDataSymbol].user_id)!==null&&e!==void 0?e:null}get userName(){var e;return(e=this[rawDataSymbol].login)!==null&&e!==void 0?e:null}get scopes(){return this[rawDataSymbol].scopes}get expiryDate(){return mapNullable(this[rawDataSymbol].expires_in,e=>new Date(this._obtainmentDate.getTime()+e*1e3))}};TokenInfo=__decorate([rtfm("auth","TokenInfo","clientId")],TokenInfo);function createAccessTokenFromData(i){var e,s;return{accessToken:i.access_token,refreshToken:i.refresh_token||null,scope:(e=i.scope)!==null&&e!==void 0?e:[],expiresIn:(s=i.expires_in)!==null&&s!==void 0?s:null,obtainmentTimestamp:Date.now()}}async function exchangeCode(i,e,s,o){return createAccessTokenFromData(await callTwitchApi({type:"auth",url:"token",method:"POST",query:createExchangeCodeQuery(i,e,s,o)}))}async function getAppToken(i,e){return createAccessTokenFromData(await callTwitchApi({type:"auth",url:"token",method:"POST",query:createGetAppTokenQuery(i,e)}))}async function refreshUserToken(i,e,s){return createAccessTokenFromData(await callTwitchApi({type:"auth",url:"token",method:"POST",query:createRefreshTokenQuery(i,e,s)}))}async function getTokenInfo(i,e){try{const s=await callTwitchApi({type:"auth",url:"validate"},e,i);return new TokenInfo(s)}catch(s){throw s instanceof HttpStatusCodeError&&s.statusCode===401?new InvalidTokenError({cause:s}):s}}const scopeEquivalencies=new Map([["channel_commercial",["channel:edit:commercial"]],["channel_editor",["channel:manage:broadcast"]],["channel_read",["channel:read:stream_key"]],["channel_subscriptions",["channel:read:subscriptions"]],["user_blocks_read",["user:read:blocked_users"]],["user_blocks_edit",["user:manage:blocked_users"]],["user_follows_edit",["user:edit:follows"]],["user_read",["user:read:email"]],["user_subscriptions",["user:read:subscriptions"]],["user:edit:broadcast",["channel:manage:broadcast","channel:manage:extensions"]]]);function compareScopes(i,e){if(e!=null&&e.length){const s=new Set(i.flatMap(o=>{var h;return[o,...(h=scopeEquivalencies.get(o))!==null&&h!==void 0?h:[]]}));if(e.every(o=>!s.has(o))){const o=e.join(", ");throw new Error(`This token does not have any of the requested scopes (${o}) and can not be upgraded.
If you need dynamically upgrading scopes, please implement the AuthProvider interface accordingly:

	https://twurple.js.org/reference/auth/interfaces/AuthProvider.html`)}}}function compareScopeSets(i,e){for(const s of e)compareScopes(i,s)}async function loadAndCompareTokenInfo(i,e,s,o,h){if(h!=null&&h.length||!s){const _=await getTokenInfo(e,i);if(!_.userId)throw new Error("Trying to use an app access token as a user access token");const $=o??_.scopes;return h&&compareScopeSets($,h.filter(j=>!!j)),[$,_.userId]}return[o,s]}class TokenFetcher{constructor(e){this._newTokenScopeSets=[],this._newTokenPromise=null,this._queuedScopeSets=[],this._queueExecutor=null,this._queuePromise=null,this._executor=e}async fetch(...e){var s;const o=e.filter(j=>!!j);if(this._newTokenPromise){if(!o.length)return await this._newTokenPromise;if(this._queueExecutor?this._queuedScopeSets.push(...o):this._queuedScopeSets=[...o],!this._queuePromise){const{promise:j,resolve:_e,reject:et}=promiseWithResolvers();this._queuePromise=j,this._queueExecutor=async()=>{var tt;if(this._queuePromise){this._newTokenScopeSets=this._queuedScopeSets,this._queuedScopeSets=[],this._newTokenPromise=this._queuePromise,this._queuePromise=null,this._queueExecutor=null;try{_e(await this._executor(this._newTokenScopeSets))}catch(nt){et(nt)}finally{this._newTokenPromise=null,this._newTokenScopeSets=[],(tt=this._queueExecutor)===null||tt===void 0||tt.call(this)}}}}return await this._queuePromise}this._newTokenScopeSets=[...o];const{promise:h,resolve:_,reject:$}=promiseWithResolvers();this._newTokenPromise=h;try{_(await this._executor(this._newTokenScopeSets))}catch(j){$(j)}finally{this._newTokenPromise=null,this._newTokenScopeSets=[],(s=this._queueExecutor)===null||s===void 0||s.call(this)}return await h}}class CachedRefreshFailureError extends CustomError{constructor(e){super(`The user context for the user ${e} has been disabled.
This happened because the access token became invalid (e.g. by expiry) and refreshing it failed (e.g. because the account's password was changed).

Use .addUser(), .addUserForToken() or .addUserForCode() for the same user context to re-enable the user with a new, valid token.`),this.userId=e}}class IntermediateUserRemovalError extends CustomError{constructor(e){super(`User ${e} was removed while trying to fetch a token.

Make sure you're not executing any actions when you want to remove a user.`),this.userId=e}}class UnknownIntentError extends CustomError{constructor(e){super(`Unknown intent: ${e}`),this.intent=e}}let RefreshingAuthProvider=class extends EventEmitter{constructor(e){var s;super(),this._userAccessTokens=new Map,this._userTokenFetchers=new Map,this._intentToUserId=new Map,this._userIdToIntents=new Map,this._cachedRefreshFailures=new Set,this.onRefresh=this.registerEvent(),this.onRefreshFailure=this.registerEvent(),this._clientId=e.clientId,this._clientSecret=e.clientSecret,this._redirectUri=e.redirectUri,this._appImpliedScopes=(s=e.appImpliedScopes)!==null&&s!==void 0?s:[],this._appTokenFetcher=new TokenFetcher(async o=>await this._fetchAppToken(o))}addUser(e,s,o){const h=extractUserId(e);if(!s.refreshToken)throw new Error(`Trying to add user ${h} without refresh token`);this._cachedRefreshFailures.delete(h),this._userAccessTokens.set(h,{...s,userId:h}),this._userTokenFetchers.has(h)||this._userTokenFetchers.set(h,new TokenFetcher(async _=>await this._fetchUserToken(h,_))),o&&this.addIntentsToUser(e,o)}async addUserForToken(e,s){let o=null;if(e.accessToken&&!accessTokenIsExpired(e))try{const j=await getTokenInfo(e.accessToken);o=[e,j]}catch(j){if(!(j instanceof InvalidTokenError))throw j}if(!o){if(!e.refreshToken)throw new InvalidTokenError;const j=await refreshUserToken(this._clientId,this._clientSecret,e.refreshToken),_e=await getTokenInfo(j.accessToken);this.emit(this.onRefresh,_e.userId,j),o=[j,_e]}const[h,_]=o;if(!_.userId)throw new InvalidTokenTypeError("Could not determine a user ID for your token; you might be trying to disguise an app token as a user token.");const $=h.scope?h:{...h,scope:_.scopes};return this.addUser(_.userId,$,s),_.userId}async addUserForCode(e,s){if(!this._redirectUri)throw new Error("This method requires you to pass a `redirectUri` as a configuration property");const o=await exchangeCode(this._clientId,this._clientSecret,e,this._redirectUri);return await this.addUserForToken(o,s)}hasUser(e){return this._userTokenFetchers.has(extractUserId(e))}removeUser(e){const s=extractUserId(e);if(this._userIdToIntents.has(s)){const o=this._userIdToIntents.get(s);for(const h of o)this._intentToUserId.delete(h);this._userIdToIntents.delete(s)}this._userAccessTokens.delete(s),this._userTokenFetchers.delete(s),this._cachedRefreshFailures.delete(s)}addIntentsToUser(e,s){const o=extractUserId(e);if(!this._userAccessTokens.has(o))throw new Error("Trying to add intents to a user that was not added to this provider");for(const h of s)this._intentToUserId.has(h)&&this._userIdToIntents.get(this._intentToUserId.get(h)).delete(h),this._intentToUserId.set(h,o),this._userIdToIntents.has(o)?this._userIdToIntents.get(o).add(h):this._userIdToIntents.set(o,new Set([h]))}getIntentsForUser(e){const s=extractUserId(e);return this._userIdToIntents.has(s)?Array.from(this._userIdToIntents.get(s)):[]}removeIntents(e){var s;for(const o of e)if(this._intentToUserId.has(o)){const h=this._intentToUserId.get(o);(s=this._userIdToIntents.get(h))===null||s===void 0||s.delete(o),this._intentToUserId.delete(o)}}async refreshAccessTokenForUser(e){const s=extractUserId(e);if(this._cachedRefreshFailures.has(s))throw new CachedRefreshFailureError(s);const o=this._userAccessTokens.get(s);if(!o)throw new Error("Trying to refresh token for user that was not added to the provider");const h=await this._refreshUserTokenWithCallback(s,o.refreshToken);return this._checkIntermediateUserRemoval(s),this._userAccessTokens.set(s,{...h,userId:s}),this.emit(this.onRefresh,s,h),{...h,userId:s}}async refreshAccessTokenForIntent(e){if(!this._intentToUserId.has(e))throw new UnknownIntentError(e);const s=this._intentToUserId.get(e);return await this.refreshAccessTokenForUser(s)}get clientId(){return this._clientId}getCurrentScopesForUser(e){var s;const o=this._userAccessTokens.get(extractUserId(e));if(!o)throw new Error("Trying to get scopes for user that was not added to the provider");return(s=o.scope)!==null&&s!==void 0?s:[]}async getAccessTokenForUser(e,...s){const o=extractUserId(e),h=this._userTokenFetchers.get(o);if(!h)return null;if(this._cachedRefreshFailures.has(o))throw new CachedRefreshFailureError(o);return await h.fetch(...s)}async getAccessTokenForIntent(e,...s){if(!this._intentToUserId.has(e))return null;const o=this._intentToUserId.get(e),h=await this.getAccessTokenForUser(o,...s);if(!h)throw new HellFreezesOverError(`Found intent ${e} corresponding to user ID ${o} but no token was found`);return{...h,userId:o}}async getAnyAccessToken(e){if(e){const s=extractUserId(e);if(this._userAccessTokens.has(s)){const o=await this.getAccessTokenForUser(s);if(!o)throw new HellFreezesOverError(`Token for user ID ${s} exists but nothing was returned by getAccessTokenForUser`);return{...o,userId:s}}}return await this.getAppAccessToken()}async getAppAccessToken(e=!1){return e&&(this._appAccessToken=void 0),await this._appTokenFetcher.fetch(...this._appImpliedScopes.map(s=>[s]))}_checkIntermediateUserRemoval(e){if(!this._userTokenFetchers.has(e))throw this._cachedRefreshFailures.delete(e),new IntermediateUserRemovalError(e)}async _fetchUserToken(e,s){const o=this._userAccessTokens.get(e);if(!o)throw new Error("Trying to get token for user that was not added to the provider");if(o.accessToken&&!accessTokenIsExpired(o))try{if(o.scope)return compareScopeSets(o.scope,s),o;const[_=[]]=await loadAndCompareTokenInfo(this._clientId,o.accessToken,e,o.scope,s),$={...o,scope:_};return this._checkIntermediateUserRemoval(e),this._userAccessTokens.set(e,$),$}catch(_){if(!(_ instanceof InvalidTokenError))throw _}this._checkIntermediateUserRemoval(e);const h=await this.refreshAccessTokenForUser(e);return compareScopeSets(h.scope,s),h}async _refreshUserTokenWithCallback(e,s){try{return await refreshUserToken(this.clientId,this._clientSecret,s)}catch(o){throw this._cachedRefreshFailures.add(e),this.emit(this.onRefreshFailure,e),o}}async _fetchAppToken(e){if(e.length>0)for(const s of e)if(this._appImpliedScopes.length){if(s.every(o=>!this._appImpliedScopes.includes(o)))throw new Error(`One of the scopes ${s.join(", ")} requested but only the scope ${this._appImpliedScopes.join(", ")} is implied`)}else throw new Error(`One of the scopes ${s.join(", ")} requested but the client credentials flow does not support scopes`);return!this._appAccessToken||accessTokenIsExpired(this._appAccessToken)?await this._refreshAppToken():this._appAccessToken}async _refreshAppToken(){return this._appAccessToken=await getAppToken(this._clientId,this._clientSecret)}};__decorate([Enumerable(!1)],RefreshingAuthProvider.prototype,"_clientSecret",void 0);__decorate([Enumerable(!1)],RefreshingAuthProvider.prototype,"_userAccessTokens",void 0);__decorate([Enumerable(!1)],RefreshingAuthProvider.prototype,"_userTokenFetchers",void 0);__decorate([Enumerable(!1)],RefreshingAuthProvider.prototype,"_appAccessToken",void 0);__decorate([Enumerable(!1)],RefreshingAuthProvider.prototype,"_appTokenFetcher",void 0);RefreshingAuthProvider=__decorate([rtfm("auth","RefreshingAuthProvider","clientId")],RefreshingAuthProvider);class AbstractConnection extends EventEmitter{constructor({lineBased:e,logger:s,additionalOptions:o}={}){super(),this._currentLine="",this._connecting=!1,this._connected=!1,this.onReceive=this.registerEvent(),this.onConnect=this.registerEvent(),this.onDisconnect=this.registerEvent(),this.onEnd=this.registerEvent(),this._lineBased=e??!1,this._logger=s,this._additionalOptions=o}get isConnecting(){return this._connecting}get isConnected(){return this._connected}sendLine(e){this._connected&&(e=e.replace(/[\0\r\n]/g,""),this.sendRaw(`${e}\r
`))}assumeExternalDisconnect(){var e;(e=this._logger)===null||e===void 0||e.trace("AbstractConnection assumeExternalDisconnect"),this._connected=!1,this._connecting=!1,this.clearSocket(),this.emit(this.onDisconnect,!1)}receiveRaw(e){var s,o;if(!this._lineBased){this.emit(this.onReceive,e);return}const h=e.split(`\r
`);if(this._currentLine+=(s=h.shift())!==null&&s!==void 0?s:"",h.length){this.emit(this.onReceive,this._currentLine),this._currentLine=(o=h.pop())!==null&&o!==void 0?o:"";for(const _ of h)this.emit(this.onReceive,_)}}}class DirectConnection{constructor(){throw new Error("DirectConnection is not implemented in a browser environment")}}class PersistentConnection extends EventEmitter{constructor(e,s,o={}){var h;super(),this._type=e,this._target=s,this._config=o,this._retryLimit=1/0,this._initialRetryLimit=3,this._connecting=!1,this._connectionRetryCount=0,this.onReceive=this.registerEvent(),this.onConnect=this.registerEvent(),this.onDisconnect=this.registerEvent(),this.onEnd=this.registerEvent(),this._retryLimit=(h=o.retryLimit)!==null&&h!==void 0?h:1/0,this._logger=o.logger}get isConnected(){var e,s;return(s=(e=this._currentConnection)===null||e===void 0?void 0:e.isConnected)!==null&&s!==void 0?s:!1}get isConnecting(){var e,s;return(s=(e=this._currentConnection)===null||e===void 0?void 0:e.isConnecting)!==null&&s!==void 0?s:this._connecting}get hasSocket(){var e,s;return(s=(e=this._currentConnection)===null||e===void 0?void 0:e.hasSocket)!==null&&s!==void 0?s:!1}sendLine(e){var s;(s=this._currentConnection)===null||s===void 0||s.sendLine(e)}connect(){if(this._currentConnection||this._connecting)throw new Error("Connection already present");this._connecting=!0,this._connectionRetryCount=0,this._tryConnect(!0)}disconnect(){var e;if((e=this._logger)===null||e===void 0||e.trace(`PersistentConnection disconnect currentConnectionExists:${(!!this._currentConnection).toString()} connecting:${this._connecting.toString()}`),this._connecting=!1,this._currentConnection){const s=this._currentConnection;this._currentConnection=void 0,s.disconnect()}}assumeExternalDisconnect(){var e,s;(e=this._logger)===null||e===void 0||e.trace("PersistentConnection assumeExternalDisconnect"),(s=this._currentConnection)===null||s===void 0||s.assumeExternalDisconnect()}reconnect(){this._reconnect(!0)}acknowledgeSuccessfulReconnect(){this._previousConnection&&(this._previousConnection.disconnect(),this._previousConnection=void 0)}_startTryingToConnect(e=!1){this._connecting=!0,this._connectionRetryCount=0,this._tryConnect(e)}_tryConnect(e=!1){var s,o;(s=this._logger)===null||s===void 0||s.trace(`PersistentConnection tryConnect currentConnectionExists:${(!!this._currentConnection).toString()} connecting:${this._connecting.toString()}`);const h=e?this._initialRetryLimit:this._retryLimit;(o=this._retryTimerGenerator)!==null&&o!==void 0||(this._retryTimerGenerator=fibWithLimit(120));const _=this._currentConnection=new this._type(resolveConfigValueSync(this._target),this._config);_.onReceive($=>this.emit(this.onReceive,$)),_.onConnect(()=>{this.emit(this.onConnect),this._connecting=!1,this._retryTimerGenerator=void 0}),_.onDisconnect(($,j)=>{var _e,et,tt;if(this.emit(this.onDisconnect,$,j),$)this.emit(this.onEnd,!0),this._connecting=!1,this._retryTimerGenerator=void 0,_.disconnect(),this._currentConnection===_&&(this._currentConnection=void 0),this._previousConnection===_&&(this._previousConnection=void 0);else if(this._connecting){if((_e=this._logger)===null||_e===void 0||_e.debug(`Connection error caught: ${(et=j==null?void 0:j.message)!==null&&et!==void 0?et:"unknown error"}`),this._connectionRetryCount>=h)return;this._connectionRetryCount++;const nt=this._retryTimerGenerator.next().value;nt!==0&&((tt=this._logger)===null||tt===void 0||tt.info(`Retrying in ${nt} seconds`)),setTimeout(()=>{var rt;this._connecting&&((rt=this._logger)===null||rt===void 0||rt.info(e?"Retrying connection":"Trying to reconnect"),this._tryConnect())},nt*1e3)}else this._reconnect()}),_.connect()}_reconnect(e=!1){e&&this._config.overlapManualReconnect?(this._previousConnection=this._currentConnection,this._currentConnection=void 0):this.disconnect(),this._startTryingToConnect(e)}}var ws=null;typeof WebSocket<"u"?ws=WebSocket:typeof MozWebSocket<"u"?ws=MozWebSocket:typeof global<"u"?ws=global.WebSocket||global.MozWebSocket:typeof window<"u"?ws=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(ws=self.WebSocket||self.MozWebSocket);class WebSocketConnection extends AbstractConnection{constructor(e,s){if(super(s),this._socket=null,this._closingOnDemand=!1,e.hostName&&e.port)this._url=`ws${e.secure?"s":""}://${e.hostName}:${e.port}`;else if(e.url)this._url=e.url;else throw new Error("WebSocketConnection requires either hostName & port or url to be set")}get hasSocket(){return!!this._socket}sendRaw(e){var s;(s=this._socket)===null||s===void 0||s.send(e)}connect(){var e,s;(e=this._logger)===null||e===void 0||e.trace("WebSocketConnection connect"),this._connecting=!0,this._socket=new ws(this._url,(s=this._additionalOptions)===null||s===void 0?void 0:s.wsOptions),this._socket.onopen=()=>{var o;(o=this._logger)===null||o===void 0||o.trace("WebSocketConnection onOpen"),this._connected=!0,this._connecting=!1,this.emit(this.onConnect)},this._socket.onmessage=({data:o})=>{this.receiveRaw(o.toString())},this._socket.onerror=o=>{var h;(h=this._logger)===null||h===void 0||h.trace(`WebSocketConnection onError message:${o.message}`)},this._socket.onclose=o=>{var h;const _=this._connected,$=this._connecting;if((h=this._logger)===null||h===void 0||h.trace(`WebSocketConnection onClose wasConnected:${_.toString()} wasConnecting:${$.toString()} closingOnDemand:${this._closingOnDemand.toString()} wasClean:${o.wasClean.toString()}`),this._connected=!1,this._connecting=!1,o.wasClean||this._closingOnDemand)this._closingOnDemand=!1,this.emit(this.onDisconnect,!0),this.emit(this.onEnd,!0);else{const j=new Error(`[${o.code}] ${o.reason}`);this.emit(this.onDisconnect,!1,j),this.emit(this.onEnd,!1,j)}this.clearSocket()}}disconnect(){var e,s;(e=this._logger)===null||e===void 0||e.trace("WebSocketConnection disconnect"),this._closingOnDemand=!0,(s=this._socket)===null||s===void 0||s.close()}clearSocket(){this._socket&&(this._socket.onopen=null,this._socket.onmessage=null,this._socket.onerror=null,this._socket.onclose=null,this._socket=null)}}function klona(i){var e,s,o;if(Array.isArray(i)){for(s=Array(e=i.length);e--;)s[e]=(o=i[e])&&typeof o=="object"?klona(o):o;return s}if(Object.prototype.toString.call(i)==="[object Object]"){s={};for(e in i)e==="__proto__"?Object.defineProperty(s,e,{value:klona(i[e]),configurable:!0,enumerable:!0,writable:!0}):s[e]=(o=i[e])&&typeof o=="object"?klona(o):o;return s}return i}const AwayNotifyCapability={name:"away-notify"};class NotEnoughParametersError extends Error{constructor(e,s,o){super(`command "${e}" expected ${s} or more parameters, got ${o}`),this._command=e,this._expectedParams=s,this._actualParams=o,Object.setPrototypeOf(this,NotEnoughParametersError.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,NotEnoughParametersError)}get command(){return this._command}get expectedParams(){return this._expectedParams}get actualParams(){return this._actualParams}}class ParameterRequirementMismatchError extends Error{constructor(e,s,o,h){var _;super(`required parameter "${s}" did not validate against ${(_=o.type)!==null&&_!==void 0?_:"regex"} validation: "${h}"`),this._command=e,this._paramName=s,this._paramSpec=o,this._givenValue=h,Object.setPrototypeOf(this,ParameterRequirementMismatchError.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ParameterRequirementMismatchError)}get command(){return this._command}get paramName(){return this._paramName}get paramSpec(){return this._paramSpec}get givenValue(){return this._givenValue}}const defaultServerProperties={channelTypes:"#&",supportedUserModes:"iwso",supportedChannelModes:{prefix:"ov",list:"b",alwaysWithParam:"ovk",paramWhenSet:"l",noParam:"imnpst"},prefixes:[{modeChar:"v",prefix:"+"},{modeChar:"o",prefix:"@"}]};var escapeStringRegexp={exports:{}};(function(i){i.exports=e=>{if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")},i.exports.default=i.exports})(escapeStringRegexp);var escapeStringRegexpExports=escapeStringRegexp.exports;const escapeRegexString=getDefaultExportFromCjs(escapeStringRegexpExports);function isChannel(i,e="#&"){return new RegExp(`^[${escapeRegexString(e)}][^ \b\0
\r,]+$`).test(i)}const ctcpEscapeMap={0:"\0",n:`
`,r:"\r","":""};function decodeCtcp(i){if(!i.startsWith("")||(i=i.substring(1),i.endsWith("")&&(i=i.slice(0,-1)),!i))return!1;i=i.replace(/\x10(.)/,(o,h)=>h in ctcpEscapeMap?ctcpEscapeMap[h]:"");let[e,s=""]=splitWithLimit(i," ",2);return e=e?e.toUpperCase():"",{command:e,params:s}}const tagEscapeMap={"\\":"\\",";":":","\n":"n","\r":"r"," ":"s"};function escapeTag(i){return i.replace(/[\\;\n\r ]/g,e=>`\\${tagEscapeMap[e]}`)}function prefixToString(i){let e=`${i.nick}`;return i.user&&(e+=`!${i.user}`),i.host&&(e+=`@${i.host}`),e}function createMessage(i,e,s,o,h=defaultServerProperties,_=!1){const $=new i(i.COMMAND,void 0,{serverProperties:h}),j={};if($._paramSpec&&forEachObjectEntry($._paramSpec,(_e,et)=>{if(!(_&&_e.noServer)&&!(!_&&_e.noClient)){if(et in e){const tt=e[et];if(tt!==void 0){if(i.checkParam(tt,_e,h))j[et]={value:tt,trailing:!!_e.trailing};else if(!_e.optional)throw new Error(`required parameter "${et}" did not suit requirements: "${tt}"`)}}if(!(et in j)&&!_e.optional)throw new Error(`required parameter "${et}" not found in command "${i.COMMAND}"`)}}),$._parsedParams=j,$._paramSpec)for(const _e of Object.keys($._paramSpec))Object.defineProperty($,_e,{get(){var et,tt;return(tt=(et=this._parsedParams)===null||et===void 0?void 0:et[_e])===null||tt===void 0?void 0:tt.value}});return $._initPrefixAndTags(s,o),$}class Message{static checkParam(e,s,o=defaultServerProperties){return!(s.type==="channel"&&!isChannel(e,o.channelTypes)||s.type==="channelList"&&!e.split(",").every(_=>isChannel(_,o.channelTypes))||s.match&&!s.match.test(e))}constructor(e,{params:s,tags:o,prefix:h,rawLine:_}={},{serverProperties:$=defaultServerProperties,isServer:j=!1,shouldParseParams:_e=!0}={},et){this._params=[],this._serverProperties=defaultServerProperties,this._paramSpec=et,this._command=e,this._params=s,this._tags=o??new Map,this._prefix=h,this._serverProperties=$,this._raw=_,_e&&this.parseParams(j)}getMinParamCount(e=!1){return this._paramSpec?Object.values(this._paramSpec).filter(s=>s.noServer&&e||s.noClient&&!e?!1:!s.optional).length:0}get paramCount(){var e,s;return(s=(e=this._params)===null||e===void 0?void 0:e.length)!==null&&s!==void 0?s:0}prefixToString(){return this._prefix?prefixToString(this._prefix):""}tagsToString(){return[...this._tags.entries()].map(([e,s])=>s?`${e}=${escapeTag(s)}`:e).join(";")}toString(e=!1,s=!1){const h=[s?this._buildCommandFromRawParams():this._buildCommandFromNamedParams()];if(e){const $=this.prefixToString();$&&h.unshift(`:${$}`)}const _=this.tagsToString();return _&&h.unshift(`@${_}`),h.join(" ")}_initPrefixAndTags(e,s){this._prefix=e,s&&(this._tags=s)}parseParams(e=!1){if(this._params){let s=this.getMinParamCount(e);if(s>this._params.length)throw new NotEnoughParametersError(this._command,s,this._params.length);const o=this._paramSpec;if(!o)return;let h=0;const _={};for(const[$,j]of Object.entries(o)){if(j.noServer&&e||j.noClient&&!e)continue;if(this._params.length-h<=s){if(j.optional)continue;if(this._params.length-h!==s)throw new Error("not enough parameters left for required parameters parsing (this is a library bug)")}let _e=this._params[h];if(!_e){if(j.optional)break;throw new Error("unexpected parameter underflow")}if(j.rest){const et=[];for(;this._params[h]&&!this._params[h].trailing;)et.push(this._params[h].value),++h;if(!et.length){if(j.optional)continue;throw new Error(`no parameters left for required rest parameter "${$}"`)}_e={value:et.join(" "),trailing:!1}}if(Message.checkParam(_e.value,j))_[$]={..._e},j.optional||--s,j.rest||++h;else if(!j.optional)throw new ParameterRequirementMismatchError(this._command,$,j,_e.value);if(j.trailing)break}if(this._parsedParams=_,this._paramSpec)for(const $ of Object.keys(this._paramSpec))Object.defineProperty(this,$,{get(){var j,_e;return(_e=(j=this._parsedParams)===null||j===void 0?void 0:j[$])===null||_e===void 0?void 0:_e.value}})}}get rawParamValues(){var e,s;return(s=(e=this._params)===null||e===void 0?void 0:e.map(o=>o.value))!==null&&s!==void 0?s:[]}get prefix(){return this._prefix}get command(){return this._command}get tags(){return this._tags}get rawLine(){return this._raw}isResponseTo(e){return!1}endsResponseTo(e){return!1}_acceptsInReplyCollection(e){return e.isResponseTo(this)}_buildCommandFromNamedParams(){const e=this._paramSpec?Object.keys(this._paramSpec):[];return[this._command,...e.map(s=>{var o;const h=(o=this._parsedParams)===null||o===void 0?void 0:o[s];if(h)return(h.trailing?":":"")+h.value}).filter(s=>s!==void 0)].join(" ")}_buildCommandFromRawParams(){var e,s;return[this._command,...(s=(e=this._params)===null||e===void 0?void 0:e.map(o=>`${o.trailing?":":""}${o.value}`))!==null&&s!==void 0?s:[]].join(" ")}}Message.COMMAND="";Message.SUPPORTS_CAPTURE=!1;class Batch extends Message{constructor(e,s,o){super(e,s,o,{reference:{},type:{optional:!0},additionalParams:{optional:!0}})}}Batch.COMMAND="BATCH";const BatchCapability={name:"batch",messageTypes:[Batch],usesTags:!0},CapNotifyCapability={name:"cap-notify"};class ChgHost extends Message{constructor(e,s,o){super(e,s,o,{newUser:{},newHost:{}})}}ChgHost.COMMAND="CHGHOST";const ChgHostCapability={name:"chghost",messageTypes:[ChgHost]},InviteNotifyCapability={name:"invite-notify"};class Acknowledgement extends Message{}Acknowledgement.COMMAND="ACK";const LabeledResponseCapability={name:"labeled-response",messageTypes:[Acknowledgement],usesTags:!0},MessageTagsCapability={name:"message-tags",usesTags:!0},MultiPrefixCapability={name:"multi-prefix"},CoreCapabilities=Object.freeze(Object.defineProperty({__proto__:null,AwayNotify:AwayNotifyCapability,Batch:BatchCapability,CapNotify:CapNotifyCapability,ChgHost:ChgHostCapability,InviteNotify:InviteNotifyCapability,LabeledResponse:LabeledResponseCapability,MessageTags:MessageTagsCapability,MultiPrefix:MultiPrefixCapability},Symbol.toStringTag,{value:"Module"}));class MessageCollector{constructor(e,s,...o){this._client=e,this._originalMessage=s,this._messages=[],this._endEventHandlers=new Map,this._types=new Set(o)}untilEvent(e){this._cleanEndEventHandler(e);const s=this._client.on(e,()=>this.end());this._endEventHandlers.set(e,s)}async promise(){return this._promise||(this._promise=new Promise(e=>this._promiseResolve=e)),await this._promise}collect(e){return this._originalMessage._acceptsInReplyCollection(e)?(this._messages.push(e),e.endsResponseTo(this._originalMessage)&&this.end(),!0):!1}end(){this._client.stopCollect(this),this._cleanEndEventHandlers(),this._promiseResolve&&this._promiseResolve(this._messages)}_cleanEndEventHandlers(){this._endEventHandlers.forEach(e=>this._client.removeListener(e)),this._endEventHandlers.clear()}_cleanEndEventHandler(e){this._endEventHandlers.has(e)&&(this._client.removeListener(this._endEventHandlers.get(e)),this._endEventHandlers.delete(e))}}class Password extends Message{constructor(e,s,o){super(e,s,o,{password:{}})}}Password.COMMAND="PASS";class NickChange extends Message{constructor(e,s,o){super(e,s,o,{nick:{}})}}NickChange.COMMAND="NICK";class UserRegistration extends Message{constructor(e,s,o){super(e,s,o,{user:{},mode:{},unused:{},realName:{trailing:!0}})}}UserRegistration.COMMAND="USER";class OperLogin extends Message{constructor(e,s,o){super(e,s,o,{name:{},password:{}})}}OperLogin.COMMAND="OPER";class ClientQuit extends Message{constructor(e,s,o){super(e,s,o,{text:{trailing:!0,optional:!0}})}}ClientQuit.COMMAND="QUIT";class ServerQuit extends Message{constructor(e,s,o){super(e,s,o,{server:{},reason:{trailing:!0}})}}ServerQuit.COMMAND="SQUIT";class ChannelJoin extends Message{constructor(e,s,o){super(e,s,o,{channel:{type:"channel"},key:{optional:!0}})}}ChannelJoin.COMMAND="JOIN";class ChannelPart extends Message{constructor(e,s,o){super(e,s,o,{channel:{type:"channel"},reason:{trailing:!0,optional:!0}})}}ChannelPart.COMMAND="PART";class UnknownChannelModeCharError extends Error{constructor(e){super(`Unknown channel mode character ${e}`),this._char=e,Object.setPrototypeOf(this,UnknownChannelModeCharError.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,UnknownChannelModeCharError)}get char(){return this._char}}class Mode extends Message{constructor(e,s,o){super(e,s,o,{target:{},modes:{rest:!0,optional:!0}})}get isChannel(){return isChannel(this.target,this._serverProperties.channelTypes)}separate(){const e=[],s=this.modes;if(!s)throw new Error("can't separate a channel mode request, just set actions");const o=s.split(" "),h=o.shift();let _="add";for(const $ of h){let j=_;switch($){case"+":{_="add";break}case"-":{_="remove";break}default:{let _e=!1,et=!0;if(this.isChannel){if(this._serverProperties.supportedChannelModes.alwaysWithParam.includes($)||this._serverProperties.supportedChannelModes.prefix.includes($))_e=!0;else if(this._serverProperties.supportedChannelModes.paramWhenSet.includes($))_==="add"&&(_e=!0);else if(this._serverProperties.supportedChannelModes.list.includes($))o.length?_e=!0:j="getList";else if(!this._serverProperties.supportedChannelModes.noParam.includes($))throw new UnknownChannelModeCharError($)}else et=this._serverProperties.supportedUserModes.includes($);if(_e&&!o.length)continue;e.push({prefix:this._prefix,action:j,letter:$,param:_e?o.shift():void 0,known:et})}}}return e}}Mode.COMMAND="MODE";class Topic extends Message{constructor(e,s,o){super(e,s,o,{channel:{type:"channel"},newTopic:{optional:!0,trailing:!0}})}}Topic.COMMAND="TOPIC";class Names extends Message{constructor(e,s,o){super(e,s,o,{channel:{type:"channelList",optional:!0}})}}Names.COMMAND="NAMES";Names.SUPPORTS_CAPTURE=!0;class ChannelList extends Message{constructor(e,s,o){super(e,s,o,{channel:{optional:!0},server:{optional:!0}})}}ChannelList.COMMAND="LIST";class ChannelInvite extends Message{constructor(e,s,o){super(e,s,o,{target:{},channel:{type:"channel"}})}}ChannelInvite.COMMAND="INVITE";class ChannelKick extends Message{constructor(e,s,o){super(e,s,o,{channel:{type:"channel"},target:{},reason:{trailing:!0,optional:!0}})}}ChannelKick.COMMAND="KICK";class Time extends Message{constructor(e,s,o){super(e,s,o,{server:{optional:!0}})}}Time.COMMAND="TIME";class PrivateMessage extends Message{constructor(e,s,o){super(e,s,o,{target:{},text:{trailing:!0}})}}PrivateMessage.COMMAND="PRIVMSG";class Notice extends Message{constructor(e,s,o){super(e,s,o,{target:{},text:{trailing:!0}})}}Notice.COMMAND="NOTICE";class WhoQuery extends Message{constructor(e,s,o){super(e,s,o,{mask:{},flags:{optional:!0},extendedMask:{optional:!0,trailing:!0}})}}WhoQuery.COMMAND="WHO";class WhoIsQuery extends Message{constructor(e,s,o){super(e,s,o,{server:{optional:!0},nickMask:{}})}}WhoIsQuery.COMMAND="WHOIS";class WhoWasQuery extends Message{constructor(e,s,o){super(e,s,o,{nick:{},count:{optional:!0},server:{optional:!0}})}}WhoWasQuery.COMMAND="WHOWAS";class Kill extends Message{constructor(e,s,o){super(e,s,o,{target:{},reason:{trailing:!0,optional:!0}})}}Kill.COMMAND="KILL";class Ping extends Message{constructor(e,s,o){super(e,s,o,{text:{trailing:!0}})}}Ping.COMMAND="PING";class Pong extends Message{constructor(e,s,o){super(e,s,o,{server:{noClient:!0},text:{trailing:!0}})}}Pong.COMMAND="PONG";class ErrorMessage extends Message{constructor(e,s,o){super(e,s,o,{text:{trailing:!0}})}}ErrorMessage.COMMAND="ERROR";class Away extends Message{constructor(e,s,o){super(e,s,o,{text:{trailing:!0,optional:!0}})}}Away.COMMAND="AWAY";class Rehash extends Message{}Rehash.COMMAND="REHASH";class Restart extends Message{}Restart.COMMAND="RESTART";class WallopsMessage extends Message{constructor(e,s,o){super(e,s,o,{text:{trailing:!0}})}}WallopsMessage.COMMAND="WALLOPS";class UserHostQuery extends Message{constructor(e,s,o){super(e,s,o,{nicks:{rest:!0}})}}UserHostQuery.COMMAND="USERHOST";class IsOnQuery extends Message{constructor(e,s,o){super(e,s,o,{nicks:{rest:!0}})}}IsOnQuery.COMMAND="ISON";class CapabilityNegotiation extends Message{constructor(e,s,o){super(e,s,o,{target:{match:/^(?:[a-z_\-\[\]\\^{}|`][a-z0-9_\-\[\]\\^{}|`]+|\*)$/i,optional:!0,noClient:!0},subCommand:{match:/^(?:LS|LIST|REQ|ACK|NAK|END|NEW|DEL)$/i},version:{match:/^\d+$/,optional:!0},continued:{match:/^\*$/,optional:!0},capabilities:{trailing:!0,optional:!0}})}isResponseTo(e){if(!(e instanceof CapabilityNegotiation))return!1;switch(this.subCommand){case"ACK":case"NAK":return e.subCommand==="REQ"&&e.capabilities===this.capabilities.trim();case"LS":case"LIST":return e.subCommand===this.subCommand;default:return!1}}endsResponseTo(e){if(!(e instanceof CapabilityNegotiation))return!1;switch(this.subCommand){case"LS":case"LIST":return!this.continued;default:return!0}}}CapabilityNegotiation.COMMAND="CAP";CapabilityNegotiation.SUPPORTS_CAPTURE=!0;class TagMessage extends Message{constructor(e,s,o){super(e,s,o,{target:{}})}}TagMessage.COMMAND="TAGMSG";const Commands=Object.freeze(Object.defineProperty({__proto__:null,Away,CapabilityNegotiation,ChannelInvite,ChannelJoin,ChannelKick,ChannelList,ChannelPart,ClientQuit,ErrorMessage,IsOnQuery,Kill,Mode,Names,NickChange,Notice,OperLogin,Password,Ping,Pong,PrivateMessage,Rehash,Restart,ServerQuit,TagMessage,Time,Topic,UserHostQuery,UserRegistration,Wallops:WallopsMessage,WhoIsQuery,WhoQuery,WhoWasQuery},Symbol.toStringTag,{value:"Module"}));class Reply001Welcome extends Message{constructor(e,s,o){super(e,s,o,{me:{},welcomeText:{trailing:!0}})}}Reply001Welcome.COMMAND="001";class Reply002YourHost extends Message{constructor(e,s,o){super(e,s,o,{me:{},yourHost:{trailing:!0}})}}Reply002YourHost.COMMAND="002";class Reply003Created extends Message{constructor(e,s,o){super(e,s,o,{me:{},createdText:{trailing:!0}})}}Reply003Created.COMMAND="003";class Reply004ServerInfo extends Message{constructor(e,s,o){super(e,s,o,{me:{},serverName:{},version:{},userModes:{},channelModes:{},channelModesWithParam:{optional:!0}})}}Reply004ServerInfo.COMMAND="004";class Reply005Isupport extends Message{constructor(e,s,o){super(e,s,o,{me:{},supports:{rest:!0},suffix:{trailing:!0}})}}Reply005Isupport.COMMAND="005";class Reply221UmodeIs extends Message{constructor(e,s,o){super(e,s,o,{me:{},modes:{}})}}Reply221UmodeIs.COMMAND="221";class Reply301Away extends Message{constructor(e,s,o){super(e,s,o,{me:{},nick:{},text:{trailing:!0}})}}Reply301Away.COMMAND="301";class Reply302UserHost extends Message{constructor(e,s,o){super(e,s,o,{me:{},hosts:{trailing:!0}})}}Reply302UserHost.COMMAND="302";class Reply305UnAway extends Message{constructor(e,s,o){super(e,s,o,{me:{},suffix:{trailing:!0}})}}Reply305UnAway.COMMAND="305";class Reply306NowAway extends Message{constructor(e,s,o){super(e,s,o,{me:{},suffix:{trailing:!0}})}}Reply306NowAway.COMMAND="306";class Reply311WhoisUser extends Message{constructor(e,s,o){super(e,s,o,{me:{},nick:{},username:{},host:{},_unused:{},realname:{trailing:!0}})}}Reply311WhoisUser.COMMAND="311";class Reply315EndOfWho extends Message{constructor(e,s,o){super(e,s,o,{me:{},query:{},suffix:{trailing:!0}})}isResponseTo(e){return e instanceof WhoQuery}endsResponseTo(){return!0}}Reply315EndOfWho.COMMAND="315";class Reply318EndOfWhois extends Message{constructor(e,s,o){super(e,s,o,{me:{},nickMask:{},suffix:{trailing:!0}})}}Reply318EndOfWhois.COMMAND="318";class Reply319WhoisChannels extends Message{constructor(e,s,o){super(e,s,o,{me:{},nick:{},channels:{trailing:!0}})}}Reply319WhoisChannels.COMMAND="319";class Reply322List extends Message{constructor(e,s,o){super(e,s,o,{me:{},channel:{type:"channel"},memberCount:{},topic:{trailing:!0}})}}Reply322List.COMMAND="322";class Reply323ListEnd extends Message{constructor(e,s,o){super(e,s,o,{me:{},suffix:{trailing:!0}})}}Reply323ListEnd.COMMAND="323";class Reply324ChannelModeIs extends Message{constructor(e,s,o){super(e,s,o,{me:{},channel:{type:"channel"},modes:{rest:!0}})}}Reply324ChannelModeIs.COMMAND="324";class Reply331NoTopic extends Message{constructor(e,s,o){super(e,s,o,{me:{},channel:{type:"channel"},suffix:{trailing:!0}})}}Reply331NoTopic.COMMAND="331";class Reply332Topic extends Message{constructor(e,s,o){super(e,s,o,{me:{},channel:{type:"channel"},topic:{trailing:!0}})}}Reply332Topic.COMMAND="332";class Reply333TopicWhoTime extends Message{constructor(e,s,o){super(e,s,o,{me:{},channel:{type:"channel"},who:{},ts:{}})}}Reply333TopicWhoTime.COMMAND="333";class Reply341Inviting extends Message{constructor(e,s,o){super(e,s,o,{me:{},nick:{},channel:{type:"channel"}})}}Reply341Inviting.COMMAND="341";class Reply348ExceptList extends Message{constructor(e,s,o){super(e,s,o,{me:{},channel:{type:"channel"},mask:{},creatorName:{optional:!0},timestamp:{optional:!0}})}}Reply348ExceptList.COMMAND="348";class Reply349EndOfExceptList extends Message{constructor(e,s,o){super(e,s,o,{me:{},channel:{type:"channel"},suffix:{trailing:!0}})}}Reply349EndOfExceptList.COMMAND="349";class Reply352WhoReply extends Message{constructor(e,s,o){super(e,s,o,{me:{},channel:{},user:{},host:{},server:{},nick:{},flags:{},hopsAndRealName:{trailing:!0}})}get isAway(){return this.flags.includes("G")}get isOper(){return this.flags.includes("*")}get isBot(){return this.flags.includes("B")}isResponseTo(e){return e instanceof WhoQuery}}Reply352WhoReply.COMMAND="352";class Reply353NamesReply extends Message{constructor(e,s,o){super(e,s,o,{me:{},channelType:{},channel:{type:"channel"},names:{trailing:!0}})}isResponseTo(e){return e instanceof Names}}Reply353NamesReply.COMMAND="353";class Reply366EndOfNames extends Message{constructor(e,s,o){super(e,s,o,{me:{},channel:{},suffix:{trailing:!0}})}isResponseTo(e){return e instanceof Names}endsResponseTo(){return!0}}Reply366EndOfNames.COMMAND="366";class Reply367BanList extends Message{constructor(e,s,o){super(e,s,o,{me:{},channel:{type:"channel"},mask:{},creatorName:{optional:!0},timestamp:{optional:!0}})}}Reply367BanList.COMMAND="367";class Reply368EndOfBanList extends Message{constructor(e,s,o){super(e,s,o,{me:{},channel:{type:"channel"},suffix:{trailing:!0}})}}Reply368EndOfBanList.COMMAND="368";class Reply372Motd extends Message{constructor(e,s,o){super(e,s,o,{me:{},line:{trailing:!0}})}}Reply372Motd.COMMAND="372";class Reply375MotdStart extends Message{constructor(e,s,o){super(e,s,o,{me:{},line:{trailing:!0}})}}Reply375MotdStart.COMMAND="375";class Reply376EndOfMotd extends Message{constructor(e,s,o){super(e,s,o,{me:{},suffix:{trailing:!0}})}}Reply376EndOfMotd.COMMAND="376";class Reply381YoureOper extends Message{constructor(e,s,o){super(e,s,o,{me:{},suffix:{trailing:!0}})}}Reply381YoureOper.COMMAND="381";class Reply391Time extends Message{constructor(e,s,o){super(e,s,o,{me:{},server:{optional:!0},timestamp:{trailing:!0}})}}Reply391Time.COMMAND="391";class Error401NoSuchNick extends Message{constructor(e,s,o){super(e,s,o,{me:{},nick:{},suffix:{trailing:!0}})}}Error401NoSuchNick.COMMAND="401";class Error402NoSuchServer extends Message{constructor(e,s,o){super(e,s,o,{me:{},server:{},suffix:{trailing:!0}})}}Error402NoSuchServer.COMMAND="402";class Error403NoSuchChannel extends Message{constructor(e,s,o){super(e,s,o,{me:{},channel:{},suffix:{trailing:!0}})}}Error403NoSuchChannel.COMMAND="403";class Error404CanNotSendToChan extends Message{constructor(e,s,o){super(e,s,o,{me:{},channel:{type:"channel"},suffix:{trailing:!0}})}}Error404CanNotSendToChan.COMMAND="404";class Error405TooManyChannels extends Message{constructor(e,s,o){super(e,s,o,{me:{},channel:{type:"channel"},suffix:{trailing:!0}})}}Error405TooManyChannels.COMMAND="405";class Error410InvalidCapCmd extends Message{constructor(e,s,o){super(e,s,o,{me:{},subCommand:{},suffix:{trailing:!0}})}}Error410InvalidCapCmd.COMMAND="410";class Error421UnknownCommand extends Message{constructor(e,s,o){super(e,s,o,{me:{},originalCommand:{},suffix:{trailing:!0}})}isResponseTo(e){return e.command===this.originalCommand}endsResponseTo(){return!0}}Error421UnknownCommand.COMMAND="421";class Error422NoMotd extends Message{constructor(e,s,o){super(e,s,o,{me:{},suffix:{trailing:!0}})}}Error422NoMotd.COMMAND="422";class Error431NoNickNameGiven extends Message{constructor(e,s,o){super(e,s,o,{me:{},suffix:{trailing:!0}})}isResponseTo(e){return e.command==="NICK"}endsResponseTo(){return!0}}Error431NoNickNameGiven.COMMAND="431";class Error432ErroneusNickname extends Message{constructor(e,s,o){super(e,s,o,{me:{},nick:{},suffix:{trailing:!0}})}isResponseTo(e){return e.command==="NICK"}endsResponseTo(){return!0}}Error432ErroneusNickname.COMMAND="432";class Error433NickNameInUse extends Message{constructor(e,s,o){super(e,s,o,{me:{},nick:{},suffix:{trailing:!0}})}isResponseTo(e){return e.command==="NICK"}endsResponseTo(){return!0}}Error433NickNameInUse.COMMAND="433";class Error436NickCollision extends Message{constructor(e,s,o){super(e,s,o,{me:{},nick:{},suffix:{trailing:!0}})}isResponseTo(e){return e.command==="NICK"}endsResponseTo(){return!0}}Error436NickCollision.COMMAND="436";class Error441UserNotInChannel extends Message{constructor(e,s,o){super(e,s,o,{me:{},nick:{},channel:{type:"channel"},suffix:{trailing:!0}})}isResponseTo(e){return e.command==="NICK"}endsResponseTo(){return!0}}Error441UserNotInChannel.COMMAND="441";class Error442NotOnChannel extends Message{constructor(e,s,o){super(e,s,o,{me:{},channel:{type:"channel"},suffix:{trailing:!0}})}isResponseTo(e){return e.command==="NICK"}endsResponseTo(){return!0}}Error442NotOnChannel.COMMAND="442";class Error443UserOnChannel extends Message{constructor(e,s,o){super(e,s,o,{me:{},nick:{},channel:{type:"channel"},suffix:{trailing:!0}})}isResponseTo(e){return e.command==="NICK"}endsResponseTo(){return!0}}Error443UserOnChannel.COMMAND="443";class Error451NotRegistered extends Message{constructor(e,s,o){super(e,s,o,{me:{},suffix:{trailing:!0}})}}Error451NotRegistered.COMMAND="451";class Error461NeedMoreParams extends Message{constructor(e,s,o){super(e,s,o,{me:{},originalCommand:{},suffix:{trailing:!0}})}}Error461NeedMoreParams.COMMAND="461";class Error462AlreadyRegistered extends Message{constructor(e,s,o){super(e,s,o,{me:{},suffix:{trailing:!0}})}}Error462AlreadyRegistered.COMMAND="462";class Error471ChannelIsFull extends Message{constructor(e,s,o){super(e,s,o,{me:{},channel:{type:"channel"},suffix:{trailing:!0}})}}Error471ChannelIsFull.COMMAND="471";class Error472UnknownMode extends Message{constructor(e,s,o){super(e,s,o,{me:{},char:{},suffix:{trailing:!0}})}}Error472UnknownMode.COMMAND="472";class Error473InviteOnlyChan extends Message{constructor(e,s,o){super(e,s,o,{me:{},channel:{type:"channel"},suffix:{trailing:!0}})}}Error473InviteOnlyChan.COMMAND="473";class Error474BannedFromChan extends Message{constructor(e,s,o){super(e,s,o,{me:{},channel:{type:"channel"},suffix:{trailing:!0}})}}Error474BannedFromChan.COMMAND="474";class Error475BadChannelKey extends Message{constructor(e,s,o){super(e,s,o,{me:{},channel:{type:"channel"},suffix:{trailing:!0}})}}Error475BadChannelKey.COMMAND="475";class Error479BadChanName extends Message{constructor(e,s,o){super(e,s,o,{me:{},channel:{},suffix:{trailing:!0}})}}Error479BadChanName.COMMAND="479";class Error481NoPrivileges extends Message{constructor(e,s,o){super(e,s,o,{me:{},suffix:{trailing:!0}})}}Error481NoPrivileges.COMMAND="481";class Error482ChanOpPrivsNeeded extends Message{constructor(e,s,o){super(e,s,o,{me:{},channel:{},suffix:{trailing:!0}})}}Error482ChanOpPrivsNeeded.COMMAND="482";class Error491NoOperHost extends Message{constructor(e,s,o){super(e,s,o,{me:{},suffix:{trailing:!0}})}}Error491NoOperHost.COMMAND="491";class Error501UmodeUnknownFlag extends Message{constructor(e,s,o){super(e,s,o,{me:{},modeChar:{optional:!0,match:/^\w$/},suffix:{trailing:!0}})}}Error501UmodeUnknownFlag.COMMAND="501";class Error502UsersDontMatch extends Message{constructor(e,s,o){super(e,s,o,{me:{},suffix:{trailing:!0}})}}Error502UsersDontMatch.COMMAND="502";const Numerics=Object.freeze(Object.defineProperty({__proto__:null,Error401NoSuchNick,Error402NoSuchServer,Error403NoSuchChannel,Error404CanNotSendToChan,Error405TooManyChannels,Error410InvalidCapCmd,Error421UnknownCommand,Error422NoMotd,Error431NoNickNameGiven,Error432ErroneusNickname,Error433NickNameInUse,Error436NickCollision,Error441UserNotInChannel,Error442NotOnChannel,Error443UserOnChannel,Error451NotRegistered,Error461NeedMoreParams,Error462AlreadyRegistered,Error471ChannelIsFull,Error472UnknownMode,Error473InviteOnlyChan,Error474BannedFromChan,Error475BadChannelKey,Error479BadChanName,Error481NoPrivileges,Error482ChanOpPrivsNeeded,Error491NoOperHost,Error501UmodeUnknownFlag,Error502UsersDontMatch,Reply001Welcome,Reply002YourHost,Reply003Created,Reply004ServerInfo,Reply005Isupport,Reply221UmodeIs,Reply301Away,Reply302UserHost,Reply305UnAway,Reply306NowAway,Reply311WhoisUser,Reply315EndOfWho,Reply318EndOfWhois,Reply319WhoisChannels,Reply322List,Reply323ListEnd,Reply324ChannelModeIs,Reply331NoTopic,Reply332Topic,Reply333TopicWhoTime,Reply341Inviting,Reply348ExceptList,Reply349EndOfExceptList,Reply352WhoReply,Reply353NamesReply,Reply366EndOfNames,Reply367BanList,Reply368EndOfBanList,Reply372Motd,Reply375MotdStart,Reply376EndOfMotd,Reply381YoureOper,Reply391Time},Symbol.toStringTag,{value:"Module"})),all=new Map([...Object.values(Commands),...Object.values(Numerics)].map(i=>[i.COMMAND,i]));function parsePrefix(i){const[e,s]=splitWithLimit(i,"!",2);if(s){const[o,h]=splitWithLimit(s,"@",2);return h?{nick:e,user:o,host:h}:{nick:e,host:o}}else return{nick:e}}const tagUnescapeMap={":":";",n:`
`,r:"\r",s:" "};function parseTags(i){const e=new Map,s=i.split(";");for(const o of s){const[h,_]=splitWithLimit(o,"=",2);h!==""&&e.set(h,_?_.replace(/\\(.?)/g,($,j)=>Object.prototype.hasOwnProperty.call(tagUnescapeMap,j)?tagUnescapeMap[j]:j):"")}return e}function parseMessage(i,e=defaultServerProperties,s=all,o=!1,h=[],_=!0){const $=i.split(" ");let j,_e;const et=[];let tt,nt;for(;$.length;){if(j=$[0],j.startsWith("@")&&!tt&&!_e&&!nt)tt=parseTags(j.slice(1));else if(j.startsWith(":"))if(!nt&&!_e)j.length>1&&(nt=parsePrefix(j.slice(1)));else{et.push({value:$.join(" ").slice(1),trailing:!0});break}else _e?et.push({value:j,trailing:!1}):_e=j.toUpperCase();$.shift()}if(tt||(tt=new Map),!_e)throw new Error(`line without command received: ${i}`);_&&(_=!h.includes(_e));let rt=Message;return s.has(_e)&&(rt=s.get(_e)),new rt(_e,{params:et,tags:tt,prefix:nt,rawLine:i},{serverProperties:e,isServer:o,shouldParseParams:_})}class IrcClient extends EventEmitter{constructor(e){super(),this._registered=!1,this._supportsCapabilities=!0,this._events=new Map,this._registeredMessageTypes=new Map,this.onConnect=this.registerEvent(),this.onRegister=this.registerEvent(),this.onDisconnect=this.registerEvent(),this.onPrivmsg=this.registerEvent(),this.onAction=this.registerEvent(),this.onNotice=this.registerEvent(),this.onNickChange=this.registerEvent(),this.onCtcp=this.registerEvent(),this.onCtcpReply=this.registerEvent(),this.onPasswordError=this.registerEvent(),this.onAnyMessage=this.registerEvent(),this._serverProperties=klona(defaultServerProperties),this._supportedFeatures={},this._collectors=[],this._clientCapabilities=new Map,this._serverCapabilities=new Map,this._negotiatedCapabilities=new Map,this._currentChannels=new Set,this._hasRegisteredBefore=!1,this._channelsFromLastRegister=new Set,this._initialConnectionSetupDone=!1;const{connection:s,credentials:o,channels:h,channelTypes:_,webSocket:$,logger:j={}}=e;this._options=e;const{pingOnInactivity:_e=60,pingTimeout:et=10}=s;this._pingOnInactivity=_e,this._pingTimeout=et,this._currentNick=o.nick,this._logger=createLogger({name:"ircv3",emoji:!0,...j}),this.registerCoreMessageTypes();const{hostName:tt,secure:nt,reconnect:rt=!0}=s,st={hostName:tt,port:this.port,secure:nt},lt={lineBased:!0,logger:this._logger,additionalOptions:e.connectionOptions},ct=$?WebSocketConnection:DirectConnection;rt?this._connection=new PersistentConnection(ct,st,lt):this._connection=new ct(lt,this._logger,e.connectionOptions);for(const ut of Object.values(CoreCapabilities))this.addCapability(ut);this.addInternalListener(this.onRegister,async()=>{const ut=this._hasRegisteredBefore,ot=this._channelsFromLastRegister;this._hasRegisteredBefore=!0,this._channelsFromLastRegister=new Set;const it=ut&&this._options.rejoinChannelsOnReconnect?ot:await resolveConfigValue(h);if(it)for(const at of it)this.join(at)}),this.onTypedMessage(CapabilityNegotiation,async({subCommand:ut,capabilities:ot})=>{const it=ot.split(" ");switch(ut.toUpperCase()){case"NEW":{this._logger.debug(`Server registered new capabilities: ${it.join(", ")}`);const at=arrayToObject$2(it,ht=>{if(!ht)return{};const[yt,_t]=splitWithLimit(ht,"=",2);return{[yt]:{name:yt,param:_t||!0}}});for(const[ht,yt]of Object.entries(at))this._serverCapabilities.set(ht,yt);const dt=Object.keys(at);await this._negotiateCapabilities(Array.from(this._clientCapabilities.entries()).filter(([ht])=>dt.includes(ht)).map(([,ht])=>ht));break}case"DEL":{this._logger.debug(`Server removed capabilities: ${it.join(", ")}`);for(const at of it)this._serverCapabilities.delete(at),this._negotiatedCapabilities.delete(at)}}}),this.onTypedMessage(Ping,({text:ut})=>{this.sendMessage(Pong,{text:ut})}),this.onTypedMessage(Reply001Welcome,({me:ut})=>this._handleReceivedClientNick(ut)),this.onTypedMessage(Reply004ServerInfo,({userModes:ut})=>{ut&&(this._serverProperties.supportedUserModes=ut)}),this.onTypedMessage(Reply005Isupport,({supports:ut})=>{const ot=arrayToObject$2(ut.split(" "),it=>{const[at,dt]=splitWithLimit(it,"=",2);return{[at]:dt||!0}});this._supportedFeatures={...this._supportedFeatures,...ot}}),this.onTypedMessage(Reply376EndOfMotd,({me:ut})=>{this._registered||(this._handleReceivedClientNick(ut),this._registered=!0,this.emit(this.onRegister))}),this.onTypedMessage(Error422NoMotd,({me:ut})=>{this._registered||(this._handleReceivedClientNick(ut),this._registered=!0,this.emit(this.onRegister))}),this.onTypedMessage(Error462AlreadyRegistered,({me:ut})=>{this._registered||(this._logger.warn("We thought we're not registered yet, but we actually are"),this._handleReceivedClientNick(ut),this._registered=!0,this.emit(this.onRegister))}),this.onTypedMessage(PrivateMessage,ut=>{var ot;const{target:it,text:at}=ut,dt=decodeCtcp(at),ht=(ot=ut.prefix)===null||ot===void 0?void 0:ot.nick;dt?dt.command==="ACTION"?this.emit(this.onAction,it,ht,dt.params,ut):this.emit(this.onCtcp,it,ht,dt.command,dt.params,ut):this.emit(this.onPrivmsg,it,ht,at,ut)}),this.onTypedMessage(NickChange,ut=>{var ot;const{nick:it}=ut,at=(ot=ut.prefix)===null||ot===void 0?void 0:ot.nick;at===this._currentNick&&(this._currentNick=it),this.emit(this.onNickChange,at,it,ut)}),this.onTypedMessage(Notice,ut=>{var ot;const{target:it,text:at}=ut,dt=decodeCtcp(at),ht=(ot=ut.prefix)===null||ot===void 0?void 0:ot.nick;dt&&this.emit(this.onCtcpReply,it,ht,dt.command,dt.params,ut),this.emit(this.onNotice,it,ht,at,ut)}),this._options.manuallyAcknowledgeJoins||this.onTypedMessage(ChannelJoin,({channel:ut,prefix:ot})=>{(ot==null?void 0:ot.nick)===this._currentNick&&this.acknowledgeJoin(ut)}),this.onTypedMessage(ChannelPart,ut=>{var ot;((ot=ut.prefix)===null||ot===void 0?void 0:ot.nick)===this._currentNick&&(this._currentChannels.delete(ut.channel),this._channelsFromLastRegister.delete(ut.channel))}),this.addInternalListener(this.onRegister,()=>this._startPingCheckTimer()),this._desiredNick=o.nick,this._userName=o.userName,this._realName=o.realName,_&&(this._serverProperties.channelTypes=_)}receiveLine(e){var s;this._logger.debug(`Received message: ${e}`);let o;try{o=parseMessage(e,this._serverProperties,this._registeredMessageTypes,!0,this._options.nonConformingCommands)}catch(h){this._logger.error(`Error parsing message: ${h.message}`),this._logger.trace((s=h.stack)!==null&&s!==void 0?s:"No stack available");return}this._logger.trace(`Parsed message: ${JSON.stringify(o)}`),this._startPingCheckTimer(),this.emit(this.onAnyMessage,o),this._handleEvents(o)}get serverProperties(){return klona(this._serverProperties)}get port(){const{webSocket:e,connection:{port:s,secure:o}}=this._options;return s||(e?o?443:80:o?6697:6667)}pingCheck(){const e=Date.now(),s=e.toString(),o=this.onTypedMessage(Pong,h=>{const{text:_}=h;_===s&&(this._logger.debug(`Current ping: ${Date.now()-e}ms`),this._pingTimeoutTimer&&clearTimeout(this._pingTimeoutTimer),this.removeMessageListener(o))});this._pingTimeoutTimer=setTimeout(()=>{this.removeMessageListener(o),this._options.connection.reconnect===!1?this._logger.error(`Disconnecting because the last ping took over ${this._pingTimeout} seconds`):this._logger.warn(`Reconnecting because the last ping took over ${this._pingTimeout} seconds`),this._connection.assumeExternalDisconnect()},this._pingTimeout*1e3),this.sendMessage(Ping,{text:s})}reconnect(e){this.quit(e),this.connect()}registerMessageType(e){e.COMMAND!==""&&(this._logger.trace(`Registering message type ${e.COMMAND}`),this._registeredMessageTypes.set(e.COMMAND.toUpperCase(),e))}knowsCommand(e){return this._registeredMessageTypes.has(e.toUpperCase())}getCommandClass(e){return this._registeredMessageTypes.get(e.toUpperCase())}acknowledgeJoin(e){this._currentChannels.add(e),this._channelsFromLastRegister.add(e)}connect(){this._supportsCapabilities=!1,this._negotiatedCapabilities=new Map,this._currentChannels=new Set,this._currentNick=this._desiredNick,this._setupConnection(),this._logger.info(`Connecting to ${this._options.connection.hostName}:${this.port}`),this._connection.connect()}addCapability(e){if(this._clientCapabilities.set(e.name,e),e.messageTypes)for(const s of Object.values(e.messageTypes))this.registerMessageType(s)}async registerCapability(e){return this.addCapability(e),this._serverCapabilities.has(e.name)?await this._negotiateCapabilities([e]):[]}send(e){this.sendRaw(e.toString())}sendRaw(e){this._connection.isConnected&&(this._logger.debug(`Sending message: ${e}`),this._connection.sendLine(e))}onNamedMessage(e,s,o){this._events.has(e)||this._events.set(e,new Map);const h=this._events.get(e);if(!o)do o=`${e}:${padLeft(Math.random()*1e4,4,"0")}`;while(h.has(o));return h.set(o,s),o}onTypedMessage(e,s,o){return this.onNamedMessage(e.COMMAND,s,o)}removeMessageListener(e){const[s]=e.split(":");this._events.has(s)&&this._events.get(s).delete(e)}createMessage(e,s,o){const h=o?new Map(Object.entries(o)):void 0;return createMessage(e,s,void 0,h,this.serverProperties)}sendMessage(e,s,o){this.send(this.createMessage(e,s,o))}async sendMessageAndCaptureReply(e,s){if(!e.SUPPORTS_CAPTURE)throw new Error(`The command "${e.COMMAND}" does not support reply capture`);const o=this.createMessage(e,s),h=this.collect(o).promise();return this.send(o),await h}get isConnected(){return this._connection.isConnected}get isConnecting(){return this._connection.isConnecting}get isRegistered(){return this._registered}get currentNick(){return this._currentNick}get currentChannels(){return Array.from(this._currentChannels)}collect(e,...s){const o=new MessageCollector(this,e,...s);return this._collectors.push(o),o}stopCollect(e){this._collectors.splice(this._collectors.findIndex(s=>s===e),1)}join(e,s){this.sendMessage(ChannelJoin,{channel:e,key:s})}part(e){this.sendMessage(ChannelPart,{channel:e})}quit(e){this.sendMessage(ClientQuit,{text:e}),this.quitAbruptly()}quitAbruptly(){this._registered=!1,this._connection.disconnect()}say(e,s,o={}){this.sendMessage(PrivateMessage,{target:e,text:s},o)}sendCtcp(e,s,o){this.say(e,`${s.toUpperCase()} ${o}`)}action(e,s){this.sendCtcp(e,"ACTION",s)}changeNick(e){this._currentNick!==e&&(this._desiredNick=e,this.isRegistered&&this.sendMessage(NickChange,{nick:e}))}registerCoreMessageTypes(){forEachObjectEntry(Commands,e=>{this.registerMessageType(e)}),forEachObjectEntry(Numerics,e=>{this.registerMessageType(e)})}async _negotiateCapabilityBatch(e){return await Promise.all(e.filter(s=>s.length).map(async s=>await this._negotiateCapabilities(s)))}async _negotiateCapabilities(e){const s=arrayToObject$2(e,$=>({[$.name]:$})),h=(await this.sendMessageAndCaptureReply(CapabilityNegotiation,{subCommand:"REQ",capabilities:e.map($=>$.name).join(" ")})).shift();if(!h)throw new Error("capability negotiation failed unexpectedly without any reply");if(!(h instanceof CapabilityNegotiation))throw new Error(`capability negotiation failed unexpectedly with "${h.command}" command`);const _=h.capabilities.split(" ").filter($=>$);if(h.subCommand==="ACK"){this._logger.debug(`Successfully negotiated capabilities: ${_.join(", ")}`);const $=_.map(j=>s[j]);for(const j of $){const _e=this._clientCapabilities.get(j.name);_e.param=j.param,this._negotiatedCapabilities.set(_e.name,_e)}return $}else return this._logger.warn(`Failed to negotiate capabilities: ${_.join(", ")}`),new Error("capabilities failed to negotiate")}_setupConnection(){this._initialConnectionSetupDone||(this._connection.onConnect(async()=>{var e,s;this._logger.info(`Connection to server ${this._options.connection.hostName}:${this.port} established`),this.emit(this.onConnect),this._logger.debug("Determining connection password");try{const[o]=await Promise.all([resolveConfigValue(this._options.credentials.password),this.sendMessageAndCaptureReply(CapabilityNegotiation,{subCommand:"LS",version:"302"}).then(h=>{if(!h.length||!(h[0]instanceof CapabilityNegotiation))return this._logger.debug("Server does not support capabilities"),[];this._supportsCapabilities=!0;const _=h.map(j=>arrayToObject$2(j.capabilities.split(" "),_e=>{if(!_e)return{};const[et,tt]=splitWithLimit(_e,"=",2);return{[et]:{name:et,param:tt||!0}}}));this._serverCapabilities=new Map(Object.entries(Object.assign({},..._))),this._logger.debug(`Capabilities supported by server: ${Array.from(this._serverCapabilities.keys()).join(", ")}`);const $=_.map(j=>{const _e=Object.keys(j);return Array.from(this._clientCapabilities.entries()).filter(([et])=>_e.includes(et)).map(([,et])=>et)});return this._negotiateCapabilityBatch($)}).then(()=>{this.sendMessage(CapabilityNegotiation,{subCommand:"END"})})]);o&&this.sendMessage(Password,{password:o}),this.sendMessage(NickChange,{nick:this._desiredNick}),this.sendMessage(UserRegistration,{user:(e=this._userName)!==null&&e!==void 0?e:this._desiredNick,mode:"8",unused:"*",realName:(s=this._realName)!==null&&s!==void 0?s:this._desiredNick})}catch(o){this.emit(this.onPasswordError,o),this.quit()}}),this._initialConnectionSetupDone=!0,this._connection.onReceive(e=>{this.receiveLine(e)}),this._connection.onDisconnect((e,s)=>{var o;if(this._registered=!1,this._pingCheckTimer&&clearTimeout(this._pingCheckTimer),this._pingTimeoutTimer&&clearTimeout(this._pingTimeoutTimer),e)this._logger.info("Disconnected");else{const h=(o=this._options.connection.reconnect)!==null&&o!==void 0?o:!0,_=s?`Disconnected unexpectedly: ${s.message}`:"Disconnected unexpectedly";h?this._logger.warn(`${_}; trying to reconnect`):this._logger.error(_)}this.emit(this.onDisconnect,e,s)}),this._connection.onEnd(e=>{e||this._logger.warn("No further retries will be made")}))}_handleReceivedClientNick(e){this._currentNick!==e&&(this._currentNick!==""&&this._logger.warn(`Mismatching nicks: passed ${this._currentNick}, but you're actually ${e}`),this._currentNick=e)}_handleEvents(e){this._collectors.some(o=>o.collect(e));const s=this._events.get(e.constructor.COMMAND);if(s)for(const o of s.values())o(e)}_startPingCheckTimer(){this._pingCheckTimer&&clearTimeout(this._pingCheckTimer),this._connection.isConnected?this._pingCheckTimer=setTimeout(()=>this.pingCheck(),this._pingOnInactivity*1e3):this._pingCheckTimer=void 0}}__decorate([Enumerable(!1)],IrcClient.prototype,"_options",void 0);class ClearChat extends Message{constructor(e,s,o){super(e,s,o,{channel:{type:"channel"},user:{trailing:!0,optional:!0}})}get date(){const e=this._tags.get("tmi-sent-ts");return new Date(Number(e))}get channelId(){return this._tags.get("room-id")}get targetUserId(){var e;return(e=this._tags.get("target-user-id"))!==null&&e!==void 0?e:null}}ClearChat.COMMAND="CLEARCHAT";class Reconnect extends Message{}Reconnect.COMMAND="RECONNECT";class RoomState extends Message{constructor(e,s,o){super(e,s,o,{channel:{type:"channel"}})}}RoomState.COMMAND="ROOMSTATE";function createSingleCacheKey(i){switch(typeof i){case"undefined":return"";case"object":{if(i===null)return"";if("cacheKey"in i)return i.cacheKey;const e=JSON.stringify(i);if(e!=="{}")return e}default:return i.toString()}}function createCacheKey(i,e,s){return[i,...e.map(createSingleCacheKey)].join("/")+(s?"/":"")}function Cacheable(i){return class extends i{constructor(){super(...arguments),this.cache=new Map}getFromCache(e){if(this._cleanCache(),this.cache.has(e)){const s=this.cache.get(e);if(s)return s.value}}setCache(e,s,o){this.cache.set(e,{value:s,expires:Date.now()+o*1e3})}removeFromCache(e,s){const o=this._getInternalCacheKey(e,s);s?this.cache.forEach((h,_)=>{_.startsWith(o)&&this.cache.delete(_)}):this.cache.delete(o)}_cleanCache(){const e=Date.now();this.cache.forEach((s,o)=>{s.expires<e&&this.cache.delete(o)})}_getInternalCacheKey(e,s){if(typeof e=="string"){let o=e;return o.endsWith("/")||(o+="/"),o}else{const o=e.shift();return createCacheKey(o,e,s)}}}}function CachedGetter(i=1/0){return function(e,s,o){if(o.get){const h=o.get;o.get=function(){const _=createCacheKey(s,[]),$=this.getFromCache(_);if($)return $;const j=h.call(this);return this.setCache(_,j,i),j}}return o}}var ChatUser_1;let ChatUser=ChatUser_1=class{constructor(e,s){this._userName=e.toLowerCase(),this._userData=s?new Map(s):new Map}static _parseBadgesLike(e){return e?new Map(e.split(",").map(s=>{const o=s.indexOf("/");return o===-1?[s,""]:[s.slice(0,o),s.slice(o+1)]})):new Map}get userName(){return this._userName}get displayName(){var e;return(e=this._userData.get("display-name"))!==null&&e!==void 0?e:this._userName}get color(){return this._userData.get("color")}get badges(){const e=this._userData.get("badges");return ChatUser_1._parseBadgesLike(e)}get badgeInfo(){const e=this._userData.get("badge-info");return ChatUser_1._parseBadgesLike(e)}get userId(){return this._userData.get("user-id")}get userType(){return this._userData.get("user-type")}get isBroadcaster(){return this.badges.has("broadcaster")}get isSubscriber(){return this.badges.has("subscriber")||this.isFounder}get isFounder(){return this.badges.has("founder")}get isMod(){return this.badges.has("moderator")}get isVip(){const e=this._userData.get("vip");return e!=null&&e!=="0"}get isArtist(){return this.badges.has("artist-badge")}};__decorate([Enumerable(!1)],ChatUser.prototype,"_userData",void 0);__decorate([CachedGetter()],ChatUser.prototype,"badges",null);__decorate([CachedGetter()],ChatUser.prototype,"badgeInfo",null);ChatUser=ChatUser_1=__decorate([Cacheable,rtfm("chat","ChatUser","userId")],ChatUser);function parseEmoteOffsets(i){return i?new Map(i.split("/").map(e=>{const[s,o]=e.split(":",2);return o?[s,o.split(",")]:null}).filter(e=>e!==null)):new Map}class UserNotice extends Message{constructor(e,s,o){super(e,s,o,{channel:{type:"channel"},text:{trailing:!0,optional:!0}})}get id(){return this._tags.get("id")}get date(){const e=this._tags.get("tmi-sent-ts");return new Date(Number(e))}get userInfo(){return new ChatUser(this._tags.get("login"),this._tags)}get channelId(){var e;return(e=this._tags.get("room-id"))!==null&&e!==void 0?e:null}get emoteOffsets(){return parseEmoteOffsets(this._tags.get("emotes"))}}UserNotice.COMMAND="USERNOTICE";class UserState extends Message{constructor(e,s,o){super(e,s,o,{channel:{type:"channel"}})}}UserState.COMMAND="USERSTATE";class Whisper extends Message{constructor(e,s,o){super(e,s,o,{target:{},text:{trailing:!0}})}get userInfo(){return new ChatUser(this._prefix.nick,this._tags)}get emoteOffsets(){return parseEmoteOffsets(this._tags.get("emotes"))}}Whisper.COMMAND="WHISPER";const TwitchCommandsCapability={name:"twitch.tv/commands",messageTypes:[ClearChat,Reconnect,RoomState,UserNotice,UserState,Whisper]},TwitchMembershipCapability={name:"twitch.tv/membership"};class ClearMsg extends Message{constructor(e,s,o){super(e,s,o,{channel:{type:"channel"},text:{trailing:!0}})}get date(){const e=this._tags.get("tmi-sent-ts");return new Date(Number(e))}get userName(){return this._tags.get("login")}get channelId(){return this._tags.get("room-id")}get targetMessageId(){return this._tags.get("target-msg-id")}}ClearMsg.COMMAND="CLEARMSG";class GlobalUserState extends Message{}GlobalUserState.COMMAND="GLOBALUSERSTATE";const TwitchTagsCapability={name:"twitch.tv/tags",messageTypes:[GlobalUserState,ClearMsg]},HYPE_CHAT_LEVELS=["ONE","TWO","THREE","FOUR","FIVE","SIX","SEVEN","EIGHT","NINE","TEN"];let ChatMessage=class extends PrivateMessage{get id(){return this._tags.get("id")}get date(){const e=this._tags.get("tmi-sent-ts");return new Date(Number(e))}get userInfo(){return new ChatUser(this._prefix.nick,this._tags)}get channelId(){var e;return(e=this._tags.get("room-id"))!==null&&e!==void 0?e:null}get isCheer(){return this._tags.has("bits")}get isRedemption(){return!!this._tags.get("custom-reward-id")}get rewardId(){return this._tags.get("custom-reward-id")||null}get isFirst(){return this._tags.get("first-msg")==="1"}get isReturningChatter(){return this._tags.get("returning-chatter")==="1"}get isHighlight(){return this._tags.get("msg-id")==="highlighted-message"}get isReply(){return this._tags.has("reply-parent-msg-id")}get parentMessageId(){var e;return(e=this._tags.get("reply-parent-msg-id"))!==null&&e!==void 0?e:null}get parentMessageText(){var e;return(e=this._tags.get("reply-parent-msg-body"))!==null&&e!==void 0?e:null}get parentMessageUserId(){var e;return(e=this._tags.get("reply-parent-user-id"))!==null&&e!==void 0?e:null}get parentMessageUserName(){var e;return(e=this._tags.get("reply-parent-user-login"))!==null&&e!==void 0?e:null}get parentMessageUserDisplayName(){var e;return(e=this._tags.get("reply-parent-display-name"))!==null&&e!==void 0?e:null}get threadMessageId(){var e;return(e=this._tags.get("reply-thread-parent-msg-id"))!==null&&e!==void 0?e:null}get threadMessageUserId(){var e;return(e=this._tags.get("reply-thread-parent-user-id"))!==null&&e!==void 0?e:null}get bits(){var e;return Number((e=this._tags.get("bits"))!==null&&e!==void 0?e:0)}get emoteOffsets(){return parseEmoteOffsets(this._tags.get("emotes"))}get isHypeChat(){return this._tags.has("pinned-chat-paid-amount")}get hypeChatAmount(){return mapNullable(this._tags.get("pinned-chat-paid-amount"),Number)}get hypeChatDecimalPlaces(){return mapNullable(this._tags.get("pinned-chat-paid-exponent"),Number)}get hypeChatLocalizedAmount(){const e=this.hypeChatAmount;return e?e/10**this.hypeChatDecimalPlaces:null}get hypeChatCurrency(){var e;return(e=this._tags.get("pinned-chat-paid-currency"))!==null&&e!==void 0?e:null}get hypeChatLevel(){const e=this._tags.get("pinned-chat-paid-level");return e?HYPE_CHAT_LEVELS.indexOf(e)+1:null}get hypeChatIsSystemMessage(){const e=this._tags.get("pinned-chat-paid-is-system-message");return e?!!Number(e):null}};ChatMessage=__decorate([rtfm("chat","ChatMessage","id")],ChatMessage);function extractMessageId(i){return i instanceof ChatMessage?i.tags.get("id"):i}function splitOnSpaces(i,e){if(i.length<=e)return[i];i=i.trim();const s=[];let o=0,h=e;for(;o<i.length;){let _=i.lastIndexOf(" ",h);(_===-1||_<=o||i.length-o+1<=e)&&(_=o+e);const $=i.slice(o,_).trim();$.length&&s.push($),o=_+(i[_]===" "?1:0),h=o+e}return s}const validNames=/^[a-z0-9][a-z0-9_]{0,24}$/;function toUserName(i){const e=i.replace(/^#/,"").toLowerCase();if(!validNames.test(e))throw new Error(`"${e}" is not a valid user or channel name. It must be at most 25 characters long, can only include letters, numbers and underscores, and can not start with an underscore.`);return e}function toChannelName(i){return`#${toUserName(i)}`}var ChatClient_1;let ChatClient=ChatClient_1=class extends EventEmitter{constructor(e={}){var s,o,h,_,$;if(e.authProvider&&!e.authProvider.getAccessTokenForIntent)throw new InvalidTokenTypeError("You can not connect to chat using an AuthProvider that does not support intents.\nTo get an anonymous, read-only connection, please don't pass an `AuthProvider` at all.\nTo get a read-write connection, please provide an auth provider that provides user access tokens via intents, such as `RefreshingAuthProvider`.");super(),this._authVerified=!1,this._authRetryCount=0,this.onConnect=this.registerEvent(),this.onDisconnect=this.registerEvent(),this.onTimeout=this.registerEvent(),this.onBan=this.registerEvent(),this.onBitsBadgeUpgrade=this.registerEvent(),this.onChatClear=this.registerEvent(),this.onEmoteOnly=this.registerEvent(),this.onFollowersOnly=this.registerEvent(),this.onJoin=this.registerEvent(),this.onJoinFailure=this.registerEvent(),this.onPart=this.registerEvent(),this.onMessageRemove=this.registerEvent(),this.onUniqueChat=this.registerEvent(),this.onRaid=this.registerEvent(),this.onRaidCancel=this.registerEvent(),this.onRitual=this.registerEvent(),this.onSlow=this.registerEvent(),this.onSubsOnly=this.registerEvent(),this.onSub=this.registerEvent(),this.onResub=this.registerEvent(),this.onSubGift=this.registerEvent(),this.onCommunitySub=this.registerEvent(),this.onSubExtend=this.registerEvent(),this.onRewardGift=this.registerEvent(),this.onPrimePaidUpgrade=this.registerEvent(),this.onGiftPaidUpgrade=this.registerEvent(),this.onPrimeCommunityGift=this.registerEvent(),this.onStandardPayForward=this.registerEvent(),this.onCommunityPayForward=this.registerEvent(),this.onAnnouncement=this.registerEvent(),this.onWhisper=this.registerEvent(),this.onNoPermission=this.registerEvent(),this.onMessageRatelimit=this.registerEvent(),this.onAuthenticationSuccess=this.registerEvent(),this.onAuthenticationFailure=this.registerEvent(),this.onTokenFetchFailure=this.registerEvent(),this.onMessageFailed=this.registerEvent(),this.onMessage=this.registerEvent(),this.onAction=this.registerEvent(),this._onJoinResult=this.registerInternalEvent(),this._ircClient=new IrcClient({connection:{hostName:(s=e.hostName)!==null&&s!==void 0?s:!((o=e.webSocket)!==null&&o!==void 0)||o?"irc-ws.chat.twitch.tv":"irc.chat.twitch.tv",secure:(h=e.ssl)!==null&&h!==void 0?h:!0},credentials:{nick:"",password:async()=>await this._getAuthToken()},webSocket:(_=e.webSocket)!==null&&_!==void 0?_:!0,connectionOptions:e.connectionOptions,logger:{name:"twurple:chat:irc",...e.logger},nonConformingCommands:["004"],manuallyAcknowledgeJoins:!0,rejoinChannelsOnReconnect:e.rejoinChannelsOnReconnect}),this._ircClient.onDisconnect((et,tt)=>{this._messageRateLimiter.clear(),this._messageRateLimiter.pause(),this._joinRateLimiter.clear(),this._joinRateLimiter.pause(),this.emit(this.onDisconnect,et,tt)}),this._ircClient.registerMessageType(ChatMessage),this._chatLogger=createLogger({name:"twurple:chat:twitch",...e.logger}),this._authProvider=e.authProvider,this._useLegacyScopes=!!e.legacyScopes,this._readOnly=!!e.readOnly,this._authIntents=[...($=e.authIntents)!==null&&$!==void 0?$:[],"chat"];const j=async({type:et,text:tt,channel:nt,tags:rt})=>{et==="say"?this._ircClient.say(nt,tt,rt):this._ircClient.action(nt,tt)},_e=async et=>{const{promise:tt,resolve:nt,reject:rt}=promiseWithResolvers();let st;const lt=this.addInternalListener(this._onJoinResult,(ct,ut,ot)=>{ct===et&&(clearTimeout(st),ot?rt(ot):nt(),this.removeListener(lt))});st=setTimeout(()=>{this.removeListener(lt),this.emit(this._onJoinResult,et,void 0,"twurple_timeout"),rt(new Error(`Did not receive a reply to join ${et} in time; assuming that the join failed`))},1e4),this._ircClient.join(et),await tt};if(e.isAlwaysMod)this._messageRateLimiter=new TimeBasedRateLimiter({bucketSize:e.botLevel==="verified"?7500:100,timeFrame:32e3,doRequest:j});else{let et=20;e.botLevel==="verified"?et=7500:e.botLevel==="known"&&(et=50),this._messageRateLimiter=new TimedPassthruRateLimiter(new PartitionedTimeBasedRateLimiter({bucketSize:1,timeFrame:1200,logger:{minLevel:LogLevel.ERROR},doRequest:j,getPartitionKey:({channel:tt})=>tt}),{bucketSize:et,timeFrame:32e3})}this._joinRateLimiter=new TimeBasedRateLimiter({bucketSize:e.botLevel==="verified"?2e3:20,timeFrame:11e3,doRequest:_e}),this._messageRateLimiter.pause(),this._joinRateLimiter.pause(),this._ircClient.addCapability(TwitchTagsCapability),this._ircClient.addCapability(TwitchCommandsCapability),e.requestMembershipEvents&&this._ircClient.addCapability(TwitchMembershipCapability),this._ircClient.onConnect(()=>{this.emit(this.onConnect)}),this._ircClient.onRegister(async()=>{this._messageRateLimiter.resume(),this._joinRateLimiter.resume(),this._authVerified=!0,this._authRetryTimer=void 0,this._authRetryCount=0,this.emit(this.onAuthenticationSuccess);const et=await resolveConfigValue(e.channels);et&&await Promise.all(et.map(async tt=>{var nt;try{await this.join(tt)}catch(rt){this._chatLogger.warn(`Failed to join configured channel ${tt}; original message: ${(nt=rt==null?void 0:rt.message)!==null&&nt!==void 0?nt:rt}`)}}))}),this._ircClient.onPasswordError(et=>{this._chatLogger.error(`Error fetching a token for connecting to the server: ${et.message}`),this.emit(this.onTokenFetchFailure,et)}),this._ircClient.onPrivmsg((et,tt,nt,rt)=>{tt!=="jtv"&&this.emit(this.onMessage,toUserName(et),tt,nt,rt)}),this._ircClient.onAction((et,tt,nt,rt)=>{this.emit(this.onAction,toUserName(et),tt,nt,rt)}),this.addInternalListener(this._onJoinResult,(et,tt,nt)=>{nt?this.emit(this.onJoinFailure,toUserName(et),nt):this._ircClient.acknowledgeJoin(et)}),this._ircClient.onTypedMessage(ClearChat,et=>{const{channel:tt,user:nt,tags:rt}=et,st=toUserName(tt);if(nt){const lt=rt.get("ban-duration");lt===void 0?this.emit(this.onBan,st,nt,et):this.emit(this.onTimeout,st,nt,Number(lt),et)}else this.emit(this.onChatClear,st,et)}),this._ircClient.onTypedMessage(ClearMsg,et=>{const{channel:tt,targetMessageId:nt}=et;this.emit(this.onMessageRemove,toUserName(tt),nt,et)}),this._ircClient.onTypedMessage(ChannelJoin,({prefix:et,channel:tt})=>{this.emit(this.onJoin,toUserName(tt),et.nick)}),this._ircClient.onTypedMessage(ChannelPart,({prefix:et,channel:tt})=>{this.emit(this.onPart,toUserName(tt),et.nick)}),this._ircClient.onTypedMessage(RoomState,({channel:et,tags:tt})=>{let nt=!1;if(tt.has("subs-only")&&tt.has("slow")&&(this.emit(this._onJoinResult,et,tt),nt=!0),!nt){const rt=toUserName(et);if(tt.has("slow")){const st=Number(tt.get("slow"));st?this.emit(this.onSlow,rt,!0,st):this.emit(this.onSlow,rt,!1)}if(tt.has("followers-only")){const st=Number(tt.get("followers-only"));st===-1?this.emit(this.onFollowersOnly,rt,!1):this.emit(this.onFollowersOnly,rt,!0,st)}}}),this._ircClient.onTypedMessage(UserNotice,et=>{const{channel:tt,text:nt,tags:rt}=et,st=rt.get("msg-id"),lt=toUserName(tt);switch(st){case"sub":case"resub":{const ct=st==="sub"?this.onSub:this.onResub,ut=rt.get("msg-param-sub-plan"),ot=rt.get("msg-param-streak-months"),it={userId:rt.get("user-id"),displayName:rt.get("display-name"),plan:ut,planName:rt.get("msg-param-sub-plan-name"),isPrime:ut==="Prime",months:Number(rt.get("msg-param-cumulative-months")),streak:ot?Number(ot):void 0,message:nt};if(rt.get("msg-param-was-gifted")==="true"){const dt=rt.get("msg-param-anon-gift")==="true",ht=Number(rt.get("msg-param-gift-months")),yt=Number(rt.get("msg-param-gift-month-being-redeemed"));dt?it.originalGiftInfo={anonymous:!0,duration:ht,redeemedMonth:yt}:it.originalGiftInfo={anonymous:!1,duration:ht,redeemedMonth:yt,userId:rt.get("msg-param-gifter-id"),userName:rt.get("msg-param-gifter-login"),userDisplayName:rt.get("msg-param-gifter-name")}}this.emit(ct,lt,rt.get("login"),it,et);break}case"subgift":{const ct=rt.get("msg-param-sub-plan"),ut=rt.get("login"),ot=ut==="ananonymousgifter",it={userId:rt.get("msg-param-recipient-id"),displayName:rt.get("msg-param-recipient-display-name"),gifter:ot?void 0:ut,gifterUserId:ot?void 0:rt.get("user-id"),gifterDisplayName:ot?void 0:rt.get("display-name"),gifterGiftCount:ot?void 0:Number(rt.get("msg-param-sender-count")),giftDuration:Number(rt.get("msg-param-gift-months")),plan:ct,planName:rt.get("msg-param-sub-plan-name"),isPrime:ct==="Prime",months:Number(rt.get("msg-param-months"))};this.emit(this.onSubGift,lt,rt.get("msg-param-recipient-user-name"),it,et);break}case"submysterygift":{const ct=rt.get("login"),ut=ct==="ananonymousgifter",ot={gifter:ut?void 0:ct,gifterUserId:ut?void 0:rt.get("user-id"),gifterDisplayName:ut?void 0:rt.get("display-name"),gifterGiftCount:ut?void 0:Number(rt.get("msg-param-sender-count")),count:Number(rt.get("msg-param-mass-gift-count")),plan:rt.get("msg-param-sub-plan")};this.emit(this.onCommunitySub,lt,rt.get("login"),ot,et);break}case"primepaidupgrade":{const ct={userId:rt.get("user-id"),displayName:rt.get("display-name"),plan:rt.get("msg-param-sub-plan")};this.emit(this.onPrimePaidUpgrade,lt,rt.get("login"),ct,et);break}case"giftpaidupgrade":{const ct={userId:rt.get("user-id"),displayName:rt.get("display-name"),gifter:rt.get("msg-param-sender-login"),gifterDisplayName:rt.get("msg-param-sender-name")};this.emit(this.onGiftPaidUpgrade,lt,rt.get("login"),ct,et);break}case"standardpayforward":{const ct=rt.get("msg-param-prior-gifter-anonymous")==="true",ut={userId:rt.get("user-id"),displayName:rt.get("display-name"),originalGifterUserId:ct?void 0:rt.get("msg-param-prior-gifter-id"),originalGifterDisplayName:ct?void 0:rt.get("msg-param-prior-gifter-display-name"),recipientUserId:rt.get("msg-param-recipient-id"),recipientDisplayName:rt.get("msg-param-recipient-display-name")};this.emit(this.onStandardPayForward,lt,rt.get("login"),ut,et);break}case"communitypayforward":{const ct=rt.get("msg-param-prior-gifter-anonymous")==="true",ut={userId:rt.get("user-id"),displayName:rt.get("display-name"),originalGifterUserId:ct?void 0:rt.get("msg-param-prior-gifter-id"),originalGifterDisplayName:ct?void 0:rt.get("msg-param-prior-gifter-display-name")};this.emit(this.onCommunityPayForward,lt,rt.get("login"),ut,et);break}case"primecommunitygiftreceived":{const ct={name:rt.get("msg-param-gift-name"),gifter:rt.get("login"),gifterDisplayName:rt.get("display-name")};this.emit(this.onPrimeCommunityGift,lt,rt.get("msg-param-recipient"),ct,et);break}case"raid":{const ct={displayName:rt.get("msg-param-displayName"),viewerCount:Number(rt.get("msg-param-viewerCount"))};this.emit(this.onRaid,lt,rt.get("login"),ct,et);break}case"unraid":{this.emit(this.onRaidCancel,lt,et);break}case"ritual":{const ct={ritualName:rt.get("msg-param-ritual-name"),message:nt};this.emit(this.onRitual,lt,rt.get("login"),ct,et);break}case"bitsbadgetier":{const ct={displayName:rt.get("display-name"),threshold:Number(rt.get("msg-param-threshold"))};this.emit(this.onBitsBadgeUpgrade,lt,rt.get("login"),ct,et);break}case"extendsub":{const ct={userId:rt.get("user-id"),displayName:rt.get("display-name"),plan:rt.get("msg-param-sub-plan"),months:Number(rt.get("msg-param-cumulative-months")),endMonth:Number(rt.get("msg-param-sub-benefit-end-month"))};this.emit(this.onSubExtend,lt,rt.get("login"),ct,et);break}case"rewardgift":{const ct={domain:rt.get("msg-param-domain"),gifterId:rt.get("user-id"),gifterDisplayName:rt.get("display-name"),count:Number(rt.get("msg-param-selected-count")),gifterGiftCount:Number(rt.get("msg-param-total-reward-count")),triggerType:rt.get("msg-param-trigger-type")};this.emit(this.onRewardGift,lt,rt.get("login"),ct,et);break}case"announcement":{const ct={color:rt.get("msg-param-color")};this.emit(this.onAnnouncement,lt,rt.get("login"),ct,et);break}default:this._chatLogger.warn(`Unrecognized usernotice ID: ${st}`)}}),this._ircClient.onTypedMessage(Whisper,et=>{this.emit(this.onWhisper,et.prefix.nick,et.text,et)}),this._ircClient.onTypedMessage(Notice,async({target:et,text:tt,tags:nt})=>{const rt=nt.get("msg-id");switch(rt){case"emote_only_on":{this.emit(this.onEmoteOnly,toUserName(et),!0);break}case"emote_only_off":{this.emit(this.onEmoteOnly,toUserName(et),!1);break}case"msg_channel_suspended":case"msg_banned":{this.emit(this._onJoinResult,et,void 0,rt);break}case"r9k_on":{this.emit(this.onUniqueChat,toUserName(et),!0);break}case"r9k_off":{this.emit(this.onUniqueChat,toUserName(et),!1);break}case"subs_on":{this.emit(this.onSubsOnly,toUserName(et),!0);break}case"subs_off":{this.emit(this.onSubsOnly,toUserName(et),!1);break}case"cmds_available":break;case"followers_on":case"followers_on_zero":case"followers_off":case"slow_on":case"slow_off":break;case"timeout_success":break;case"unrecognized_cmd":break;case"no_permission":{this.emit(this.onNoPermission,toUserName(et),tt);break}case"msg_ratelimit":{this.emit(this.onMessageRatelimit,toUserName(et),tt);break}case"msg_duplicate":case"msg_emoteonly":case"msg_followersonly":case"msg_followersonly_followed":case"msg_followersonly_zero":case"msg_subsonly":case"msg_slowmode":case"msg_r9k":case"msg_verified_email":case"msg_timedout":case"msg_rejected_mandatory":case"msg_channel_blocked":{this.emit(this.onMessageFailed,toUserName(et),rt);break}case void 0:{if(tt==="Login authentication failed"||tt==="Improperly formatted AUTH"||tt==="Invalid NICK"){this._authVerified=!1,this._authRetryTimer||(this._authRetryTimer=fibWithLimit(120),this._authRetryCount=0);const st=this._authRetryTimer.next().value,lt=++this._authRetryCount;this.emit(this.onAuthenticationFailure,tt,lt),st!==0&&this._chatLogger.info(`Retrying authentication in ${st} seconds`),await delay(st*1e3),this._ircClient.reconnect()}break}default:rt.startsWith("usage_")||this._chatLogger.warn(`Unrecognized notice ID: '${rt}'`)}})}connect(){this._authProvider||this._ircClient.changeNick(ChatClient_1._generateJustinfanNick()),this._ircClient.connect()}get irc(){return this._ircClient}get isConnected(){return this._ircClient.isConnected}get isConnecting(){return this._ircClient.isConnecting}get currentChannels(){return this._ircClient.currentChannels}async say(e,s,o={},h){const _={};o.replyTo&&(_["reply-parent-msg-id"]=extractMessageId(o.replyTo));const $=splitOnSpaces(s,500);await Promise.all($.map(async j=>await this._messageRateLimiter.request({type:"say",channel:toChannelName(e),text:j,tags:_},h)))}async action(e,s,o){const h=splitOnSpaces(s,490);await Promise.all(h.map(async _=>await this._messageRateLimiter.request({type:"action",channel:toChannelName(e),text:_},o)))}async join(e){await this._joinRateLimiter.request(toChannelName(e))}part(e){this._ircClient.part(toChannelName(e))}quit(){this._ircClient.quitAbruptly()}reconnect(){this.quit(),this.connect()}async _getAuthToken(){var e,s;if(!this._authProvider){this._chatLogger.debug("No authProvider given; connecting anonymously");return}if(this._authToken&&!accessTokenIsExpired(this._authToken)&&this._authVerified)return this._chatLogger.debug("AccessToken assumed to be correct from last connection"),`oauth:${this._authToken.accessToken}`;const o=this._getNecessaryScopes();let h,_=!1;for(const $ of this._authIntents){try{if(this._authToken=await this._authProvider.getAccessTokenForIntent($,o),!this._authToken)continue;_=!0;const j=await getTokenInfo(this._authToken.accessToken);if(!j.userName)throw new InvalidTokenTypeError("Could not determine a user name for your token; you might be trying to disguise an app token as a user token.");return this._ircClient.changeNick(j.userName),`oauth:${this._authToken.accessToken}`}catch(j){j instanceof InvalidTokenError?h=j:this._chatLogger.error(`Retrieving an access token failed: ${j.message}`)}this._chatLogger.warn("No valid token available; trying to refresh");try{if(this._authToken=await((s=(e=this._authProvider).refreshAccessTokenForIntent)===null||s===void 0?void 0:s.call(e,"chat")),this._authToken){const j=await getTokenInfo(this._authToken.accessToken);if(!j.userName)throw new InvalidTokenTypeError("Could not determine a user name for your token; you might be trying to disguise an app token as a user token.");return this._ircClient.changeNick(j.userName),`oauth:${this._authToken.accessToken}`}}catch(j){j instanceof InvalidTokenError?h=j:this._chatLogger.error(`Refreshing the access token failed: ${j.message}`)}}throw this._authVerified=!1,h??new Error(_?"Could not retrieve a valid token":`None of the queried intents (${this._authIntents.join(", ")}) are known by the auth provider${this._authProvider instanceof RefreshingAuthProvider?".\nPlease add one of these to the user you want to connect with using the `addIntentToUser` method or the additional parameter to `addUser` or `addUserForToken`.":""}`)}_getNecessaryScopes(){return this._useLegacyScopes?["chat_login"]:this._readOnly?["chat:read"]:["chat:read","chat:edit"]}static _generateJustinfanNick(){return`justinfan${Math.floor(Math.random()*1e5).toString().padStart(5,"0")}`}};__decorate([Enumerable(!1)],ChatClient.prototype,"_authProvider",void 0);ChatClient=ChatClient_1=__decorate([rtfm("chat","ChatClient")],ChatClient);function buildEmoteImageUrl(i,e={}){const{animationSettings:s="default",backgroundType:o="dark",size:h="1.0"}=e;return`https://static-cdn.jtvnw.net/emoticons/v2/${i}/${s}/${o}/${h}`}function parseEmotePositions(i,e){return[...e.entries()].flatMap(([s,o])=>o.map(h=>{const[_,$]=h.split("-"),j=+_,_e=+$,et=utf8Substring(i,j,_e+1);return{type:"emote",position:j,length:_e-j+1,id:s,name:et}})).sort((s,o)=>s.position-o.position)}function findCheermotePositions(i,e){const s=[],o=new RegExp("(?<=^|\\s)([a-z]+(?:\\d+[a-z]+)*)(\\d+)(?=\\s|$)","gi");let h=null;for(;h=o.exec(i);){const _=h[1].toLowerCase();if(e.includes(_)){const $=Number(h[2]);s.push({type:"cheer",name:_,amount:$,position:utf8Length(i.slice(0,h.index)),length:h[0].length})}}return s}function fillTextPositions(i,e){const s=utf8Length(i);if(!e.length)return[{type:"text",position:0,length:s,text:i}];const o=[];let h=0;for(const _ of e)_.position>h&&o.push({type:"text",position:h,length:_.position-h,text:utf8Substring(i,h,_.position)}),o.push(_),h=_.position+_.length;return h<s&&o.push({type:"text",position:h,length:s-h,text:utf8Substring(i,h)}),o}function parseChatMessage(i,e,s){if(!i)return[];const o=parseEmotePositions(i,e);return s&&(o.push(...findCheermotePositions(i,s)),o.sort((h,_)=>h.position-_.position)),fillTextPositions(i,o)}const auth={twitch:{clientId:"xrjkdmui65qd33jdx8itfslt61qys8",scopes:["chat:read","channel:read:redemptions","moderator:read:followers"]},google:{clientId:"932208815805-oq2sevf3ida5idi4k84tlsh03nqc35cs.apps.googleusercontent.com",scopes:["https://www.googleapis.com/auth/youtube.readonly"]}};function bind(i,e){return function(){return i.apply(e,arguments)}}const{toString}=Object.prototype,{getPrototypeOf}=Object,kindOf=(i=>e=>{const s=toString.call(e);return i[s]||(i[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=i=>(i=i.toLowerCase(),e=>kindOf(e)===i),typeOfTest=i=>e=>typeof e===i,{isArray}=Array,isUndefined=typeOfTest("undefined");function isBuffer(i){return i!==null&&!isUndefined(i)&&i.constructor!==null&&!isUndefined(i.constructor)&&isFunction$1(i.constructor.isBuffer)&&i.constructor.isBuffer(i)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(i){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(i):e=i&&i.buffer&&isArrayBuffer(i.buffer),e}const isString=typeOfTest("string"),isFunction$1=typeOfTest("function"),isNumber=typeOfTest("number"),isObject=i=>i!==null&&typeof i=="object",isBoolean=i=>i===!0||i===!1,isPlainObject=i=>{if(kindOf(i)!=="object")return!1;const e=getPrototypeOf(i);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=i=>isObject(i)&&isFunction$1(i.pipe),isFormData=i=>{let e;return i&&(typeof FormData=="function"&&i instanceof FormData||isFunction$1(i.append)&&((e=kindOf(i))==="formdata"||e==="object"&&isFunction$1(i.toString)&&i.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),trim=i=>i.trim?i.trim():i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach(i,e,{allOwnKeys:s=!1}={}){if(i===null||typeof i>"u")return;let o,h;if(typeof i!="object"&&(i=[i]),isArray(i))for(o=0,h=i.length;o<h;o++)e.call(null,i[o],o,i);else{const _=s?Object.getOwnPropertyNames(i):Object.keys(i),$=_.length;let j;for(o=0;o<$;o++)j=_[o],e.call(null,i[j],j,i)}}function findKey(i,e){e=e.toLowerCase();const s=Object.keys(i);let o=s.length,h;for(;o-- >0;)if(h=s[o],e===h.toLowerCase())return h;return null}const _global=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),isContextDefined=i=>!isUndefined(i)&&i!==_global;function merge(){const{caseless:i}=isContextDefined(this)&&this||{},e={},s=(o,h)=>{const _=i&&findKey(e,h)||h;isPlainObject(e[_])&&isPlainObject(o)?e[_]=merge(e[_],o):isPlainObject(o)?e[_]=merge({},o):isArray(o)?e[_]=o.slice():e[_]=o};for(let o=0,h=arguments.length;o<h;o++)arguments[o]&&forEach(arguments[o],s);return e}const extend=(i,e,s,{allOwnKeys:o}={})=>(forEach(e,(h,_)=>{s&&isFunction$1(h)?i[_]=bind(h,s):i[_]=h},{allOwnKeys:o}),i),stripBOM=i=>(i.charCodeAt(0)===65279&&(i=i.slice(1)),i),inherits=(i,e,s,o)=>{i.prototype=Object.create(e.prototype,o),i.prototype.constructor=i,Object.defineProperty(i,"super",{value:e.prototype}),s&&Object.assign(i.prototype,s)},toFlatObject=(i,e,s,o)=>{let h,_,$;const j={};if(e=e||{},i==null)return e;do{for(h=Object.getOwnPropertyNames(i),_=h.length;_-- >0;)$=h[_],(!o||o($,i,e))&&!j[$]&&(e[$]=i[$],j[$]=!0);i=s!==!1&&getPrototypeOf(i)}while(i&&(!s||s(i,e))&&i!==Object.prototype);return e},endsWith=(i,e,s)=>{i=String(i),(s===void 0||s>i.length)&&(s=i.length),s-=e.length;const o=i.indexOf(e,s);return o!==-1&&o===s},toArray=i=>{if(!i)return null;if(isArray(i))return i;let e=i.length;if(!isNumber(e))return null;const s=new Array(e);for(;e-- >0;)s[e]=i[e];return s},isTypedArray=(i=>e=>i&&e instanceof i)(typeof Uint8Array<"u"&&getPrototypeOf(Uint8Array)),forEachEntry=(i,e)=>{const o=(i&&i[Symbol.iterator]).call(i);let h;for(;(h=o.next())&&!h.done;){const _=h.value;e.call(i,_[0],_[1])}},matchAll=(i,e)=>{let s;const o=[];for(;(s=i.exec(e))!==null;)o.push(s);return o},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=i=>i.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,o,h){return o.toUpperCase()+h}),hasOwnProperty=(({hasOwnProperty:i})=>(e,s)=>i.call(e,s))(Object.prototype),isRegExp=kindOfTest("RegExp"),reduceDescriptors=(i,e)=>{const s=Object.getOwnPropertyDescriptors(i),o={};forEach(s,(h,_)=>{let $;($=e(h,_,i))!==!1&&(o[_]=$||h)}),Object.defineProperties(i,o)},freezeMethods=i=>{reduceDescriptors(i,(e,s)=>{if(isFunction$1(i)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const o=i[s];if(isFunction$1(o)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},toObjectSet=(i,e)=>{const s={},o=h=>{h.forEach(_=>{s[_]=!0})};return isArray(i)?o(i):o(String(i).split(e)),s},noop=()=>{},toFiniteNumber=(i,e)=>(i=+i,Number.isFinite(i)?i:e),ALPHA="abcdefghijklmnopqrstuvwxyz",DIGIT="0123456789",ALPHABET={DIGIT,ALPHA,ALPHA_DIGIT:ALPHA+ALPHA.toUpperCase()+DIGIT},generateString=(i=16,e=ALPHABET.ALPHA_DIGIT)=>{let s="";const{length:o}=e;for(;i--;)s+=e[Math.random()*o|0];return s};function isSpecCompliantForm(i){return!!(i&&isFunction$1(i.append)&&i[Symbol.toStringTag]==="FormData"&&i[Symbol.iterator])}const toJSONObject=i=>{const e=new Array(10),s=(o,h)=>{if(isObject(o)){if(e.indexOf(o)>=0)return;if(!("toJSON"in o)){e[h]=o;const _=isArray(o)?[]:{};return forEach(o,($,j)=>{const _e=s($,h+1);!isUndefined(_e)&&(_[j]=_e)}),e[h]=void 0,_}}return o};return s(i,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable=i=>i&&(isObject(i)||isFunction$1(i))&&isFunction$1(i.then)&&isFunction$1(i.catch),utils={isArray,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString,isNumber,isBoolean,isObject,isPlainObject,isUndefined,isDate,isFile,isBlob,isRegExp,isFunction:isFunction$1,isStream,isURLSearchParams,isTypedArray,isFileList,forEach,merge,extend,trim,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray,forEachEntry,matchAll,isHTMLForm,hasOwnProperty,hasOwnProp:hasOwnProperty,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop,toFiniteNumber,findKey,global:_global,isContextDefined,ALPHABET,generateString,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable};function AxiosError(i,e,s,o,h){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=i,this.name="AxiosError",e&&(this.code=e),s&&(this.config=s),o&&(this.request=o),h&&(this.response=h)}utils.inherits(AxiosError,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const prototype$1=AxiosError.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(i=>{descriptors[i]={value:i}});Object.defineProperties(AxiosError,descriptors);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError.from=(i,e,s,o,h,_)=>{const $=Object.create(prototype$1);return utils.toFlatObject(i,$,function(_e){return _e!==Error.prototype},j=>j!=="isAxiosError"),AxiosError.call($,i.message,e,s,o,h),$.cause=i,$.name=i.name,_&&Object.assign($,_),$};const httpAdapter=null;function isVisitable(i){return utils.isPlainObject(i)||utils.isArray(i)}function removeBrackets(i){return utils.endsWith(i,"[]")?i.slice(0,-2):i}function renderKey(i,e,s){return i?i.concat(e).map(function(h,_){return h=removeBrackets(h),!s&&_?"["+h+"]":h}).join(s?".":""):e}function isFlatArray(i){return utils.isArray(i)&&!i.some(isVisitable)}const predicates=utils.toFlatObject(utils,{},null,function(e){return/^is[A-Z]/.test(e)});function toFormData(i,e,s){if(!utils.isObject(i))throw new TypeError("target must be an object");e=e||new FormData,s=utils.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(ct,ut){return!utils.isUndefined(ut[ct])});const o=s.metaTokens,h=s.visitor||tt,_=s.dots,$=s.indexes,_e=(s.Blob||typeof Blob<"u"&&Blob)&&utils.isSpecCompliantForm(e);if(!utils.isFunction(h))throw new TypeError("visitor must be a function");function et(lt){if(lt===null)return"";if(utils.isDate(lt))return lt.toISOString();if(!_e&&utils.isBlob(lt))throw new AxiosError("Blob is not supported. Use a Buffer instead.");return utils.isArrayBuffer(lt)||utils.isTypedArray(lt)?_e&&typeof Blob=="function"?new Blob([lt]):Buffer.from(lt):lt}function tt(lt,ct,ut){let ot=lt;if(lt&&!ut&&typeof lt=="object"){if(utils.endsWith(ct,"{}"))ct=o?ct:ct.slice(0,-2),lt=JSON.stringify(lt);else if(utils.isArray(lt)&&isFlatArray(lt)||(utils.isFileList(lt)||utils.endsWith(ct,"[]"))&&(ot=utils.toArray(lt)))return ct=removeBrackets(ct),ot.forEach(function(at,dt){!(utils.isUndefined(at)||at===null)&&e.append($===!0?renderKey([ct],dt,_):$===null?ct:ct+"[]",et(at))}),!1}return isVisitable(lt)?!0:(e.append(renderKey(ut,ct,_),et(lt)),!1)}const nt=[],rt=Object.assign(predicates,{defaultVisitor:tt,convertValue:et,isVisitable});function st(lt,ct){if(!utils.isUndefined(lt)){if(nt.indexOf(lt)!==-1)throw Error("Circular reference detected in "+ct.join("."));nt.push(lt),utils.forEach(lt,function(ot,it){(!(utils.isUndefined(ot)||ot===null)&&h.call(e,ot,utils.isString(it)?it.trim():it,ct,rt))===!0&&st(ot,ct?ct.concat(it):[it])}),nt.pop()}}if(!utils.isObject(i))throw new TypeError("data must be an object");return st(i),e}function encode$1(i){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(i).replace(/[!'()~]|%20|%00/g,function(o){return e[o]})}function AxiosURLSearchParams(i,e){this._pairs=[],i&&toFormData(i,this,e)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function(e,s){this._pairs.push([e,s])};prototype.toString=function(e){const s=e?function(o){return e.call(this,o,encode$1)}:encode$1;return this._pairs.map(function(h){return s(h[0])+"="+s(h[1])},"").join("&")};function encode(i){return encodeURIComponent(i).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(i,e,s){if(!e)return i;const o=s&&s.encode||encode,h=s&&s.serialize;let _;if(h?_=h(e,s):_=utils.isURLSearchParams(e)?e.toString():new AxiosURLSearchParams(e,s).toString(o),_){const $=i.indexOf("#");$!==-1&&(i=i.slice(0,$)),i+=(i.indexOf("?")===-1?"?":"&")+_}return i}class InterceptorManager{constructor(){this.handlers=[]}use(e,s,o){return this.handlers.push({fulfilled:e,rejected:s,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){utils.forEach(this.handlers,function(o){o!==null&&e(o)})}}const InterceptorManager$1=InterceptorManager,transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$1=typeof Blob<"u"?Blob:null,isStandardBrowserEnv=(()=>{let i;return typeof navigator<"u"&&((i=navigator.product)==="ReactNative"||i==="NativeScript"||i==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),isStandardBrowserWebWorkerEnv=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),platform={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},isStandardBrowserEnv,isStandardBrowserWebWorkerEnv,protocols:["http","https","file","blob","url","data"]};function toURLEncodedForm(i,e){return toFormData(i,new platform.classes.URLSearchParams,Object.assign({visitor:function(s,o,h,_){return platform.isNode&&utils.isBuffer(s)?(this.append(o,s.toString("base64")),!1):_.defaultVisitor.apply(this,arguments)}},e))}function parsePropPath(i){return utils.matchAll(/\w+|\[(\w*)]/g,i).map(e=>e[0]==="[]"?"":e[1]||e[0])}function arrayToObject(i){const e={},s=Object.keys(i);let o;const h=s.length;let _;for(o=0;o<h;o++)_=s[o],e[_]=i[_];return e}function formDataToJSON(i){function e(s,o,h,_){let $=s[_++];const j=Number.isFinite(+$),_e=_>=s.length;return $=!$&&utils.isArray(h)?h.length:$,_e?(utils.hasOwnProp(h,$)?h[$]=[h[$],o]:h[$]=o,!j):((!h[$]||!utils.isObject(h[$]))&&(h[$]=[]),e(s,o,h[$],_)&&utils.isArray(h[$])&&(h[$]=arrayToObject(h[$])),!j)}if(utils.isFormData(i)&&utils.isFunction(i.entries)){const s={};return utils.forEachEntry(i,(o,h)=>{e(parsePropPath(o),h,s,0)}),s}return null}function stringifySafely(i,e,s){if(utils.isString(i))try{return(e||JSON.parse)(i),utils.trim(i)}catch(o){if(o.name!=="SyntaxError")throw o}return(s||JSON.stringify)(i)}const defaults={transitional:transitionalDefaults,adapter:["xhr","http"],transformRequest:[function(e,s){const o=s.getContentType()||"",h=o.indexOf("application/json")>-1,_=utils.isObject(e);if(_&&utils.isHTMLForm(e)&&(e=new FormData(e)),utils.isFormData(e))return h&&h?JSON.stringify(formDataToJSON(e)):e;if(utils.isArrayBuffer(e)||utils.isBuffer(e)||utils.isStream(e)||utils.isFile(e)||utils.isBlob(e))return e;if(utils.isArrayBufferView(e))return e.buffer;if(utils.isURLSearchParams(e))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let j;if(_){if(o.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(e,this.formSerializer).toString();if((j=utils.isFileList(e))||o.indexOf("multipart/form-data")>-1){const _e=this.env&&this.env.FormData;return toFormData(j?{"files[]":e}:e,_e&&new _e,this.formSerializer)}}return _||h?(s.setContentType("application/json",!1),stringifySafely(e)):e}],transformResponse:[function(e){const s=this.transitional||defaults.transitional,o=s&&s.forcedJSONParsing,h=this.responseType==="json";if(e&&utils.isString(e)&&(o&&!this.responseType||h)){const $=!(s&&s.silentJSONParsing)&&h;try{return JSON.parse(e)}catch(j){if($)throw j.name==="SyntaxError"?AxiosError.from(j,AxiosError.ERR_BAD_RESPONSE,this,null,this.response):j}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils.forEach(["delete","get","head","post","put","patch"],i=>{defaults.headers[i]={}});const defaults$1=defaults,ignoreDuplicateOf=utils.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=i=>{const e={};let s,o,h;return i&&i.split(`
`).forEach(function($){h=$.indexOf(":"),s=$.substring(0,h).trim().toLowerCase(),o=$.substring(h+1).trim(),!(!s||e[s]&&ignoreDuplicateOf[s])&&(s==="set-cookie"?e[s]?e[s].push(o):e[s]=[o]:e[s]=e[s]?e[s]+", "+o:o)}),e},$internals=Symbol("internals");function normalizeHeader(i){return i&&String(i).trim().toLowerCase()}function normalizeValue(i){return i===!1||i==null?i:utils.isArray(i)?i.map(normalizeValue):String(i)}function parseTokens(i){const e=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=s.exec(i);)e[o[1]]=o[2];return e}const isValidHeaderName=i=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(i.trim());function matchHeaderValue(i,e,s,o,h){if(utils.isFunction(o))return o.call(this,e,s);if(h&&(e=s),!!utils.isString(e)){if(utils.isString(o))return e.indexOf(o)!==-1;if(utils.isRegExp(o))return o.test(e)}}function formatHeader(i){return i.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,s,o)=>s.toUpperCase()+o)}function buildAccessors(i,e){const s=utils.toCamelCase(" "+e);["get","set","has"].forEach(o=>{Object.defineProperty(i,o+s,{value:function(h,_,$){return this[o].call(this,e,h,_,$)},configurable:!0})})}class AxiosHeaders{constructor(e){e&&this.set(e)}set(e,s,o){const h=this;function _(j,_e,et){const tt=normalizeHeader(_e);if(!tt)throw new Error("header name must be a non-empty string");const nt=utils.findKey(h,tt);(!nt||h[nt]===void 0||et===!0||et===void 0&&h[nt]!==!1)&&(h[nt||_e]=normalizeValue(j))}const $=(j,_e)=>utils.forEach(j,(et,tt)=>_(et,tt,_e));return utils.isPlainObject(e)||e instanceof this.constructor?$(e,s):utils.isString(e)&&(e=e.trim())&&!isValidHeaderName(e)?$(parseHeaders(e),s):e!=null&&_(s,e,o),this}get(e,s){if(e=normalizeHeader(e),e){const o=utils.findKey(this,e);if(o){const h=this[o];if(!s)return h;if(s===!0)return parseTokens(h);if(utils.isFunction(s))return s.call(this,h,o);if(utils.isRegExp(s))return s.exec(h);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,s){if(e=normalizeHeader(e),e){const o=utils.findKey(this,e);return!!(o&&this[o]!==void 0&&(!s||matchHeaderValue(this,this[o],o,s)))}return!1}delete(e,s){const o=this;let h=!1;function _($){if($=normalizeHeader($),$){const j=utils.findKey(o,$);j&&(!s||matchHeaderValue(o,o[j],j,s))&&(delete o[j],h=!0)}}return utils.isArray(e)?e.forEach(_):_(e),h}clear(e){const s=Object.keys(this);let o=s.length,h=!1;for(;o--;){const _=s[o];(!e||matchHeaderValue(this,this[_],_,e,!0))&&(delete this[_],h=!0)}return h}normalize(e){const s=this,o={};return utils.forEach(this,(h,_)=>{const $=utils.findKey(o,_);if($){s[$]=normalizeValue(h),delete s[_];return}const j=e?formatHeader(_):String(_).trim();j!==_&&delete s[_],s[j]=normalizeValue(h),o[j]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const s=Object.create(null);return utils.forEach(this,(o,h)=>{o!=null&&o!==!1&&(s[h]=e&&utils.isArray(o)?o.join(", "):o)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,s])=>e+": "+s).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...s){const o=new this(e);return s.forEach(h=>o.set(h)),o}static accessor(e){const o=(this[$internals]=this[$internals]={accessors:{}}).accessors,h=this.prototype;function _($){const j=normalizeHeader($);o[j]||(buildAccessors(h,$),o[j]=!0)}return utils.isArray(e)?e.forEach(_):_(e),this}}AxiosHeaders.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils.reduceDescriptors(AxiosHeaders.prototype,({value:i},e)=>{let s=e[0].toUpperCase()+e.slice(1);return{get:()=>i,set(o){this[s]=o}}});utils.freezeMethods(AxiosHeaders);const AxiosHeaders$1=AxiosHeaders;function transformData(i,e){const s=this||defaults$1,o=e||s,h=AxiosHeaders$1.from(o.headers);let _=o.data;return utils.forEach(i,function(j){_=j.call(s,_,h.normalize(),e?e.status:void 0)}),h.normalize(),_}function isCancel(i){return!!(i&&i.__CANCEL__)}function CanceledError(i,e,s){AxiosError.call(this,i??"canceled",AxiosError.ERR_CANCELED,e,s),this.name="CanceledError"}utils.inherits(CanceledError,AxiosError,{__CANCEL__:!0});function settle(i,e,s){const o=s.config.validateStatus;!s.status||!o||o(s.status)?i(s):e(new AxiosError("Request failed with status code "+s.status,[AxiosError.ERR_BAD_REQUEST,AxiosError.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}const cookies=platform.isStandardBrowserEnv?function(){return{write:function(s,o,h,_,$,j){const _e=[];_e.push(s+"="+encodeURIComponent(o)),utils.isNumber(h)&&_e.push("expires="+new Date(h).toGMTString()),utils.isString(_)&&_e.push("path="+_),utils.isString($)&&_e.push("domain="+$),j===!0&&_e.push("secure"),document.cookie=_e.join("; ")},read:function(s){const o=document.cookie.match(new RegExp("(^|;\\s*)("+s+")=([^;]*)"));return o?decodeURIComponent(o[3]):null},remove:function(s){this.write(s,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function isAbsoluteURL(i){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(i)}function combineURLs(i,e){return e?i.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):i}function buildFullPath(i,e){return i&&!isAbsoluteURL(e)?combineURLs(i,e):e}const isURLSameOrigin=platform.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),s=document.createElement("a");let o;function h(_){let $=_;return e&&(s.setAttribute("href",$),$=s.href),s.setAttribute("href",$),{href:s.href,protocol:s.protocol?s.protocol.replace(/:$/,""):"",host:s.host,search:s.search?s.search.replace(/^\?/,""):"",hash:s.hash?s.hash.replace(/^#/,""):"",hostname:s.hostname,port:s.port,pathname:s.pathname.charAt(0)==="/"?s.pathname:"/"+s.pathname}}return o=h(window.location.href),function($){const j=utils.isString($)?h($):$;return j.protocol===o.protocol&&j.host===o.host}}():function(){return function(){return!0}}();function parseProtocol(i){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(i);return e&&e[1]||""}function speedometer(i,e){i=i||10;const s=new Array(i),o=new Array(i);let h=0,_=0,$;return e=e!==void 0?e:1e3,function(_e){const et=Date.now(),tt=o[_];$||($=et),s[h]=_e,o[h]=et;let nt=_,rt=0;for(;nt!==h;)rt+=s[nt++],nt=nt%i;if(h=(h+1)%i,h===_&&(_=(_+1)%i),et-$<e)return;const st=tt&&et-tt;return st?Math.round(rt*1e3/st):void 0}}function progressEventReducer(i,e){let s=0;const o=speedometer(50,250);return h=>{const _=h.loaded,$=h.lengthComputable?h.total:void 0,j=_-s,_e=o(j),et=_<=$;s=_;const tt={loaded:_,total:$,progress:$?_/$:void 0,bytes:j,rate:_e||void 0,estimated:_e&&$&&et?($-_)/_e:void 0,event:h};tt[e?"download":"upload"]=!0,i(tt)}}const isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function(i){return new Promise(function(s,o){let h=i.data;const _=AxiosHeaders$1.from(i.headers).normalize(),$=i.responseType;let j;function _e(){i.cancelToken&&i.cancelToken.unsubscribe(j),i.signal&&i.signal.removeEventListener("abort",j)}let et;utils.isFormData(h)&&(platform.isStandardBrowserEnv||platform.isStandardBrowserWebWorkerEnv?_.setContentType(!1):_.getContentType(/^\s*multipart\/form-data/)?utils.isString(et=_.getContentType())&&_.setContentType(et.replace(/^\s*(multipart\/form-data);+/,"$1")):_.setContentType("multipart/form-data"));let tt=new XMLHttpRequest;if(i.auth){const lt=i.auth.username||"",ct=i.auth.password?unescape(encodeURIComponent(i.auth.password)):"";_.set("Authorization","Basic "+btoa(lt+":"+ct))}const nt=buildFullPath(i.baseURL,i.url);tt.open(i.method.toUpperCase(),buildURL(nt,i.params,i.paramsSerializer),!0),tt.timeout=i.timeout;function rt(){if(!tt)return;const lt=AxiosHeaders$1.from("getAllResponseHeaders"in tt&&tt.getAllResponseHeaders()),ut={data:!$||$==="text"||$==="json"?tt.responseText:tt.response,status:tt.status,statusText:tt.statusText,headers:lt,config:i,request:tt};settle(function(it){s(it),_e()},function(it){o(it),_e()},ut),tt=null}if("onloadend"in tt?tt.onloadend=rt:tt.onreadystatechange=function(){!tt||tt.readyState!==4||tt.status===0&&!(tt.responseURL&&tt.responseURL.indexOf("file:")===0)||setTimeout(rt)},tt.onabort=function(){tt&&(o(new AxiosError("Request aborted",AxiosError.ECONNABORTED,i,tt)),tt=null)},tt.onerror=function(){o(new AxiosError("Network Error",AxiosError.ERR_NETWORK,i,tt)),tt=null},tt.ontimeout=function(){let ct=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const ut=i.transitional||transitionalDefaults;i.timeoutErrorMessage&&(ct=i.timeoutErrorMessage),o(new AxiosError(ct,ut.clarifyTimeoutError?AxiosError.ETIMEDOUT:AxiosError.ECONNABORTED,i,tt)),tt=null},platform.isStandardBrowserEnv){const lt=(i.withCredentials||isURLSameOrigin(nt))&&i.xsrfCookieName&&cookies.read(i.xsrfCookieName);lt&&_.set(i.xsrfHeaderName,lt)}h===void 0&&_.setContentType(null),"setRequestHeader"in tt&&utils.forEach(_.toJSON(),function(ct,ut){tt.setRequestHeader(ut,ct)}),utils.isUndefined(i.withCredentials)||(tt.withCredentials=!!i.withCredentials),$&&$!=="json"&&(tt.responseType=i.responseType),typeof i.onDownloadProgress=="function"&&tt.addEventListener("progress",progressEventReducer(i.onDownloadProgress,!0)),typeof i.onUploadProgress=="function"&&tt.upload&&tt.upload.addEventListener("progress",progressEventReducer(i.onUploadProgress)),(i.cancelToken||i.signal)&&(j=lt=>{tt&&(o(!lt||lt.type?new CanceledError(null,i,tt):lt),tt.abort(),tt=null)},i.cancelToken&&i.cancelToken.subscribe(j),i.signal&&(i.signal.aborted?j():i.signal.addEventListener("abort",j)));const st=parseProtocol(nt);if(st&&platform.protocols.indexOf(st)===-1){o(new AxiosError("Unsupported protocol "+st+":",AxiosError.ERR_BAD_REQUEST,i));return}tt.send(h||null)})},knownAdapters={http:httpAdapter,xhr:xhrAdapter};utils.forEach(knownAdapters,(i,e)=>{if(i){try{Object.defineProperty(i,"name",{value:e})}catch{}Object.defineProperty(i,"adapterName",{value:e})}});const renderReason=i=>`- ${i}`,isResolvedHandle=i=>utils.isFunction(i)||i===null||i===!1,adapters={getAdapter:i=>{i=utils.isArray(i)?i:[i];const{length:e}=i;let s,o;const h={};for(let _=0;_<e;_++){s=i[_];let $;if(o=s,!isResolvedHandle(s)&&(o=knownAdapters[($=String(s)).toLowerCase()],o===void 0))throw new AxiosError(`Unknown adapter '${$}'`);if(o)break;h[$||"#"+_]=o}if(!o){const _=Object.entries(h).map(([j,_e])=>`adapter ${j} `+(_e===!1?"is not supported by the environment":"is not available in the build"));let $=e?_.length>1?`since :
`+_.map(renderReason).join(`
`):" "+renderReason(_[0]):"as no adapter specified";throw new AxiosError("There is no suitable adapter to dispatch the request "+$,"ERR_NOT_SUPPORT")}return o},adapters:knownAdapters};function throwIfCancellationRequested(i){if(i.cancelToken&&i.cancelToken.throwIfRequested(),i.signal&&i.signal.aborted)throw new CanceledError(null,i)}function dispatchRequest(i){return throwIfCancellationRequested(i),i.headers=AxiosHeaders$1.from(i.headers),i.data=transformData.call(i,i.transformRequest),["post","put","patch"].indexOf(i.method)!==-1&&i.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(i.adapter||defaults$1.adapter)(i).then(function(o){return throwIfCancellationRequested(i),o.data=transformData.call(i,i.transformResponse,o),o.headers=AxiosHeaders$1.from(o.headers),o},function(o){return isCancel(o)||(throwIfCancellationRequested(i),o&&o.response&&(o.response.data=transformData.call(i,i.transformResponse,o.response),o.response.headers=AxiosHeaders$1.from(o.response.headers))),Promise.reject(o)})}const headersToObject=i=>i instanceof AxiosHeaders$1?i.toJSON():i;function mergeConfig(i,e){e=e||{};const s={};function o(et,tt,nt){return utils.isPlainObject(et)&&utils.isPlainObject(tt)?utils.merge.call({caseless:nt},et,tt):utils.isPlainObject(tt)?utils.merge({},tt):utils.isArray(tt)?tt.slice():tt}function h(et,tt,nt){if(utils.isUndefined(tt)){if(!utils.isUndefined(et))return o(void 0,et,nt)}else return o(et,tt,nt)}function _(et,tt){if(!utils.isUndefined(tt))return o(void 0,tt)}function $(et,tt){if(utils.isUndefined(tt)){if(!utils.isUndefined(et))return o(void 0,et)}else return o(void 0,tt)}function j(et,tt,nt){if(nt in e)return o(et,tt);if(nt in i)return o(void 0,et)}const _e={url:_,method:_,data:_,baseURL:$,transformRequest:$,transformResponse:$,paramsSerializer:$,timeout:$,timeoutMessage:$,withCredentials:$,adapter:$,responseType:$,xsrfCookieName:$,xsrfHeaderName:$,onUploadProgress:$,onDownloadProgress:$,decompress:$,maxContentLength:$,maxBodyLength:$,beforeRedirect:$,transport:$,httpAgent:$,httpsAgent:$,cancelToken:$,socketPath:$,responseEncoding:$,validateStatus:j,headers:(et,tt)=>h(headersToObject(et),headersToObject(tt),!0)};return utils.forEach(Object.keys(Object.assign({},i,e)),function(tt){const nt=_e[tt]||h,rt=nt(i[tt],e[tt],tt);utils.isUndefined(rt)&&nt!==j||(s[tt]=rt)}),s}const VERSION="1.5.1",validators$1={};["object","boolean","number","function","string","symbol"].forEach((i,e)=>{validators$1[i]=function(o){return typeof o===i||"a"+(e<1?"n ":" ")+i}});const deprecatedWarnings={};validators$1.transitional=function(e,s,o){function h(_,$){return"[Axios v"+VERSION+"] Transitional option '"+_+"'"+$+(o?". "+o:"")}return(_,$,j)=>{if(e===!1)throw new AxiosError(h($," has been removed"+(s?" in "+s:"")),AxiosError.ERR_DEPRECATED);return s&&!deprecatedWarnings[$]&&(deprecatedWarnings[$]=!0,console.warn(h($," has been deprecated since v"+s+" and will be removed in the near future"))),e?e(_,$,j):!0}};function assertOptions(i,e,s){if(typeof i!="object")throw new AxiosError("options must be an object",AxiosError.ERR_BAD_OPTION_VALUE);const o=Object.keys(i);let h=o.length;for(;h-- >0;){const _=o[h],$=e[_];if($){const j=i[_],_e=j===void 0||$(j,_,i);if(_e!==!0)throw new AxiosError("option "+_+" must be "+_e,AxiosError.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new AxiosError("Unknown option "+_,AxiosError.ERR_BAD_OPTION)}}const validator={assertOptions,validators:validators$1},validators=validator.validators;class Axios{constructor(e){this.defaults=e,this.interceptors={request:new InterceptorManager$1,response:new InterceptorManager$1}}request(e,s){typeof e=="string"?(s=s||{},s.url=e):s=e||{},s=mergeConfig(this.defaults,s);const{transitional:o,paramsSerializer:h,headers:_}=s;o!==void 0&&validator.assertOptions(o,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),h!=null&&(utils.isFunction(h)?s.paramsSerializer={serialize:h}:validator.assertOptions(h,{encode:validators.function,serialize:validators.function},!0)),s.method=(s.method||this.defaults.method||"get").toLowerCase();let $=_&&utils.merge(_.common,_[s.method]);_&&utils.forEach(["delete","get","head","post","put","patch","common"],lt=>{delete _[lt]}),s.headers=AxiosHeaders$1.concat($,_);const j=[];let _e=!0;this.interceptors.request.forEach(function(ct){typeof ct.runWhen=="function"&&ct.runWhen(s)===!1||(_e=_e&&ct.synchronous,j.unshift(ct.fulfilled,ct.rejected))});const et=[];this.interceptors.response.forEach(function(ct){et.push(ct.fulfilled,ct.rejected)});let tt,nt=0,rt;if(!_e){const lt=[dispatchRequest.bind(this),void 0];for(lt.unshift.apply(lt,j),lt.push.apply(lt,et),rt=lt.length,tt=Promise.resolve(s);nt<rt;)tt=tt.then(lt[nt++],lt[nt++]);return tt}rt=j.length;let st=s;for(nt=0;nt<rt;){const lt=j[nt++],ct=j[nt++];try{st=lt(st)}catch(ut){ct.call(this,ut);break}}try{tt=dispatchRequest.call(this,st)}catch(lt){return Promise.reject(lt)}for(nt=0,rt=et.length;nt<rt;)tt=tt.then(et[nt++],et[nt++]);return tt}getUri(e){e=mergeConfig(this.defaults,e);const s=buildFullPath(e.baseURL,e.url);return buildURL(s,e.params,e.paramsSerializer)}}utils.forEach(["delete","get","head","options"],function(e){Axios.prototype[e]=function(s,o){return this.request(mergeConfig(o||{},{method:e,url:s,data:(o||{}).data}))}});utils.forEach(["post","put","patch"],function(e){function s(o){return function(_,$,j){return this.request(mergeConfig(j||{},{method:e,headers:o?{"Content-Type":"multipart/form-data"}:{},url:_,data:$}))}}Axios.prototype[e]=s(),Axios.prototype[e+"Form"]=s(!0)});const Axios$1=Axios;class CancelToken{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(_){s=_});const o=this;this.promise.then(h=>{if(!o._listeners)return;let _=o._listeners.length;for(;_-- >0;)o._listeners[_](h);o._listeners=null}),this.promise.then=h=>{let _;const $=new Promise(j=>{o.subscribe(j),_=j}).then(h);return $.cancel=function(){o.unsubscribe(_)},$},e(function(_,$,j){o.reason||(o.reason=new CanceledError(_,$,j),s(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const s=this._listeners.indexOf(e);s!==-1&&this._listeners.splice(s,1)}static source(){let e;return{token:new CancelToken(function(h){e=h}),cancel:e}}}const CancelToken$1=CancelToken;function spread(i){return function(s){return i.apply(null,s)}}function isAxiosError(i){return utils.isObject(i)&&i.isAxiosError===!0}const HttpStatusCode={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode).forEach(([i,e])=>{HttpStatusCode[e]=i});const HttpStatusCode$1=HttpStatusCode;function createInstance(i){const e=new Axios$1(i),s=bind(Axios$1.prototype.request,e);return utils.extend(s,Axios$1.prototype,e,{allOwnKeys:!0}),utils.extend(s,e,null,{allOwnKeys:!0}),s.create=function(h){return createInstance(mergeConfig(i,h))},s}const axios=createInstance(defaults$1);axios.Axios=Axios$1;axios.CanceledError=CanceledError;axios.CancelToken=CancelToken$1;axios.isCancel=isCancel;axios.VERSION=VERSION;axios.toFormData=toFormData;axios.AxiosError=AxiosError;axios.Cancel=axios.CanceledError;axios.all=function(e){return Promise.all(e)};axios.spread=spread;axios.isAxiosError=isAxiosError;axios.mergeConfig=mergeConfig;axios.AxiosHeaders=AxiosHeaders$1;axios.formToJSON=i=>formDataToJSON(utils.isHTMLForm(i)?new FormData(i):i);axios.getAdapter=adapters.getAdapter;axios.HttpStatusCode=HttpStatusCode$1;axios.default=axios;const axios$1=axios,slime2Api=axios$1.create({baseURL:"https://slime2.stream/api"});function useAccessToken(i){const{keys:e,platforms:s}=useClient(),o=e[i],[h,_]=reactExports.useState(!1),$=i==="google"?"youtube":i,j=s.includes($);return reactExports.useEffect(()=>{function _e(){_(!0)}return addEventListener("slime2:ready",_e),()=>{removeEventListener("slime2:ready",_e)}},[]),useQuery({enabled:h,queryKey:[i,j,"accessToken",o],queryFn:async()=>{if(!j)throw Error("Not an actual error");return getAccessToken(i,o)},...infiniteCache})}async function getAccessToken(i,e){if(!e)throw new KeyNotFoundError(`Key not found for platform ${i}`);return slime2Api.get(`/auth/${i}/token`,{headers:{Authorization:`Bearer ${e}`}}).then(s=>s.data.token).catch(s=>{const o=`Invalid key for platform ${i}, download a new one from https://slime2.stream/account`;throw console.error(o,s),new KeyInvalidError(`Invalid key for platform ${i}, download a new one from https://slime2.stream/account`,{cause:s})})}class KeyNotFoundError extends Error{constructor(e,s){super(e,s),this.name="KeyNotFoundError"}}class KeyInvalidError extends Error{constructor(e,s){super(e,s),this.name="KeyInvalidError"}}class ConfigError extends CustomError{}class HelixRateLimiter extends ResponseBasedRateLimiter{async doRequest({options:e,clientId:s,accessToken:o,authorizationType:h,fetchOptions:_}){return await callTwitchApiRaw(e,s,o,h,_)}needsToRetryAfter(e){return e.status===429&&(!e.headers.has("ratelimit-remaining")||Number(e.headers.get("ratelimit-remaining"))===0)?+e.headers.get("ratelimit-reset")*1e3-Date.now():null}getParametersFromResponse(e){const{headers:s}=e;return{limit:+s.get("ratelimit-limit"),remaining:+s.get("ratelimit-remaining"),resetsAt:+s.get("ratelimit-reset")*1e3}}}var retry$1={};function RetryOperation(i,e){typeof e=="boolean"&&(e={forever:e}),this._originalTimeouts=JSON.parse(JSON.stringify(i)),this._timeouts=i,this._options=e||{},this._maxRetryTime=e&&e.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}var retry_operation=RetryOperation;RetryOperation.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)};RetryOperation.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null};RetryOperation.prototype.retry=function(i){if(this._timeout&&clearTimeout(this._timeout),!i)return!1;var e=new Date().getTime();if(i&&e-this._operationStart>=this._maxRetryTime)return this._errors.push(i),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(i);var s=this._timeouts.shift();if(s===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),s=this._cachedTimeouts.slice(-1);else return!1;var o=this;return this._timer=setTimeout(function(){o._attempts++,o._operationTimeoutCb&&(o._timeout=setTimeout(function(){o._operationTimeoutCb(o._attempts)},o._operationTimeout),o._options.unref&&o._timeout.unref()),o._fn(o._attempts)},s),this._options.unref&&this._timer.unref(),!0};RetryOperation.prototype.attempt=function(i,e){this._fn=i,e&&(e.timeout&&(this._operationTimeout=e.timeout),e.cb&&(this._operationTimeoutCb=e.cb));var s=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){s._operationTimeoutCb()},s._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)};RetryOperation.prototype.try=function(i){console.log("Using RetryOperation.try() is deprecated"),this.attempt(i)};RetryOperation.prototype.start=function(i){console.log("Using RetryOperation.start() is deprecated"),this.attempt(i)};RetryOperation.prototype.start=RetryOperation.prototype.try;RetryOperation.prototype.errors=function(){return this._errors};RetryOperation.prototype.attempts=function(){return this._attempts};RetryOperation.prototype.mainError=function(){if(this._errors.length===0)return null;for(var i={},e=null,s=0,o=0;o<this._errors.length;o++){var h=this._errors[o],_=h.message,$=(i[_]||0)+1;i[_]=$,$>=s&&(e=h,s=$)}return e};(function(i){var e=retry_operation;i.operation=function(s){var o=i.timeouts(s);return new e(o,{forever:s&&(s.forever||s.retries===1/0),unref:s&&s.unref,maxRetryTime:s&&s.maxRetryTime})},i.timeouts=function(s){if(s instanceof Array)return[].concat(s);var o={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var h in s)o[h]=s[h];if(o.minTimeout>o.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var _=[],$=0;$<o.retries;$++)_.push(this.createTimeout($,o));return s&&s.forever&&!_.length&&_.push(this.createTimeout($,o)),_.sort(function(j,_e){return j-_e}),_},i.createTimeout=function(s,o){var h=o.randomize?Math.random()+1:1,_=Math.round(h*Math.max(o.minTimeout,1)*Math.pow(o.factor,s));return _=Math.min(_,o.maxTimeout),_},i.wrap=function(s,o,h){if(o instanceof Array&&(h=o,o=null),!h){h=[];for(var _ in s)typeof s[_]=="function"&&h.push(_)}for(var $=0;$<h.length;$++){var j=h[$],_e=s[j];s[j]=(function(tt){var nt=i.operation(o),rt=Array.prototype.slice.call(arguments,1),st=rt.pop();rt.push(function(lt){nt.retry(lt)||(lt&&(arguments[0]=nt.mainError()),st.apply(this,arguments))}),nt.attempt(function(){tt.apply(s,rt)})}).bind(s,_e),s[j].options=o}}})(retry$1);var retry=retry$1;function createBitsLeaderboardQuery(i={}){const{count:e=10,period:s="all",startDate:o,contextUserId:h}=i;return{count:e.toString(),period:s,started_at:o==null?void 0:o.toISOString(),user_id:h}}class BaseApi{constructor(e){this._client=e}_getUserContextIdWithDefault(e){var s;return(s=this._client._getUserIdFromRequestContext(e))!==null&&s!==void 0?s:e}}__decorate([Enumerable(!1)],BaseApi.prototype,"_client",void 0);let HelixBitsLeaderboardEntry=class extends DataObject{constructor(e,s){super(e),this._client=s}get userId(){return this[rawDataSymbol].user_id}get userName(){return this[rawDataSymbol].user_login}get userDisplayName(){return this[rawDataSymbol].user_name}get rank(){return this[rawDataSymbol].rank}get amount(){return this[rawDataSymbol].score}async getUser(){return checkRelationAssertion(await this._client.users.getUserById(this[rawDataSymbol].user_id))}};__decorate([Enumerable(!1)],HelixBitsLeaderboardEntry.prototype,"_client",void 0);HelixBitsLeaderboardEntry=__decorate([rtfm("api","HelixBitsLeaderboardEntry","userId")],HelixBitsLeaderboardEntry);let HelixBitsLeaderboard=class extends DataObject{constructor(e,s){super(e),this._client=s}get entries(){return this[rawDataSymbol].data.map(e=>new HelixBitsLeaderboardEntry(e,this._client))}get totalCount(){return this[rawDataSymbol].total}};__decorate([Enumerable(!1)],HelixBitsLeaderboard.prototype,"_client",void 0);__decorate([CachedGetter()],HelixBitsLeaderboard.prototype,"entries",null);HelixBitsLeaderboard=__decorate([Cacheable,rtfm("api","HelixBitsLeaderboard")],HelixBitsLeaderboard);let HelixCheermoteList=class extends DataObject{constructor(e){super(indexBy(e,s=>s.prefix.toLowerCase()))}getCheermoteDisplayInfo(e,s,o){e=e.toLowerCase();const{background:h,state:_,scale:$}=o,{tiers:j}=this[rawDataSymbol][e],_e=j.sort((et,tt)=>tt.min_bits-et.min_bits).find(et=>et.min_bits<=s);if(!_e)throw new HellFreezesOverError(`Cheermote "${e}" does not have an applicable tier for ${s} bits`);return{url:_e.images[h][_][$],color:_e.color}}getPossibleNames(){return Object.keys(this[rawDataSymbol])}};HelixCheermoteList=__decorate([rtfm("api","HelixCheermoteList")],HelixCheermoteList);let HelixBitsApi=class extends BaseApi{async getLeaderboard(e,s={}){const o=await this._client.callApi({type:"helix",url:"bits/leaderboard",userId:extractUserId(e),scopes:["bits:read"],query:createBitsLeaderboardQuery(s)});return new HelixBitsLeaderboard(o,this._client)}async getCheermotes(e){const s=await this._client.callApi({type:"helix",url:"bits/cheermotes",userId:mapOptional(e,extractUserId),query:mapOptional(e,createBroadcasterQuery)});return new HelixCheermoteList(s.data)}};HelixBitsApi=__decorate([rtfm("api","HelixBitsApi")],HelixBitsApi);function createChannelUpdateBody(i){var e;return{game_id:i.gameId,broadcaster_language:i.language,title:i.title,delay:(e=i.delay)===null||e===void 0?void 0:e.toString(),tags:i.tags,content_classification_labels:i.contentClassificationLabels,is_branded_content:i.isBrandedContent}}function createChannelCommercialBody(i,e){return{broadcaster_id:extractUserId(i),length:e}}function createChannelVipUpdateQuery(i,e){return{broadcaster_id:extractUserId(i),user_id:extractUserId(e)}}function createChannelFollowerQuery(i,e){return{broadcaster_id:extractUserId(i),user_id:mapOptional(e,extractUserId)}}function createFollowedChannelQuery(i,e){return{broadcaster_id:mapOptional(e,extractUserId),user_id:extractUserId(i)}}function createSingleKeyQuery(i,e){return{[i]:e}}function createUserQuery(i){return{user_id:extractUserId(i)}}function createModeratorActionQuery(i,e){return{broadcaster_id:i,moderator_id:e}}function createGetByIdsQuery(i,e){return{broadcaster_id:extractUserId(i),id:e}}function createChannelUsersCheckQuery(i,e){return{broadcaster_id:extractUserId(i),user_id:e.map(extractUserId)}}let HelixUserRelation=class extends DataObject{constructor(e,s){super(e),this._client=s}get id(){return this[rawDataSymbol].user_id}get name(){return this[rawDataSymbol].user_login}get displayName(){return this[rawDataSymbol].user_name}async getUser(){return checkRelationAssertion(await this._client.users.getUserById(this[rawDataSymbol].user_id))}};__decorate([Enumerable(!1)],HelixUserRelation.prototype,"_client",void 0);HelixUserRelation=__decorate([rtfm("api","HelixUserRelation","id")],HelixUserRelation);class HelixRequestBatcher{constructor(e,s,o,h,_,$=100){this._callOptions=e,this._queryParamName=s,this._matchKey=o,this._mapper=_,this._limitPerRequest=$,this._requestedIds=[],this._requestResolversById=new Map,this._waitTimer=null,this._client=h,this._delay=h._batchDelay}async request(e){const{promise:s,resolve:o,reject:h}=promiseWithResolvers();return this._requestedIds.includes(e)||this._requestedIds.push(e),this._requestResolversById.has(e)?this._requestResolversById.get(e).push({resolve:o,reject:h}):this._requestResolversById.set(e,[{resolve:o,reject:h}]),this._waitTimer&&(clearTimeout(this._waitTimer),this._waitTimer=null),this._requestedIds.length>=this._limitPerRequest?this._handleBatch(this._requestedIds.splice(0,this._limitPerRequest)):this._waitTimer=setTimeout(()=>{this._handleBatch(this._requestedIds.splice(0,this._limitPerRequest))},this._delay),await s}async _handleBatch(e){var s;try{const{data:o}=await this._doRequest(e),h=indexBy(o,this._matchKey);for(const _ of e){for(const $ of(s=this._requestResolversById.get(_))!==null&&s!==void 0?s:[])Object.prototype.hasOwnProperty.call(h,_)?$.resolve(this._mapper(h[_])):$.resolve(null);this._requestResolversById.delete(_)}}catch{await Promise.all(e.map(async h=>{var _,$;try{const j=await this._doRequest([h]);for(const _e of(_=this._requestResolversById.get(h))!==null&&_!==void 0?_:[])_e.resolve(j.data.length?this._mapper(j.data[0]):null)}catch(j){for(const _e of($=this._requestResolversById.get(h))!==null&&$!==void 0?$:[])_e.reject(j)}this._requestResolversById.delete(h)}))}}async _doRequest(e){return await this._client.callApi({type:"helix",...this._callOptions,query:{...this._callOptions.query,[this._queryParamName]:e}})}}__decorate([Enumerable(!1)],HelixRequestBatcher.prototype,"_client",void 0);var _a;Object.prototype.hasOwnProperty.call(Symbol,"asyncIterator")||(Symbol.asyncIterator=(_a=Symbol.asyncIterator)!==null&&_a!==void 0?_a:Symbol.for("Symbol.asyncIterator"));let HelixPaginatedRequest=class{constructor(e,s,o,h=100){this._callOptions=e,this._mapper=o,this._limitPerPage=h,this._isFinished=!1,this._client=s}get current(){var e;return(e=this._currentData)===null||e===void 0?void 0:e.data}async getNext(){var e;if(this._isFinished)return[];const s=await this._fetchData();return!((e=s.data)===null||e===void 0)&&e.length?this._processResult(s):(this._isFinished=!0,[])}async getAll(){this.reset();const e=[];do{const s=await this.getNext();if(!s.length)break;e.push(...s)}while(this._currentCursor);return this.reset(),e}get currentCursor(){return this._currentCursor}reset(){this._currentCursor=void 0,this._isFinished=!1,this._currentData=void 0}async*[Symbol.asyncIterator](){for(this.reset();;){const e=await this.getNext();if(!e.length)break;yield*e[Symbol.iterator]()}}async _fetchData(e={}){return await this._client.callApi({type:"helix",...this._callOptions,...e,query:{...this._callOptions.query,after:this._currentCursor,first:this._limitPerPage.toString(),...e.query}})}_processResult(e){return this._currentCursor=e.pagination?e.pagination.cursor:void 0,this._currentCursor===void 0&&(this._isFinished=!0),this._currentData=e,e.data.reduce((s,o)=>{const h=this._mapper(o);return Array.isArray(h)?[...s,...h]:[...s,h]},[])}};__decorate([Enumerable(!1)],HelixPaginatedRequest.prototype,"_client",void 0);HelixPaginatedRequest=__decorate([rtfm("api","HelixPaginatedRequest")],HelixPaginatedRequest);let HelixPaginatedRequestWithTotal=class extends HelixPaginatedRequest{async getTotalCount(){var e;return((e=this._currentData)!==null&&e!==void 0?e:await this._fetchData({query:{after:void 0}})).total}};HelixPaginatedRequestWithTotal=__decorate([rtfm("api","HelixPaginatedRequestWithTotal")],HelixPaginatedRequestWithTotal);function createPaginatedResult(i,e,s){var o;let h;return{get data(){var _,$;return h??(h=($=(_=i.data)===null||_===void 0?void 0:_.map(j=>new e(j,s)))!==null&&$!==void 0?$:[])},cursor:(o=i.pagination)===null||o===void 0?void 0:o.cursor}}function createPaginatedResultWithTotal(i,e,s){let o;return{get data(){var h,_;return o??(o=(_=(h=i.data)===null||h===void 0?void 0:h.map($=>new e($,s)))!==null&&_!==void 0?_:[])},cursor:i.pagination.cursor,total:i.total}}function createPaginationQuery({after:i,before:e,limit:s}={}){return{after:i,before:e,first:s==null?void 0:s.toString()}}let HelixChannel=class extends DataObject{constructor(e,s){super(e),this._client=s}get id(){return this[rawDataSymbol].broadcaster_id}get name(){return this[rawDataSymbol].broadcaster_login}get displayName(){return this[rawDataSymbol].broadcaster_name}async getBroadcaster(){return checkRelationAssertion(await this._client.users.getUserById(this[rawDataSymbol].broadcaster_id))}get language(){return this[rawDataSymbol].broadcaster_language}get gameId(){return this[rawDataSymbol].game_id}get gameName(){return this[rawDataSymbol].game_name}async getGame(){return this[rawDataSymbol].game_id?checkRelationAssertion(await this._client.games.getGameById(this[rawDataSymbol].game_id)):null}get title(){return this[rawDataSymbol].title}get delay(){return this[rawDataSymbol].delay}get tags(){return this[rawDataSymbol].tags}get contentClassificationLabels(){return this[rawDataSymbol].content_classification_labels}get isBrandedContent(){return this[rawDataSymbol].is_branded_content}};__decorate([Enumerable(!1)],HelixChannel.prototype,"_client",void 0);HelixChannel=__decorate([rtfm("api","HelixChannel","id")],HelixChannel);let HelixChannelEditor=class extends DataObject{constructor(e,s){super(e),this._client=s}get userId(){return this[rawDataSymbol].user_id}get userDisplayName(){return this[rawDataSymbol].user_name}async getUser(){return checkRelationAssertion(await this._client.users.getUserById(this[rawDataSymbol].user_id))}get creationDate(){return new Date(this[rawDataSymbol].created_at)}};__decorate([Enumerable(!1)],HelixChannelEditor.prototype,"_client",void 0);HelixChannelEditor=__decorate([rtfm("api","HelixChannelEditor","userId")],HelixChannelEditor);let HelixChannelFollower=class extends DataObject{constructor(e,s){super(e),this._client=s}get userId(){return this[rawDataSymbol].user_id}get userName(){return this[rawDataSymbol].user_login}get userDisplayName(){return this[rawDataSymbol].user_name}async getUser(){return checkRelationAssertion(await this._client.users.getUserById(this[rawDataSymbol].user_id))}get followDate(){return new Date(this[rawDataSymbol].followed_at)}};__decorate([Enumerable(!1)],HelixChannelFollower.prototype,"_client",void 0);HelixChannelFollower=__decorate([rtfm("api","HelixChannelFollower","userId")],HelixChannelFollower);let HelixFollowedChannel=class extends DataObject{constructor(e,s){super(e),this._client=s}get broadcasterId(){return this[rawDataSymbol].broadcaster_id}get broadcasterName(){return this[rawDataSymbol].broadcaster_login}get broadcasterDisplayName(){return this[rawDataSymbol].broadcaster_name}async getBroadcaster(){return checkRelationAssertion(await this._client.users.getUserById(this[rawDataSymbol].broadcaster_id))}get followDate(){return new Date(this[rawDataSymbol].followed_at)}};__decorate([Enumerable(!1)],HelixFollowedChannel.prototype,"_client",void 0);HelixFollowedChannel=__decorate([rtfm("api","HelixFollowedChannel","broadcasterId")],HelixFollowedChannel);let HelixChannelApi=class extends BaseApi{constructor(){super(...arguments),this._getChannelByIdBatcher=new HelixRequestBatcher({url:"channels"},"broadcaster_id","broadcaster_id",this._client,e=>new HelixChannel(e,this._client))}async getChannelInfoById(e){const s=extractUserId(e),o=await this._client.callApi({type:"helix",url:"channels",userId:s,query:createBroadcasterQuery(s)});return mapNullable(o.data[0],h=>new HelixChannel(h,this._client))}async getChannelInfoByIdBatched(e){return await this._getChannelByIdBatcher.request(extractUserId(e))}async getChannelInfoByIds(e){const s=e.map(extractUserId);return(await this._client.callApi({type:"helix",url:"channels",query:createSingleKeyQuery("broadcaster_id",s)})).data.map(h=>new HelixChannel(h,this._client))}async updateChannelInfo(e,s){await this._client.callApi({type:"helix",url:"channels",method:"PATCH",userId:extractUserId(e),scopes:["channel:manage:broadcast"],query:createBroadcasterQuery(e),jsonBody:createChannelUpdateBody(s)})}async startChannelCommercial(e,s){await this._client.callApi({type:"helix",url:"channels/commercial",method:"POST",userId:extractUserId(e),scopes:["channel:edit:commercial"],jsonBody:createChannelCommercialBody(e,s)})}async getChannelEditors(e){return(await this._client.callApi({type:"helix",url:"channels/editors",userId:extractUserId(e),scopes:["channel:read:editors"],query:createBroadcasterQuery(e)})).data.map(o=>new HelixChannelEditor(o,this._client))}async getVips(e,s){const o=await this._client.callApi({type:"helix",url:"channels/vips",userId:extractUserId(e),scopes:["channel:read:vips","channel:manage:vips"],query:{...createBroadcasterQuery(e),...createPaginationQuery(s)}});return createPaginatedResult(o,HelixUserRelation,this._client)}getVipsPaginated(e){return new HelixPaginatedRequest({url:"channels/vips",userId:extractUserId(e),scopes:["channel:read:vips","channel:manage:vips"],query:createBroadcasterQuery(e)},this._client,s=>new HelixUserRelation(s,this._client))}async checkVipForUsers(e,s){return(await this._client.callApi({type:"helix",url:"channels/vips",userId:extractUserId(e),scopes:["channel:read:vips","channel:manage:vips"],query:createChannelUsersCheckQuery(e,s)})).data.map(h=>new HelixUserRelation(h,this._client))}async checkVipForUser(e,s){const o=extractUserId(s);return(await this.checkVipForUsers(e,[o])).some(_=>_.id===o)}async addVip(e,s){await this._client.callApi({type:"helix",url:"channels/vips",method:"POST",userId:extractUserId(e),scopes:["channel:manage:vips"],query:createChannelVipUpdateQuery(e,s)})}async removeVip(e,s){await this._client.callApi({type:"helix",url:"channels/vips",method:"DELETE",userId:extractUserId(e),scopes:["channel:manage:vips"],query:createChannelVipUpdateQuery(e,s)})}async getChannelFollowerCount(e){return(await this._client.callApi({type:"helix",url:"channels/followers",method:"GET",userId:extractUserId(e),query:{...createChannelFollowerQuery(e),...createPaginationQuery({limit:1})}})).total}async getChannelFollowers(e,s,o){const h=await this._client.callApi({type:"helix",url:"channels/followers",method:"GET",userId:extractUserId(e),canOverrideScopedUserContext:!0,scopes:["moderator:read:followers"],query:{...createChannelFollowerQuery(e,s),...createPaginationQuery(o)}});return createPaginatedResultWithTotal(h,HelixChannelFollower,this._client)}getChannelFollowersPaginated(e){return new HelixPaginatedRequestWithTotal({url:"channels/followers",method:"GET",userId:extractUserId(e),canOverrideScopedUserContext:!0,scopes:["moderator:read:followers"],query:createChannelFollowerQuery(e)},this._client,s=>new HelixChannelFollower(s,this._client))}async getFollowedChannels(e,s,o){const h=await this._client.callApi({type:"helix",url:"channels/followed",method:"GET",userId:extractUserId(e),scopes:["user:read:follows"],query:{...createFollowedChannelQuery(e,s),...createPaginationQuery(o)}});return createPaginatedResultWithTotal(h,HelixFollowedChannel,this._client)}getFollowedChannelsPaginated(e,s){return new HelixPaginatedRequestWithTotal({url:"channels/followed",method:"GET",userId:extractUserId(e),scopes:["user:read:follows"],query:createFollowedChannelQuery(e,s)},this._client,o=>new HelixFollowedChannel(o,this._client))}};__decorate([Enumerable(!1)],HelixChannelApi.prototype,"_getChannelByIdBatcher",void 0);HelixChannelApi=__decorate([rtfm("api","HelixChannelApi")],HelixChannelApi);function createCustomRewardsQuery(i,e){return{broadcaster_id:extractUserId(i),only_manageable_rewards:e==null?void 0:e.toString()}}function createCustomRewardChangeQuery(i,e){return{broadcaster_id:extractUserId(i),id:e}}function createCustomRewardBody(i){var e,s,o;const h={title:i.title,cost:i.cost,prompt:i.prompt,background_color:i.backgroundColor,is_enabled:i.isEnabled,is_user_input_required:i.userInputRequired,should_redemptions_skip_request_queue:i.autoFulfill};return i.maxRedemptionsPerStream!==void 0&&(h.is_max_per_stream_enabled=!!i.maxRedemptionsPerStream,h.max_per_stream=(e=i.maxRedemptionsPerStream)!==null&&e!==void 0?e:0),i.maxRedemptionsPerUserPerStream!==void 0&&(h.is_max_per_user_per_stream_enabled=!!i.maxRedemptionsPerUserPerStream,h.max_per_user_per_stream=(s=i.maxRedemptionsPerUserPerStream)!==null&&s!==void 0?s:0),i.globalCooldown!==void 0&&(h.is_global_cooldown_enabled=!!i.globalCooldown,h.global_cooldown_seconds=(o=i.globalCooldown)!==null&&o!==void 0?o:0),"isPaused"in i&&(h.is_paused=i.isPaused),h}function createRewardRedemptionsByIdsQuery(i,e,s){return{broadcaster_id:extractUserId(i),reward_id:e,id:s}}function createRedemptionsForBroadcasterQuery(i,e,s,o){return{broadcaster_id:extractUserId(i),reward_id:e,status:s,sort:o.newestFirst?"NEWEST":"OLDEST"}}let HelixCustomReward=class extends DataObject{constructor(e,s){super(e),this._client=s}get id(){return this[rawDataSymbol].id}get broadcasterId(){return this[rawDataSymbol].broadcaster_id}get broadcasterName(){return this[rawDataSymbol].broadcaster_login}get broadcasterDisplayName(){return this[rawDataSymbol].broadcaster_name}async getBroadcaster(){return checkRelationAssertion(await this._client.users.getUserById(this[rawDataSymbol].broadcaster_id))}getImageUrl(e){var s,o;const h=`url_${e}x`;return(o=(s=this[rawDataSymbol].image)===null||s===void 0?void 0:s[h])!==null&&o!==void 0?o:this[rawDataSymbol].default_image[h]}get backgroundColor(){return this[rawDataSymbol].background_color}get isEnabled(){return this[rawDataSymbol].is_enabled}get cost(){return this[rawDataSymbol].cost}get title(){return this[rawDataSymbol].title}get prompt(){return this[rawDataSymbol].prompt}get userInputRequired(){return this[rawDataSymbol].is_user_input_required}get maxRedemptionsPerStream(){return this[rawDataSymbol].max_per_stream_setting.is_enabled?this[rawDataSymbol].max_per_stream_setting.max_per_stream:null}get maxRedemptionsPerUserPerStream(){return this[rawDataSymbol].max_per_user_per_stream_setting.is_enabled?this[rawDataSymbol].max_per_user_per_stream_setting.max_per_user_per_stream:null}get globalCooldown(){return this[rawDataSymbol].global_cooldown_setting.is_enabled?this[rawDataSymbol].global_cooldown_setting.global_cooldown_seconds:null}get isPaused(){return this[rawDataSymbol].is_paused}get isInStock(){return this[rawDataSymbol].is_in_stock}get redemptionsThisStream(){return this[rawDataSymbol].redemptions_redeemed_current_stream}get autoFulfill(){return this[rawDataSymbol].should_redemptions_skip_request_queue}get cooldownExpiryDate(){return this[rawDataSymbol].cooldown_expires_at?new Date(this[rawDataSymbol].cooldown_expires_at):null}};__decorate([Enumerable(!1)],HelixCustomReward.prototype,"_client",void 0);HelixCustomReward=__decorate([rtfm("api","HelixCustomReward","id")],HelixCustomReward);let HelixCustomRewardRedemption=class extends DataObject{constructor(e,s){super(e),this._client=s}get id(){return this[rawDataSymbol].id}get broadcasterId(){return this[rawDataSymbol].broadcaster_id}get broadcasterName(){return this[rawDataSymbol].broadcaster_login}get broadcasterDisplayName(){return this[rawDataSymbol].broadcaster_name}async getBroadcaster(){return checkRelationAssertion(await this._client.users.getUserById(this[rawDataSymbol].broadcaster_id))}get userId(){return this[rawDataSymbol].user_id}get userName(){return this[rawDataSymbol].user_login}get userDisplayName(){return this[rawDataSymbol].user_name}async getUser(){return checkRelationAssertion(await this._client.users.getUserById(this[rawDataSymbol].user_id))}get userInput(){return this[rawDataSymbol].user_input}get isFulfilled(){return this[rawDataSymbol].status==="FULFILLED"}get isCanceled(){return this[rawDataSymbol].status==="CANCELED"}get redemptionDate(){return new Date(this[rawDataSymbol].redeemed_at)}get rewardId(){return this[rawDataSymbol].reward.id}get rewardTitle(){return this[rawDataSymbol].reward.title}get rewardPrompt(){return this[rawDataSymbol].reward.prompt}get rewardCost(){return this[rawDataSymbol].reward.cost}async getReward(){return checkRelationAssertion(await this._client.channelPoints.getCustomRewardById(this[rawDataSymbol].broadcaster_id,this[rawDataSymbol].reward.id))}async updateStatus(e){return(await this._client.channelPoints.updateRedemptionStatusByIds(this[rawDataSymbol].broadcaster_id,this[rawDataSymbol].reward.id,[this[rawDataSymbol].id],e))[0]}};__decorate([Enumerable(!1)],HelixCustomRewardRedemption.prototype,"_client",void 0);HelixCustomRewardRedemption=__decorate([rtfm("api","HelixCustomRewardRedemption","id")],HelixCustomRewardRedemption);let HelixChannelPointsApi=class extends BaseApi{async getCustomRewards(e,s){return(await this._client.callApi({type:"helix",url:"channel_points/custom_rewards",userId:extractUserId(e),scopes:["channel:read:redemptions","channel:manage:redemptions"],query:createCustomRewardsQuery(e,s)})).data.map(h=>new HelixCustomReward(h,this._client))}async getCustomRewardsByIds(e,s){return s.length?(await this._client.callApi({type:"helix",url:"channel_points/custom_rewards",userId:extractUserId(e),scopes:["channel:read:redemptions","channel:manage:redemptions"],query:createGetByIdsQuery(e,s)})).data.map(h=>new HelixCustomReward(h,this._client)):[]}async getCustomRewardById(e,s){const o=await this.getCustomRewardsByIds(e,[s]);return o.length?o[0]:null}async createCustomReward(e,s){const o=await this._client.callApi({type:"helix",url:"channel_points/custom_rewards",method:"POST",userId:extractUserId(e),scopes:["channel:manage:redemptions"],query:createBroadcasterQuery(e),jsonBody:createCustomRewardBody(s)});return new HelixCustomReward(o.data[0],this._client)}async updateCustomReward(e,s,o){const h=await this._client.callApi({type:"helix",url:"channel_points/custom_rewards",method:"PATCH",userId:extractUserId(e),scopes:["channel:manage:redemptions"],query:createCustomRewardChangeQuery(e,s),jsonBody:createCustomRewardBody(o)});return new HelixCustomReward(h.data[0],this._client)}async deleteCustomReward(e,s){await this._client.callApi({type:"helix",url:"channel_points/custom_rewards",method:"DELETE",userId:extractUserId(e),scopes:["channel:manage:redemptions"],query:createCustomRewardChangeQuery(e,s)})}async getRedemptionsByIds(e,s,o){return o.length?(await this._client.callApi({type:"helix",url:"channel_points/custom_rewards/redemptions",userId:extractUserId(e),scopes:["channel:read:redemptions","channel:manage:redemptions"],query:createRewardRedemptionsByIdsQuery(e,s,o)})).data.map(_=>new HelixCustomRewardRedemption(_,this._client)):[]}async getRedemptionById(e,s,o){const h=await this.getRedemptionsByIds(e,s,[o]);return h.length?h[0]:null}async getRedemptionsForBroadcaster(e,s,o,h){const _=await this._client.callApi({type:"helix",url:"channel_points/custom_rewards/redemptions",userId:extractUserId(e),scopes:["channel:read:redemptions","channel:manage:redemptions"],query:{...createRedemptionsForBroadcasterQuery(e,s,o,h),...createPaginationQuery(h)}});return createPaginatedResult(_,HelixCustomRewardRedemption,this._client)}getRedemptionsForBroadcasterPaginated(e,s,o,h){return new HelixPaginatedRequest({url:"channel_points/custom_rewards/redemptions",userId:extractUserId(e),scopes:["channel:read:redemptions","channel:manage:redemptions"],query:createRedemptionsForBroadcasterQuery(e,s,o,h)},this._client,_=>new HelixCustomRewardRedemption(_,this._client),50)}async updateRedemptionStatusByIds(e,s,o,h){return o.length?(await this._client.callApi({type:"helix",url:"channel_points/custom_rewards/redemptions",method:"PATCH",userId:extractUserId(e),scopes:["channel:manage:redemptions"],query:createRewardRedemptionsByIdsQuery(e,s,o),jsonBody:{status:h}})).data.map($=>new HelixCustomRewardRedemption($,this._client)):[]}};HelixChannelPointsApi=__decorate([rtfm("api","HelixChannelPointsApi")],HelixChannelPointsApi);let HelixCharityCampaignAmount=class extends DataObject{get value(){return this[rawDataSymbol].value}get decimalPlaces(){return this[rawDataSymbol].decimal_places}get localizedValue(){return this.value/10**this.decimalPlaces}get currency(){return this[rawDataSymbol].currency}};HelixCharityCampaignAmount=__decorate([rtfm("api","HelixCharityCampaignAmount")],HelixCharityCampaignAmount);let HelixCharityCampaign=class extends DataObject{constructor(e,s){super(e),this._client=s}get id(){return this[rawDataSymbol].id}get broadcasterId(){return this[rawDataSymbol].broadcaster_id}get broadcasterName(){return this[rawDataSymbol].broadcaster_login}get broadcasterDisplayName(){return this[rawDataSymbol].broadcaster_name}async getBroadcaster(){return checkRelationAssertion(await this._client.users.getUserById(this[rawDataSymbol].broadcaster_id))}get charityName(){return this[rawDataSymbol].charity_name}get charityDescription(){return this[rawDataSymbol].charity_description}get charityLogo(){return this[rawDataSymbol].charity_logo}get charityWebsite(){return this[rawDataSymbol].charity_website}get currentAmount(){return new HelixCharityCampaignAmount(this[rawDataSymbol].current_amount)}get targetAmount(){return new HelixCharityCampaignAmount(this[rawDataSymbol].target_amount)}};__decorate([Enumerable(!1)],HelixCharityCampaign.prototype,"_client",void 0);HelixCharityCampaign=__decorate([rtfm("api","HelixCharityCampaign","id")],HelixCharityCampaign);let HelixCharityCampaignDonation=class extends DataObject{constructor(e,s){super(e),this._client=s}get campaignId(){return this[rawDataSymbol].campaign_id}get donorId(){return this[rawDataSymbol].user_id}get donorName(){return this[rawDataSymbol].user_login}get donorDisplayName(){return this[rawDataSymbol].user_name}async getDonor(){return checkRelationAssertion(await this._client.users.getUserById(this[rawDataSymbol].user_id))}get amount(){return new HelixCharityCampaignAmount(this[rawDataSymbol].amount)}};__decorate([Enumerable(!1)],HelixCharityCampaignDonation.prototype,"_client",void 0);HelixCharityCampaignDonation=__decorate([rtfm("api","HelixCharityCampaignDonation")],HelixCharityCampaignDonation);let HelixCharityApi=class extends BaseApi{async getCharityCampaign(e){const s=await this._client.callApi({type:"helix",url:"charity/campaigns",method:"GET",userId:extractUserId(e),scopes:["channel:read:charity"],query:createBroadcasterQuery(e)});return new HelixCharityCampaign(s.data[0],this._client)}async getCharityCampaignDonations(e,s){const o=await this._client.callApi({type:"helix",url:"charity/donations",userId:extractUserId(e),scopes:["channel:read:charity"],query:{...createBroadcasterQuery(e),...createPaginationQuery(s)}});return createPaginatedResult(o,HelixCharityCampaignDonation,this._client)}};HelixCharityApi=__decorate([rtfm("api","HelixCharityApi")],HelixCharityApi);function createChatSettingsUpdateBody(i){return{slow_mode:i.slowModeEnabled,slow_mode_wait_time:i.slowModeDelay,follower_mode:i.followerOnlyModeEnabled,follower_mode_duration:i.followerOnlyModeDelay,subscriber_mode:i.subscriberOnlyModeEnabled,emote_mode:i.emoteOnlyModeEnabled,unique_chat_mode:i.uniqueChatModeEnabled,non_moderator_chat_delay:i.nonModeratorChatDelayEnabled,non_moderator_chat_delay_duration:i.nonModeratorChatDelay}}function createChatColorUpdateQuery(i,e){return{user_id:extractUserId(i),color:e}}function createShoutoutQuery(i,e,s){return{from_broadcaster_id:extractUserId(i),to_broadcaster_id:extractUserId(e),moderator_id:s}}let HelixEmote=class extends DataObject{get id(){return this[rawDataSymbol].id}get name(){return this[rawDataSymbol].name}get formats(){return this[rawDataSymbol].format}get scales(){return this[rawDataSymbol].scale}get themeModes(){return this[rawDataSymbol].theme_mode}getImageUrl(e){return this[rawDataSymbol].images[`url_${e}x`]}getStaticImageUrl(e="1.0",s="light"){return this[rawDataSymbol].format.includes("static")&&this[rawDataSymbol].scale.includes(e)?this.getFormattedImageUrl(e,"static",s):null}getAnimatedImageUrl(e="1.0",s="light"){return this[rawDataSymbol].format.includes("animated")&&this[rawDataSymbol].scale.includes(e)?this.getFormattedImageUrl(e,"animated",s):null}getFormattedImageUrl(e="1.0",s="static",o="light"){return`https://static-cdn.jtvnw.net/emoticons/v2/${this[rawDataSymbol].id}/${s}/${o}/${e}`}};HelixEmote=__decorate([rtfm("api","HelixEmote","id")],HelixEmote);let HelixChannelEmote=class extends HelixEmote{constructor(e,s){super(e),this._client=s}get tier(){return this[rawDataSymbol].tier||null}get type(){return this[rawDataSymbol].emote_type}get emoteSetId(){return this[rawDataSymbol].emote_set_id}async getAllEmotesFromSet(){return await this._client.chat.getEmotesFromSets([this[rawDataSymbol].emote_set_id])}};__decorate([Enumerable(!1)],HelixChannelEmote.prototype,"_client",void 0);HelixChannelEmote=__decorate([rtfm("api","HelixChannelEmote","id")],HelixChannelEmote);let HelixChatBadgeVersion=class extends DataObject{get id(){return this[rawDataSymbol].id}getImageUrl(e){return this[rawDataSymbol][`image_url_${e}x`]}get title(){return this[rawDataSymbol].title}get description(){return this[rawDataSymbol].description}get clickAction(){return this[rawDataSymbol].click_action}get clickUrl(){return this[rawDataSymbol].click_url}};HelixChatBadgeVersion=__decorate([rtfm("api","HelixChatBadgeVersion","id")],HelixChatBadgeVersion);let HelixChatBadgeSet=class extends DataObject{get id(){return this[rawDataSymbol].set_id}get versions(){return this[rawDataSymbol].versions.map(e=>new HelixChatBadgeVersion(e))}getVersion(e){var s;return(s=this.versions.find(o=>o.id===e))!==null&&s!==void 0?s:null}};__decorate([CachedGetter()],HelixChatBadgeSet.prototype,"versions",null);HelixChatBadgeSet=__decorate([Cacheable,rtfm("api","HelixChatBadgeSet","id")],HelixChatBadgeSet);let HelixChatChatter=class extends DataObject{constructor(e,s){super(e),this._client=s}get userId(){return this[rawDataSymbol].user_id}get userName(){return this[rawDataSymbol].user_login}get userDisplayName(){return this[rawDataSymbol].user_name}async getUser(){return checkRelationAssertion(await this._client.users.getUserById(this[rawDataSymbol].user_id))}};__decorate([Enumerable(!1)],HelixChatChatter.prototype,"_client",void 0);HelixChatChatter=__decorate([rtfm("api","HelixChatChatter")],HelixChatChatter);let HelixChatSettings=class extends DataObject{get broadcasterId(){return this[rawDataSymbol].broadcaster_id}get slowModeEnabled(){return this[rawDataSymbol].slow_mode}get slowModeDelay(){return this[rawDataSymbol].slow_mode_wait_time}get followerOnlyModeEnabled(){return this[rawDataSymbol].follower_mode}get followerOnlyModeDelay(){return this[rawDataSymbol].follower_mode_duration}get subscriberOnlyModeEnabled(){return this[rawDataSymbol].subscriber_mode}get emoteOnlyModeEnabled(){return this[rawDataSymbol].emote_mode}get uniqueChatModeEnabled(){return this[rawDataSymbol].unique_chat_mode}};HelixChatSettings=__decorate([rtfm("api","HelixChatSettings","broadcasterId")],HelixChatSettings);let HelixEmoteFromSet=class extends HelixEmote{constructor(e,s){super(e),this._client=s}get type(){return this[rawDataSymbol].emote_type}get emoteSetId(){return this[rawDataSymbol].emote_set_id}get ownerId(){switch(this[rawDataSymbol].owner_id){case"0":case"twitch":return null;default:return this[rawDataSymbol].owner_id}}async getOwner(){switch(this[rawDataSymbol].owner_id){case"0":case"twitch":return null;default:return await this._client.users.getUserById(this[rawDataSymbol].owner_id)}}};__decorate([Enumerable(!1)],HelixEmoteFromSet.prototype,"_client",void 0);HelixEmoteFromSet=__decorate([rtfm("api","HelixEmoteFromSet","id")],HelixEmoteFromSet);let HelixPrivilegedChatSettings=class extends HelixChatSettings{get nonModeratorChatDelayEnabled(){return this[rawDataSymbol].non_moderator_chat_delay}get nonModeratorChatDelay(){return this[rawDataSymbol].non_moderator_chat_delay_duration}};HelixPrivilegedChatSettings=__decorate([rtfm("api","HelixPrivilegedChatSettings","broadcasterId")],HelixPrivilegedChatSettings);let HelixChatApi=class extends BaseApi{async getChatters(e,s){const o=extractUserId(e),h=await this._client.callApi({type:"helix",url:"chat/chatters",userId:o,canOverrideScopedUserContext:!0,scopes:["moderator:read:chatters"],query:{...this._createModeratorActionQuery(o),...createPaginationQuery(s)}});return createPaginatedResultWithTotal(h,HelixChatChatter,this._client)}getChattersPaginated(e){const s=extractUserId(e);return new HelixPaginatedRequestWithTotal({url:"chat/chatters",userId:s,canOverrideScopedUserContext:!0,scopes:["moderator:read:chatters"],query:this._createModeratorActionQuery(s)},this._client,o=>new HelixChatChatter(o,this._client))}async getGlobalBadges(){return(await this._client.callApi({type:"helix",url:"chat/badges/global"})).data.map(s=>new HelixChatBadgeSet(s))}async getChannelBadges(e){return(await this._client.callApi({type:"helix",url:"chat/badges",userId:extractUserId(e),query:createBroadcasterQuery(e)})).data.map(o=>new HelixChatBadgeSet(o))}async getGlobalEmotes(){return(await this._client.callApi({type:"helix",url:"chat/emotes/global"})).data.map(s=>new HelixEmote(s))}async getChannelEmotes(e){return(await this._client.callApi({type:"helix",url:"chat/emotes",userId:extractUserId(e),query:createBroadcasterQuery(e)})).data.map(o=>new HelixChannelEmote(o,this._client))}async getEmotesFromSets(e){return(await this._client.callApi({type:"helix",url:"chat/emotes/set",query:createSingleKeyQuery("emote_set_id",e)})).data.map(o=>new HelixEmoteFromSet(o,this._client))}async getSettings(e){const s=await this._client.callApi({type:"helix",url:"chat/settings",userId:extractUserId(e),query:createBroadcasterQuery(e)});return new HelixChatSettings(s.data[0])}async getSettingsPrivileged(e){const s=extractUserId(e),o=await this._client.callApi({type:"helix",url:"chat/settings",userId:s,canOverrideScopedUserContext:!0,scopes:["moderator:read:chat_settings"],query:this._createModeratorActionQuery(s)});return new HelixPrivilegedChatSettings(o.data[0])}async updateSettings(e,s){const o=extractUserId(e),h=await this._client.callApi({type:"helix",url:"chat/settings",method:"PATCH",userId:o,canOverrideScopedUserContext:!0,scopes:["moderator:manage:chat_settings"],query:this._createModeratorActionQuery(o),jsonBody:createChatSettingsUpdateBody(s)});return new HelixPrivilegedChatSettings(h.data[0])}async sendAnnouncement(e,s){const o=extractUserId(e);await this._client.callApi({type:"helix",url:"chat/announcements",method:"POST",userId:o,canOverrideScopedUserContext:!0,scopes:["moderator:manage:announcements"],query:this._createModeratorActionQuery(o),jsonBody:{message:s.message,color:s.color}})}async getColorsForUsers(e){const s=await this._client.callApi({type:"helix",url:"chat/color",query:createSingleKeyQuery("user_id",e.map(extractUserId))});return new Map(s.data.map(o=>[o.user_id,o.color||null]))}async getColorForUser(e){const s=await this._client.callApi({type:"helix",url:"chat/color",userId:extractUserId(e),query:createSingleKeyQuery("user_id",extractUserId(e))});if(s.data.length)return s.data[0].color||null}async setColorForUser(e,s){await this._client.callApi({type:"helix",url:"chat/color",method:"PUT",userId:extractUserId(e),scopes:["user:manage:chat_color"],query:createChatColorUpdateQuery(e,s)})}async shoutoutUser(e,s){const o=extractUserId(e);await this._client.callApi({type:"helix",url:"chat/shoutouts",method:"POST",userId:o,canOverrideScopedUserContext:!0,scopes:["moderator:manage:shoutouts"],query:createShoutoutQuery(e,s,this._getUserContextIdWithDefault(o))})}_createModeratorActionQuery(e){return createModeratorActionQuery(e,this._getUserContextIdWithDefault(e))}};HelixChatApi=__decorate([rtfm("api","HelixChatApi")],HelixChatApi);function createClipCreateQuery(i,e){return{broadcaster_id:extractUserId(i),has_delay:e.toString()}}function createClipQuery(i){const{filterType:e,ids:s,startDate:o,endDate:h,isFeatured:_}=i;return{[e]:s,started_at:o,ended_at:h,is_featured:_==null?void 0:_.toString()}}let HelixClip=class extends DataObject{constructor(e,s){super(e),this._client=s}get id(){return this[rawDataSymbol].id}get url(){return this[rawDataSymbol].url}get embedUrl(){return this[rawDataSymbol].embed_url}get broadcasterId(){return this[rawDataSymbol].broadcaster_id}get broadcasterDisplayName(){return this[rawDataSymbol].broadcaster_name}async getBroadcaster(){return checkRelationAssertion(await this._client.users.getUserById(this[rawDataSymbol].broadcaster_id))}get creatorId(){return this[rawDataSymbol].creator_id}get creatorDisplayName(){return this[rawDataSymbol].creator_name}async getCreator(){return checkRelationAssertion(await this._client.users.getUserById(this[rawDataSymbol].creator_id))}get videoId(){return this[rawDataSymbol].video_id}async getVideo(){return checkRelationAssertion(await this._client.videos.getVideoById(this[rawDataSymbol].video_id))}get gameId(){return this[rawDataSymbol].game_id}async getGame(){return this[rawDataSymbol].game_id?checkRelationAssertion(await this._client.games.getGameById(this[rawDataSymbol].game_id)):null}get language(){return this[rawDataSymbol].language}get title(){return this[rawDataSymbol].title}get views(){return this[rawDataSymbol].view_count}get creationDate(){return new Date(this[rawDataSymbol].created_at)}get thumbnailUrl(){return this[rawDataSymbol].thumbnail_url}get duration(){return this[rawDataSymbol].duration}get vodOffset(){return this[rawDataSymbol].vod_offset}get isFeatured(){return this[rawDataSymbol].is_featured}};__decorate([Enumerable(!1)],HelixClip.prototype,"_client",void 0);HelixClip=__decorate([rtfm("api","HelixClip","id")],HelixClip);let HelixClipApi=class extends BaseApi{constructor(){super(...arguments),this._getClipByIdBatcher=new HelixRequestBatcher({url:"clips"},"id","id",this._client,e=>new HelixClip(e,this._client))}async getClipsForBroadcaster(e,s={}){return await this._getClips({...s,filterType:"broadcaster_id",ids:extractUserId(e),userId:extractUserId(e)})}getClipsForBroadcasterPaginated(e,s={}){return this._getClipsPaginated({...s,filterType:"broadcaster_id",ids:extractUserId(e),userId:extractUserId(e)})}async getClipsForGame(e,s={}){return await this._getClips({...s,filterType:"game_id",ids:e})}getClipsForGamePaginated(e,s={}){return this._getClipsPaginated({...s,filterType:"game_id",ids:e})}async getClipsByIds(e){return(await this._getClips({filterType:"id",ids:e})).data}async getClipById(e){const s=await this.getClipsByIds([e]);return s.length?s[0]:null}async getClipByIdBatched(e){return await this._getClipByIdBatcher.request(e)}async createClip(e){const{channel:s,createAfterDelay:o=!1}=e;return(await this._client.callApi({type:"helix",url:"clips",method:"POST",userId:extractUserId(s),scopes:["clips:edit"],canOverrideScopedUserContext:!0,query:createClipCreateQuery(s,o)})).data[0].id}async _getClips(e){if(!e.ids.length)return{data:[]};const s=await this._client.callApi({type:"helix",url:"clips",userId:e.userId,query:{...createClipQuery(e),...createPaginationQuery(e)}});return createPaginatedResult(s,HelixClip,this._client)}_getClipsPaginated(e){return new HelixPaginatedRequest({url:"clips",userId:e.userId,query:createClipQuery(e)},this._client,s=>new HelixClip(s,this._client))}};__decorate([Enumerable(!1)],HelixClipApi.prototype,"_getClipByIdBatcher",void 0);HelixClipApi=__decorate([rtfm("api","HelixClipApi")],HelixClipApi);class HelixContentClassificationLabel extends DataObject{get id(){return this[rawDataSymbol].id}get name(){return this[rawDataSymbol].name}get description(){return this[rawDataSymbol].description}}let HelixContentClassificationLabelApi=class extends BaseApi{async getAll(e){return(await this._client.callApi({url:"content_classification_labels",query:{locale:e}})).data.map(o=>new HelixContentClassificationLabel(o))}};HelixContentClassificationLabelApi=__decorate([rtfm("api","HelixContentClassificationLabelApi")],HelixContentClassificationLabelApi);function createDropsEntitlementQuery(i,e){return{user_id:e?mapOptional(i.user,extractUserId):void 0,game_id:i.gameId,fulfillment_status:i.fulfillmentStatus}}function createDropsEntitlementUpdateBody(i,e){return{fulfillment_status:e,entitlement_ids:i}}let HelixDropsEntitlement=class extends DataObject{constructor(e,s){super(e),this._client=s}get id(){return this[rawDataSymbol].id}get rewardId(){return this[rawDataSymbol].benefit_id}get grantDate(){return new Date(this[rawDataSymbol].timestamp)}get userId(){return this[rawDataSymbol].user_id}async getUser(){return checkRelationAssertion(await this._client.users.getUserById(this[rawDataSymbol].user_id))}get gameId(){return this[rawDataSymbol].game_id}async getGame(){return checkRelationAssertion(await this._client.games.getGameById(this[rawDataSymbol].game_id))}get fulfillmentStatus(){return this[rawDataSymbol].fulfillment_status}get updateDate(){return new Date(this[rawDataSymbol].last_updated)}};__decorate([Enumerable(!1)],HelixDropsEntitlement.prototype,"_client",void 0);HelixDropsEntitlement=__decorate([rtfm("api","HelixDropsEntitlement")],HelixDropsEntitlement);let HelixEntitlementApi=class extends BaseApi{constructor(){super(...arguments),this._getDropsEntitlementByIdBatcher=new HelixRequestBatcher({url:"entitlements/drops"},"id","id",this._client,e=>new HelixDropsEntitlement(e,this._client))}async getDropsEntitlements(e,s=!1){const o=await this._client.callApi({type:"helix",url:"entitlements/drops",userId:mapOptional(e.user,extractUserId),forceType:e.user&&s?"app":void 0,query:{...createDropsEntitlementQuery(e,s),...createPaginationQuery(e)}});return createPaginatedResult(o,HelixDropsEntitlement,this._client)}getDropsEntitlementsPaginated(e,s=!1){return new HelixPaginatedRequest({url:"entitlements/drops",userId:mapOptional(e.user,extractUserId),forceType:e.user&&s?"app":void 0,query:createDropsEntitlementQuery(e,s)},this._client,o=>new HelixDropsEntitlement(o,this._client))}async getDropsEntitlementsByIds(e){return(await this._client.callApi({type:"helix",url:"entitlements/drops",query:{id:e}})).data.map(o=>new HelixDropsEntitlement(o,this._client))}async getDropsEntitlementById(e){var s;return(s=(await this.getDropsEntitlementsByIds([e]))[0])!==null&&s!==void 0?s:null}async getDropsEntitlementByIdBatched(e){return await this._getDropsEntitlementByIdBatcher.request(e)}async updateDropsEntitlements(e,s){const o=await this._client.callApi({type:"helix",url:"entitlements/drops",method:"PATCH",jsonBody:createDropsEntitlementUpdateBody(e,s)});return new Map(o.data.flatMap(h=>h.ids.map(_=>[_,h.status])))}};__decorate([Enumerable(!1)],HelixEntitlementApi.prototype,"_getDropsEntitlementByIdBatcher",void 0);HelixEntitlementApi=__decorate([rtfm("api","HelixEntitlementApi")],HelixEntitlementApi);function createEventSubBroadcasterCondition(i){return{broadcaster_user_id:extractUserId(i)}}function createEventSubRewardCondition(i,e){return{broadcaster_user_id:extractUserId(i),reward_id:e}}function createEventSubModeratorCondition(i,e){return{broadcaster_user_id:i,moderator_user_id:e}}function createEventSubDropEntitlementGrantCondition(i){return{organization_id:i.organizationId,category_id:i.categoryId,campaign_id:i.campaignId}}let HelixEventSubSubscription=class extends DataObject{constructor(e,s){super(e),this._client=s}get id(){return this[rawDataSymbol].id}get status(){return this[rawDataSymbol].status}get type(){return this[rawDataSymbol].type}get cost(){return this[rawDataSymbol].cost}get condition(){return this[rawDataSymbol].condition}get creationDate(){return new Date(this[rawDataSymbol].created_at)}async unsubscribe(){await this._client.eventSub.deleteSubscription(this[rawDataSymbol].id)}get _transport(){return this[rawDataSymbol].transport}set _status(e){this[rawDataSymbol].status=e}};__decorate([Enumerable(!1)],HelixEventSubSubscription.prototype,"_client",void 0);HelixEventSubSubscription=__decorate([rtfm("api","HelixEventSubSubscription","id")],HelixEventSubSubscription);let HelixPaginatedEventSubSubscriptionsRequest=class extends HelixPaginatedRequestWithTotal{constructor(e,s,o){super({url:"eventsub/subscriptions",userId:s,query:e},o,h=>new HelixEventSubSubscription(h,o))}async getTotalCost(){var e;return((e=this._currentData)!==null&&e!==void 0?e:await this._fetchData({query:{after:void 0}})).total_cost}async getMaxTotalCost(){var e;return((e=this._currentData)!==null&&e!==void 0?e:await this._fetchData({query:{after:void 0}})).max_total_cost}};HelixPaginatedEventSubSubscriptionsRequest=__decorate([rtfm("api","HelixPaginatedEventSubSubscriptionsRequest")],HelixPaginatedEventSubSubscriptionsRequest);let HelixEventSubApi=class extends BaseApi{async getSubscriptions(e){const s=await this._client.callApi({type:"helix",url:"eventsub/subscriptions",query:createPaginationQuery(e)});return{...createPaginatedResultWithTotal(s,HelixEventSubSubscription,this._client),totalCost:s.total_cost,maxTotalCost:s.max_total_cost}}getSubscriptionsPaginated(){return new HelixPaginatedEventSubSubscriptionsRequest({},void 0,this._client)}async getSubscriptionsForStatus(e,s){const o=await this._client.callApi({type:"helix",url:"eventsub/subscriptions",query:{...createPaginationQuery(s),status:e}});return{...createPaginatedResultWithTotal(o,HelixEventSubSubscription,this._client),totalCost:o.total_cost,maxTotalCost:o.max_total_cost}}getSubscriptionsForStatusPaginated(e){return new HelixPaginatedEventSubSubscriptionsRequest({status:e},void 0,this._client)}async getSubscriptionsForType(e,s){const o=await this._client.callApi({type:"helix",url:"eventsub/subscriptions",query:{...createPaginationQuery(s),type:e}});return{...createPaginatedResultWithTotal(o,HelixEventSubSubscription,this._client),totalCost:o.total_cost,maxTotalCost:o.max_total_cost}}getSubscriptionsForTypePaginated(e){return new HelixPaginatedEventSubSubscriptionsRequest({type:e},void 0,this._client)}async getSubscriptionsForUser(e,s){const o=await this._client.callApi({type:"helix",url:"eventsub/subscriptions",userId:extractUserId(e),query:{...createSingleKeyQuery("user_id",extractUserId(e)),...createPaginationQuery(s)}});return{...createPaginatedResultWithTotal(o,HelixEventSubSubscription,this._client),totalCost:o.total_cost,maxTotalCost:o.max_total_cost}}getSubscriptionsForUserPaginated(e){const s=extractUserId(e);return new HelixPaginatedEventSubSubscriptionsRequest(createSingleKeyQuery("user_id",s),s,this._client)}async createSubscription(e,s,o,h,_,$,j,_e){const et=h.method==="webhook",tt=et?void 0:$;if(!et&&!_)throw new Error(`Transport ${h.method} can only handle subscriptions with user context`);const nt={type:e,version:s,condition:o,transport:h};_e&&(nt.is_batching_enabled=!0);const rt=await this._client.callApi({type:"helix",url:"eventsub/subscriptions",method:"POST",scopes:tt,userId:mapOptional(_,extractUserId),forceType:et?"app":"user",jsonBody:nt});return new HelixEventSubSubscription(rt.data[0],this._client)}async deleteSubscription(e){await this._client.callApi({type:"helix",url:"eventsub/subscriptions",method:"DELETE",query:{id:e}})}async deleteAllSubscriptions(){await this._deleteSubscriptionsWithCondition()}async deleteBrokenSubscriptions(){await this._deleteSubscriptionsWithCondition(e=>e.status!=="enabled"&&e.status!=="webhook_callback_verification_pending")}async subscribeToStreamOnlineEvents(e,s){return await this.createSubscription("stream.online","1",createEventSubBroadcasterCondition(e),s,e)}async subscribeToStreamOfflineEvents(e,s){return await this.createSubscription("stream.offline","1",createEventSubBroadcasterCondition(e),s,e)}async subscribeToChannelUpdateEvents(e,s){return await this.createSubscription("channel.update","1",createEventSubBroadcasterCondition(e),s,e)}async subscribeToChannelFollowEvents(e,s){const o=extractUserId(e);return await this.createSubscription("channel.follow","2",createEventSubModeratorCondition(o,this._getUserContextIdWithDefault(o)),s,o,["moderator:read:followers"],!0)}async subscribeToChannelSubscriptionEvents(e,s){return await this.createSubscription("channel.subscribe","1",createEventSubBroadcasterCondition(e),s,e,["channel:read:subscriptions"])}async subscribeToChannelSubscriptionGiftEvents(e,s){return await this.createSubscription("channel.subscription.gift","1",createEventSubBroadcasterCondition(e),s,e,["channel:read:subscriptions"])}async subscribeToChannelSubscriptionMessageEvents(e,s){return await this.createSubscription("channel.subscription.message","1",createEventSubBroadcasterCondition(e),s,e,["channel:read:subscriptions"])}async subscribeToChannelSubscriptionEndEvents(e,s){return await this.createSubscription("channel.subscription.end","1",createEventSubBroadcasterCondition(e),s,e,["channel:read:subscriptions"])}async subscribeToChannelCheerEvents(e,s){return await this.createSubscription("channel.cheer","1",createEventSubBroadcasterCondition(e),s,e,["bits:read"])}async subscribeToChannelCharityCampaignStartEvents(e,s){return await this.createSubscription("channel.charity_campaign.start","1",createEventSubBroadcasterCondition(e),s,e,["channel:read:charity"])}async subscribeToChannelCharityCampaignStopEvents(e,s){return await this.createSubscription("channel.charity_campaign.stop","1",createEventSubBroadcasterCondition(e),s,e,["channel:read:charity"])}async subscribeToChannelCharityDonationEvents(e,s){return await this.createSubscription("channel.charity_campaign.donate","1",createEventSubBroadcasterCondition(e),s,e,["channel:read:charity"])}async subscribeToChannelCharityCampaignProgressEvents(e,s){return await this.createSubscription("channel.charity_campaign.progress","1",createEventSubBroadcasterCondition(e),s,e,["channel:read:charity"])}async subscribeToChannelBanEvents(e,s){return await this.createSubscription("channel.ban","1",createEventSubBroadcasterCondition(e),s,e,["channel:moderate"])}async subscribeToChannelUnbanEvents(e,s){return await this.createSubscription("channel.unban","1",createEventSubBroadcasterCondition(e),s,e,["channel:moderate"])}async subscribeToChannelShieldModeBeginEvents(e,s){const o=extractUserId(e);return await this.createSubscription("channel.shield_mode.begin","1",createEventSubModeratorCondition(o,this._getUserContextIdWithDefault(o)),s,o,["moderator:read:shield_mode","moderator:manage:shield_mode"],!0)}async subscribeToChannelShieldModeEndEvents(e,s){const o=extractUserId(e);return await this.createSubscription("channel.shield_mode.end","1",createEventSubModeratorCondition(o,this._getUserContextIdWithDefault(o)),s,o,["moderator:read:shield_mode","moderator:manage:shield_mode"],!0)}async subscribeToChannelModeratorAddEvents(e,s){return await this.createSubscription("channel.moderator.add","1",createEventSubBroadcasterCondition(e),s,e,["moderation:read"])}async subscribeToChannelModeratorRemoveEvents(e,s){return await this.createSubscription("channel.moderator.remove","1",createEventSubBroadcasterCondition(e),s,e,["moderation:read"])}async subscribeToChannelRaidEventsFrom(e,s){return await this.createSubscription("channel.raid","1",createSingleKeyQuery("from_broadcaster_user_id",extractUserId(e)),s,e)}async subscribeToChannelRaidEventsTo(e,s){return await this.createSubscription("channel.raid","1",createSingleKeyQuery("to_broadcaster_user_id",extractUserId(e)),s,e)}async subscribeToChannelRewardAddEvents(e,s){return await this.createSubscription("channel.channel_points_custom_reward.add","1",createEventSubBroadcasterCondition(e),s,e,["channel:read:redemptions","channel:manage:redemptions"])}async subscribeToChannelRewardUpdateEvents(e,s){return await this.createSubscription("channel.channel_points_custom_reward.update","1",createEventSubBroadcasterCondition(e),s,e,["channel:read:redemptions","channel:manage:redemptions"])}async subscribeToChannelRewardUpdateEventsForReward(e,s,o){return await this.createSubscription("channel.channel_points_custom_reward.update","1",createEventSubRewardCondition(e,s),o,e,["channel:read:redemptions","channel:manage:redemptions"])}async subscribeToChannelRewardRemoveEvents(e,s){return await this.createSubscription("channel.channel_points_custom_reward.remove","1",createEventSubBroadcasterCondition(e),s,e,["channel:read:redemptions","channel:manage:redemptions"])}async subscribeToChannelRewardRemoveEventsForReward(e,s,o){return await this.createSubscription("channel.channel_points_custom_reward.remove","1",createEventSubRewardCondition(e,s),o,e,["channel:read:redemptions","channel:manage:redemptions"])}async subscribeToChannelRedemptionAddEvents(e,s){return await this.createSubscription("channel.channel_points_custom_reward_redemption.add","1",createEventSubBroadcasterCondition(e),s,e,["channel:read:redemptions","channel:manage:redemptions"])}async subscribeToChannelRedemptionAddEventsForReward(e,s,o){return await this.createSubscription("channel.channel_points_custom_reward_redemption.add","1",createEventSubRewardCondition(e,s),o,e,["channel:read:redemptions","channel:manage:redemptions"])}async subscribeToChannelRedemptionUpdateEvents(e,s){return await this.createSubscription("channel.channel_points_custom_reward_redemption.update","1",createEventSubBroadcasterCondition(e),s,e,["channel:read:redemptions","channel:manage:redemptions"])}async subscribeToChannelRedemptionUpdateEventsForReward(e,s,o){return await this.createSubscription("channel.channel_points_custom_reward_redemption.update","1",createEventSubRewardCondition(e,s),o,e,["channel:read:redemptions","channel:manage:redemptions"])}async subscribeToChannelPollBeginEvents(e,s){return await this.createSubscription("channel.poll.begin","1",createEventSubBroadcasterCondition(e),s,e,["channel:read:polls","channel:manage:polls"])}async subscribeToChannelPollProgressEvents(e,s){return await this.createSubscription("channel.poll.progress","1",createEventSubBroadcasterCondition(e),s,e,["channel:read:polls","channel:manage:polls"])}async subscribeToChannelPollEndEvents(e,s){return await this.createSubscription("channel.poll.end","1",createEventSubBroadcasterCondition(e),s,e,["channel:read:polls","channel:manage:polls"])}async subscribeToChannelPredictionBeginEvents(e,s){return await this.createSubscription("channel.prediction.begin","1",createEventSubBroadcasterCondition(e),s,e,["channel:read:predictions","channel:manage:predictions"])}async subscribeToChannelPredictionProgressEvents(e,s){return await this.createSubscription("channel.prediction.progress","1",createEventSubBroadcasterCondition(e),s,e,["channel:read:predictions","channel:manage:predictions"])}async subscribeToChannelPredictionLockEvents(e,s){return await this.createSubscription("channel.prediction.lock","1",createEventSubBroadcasterCondition(e),s,e,["channel:read:predictions","channel:manage:predictions"])}async subscribeToChannelPredictionEndEvents(e,s){return await this.createSubscription("channel.prediction.end","1",createEventSubBroadcasterCondition(e),s,e,["channel:read:predictions","channel:manage:predictions"])}async subscribeToChannelGoalBeginEvents(e,s){return await this.createSubscription("channel.goal.begin","1",createEventSubBroadcasterCondition(e),s,e,["channel:read:goals"])}async subscribeToChannelGoalProgressEvents(e,s){return await this.createSubscription("channel.goal.progress","1",createEventSubBroadcasterCondition(e),s,e,["channel:read:goals"])}async subscribeToChannelGoalEndEvents(e,s){return await this.createSubscription("channel.goal.end","1",createEventSubBroadcasterCondition(e),s,e,["channel:read:goals"])}async subscribeToChannelHypeTrainBeginEvents(e,s){return await this.createSubscription("channel.hype_train.begin","1",createEventSubBroadcasterCondition(e),s,e,["channel:read:hype_train"])}async subscribeToChannelHypeTrainProgressEvents(e,s){return await this.createSubscription("channel.hype_train.progress","1",createEventSubBroadcasterCondition(e),s,e,["channel:read:hype_train"])}async subscribeToChannelHypeTrainEndEvents(e,s){return await this.createSubscription("channel.hype_train.end","1",createEventSubBroadcasterCondition(e),s,e,["channel:read:hype_train"])}async subscribeToChannelShoutoutCreateEvents(e,s){const o=extractUserId(e);return await this.createSubscription("channel.shoutout.create","1",createEventSubModeratorCondition(o,this._getUserContextIdWithDefault(o)),s,o,["moderator:read:shoutouts","moderator:manage:shoutouts"],!0)}async subscribeToChannelShoutoutReceiveEvents(e,s){const o=extractUserId(e);return await this.createSubscription("channel.shoutout.receive","1",createEventSubModeratorCondition(o,this._getUserContextIdWithDefault(o)),s,o,["moderator:read:shoutouts","moderator:manage:shoutouts"],!0)}async subscribeToExtensionBitsTransactionCreateEvents(e,s){return await this.createSubscription("extension.bits_transaction.create","1",createSingleKeyQuery("extension_client_id",e),s)}async subscribeToUserAuthorizationGrantEvents(e,s){return await this.createSubscription("user.authorization.grant","1",createSingleKeyQuery("client_id",e),s)}async subscribeToUserAuthorizationRevokeEvents(e,s){return await this.createSubscription("user.authorization.revoke","1",createSingleKeyQuery("client_id",e),s)}async subscribeToUserUpdateEvents(e,s,o){return await this.createSubscription("user.update","1",createSingleKeyQuery("user_id",extractUserId(e)),s,e,o?["user:read:email"]:void 0)}async subscribeToDropEntitlementGrantEvents(e,s){return await this.createSubscription("drop.entitlement.grant","1",createEventSubDropEntitlementGrantCondition(e),s,void 0,void 0,!1,!0)}async _deleteSubscriptionsWithCondition(e){const s=this.getSubscriptionsPaginated();for await(const o of s)(!e||e(o))&&await o.unsubscribe()}};HelixEventSubApi=__decorate([rtfm("api","HelixEventSubApi")],HelixEventSubApi);function createReleasedExtensionFilter(i,e){return{extension_id:i,extension_version:e}}function createExtensionProductBody(i){return{sku:i.sku,cost:{amount:i.cost,type:"bits"},display_name:i.displayName,in_development:i.inDevelopment,expiration:i.expirationDate,is_broadcast:i.broadcast}}function createExtensionTransactionQuery(i,e){return{extension_id:i,id:e.transactionIds}}let HelixChannelReference=class extends DataObject{constructor(e,s){super(e),this._client=s}get id(){return this[rawDataSymbol].broadcaster_id}get displayName(){return this[rawDataSymbol].broadcaster_name}async getChannel(){return checkRelationAssertion(await this._client.channels.getChannelInfoById(this[rawDataSymbol].broadcaster_id))}async getBroadcaster(){return checkRelationAssertion(await this._client.users.getUserById(this[rawDataSymbol].broadcaster_id))}get gameId(){return this[rawDataSymbol].game_id}get gameName(){return this[rawDataSymbol].game_name}async getGame(){return this[rawDataSymbol].game_id?checkRelationAssertion(await this._client.games.getGameById(this[rawDataSymbol].game_id)):null}get title(){return this[rawDataSymbol].title}};__decorate([Enumerable(!1)],HelixChannelReference.prototype,"_client",void 0);HelixChannelReference=__decorate([rtfm("api","HelixChannelReference","id")],HelixChannelReference);let HelixExtensionBitsProduct=class extends DataObject{get sku(){return this[rawDataSymbol].sku}get cost(){return this[rawDataSymbol].cost.amount}get displayName(){return this[rawDataSymbol].display_name}get inDevelopment(){return this[rawDataSymbol].in_development}get isBroadcast(){return this[rawDataSymbol].is_broadcast}get expirationDate(){return mapNullable(this[rawDataSymbol].expiration,e=>new Date(e))}};HelixExtensionBitsProduct=__decorate([rtfm("api","HelixExtensionBitsProduct","sku")],HelixExtensionBitsProduct);let HelixExtensionTransaction=class extends DataObject{constructor(e,s){super(e),this._client=s}get id(){return this[rawDataSymbol].id}get transactionDate(){return new Date(this[rawDataSymbol].timestamp)}get broadcasterId(){return this[rawDataSymbol].broadcaster_id}get broadcasterName(){return this[rawDataSymbol].broadcaster_name}get broadcasterDisplayName(){return this[rawDataSymbol].broadcaster_name}async getBroadcaster(){return checkRelationAssertion(await this._client.users.getUserById(this[rawDataSymbol].broadcaster_id))}get userId(){return this[rawDataSymbol].user_id}get userName(){return this[rawDataSymbol].user_login}get userDisplayName(){return this[rawDataSymbol].user_name}async getUser(){return checkRelationAssertion(await this._client.users.getUserById(this[rawDataSymbol].user_id))}get productType(){return this[rawDataSymbol].product_type}get productSku(){return this[rawDataSymbol].product_data.sku}get productCost(){return this[rawDataSymbol].product_data.cost.amount}get productDisplayName(){return this[rawDataSymbol].product_data.displayName}get productInDevelopment(){return this[rawDataSymbol].product_data.inDevelopment}};__decorate([Enumerable(!1)],HelixExtensionTransaction.prototype,"_client",void 0);HelixExtensionTransaction=__decorate([rtfm("api","HelixExtensionTransaction","id")],HelixExtensionTransaction);let HelixExtensionsApi=class extends BaseApi{async getReleasedExtension(e,s){const o=await this._client.callApi({type:"helix",url:"extensions/released",query:createReleasedExtensionFilter(e,s)});return new HelixExtension(o.data[0])}async getLiveChannelsWithExtension(e,s){const o=await this._client.callApi({type:"helix",url:"extensions/live",query:{...createSingleKeyQuery("extension_id",e),...createPaginationQuery(s)}});return createPaginatedResult(o,HelixChannelReference,this._client)}getLiveChannelsWithExtensionPaginated(e){return new HelixPaginatedRequest({url:"extensions/live",query:createSingleKeyQuery("extension_id",e)},this._client,s=>new HelixChannelReference(s,this._client))}async getExtensionBitsProducts(e){return(await this._client.callApi({type:"helix",url:"bits/extensions",forceType:"app",query:createSingleKeyQuery("should_include_all",e==null?void 0:e.toString())})).data.map(o=>new HelixExtensionBitsProduct(o))}async putExtensionBitsProduct(e){const s=await this._client.callApi({type:"helix",url:"bits/extensions",method:"PUT",forceType:"app",jsonBody:createExtensionProductBody(e)});return new HelixExtensionBitsProduct(s.data[0])}async getExtensionTransactions(e,s={}){const o=await this._client.callApi({type:"helix",url:"extensions/transactions",forceType:"app",query:{...createExtensionTransactionQuery(e,s),...createPaginationQuery(s)}});return createPaginatedResult(o,HelixExtensionTransaction,this._client)}getExtensionTransactionsPaginated(e,s={}){return new HelixPaginatedRequest({url:"extensions/transactions",forceType:"app",query:createExtensionTransactionQuery(e,s)},this._client,o=>new HelixExtensionTransaction(o,this._client))}};HelixExtensionsApi=__decorate([rtfm("api","HelixExtensionsApi")],HelixExtensionsApi);let HelixGame=class extends DataObject{constructor(e,s){super(e),this._client=s}get id(){return this[rawDataSymbol].id}get name(){return this[rawDataSymbol].name}get boxArtUrl(){return this[rawDataSymbol].box_art_url}get igdbId(){return this[rawDataSymbol].igdb_id||null}getBoxArtUrl(e,s){return this[rawDataSymbol].box_art_url.replace("{width}",e.toString()).replace("{height}",s.toString())}async getStreams(e){return await this._client.streams.getStreams({...e,game:this[rawDataSymbol].id})}getStreamsPaginated(){return this._client.streams.getStreamsPaginated({game:this[rawDataSymbol].id})}};__decorate([Enumerable(!1)],HelixGame.prototype,"_client",void 0);HelixGame=__decorate([rtfm("api","HelixGame","id")],HelixGame);let HelixGameApi=class extends BaseApi{constructor(){super(...arguments),this._getGameByIdBatcher=new HelixRequestBatcher({url:"games"},"id","id",this._client,e=>new HelixGame(e,this._client)),this._getGameByNameBatcher=new HelixRequestBatcher({url:"games"},"name","name",this._client,e=>new HelixGame(e,this._client)),this._getGameByIgdbIdBatcher=new HelixRequestBatcher({url:"games"},"igdb_id","igdb_id",this._client,e=>new HelixGame(e,this._client))}async getGamesByIds(e){return await this._getGames("id",e)}async getGamesByNames(e){return await this._getGames("name",e)}async getGamesByIgdbIds(e){return await this._getGames("igdb_id",e)}async getGameById(e){var s;return(s=(await this._getGames("id",[e]))[0])!==null&&s!==void 0?s:null}async getGameByName(e){var s;return(s=(await this._getGames("name",[e]))[0])!==null&&s!==void 0?s:null}async getGameByIgdbId(e){var s;return(s=(await this._getGames("igdb_id",[e]))[0])!==null&&s!==void 0?s:null}async getGameByIdBatched(e){return await this._getGameByIdBatcher.request(e)}async getGameByNameBatched(e){return await this._getGameByNameBatcher.request(e)}async getGameByIgdbIdBatched(e){return await this._getGameByIgdbIdBatcher.request(e)}async getTopGames(e){const s=await this._client.callApi({type:"helix",url:"games/top",query:createPaginationQuery(e)});return createPaginatedResult(s,HelixGame,this._client)}getTopGamesPaginated(){return new HelixPaginatedRequest({url:"games/top"},this._client,e=>new HelixGame(e,this._client))}async _getGames(e,s){return s.length?(await this._client.callApi({type:"helix",url:"games",query:{[e]:s}})).data.map(h=>new HelixGame(h,this._client)):[]}};__decorate([Enumerable(!1)],HelixGameApi.prototype,"_getGameByIdBatcher",void 0);__decorate([Enumerable(!1)],HelixGameApi.prototype,"_getGameByNameBatcher",void 0);__decorate([Enumerable(!1)],HelixGameApi.prototype,"_getGameByIgdbIdBatcher",void 0);HelixGameApi=__decorate([rtfm("api","HelixGameApi")],HelixGameApi);let HelixGoal=class extends DataObject{constructor(e,s){super(e),this._client=s}get id(){return this[rawDataSymbol].id}get broadcasterId(){return this[rawDataSymbol].broadcaster_id}get broadcasterDisplayName(){return this[rawDataSymbol].broadcaster_name}get broadcasterName(){return this[rawDataSymbol].broadcaster_login}async getBroadcaster(){return checkRelationAssertion(await this._client.users.getUserById(this[rawDataSymbol].broadcaster_id))}get type(){return this[rawDataSymbol].type}get description(){return this[rawDataSymbol].description}get currentAmount(){return this[rawDataSymbol].current_amount}get targetAmount(){return this[rawDataSymbol].target_amount}get creationDate(){return this[rawDataSymbol].created_at}};__decorate([Enumerable(!1)],HelixGoal.prototype,"_client",void 0);HelixGoal=__decorate([rtfm("api","HelixGoal","id")],HelixGoal);let HelixGoalApi=class extends BaseApi{async getGoals(e){return(await this._client.callApi({type:"helix",url:"goals",userId:extractUserId(e),scopes:["channel:read:goals"],query:createBroadcasterQuery(e)})).data.map(o=>new HelixGoal(o,this._client))}};HelixGoalApi=__decorate([rtfm("api","HelixGoalApi")],HelixGoalApi);let HelixHypeTrainContribution=class extends DataObject{constructor(e,s){super(e),this._client=s}get userId(){return this[rawDataSymbol].user}async getUser(){return checkRelationAssertion(await this._client.users.getUserById(this[rawDataSymbol].user))}get type(){return this[rawDataSymbol].type}get total(){return this[rawDataSymbol].total}};__decorate([Enumerable(!1)],HelixHypeTrainContribution.prototype,"_client",void 0);HelixHypeTrainContribution=__decorate([rtfm("api","HelixHypeTrainContribution","userId")],HelixHypeTrainContribution);let HelixHypeTrainEvent=class extends DataObject{constructor(e,s){super(e),this._client=s}get eventId(){return this[rawDataSymbol].id}get eventType(){return this[rawDataSymbol].event_type}get eventDate(){return new Date(this[rawDataSymbol].event_timestamp)}get eventVersion(){return this[rawDataSymbol].version}get id(){return this[rawDataSymbol].event_data.id}get broadcasterId(){return this[rawDataSymbol].event_data.broadcaster_id}async getBroadcaster(){return checkRelationAssertion(await this._client.users.getUserById(this[rawDataSymbol].event_data.broadcaster_id))}get level(){return this[rawDataSymbol].event_data.level}get startDate(){return new Date(this[rawDataSymbol].event_data.started_at)}get expiryDate(){return new Date(this[rawDataSymbol].event_data.expires_at)}get cooldownDate(){return new Date(this[rawDataSymbol].event_data.cooldown_end_time)}get total(){return this[rawDataSymbol].event_data.total}get goal(){return this[rawDataSymbol].event_data.goal}get lastContribution(){return new HelixHypeTrainContribution(this[rawDataSymbol].event_data.last_contribution,this._client)}get topContributions(){return this[rawDataSymbol].event_data.top_contributions.map(e=>new HelixHypeTrainContribution(e,this._client))}};__decorate([Enumerable(!1)],HelixHypeTrainEvent.prototype,"_client",void 0);HelixHypeTrainEvent=__decorate([rtfm("api","HelixHypeTrainEvent","id")],HelixHypeTrainEvent);class HelixHypeTrainApi extends BaseApi{async getHypeTrainEventsForBroadcaster(e,s){const o=await this._client.callApi({type:"helix",url:"hypetrain/events",userId:extractUserId(e),scopes:["channel:read:hype_train"],query:{...createBroadcasterQuery(e),...createPaginationQuery(s)}});return createPaginatedResult(o,HelixHypeTrainEvent,this._client)}getHypeTrainEventsForBroadcasterPaginated(e){return new HelixPaginatedRequest({url:"hypetrain/events",userId:extractUserId(e),scopes:["channel:read:hype_train"],query:createBroadcasterQuery(e)},this._client,s=>new HelixHypeTrainEvent(s,this._client))}}function createModerationUserListQuery(i,e){return{broadcaster_id:extractUserId(i),user_id:e==null?void 0:e.userId}}function createModeratorModifyQuery(i,e){return{broadcaster_id:extractUserId(i),user_id:extractUserId(e)}}function createAutoModProcessBody(i,e,s){return{user_id:extractUserId(i),msg_id:e,action:s?"ALLOW":"DENY"}}function createAutoModSettingsBody(i){return{overall_level:i.overallLevel,aggression:i.aggression,bullying:i.bullying,disability:i.disability,misogyny:i.misogyny,race_ethnicity_or_religion:i.raceEthnicityOrReligion,sex_based_terms:i.sexBasedTerms,sexuality_sex_or_gender:i.sexualitySexOrGender,swearing:i.swearing}}function createBanUserBody(i){return{data:{duration:i.duration,reason:i.reason,user_id:extractUserId(i.user)}}}function createUpdateShieldModeStatusBody(i){return{is_active:i}}let HelixAutoModSettings=class extends DataObject{get broadcasterId(){return this[rawDataSymbol].broadcaster_id}get moderatorId(){return this[rawDataSymbol].moderator_id}get overallLevel(){return this[rawDataSymbol].overall_level?this[rawDataSymbol].overall_level:null}get disability(){return this[rawDataSymbol].disability}get aggression(){return this[rawDataSymbol].aggression}get sexualitySexOrGender(){return this[rawDataSymbol].sexuality_sex_or_gender}get misogyny(){return this[rawDataSymbol].misogyny}get bullying(){return this[rawDataSymbol].bullying}get swearing(){return this[rawDataSymbol].swearing}get raceEthnicityOrReligion(){return this[rawDataSymbol].race_ethnicity_or_religion}get sexBasedTerms(){return this[rawDataSymbol].sex_based_terms}};HelixAutoModSettings=__decorate([rtfm("api","HelixAutoModSettings","broadcasterId")],HelixAutoModSettings);let HelixAutoModStatus=class extends DataObject{get messageId(){return this[rawDataSymbol].msg_id}get isPermitted(){return this[rawDataSymbol].is_permitted}};HelixAutoModStatus=__decorate([rtfm("api","HelixAutoModStatus","messageId")],HelixAutoModStatus);let HelixBanUser=class extends DataObject{constructor(e,s,o){super(e),this._expiryTimestamp=s,this._client=o}get creationDate(){return new Date(this[rawDataSymbol].created_at)}get expiryDate(){return mapNullable(this._expiryTimestamp,e=>new Date(e))}get moderatorId(){return this[rawDataSymbol].moderator_id}async getModerator(){return checkRelationAssertion(await this._client.users.getUserById(this[rawDataSymbol].moderator_id))}get userId(){return this[rawDataSymbol].user_id}async getUser(){return checkRelationAssertion(await this._client.users.getUserById(this[rawDataSymbol].user_id))}};__decorate([Enumerable(!1)],HelixBanUser.prototype,"_client",void 0);__decorate([Enumerable(!1)],HelixBanUser.prototype,"_expiryTimestamp",void 0);HelixBanUser=__decorate([rtfm("api","HelixBanUser","userId")],HelixBanUser);let HelixBan=class extends HelixBanUser{constructor(e,s){super(e,e.expires_at||null,s)}get userName(){return this[rawDataSymbol].user_login}get userDisplayName(){return this[rawDataSymbol].user_name}get moderatorName(){return this[rawDataSymbol].moderator_login}get moderatorDisplayName(){return this[rawDataSymbol].moderator_name}get reason(){return this[rawDataSymbol].reason||null}};HelixBan=__decorate([rtfm("api","HelixBan","userId")],HelixBan);let HelixBlockedTerm=class extends DataObject{get broadcasterId(){return this[rawDataSymbol].broadcaster_id}get creationDate(){return new Date(this[rawDataSymbol].created_at)}get expirationDate(){return this[rawDataSymbol].expires_at?new Date(this[rawDataSymbol].expires_at):null}get id(){return this[rawDataSymbol].id}get moderatorId(){return this[rawDataSymbol].moderator_id}get text(){return this[rawDataSymbol].text}get updatedDate(){return new Date(this[rawDataSymbol].updated_at)}};HelixBlockedTerm=__decorate([rtfm("api","HelixBlockedTerm","id")],HelixBlockedTerm);let HelixModerator=class extends DataObject{constructor(e,s){super(e),this._client=s}get userId(){return this[rawDataSymbol].user_id}get userName(){return this[rawDataSymbol].user_login}get userDisplayName(){return this[rawDataSymbol].user_name}async getUser(){return checkRelationAssertion(await this._client.users.getUserById(this[rawDataSymbol].user_id))}};__decorate([Enumerable(!1)],HelixModerator.prototype,"_client",void 0);HelixModerator=__decorate([rtfm("api","HelixModerator","userId")],HelixModerator);let HelixShieldModeStatus=class extends DataObject{constructor(e,s){super(e),this._client=s}get isActive(){return this[rawDataSymbol].is_active}get moderatorId(){return this[rawDataSymbol].moderator_id}get moderatorName(){return this[rawDataSymbol].moderator_login}get moderatorDisplayName(){return this[rawDataSymbol].moderator_name}async getModerator(){return checkRelationAssertion(await this._client.users.getUserById(this[rawDataSymbol].moderator_id))}get lastActivationDate(){return this[rawDataSymbol].last_activated_at===""?null:new Date(this[rawDataSymbol].last_activated_at)}};__decorate([Enumerable(!1)],HelixShieldModeStatus.prototype,"_client",void 0);HelixShieldModeStatus=__decorate([rtfm("api","HelixShieldModeStatus")],HelixShieldModeStatus);let HelixModerationApi=class extends BaseApi{async getBannedUsers(e,s){const o=await this._client.callApi({type:"helix",url:"moderation/banned",userId:extractUserId(e),scopes:["moderation:read"],query:{...createModerationUserListQuery(e,s),...createPaginationQuery(s)}});return createPaginatedResult(o,HelixBan,this._client)}getBannedUsersPaginated(e){return new HelixPaginatedRequest({url:"moderation/banned",userId:extractUserId(e),scopes:["moderation:read"],query:createBroadcasterQuery(e)},this._client,s=>new HelixBan(s,this._client),50)}async checkUserBan(e,s){const o=extractUserId(s);return(await this.getBannedUsers(e,{userId:o})).data.some(_=>_.userId===o)}async getModerators(e,s){const o=await this._client.callApi({type:"helix",url:"moderation/moderators",userId:extractUserId(e),scopes:["moderation:read","channel:manage:moderators"],query:{...createModerationUserListQuery(e,s),...createPaginationQuery(s)}});return createPaginatedResult(o,HelixModerator,this._client)}getModeratorsPaginated(e){return new HelixPaginatedRequest({url:"moderation/moderators",userId:extractUserId(e),scopes:["moderation:read","channel:manage:moderators"],query:createBroadcasterQuery(e)},this._client,s=>new HelixModerator(s,this._client))}async checkUserMod(e,s){const o=extractUserId(s);return(await this.getModerators(e,{userId:o})).data.some(_=>_.userId===o)}async addModerator(e,s){await this._client.callApi({type:"helix",url:"moderation/moderators",method:"POST",userId:extractUserId(e),scopes:["channel:manage:moderators"],query:createModeratorModifyQuery(e,s)})}async removeModerator(e,s){await this._client.callApi({type:"helix",url:"moderation/moderators",method:"DELETE",userId:extractUserId(e),scopes:["channel:manage:moderators"],query:createModeratorModifyQuery(e,s)})}async checkAutoModStatus(e,s){return(await this._client.callApi({type:"helix",url:"moderation/enforcements/status",method:"POST",userId:extractUserId(e),scopes:["moderation:read"],query:createBroadcasterQuery(e),jsonBody:{data:s}})).data.map(h=>new HelixAutoModStatus(h))}async processHeldAutoModMessage(e,s,o){await this._client.callApi({type:"helix",url:"moderation/automod/message",method:"POST",userId:extractUserId(e),scopes:["moderator:manage:automod"],jsonBody:createAutoModProcessBody(e,s,o)})}async getAutoModSettings(e){const s=extractUserId(e);return(await this._client.callApi({type:"helix",url:"moderation/automod/settings",userId:s,scopes:["moderator:read:automod_settings"],canOverrideScopedUserContext:!0,query:this._createModeratorActionQuery(s)})).data.map(h=>new HelixAutoModSettings(h))}async updateAutoModSettings(e,s){const o=extractUserId(e);return(await this._client.callApi({type:"helix",url:"moderation/automod/settings",method:"PUT",userId:o,scopes:["moderator:manage:automod_settings"],canOverrideScopedUserContext:!0,query:this._createModeratorActionQuery(o),jsonBody:createAutoModSettingsBody(s)})).data.map(_=>new HelixAutoModSettings(_))}async banUser(e,s){const o=extractUserId(e);return(await this._client.callApi({type:"helix",url:"moderation/bans",method:"POST",userId:o,scopes:["moderator:manage:banned_users"],canOverrideScopedUserContext:!0,query:this._createModeratorActionQuery(o),jsonBody:createBanUserBody(s)})).data.map(_=>new HelixBanUser(_,_.end_time,this._client))}async unbanUser(e,s){const o=extractUserId(e);await this._client.callApi({type:"helix",url:"moderation/bans",method:"DELETE",userId:o,scopes:["moderator:manage:banned_users"],canOverrideScopedUserContext:!0,query:{...this._createModeratorActionQuery(o),...createSingleKeyQuery("user_id",extractUserId(s))}})}async getBlockedTerms(e,s){const o=extractUserId(e),h=await this._client.callApi({type:"helix",url:"moderation/blocked_terms",userId:o,scopes:["moderator:read:blocked_terms"],canOverrideScopedUserContext:!0,query:{...this._createModeratorActionQuery(o),...createPaginationQuery(s)}});return createPaginatedResult(h,HelixBlockedTerm,this._client)}async addBlockedTerm(e,s){const o=extractUserId(e);return(await this._client.callApi({type:"helix",url:"moderation/blocked_terms",method:"POST",userId:o,scopes:["moderator:manage:blocked_terms"],canOverrideScopedUserContext:!0,query:this._createModeratorActionQuery(o),jsonBody:{text:s}})).data.map(_=>new HelixBlockedTerm(_))}async removeBlockedTerm(e,s,o){const h=extractUserId(e);await this._client.callApi({type:"helix",url:"moderation/blocked_terms",method:"DELETE",userId:h,scopes:["moderator:manage:blocked_terms"],canOverrideScopedUserContext:!0,query:{...this._createModeratorActionQuery(h),id:o}})}async deleteChatMessages(e,s){const o=extractUserId(e);await this._client.callApi({type:"helix",url:"moderation/chat",method:"DELETE",userId:o,scopes:["moderator:manage:chat_messages"],canOverrideScopedUserContext:!0,query:{...this._createModeratorActionQuery(o),...createSingleKeyQuery("message_id",s)}})}async getShieldModeStatus(e){const s=extractUserId(e),o=await this._client.callApi({type:"helix",url:"moderation/shield_mode",method:"GET",userId:s,scopes:["moderator:read:shield_mode","moderator:manage:shield_mode"],canOverrideScopedUserContext:!0,query:this._createModeratorActionQuery(s)});return new HelixShieldModeStatus(o.data[0],this._client)}async updateShieldModeStatus(e,s){const o=extractUserId(e),h=await this._client.callApi({type:"helix",url:"moderation/shield_mode",method:"PUT",userId:o,scopes:["moderator:manage:shield_mode"],canOverrideScopedUserContext:!0,query:this._createModeratorActionQuery(o),jsonBody:createUpdateShieldModeStatusBody(s)});return new HelixShieldModeStatus(h.data[0],this._client)}_createModeratorActionQuery(e){return createModeratorActionQuery(e,this._getUserContextIdWithDefault(e))}};HelixModerationApi=__decorate([rtfm("api","HelixModerationApi")],HelixModerationApi);function createPollBody(i,e){var s;return{broadcaster_id:extractUserId(i),title:e.title,choices:e.choices.map(o=>({title:o})),duration:e.duration,channel_points_voting_enabled:e.channelPointsPerVote!=null,channel_points_per_vote:(s=e.channelPointsPerVote)!==null&&s!==void 0?s:0}}function createPollEndBody(i,e,s){return{broadcaster_id:extractUserId(i),id:e,status:s?"TERMINATED":"ARCHIVED"}}let HelixPollChoice=class extends DataObject{get id(){return this[rawDataSymbol].id}get title(){return this[rawDataSymbol].title}get totalVotes(){return this[rawDataSymbol].votes}get channelPointsVotes(){return this[rawDataSymbol].channel_points_votes}};HelixPollChoice=__decorate([rtfm("api","HelixPollChoice","id")],HelixPollChoice);let HelixPoll=class extends DataObject{constructor(e,s){super(e),this._client=s}get id(){return this[rawDataSymbol].id}get broadcasterId(){return this[rawDataSymbol].broadcaster_id}get broadcasterName(){return this[rawDataSymbol].broadcaster_login}get broadcasterDisplayName(){return this[rawDataSymbol].broadcaster_name}async getBroadcaster(){return checkRelationAssertion(await this._client.users.getUserById(this[rawDataSymbol].broadcaster_id))}get title(){return this[rawDataSymbol].title}get isChannelPointsVotingEnabled(){return this[rawDataSymbol].channel_points_voting_enabled}get channelPointsPerVote(){return this[rawDataSymbol].channel_points_per_vote}get status(){return this[rawDataSymbol].status}get durationInSeconds(){return this[rawDataSymbol].duration}get startDate(){return new Date(this[rawDataSymbol].started_at)}get endDate(){return new Date(this.startDate.getTime()+this[rawDataSymbol].duration*1e3)}get choices(){return this[rawDataSymbol].choices.map(e=>new HelixPollChoice(e))}};__decorate([Enumerable(!1)],HelixPoll.prototype,"_client",void 0);HelixPoll=__decorate([rtfm("api","HelixPoll","id")],HelixPoll);let HelixPollApi=class extends BaseApi{async getPolls(e,s){const o=await this._client.callApi({type:"helix",url:"polls",userId:extractUserId(e),scopes:["channel:read:polls"],query:{...createBroadcasterQuery(e),...createPaginationQuery(s)}});return createPaginatedResult(o,HelixPoll,this._client)}getPollsPaginated(e){return new HelixPaginatedRequest({url:"polls",userId:extractUserId(e),scopes:["channel:read:polls"],query:createBroadcasterQuery(e)},this._client,s=>new HelixPoll(s,this._client),20)}async getPollsByIds(e,s){return s.length?(await this._client.callApi({type:"helix",url:"polls",userId:extractUserId(e),scopes:["channel:read:polls"],query:createGetByIdsQuery(e,s)})).data.map(h=>new HelixPoll(h,this._client)):[]}async getPollById(e,s){const o=await this.getPollsByIds(e,[s]);return o.length?o[0]:null}async createPoll(e,s){const o=await this._client.callApi({type:"helix",url:"polls",method:"POST",userId:extractUserId(e),scopes:["channel:manage:polls"],jsonBody:createPollBody(e,s)});return new HelixPoll(o.data[0],this._client)}async endPoll(e,s,o=!0){const h=await this._client.callApi({type:"helix",url:"polls",method:"PATCH",userId:extractUserId(e),scopes:["channel:manage:polls"],jsonBody:createPollEndBody(e,s,o)});return new HelixPoll(h.data[0],this._client)}};HelixPollApi=__decorate([rtfm("api","HelixPollApi")],HelixPollApi);function createPredictionBody(i,e){return{broadcaster_id:extractUserId(i),title:e.title,outcomes:e.outcomes.map(s=>({title:s})),prediction_window:e.autoLockAfter}}function createEndPredictionBody(i,e,s,o){return{broadcaster_id:extractUserId(i),id:e,status:s,winning_outcome_id:o}}let HelixPredictor=class extends DataObject{constructor(e,s){super(e),this._client=s}get userId(){return this[rawDataSymbol].id}get userName(){return this[rawDataSymbol].login}get userDisplayName(){return this[rawDataSymbol].name}async getUser(){return await this._client.users.getUserById(this[rawDataSymbol].id)}get channelPointsUsed(){return this[rawDataSymbol].channel_points_used}get channelPointsWon(){return this[rawDataSymbol].channel_points_won}};__decorate([Enumerable(!1)],HelixPredictor.prototype,"_client",void 0);HelixPredictor=__decorate([rtfm("api","HelixPredictor","userId")],HelixPredictor);let HelixPredictionOutcome=class extends DataObject{constructor(e,s){super(e),this._client=s}get id(){return this[rawDataSymbol].id}get title(){return this[rawDataSymbol].title}get users(){return this[rawDataSymbol].users}get totalChannelPoints(){return this[rawDataSymbol].channel_points}get color(){return this[rawDataSymbol].color}get topPredictors(){var e,s;return(s=(e=this[rawDataSymbol].top_predictors)===null||e===void 0?void 0:e.map(o=>new HelixPredictor(o,this._client)))!==null&&s!==void 0?s:[]}};__decorate([Enumerable(!1)],HelixPredictionOutcome.prototype,"_client",void 0);HelixPredictionOutcome=__decorate([rtfm("api","HelixPredictionOutcome","id")],HelixPredictionOutcome);let HelixPrediction=class extends DataObject{constructor(e,s){super(e),this._client=s}get id(){return this[rawDataSymbol].id}get broadcasterId(){return this[rawDataSymbol].broadcaster_id}get broadcasterName(){return this[rawDataSymbol].broadcaster_login}get broadcasterDisplayName(){return this[rawDataSymbol].broadcaster_name}async getBroadcaster(){return checkRelationAssertion(await this._client.users.getUserById(this[rawDataSymbol].broadcaster_id))}get title(){return this[rawDataSymbol].title}get status(){return this[rawDataSymbol].status}get autoLockAfter(){return this[rawDataSymbol].prediction_window}get creationDate(){return new Date(this[rawDataSymbol].created_at)}get endDate(){return this[rawDataSymbol].ended_at?new Date(this[rawDataSymbol].ended_at):null}get lockDate(){return this[rawDataSymbol].locked_at?new Date(this[rawDataSymbol].locked_at):null}get outcomes(){return this[rawDataSymbol].outcomes.map(e=>new HelixPredictionOutcome(e,this._client))}get winningOutcomeId(){return this[rawDataSymbol].winning_outcome_id||null}get winningOutcome(){if(!this[rawDataSymbol].winning_outcome_id)return null;const e=this[rawDataSymbol].outcomes.find(s=>s.id===this[rawDataSymbol].winning_outcome_id);if(!e)throw new HellFreezesOverError("Winning outcome not found in outcomes array");return new HelixPredictionOutcome(e,this._client)}};__decorate([Enumerable(!1)],HelixPrediction.prototype,"_client",void 0);HelixPrediction=__decorate([rtfm("api","HelixPrediction","id")],HelixPrediction);let HelixPredictionApi=class extends BaseApi{async getPredictions(e,s){const o=await this._client.callApi({type:"helix",url:"predictions",userId:extractUserId(e),scopes:["channel:read:predictions"],query:{...createBroadcasterQuery(e),...createPaginationQuery(s)}});return createPaginatedResult(o,HelixPrediction,this._client)}getPredictionsPaginated(e){return new HelixPaginatedRequest({url:"predictions",userId:extractUserId(e),scopes:["channel:read:predictions"],query:createBroadcasterQuery(e)},this._client,s=>new HelixPrediction(s,this._client),20)}async getPredictionsByIds(e,s){return s.length?(await this._client.callApi({type:"helix",url:"predictions",userId:extractUserId(e),scopes:["channel:read:predictions"],query:createGetByIdsQuery(e,s)})).data.map(h=>new HelixPrediction(h,this._client)):[]}async getPredictionById(e,s){const o=await this.getPredictionsByIds(e,[s]);return o.length?o[0]:null}async createPrediction(e,s){const o=await this._client.callApi({type:"helix",url:"predictions",method:"POST",userId:extractUserId(e),scopes:["channel:manage:predictions"],jsonBody:createPredictionBody(e,s)});return new HelixPrediction(o.data[0],this._client)}async lockPrediction(e,s){return await this._endPrediction(e,s,"LOCKED")}async resolvePrediction(e,s,o){return await this._endPrediction(e,s,"RESOLVED",o)}async cancelPrediction(e,s){return await this._endPrediction(e,s,"CANCELED")}async _endPrediction(e,s,o,h){const _=await this._client.callApi({type:"helix",url:"predictions",method:"PATCH",userId:extractUserId(e),scopes:["channel:manage:predictions"],jsonBody:createEndPredictionBody(e,s,o,h)});return new HelixPrediction(_.data[0],this._client)}};HelixPredictionApi=__decorate([rtfm("api","HelixPredictionApi")],HelixPredictionApi);function createRaidStartQuery(i,e){return{from_broadcaster_id:extractUserId(i),to_broadcaster_id:extractUserId(e)}}let HelixRaid=class extends DataObject{get creationDate(){return new Date(this[rawDataSymbol].created_at)}get targetIsMature(){return this[rawDataSymbol].is_mature}};HelixRaid=__decorate([rtfm("api","HelixRaid")],HelixRaid);let HelixRaidApi=class extends BaseApi{async startRaid(e,s){const o=await this._client.callApi({type:"helix",url:"raids",method:"POST",userId:extractUserId(e),scopes:["channel:manage:raids"],query:createRaidStartQuery(e,s)});return new HelixRaid(o.data[0])}async cancelRaid(e){await this._client.callApi({type:"helix",url:"raids",method:"DELETE",userId:extractUserId(e),scopes:["channel:manage:raids"],query:createBroadcasterQuery(e)})}};HelixRaidApi=__decorate([rtfm("api","HelixRaidApi")],HelixRaidApi);function createScheduleQuery(i,e){var s;return{broadcaster_id:extractUserId(i),start_time:e==null?void 0:e.startDate,utc_offset:(s=e==null?void 0:e.utcOffset)===null||s===void 0?void 0:s.toString()}}function createScheduleSettingsUpdateQuery(i,e){return e.vacation?{broadcaster_id:extractUserId(i),is_vacation_enabled:"true",vacation_start_time:e.vacation.startDate,vacation_end_time:e.vacation.endDate,timezone:e.vacation.timezone}:{broadcaster_id:extractUserId(i),is_vacation_enabled:"false"}}function createScheduleSegmentBody(i){return{start_time:i.startDate,timezone:i.timezone,is_recurring:i.isRecurring,duration:i.duration,category_id:i.categoryId,title:i.title}}function createScheduleSegmentModifyQuery(i,e){return{broadcaster_id:extractUserId(i),id:e}}function createScheduleSegmentUpdateBody(i){return{start_time:i.startDate,timezone:i.timezone,is_canceled:i.isCanceled,duration:i.duration,category_id:i.categoryId,title:i.title}}let HelixScheduleSegment=class extends DataObject{constructor(e,s){super(e),this._client=s}get id(){return this[rawDataSymbol].id}get startDate(){return new Date(this[rawDataSymbol].start_time)}get endDate(){return new Date(this[rawDataSymbol].end_time)}get title(){return this[rawDataSymbol].title}get cancelEndDate(){return mapNullable(this[rawDataSymbol].canceled_until,e=>new Date(e))}get categoryId(){var e,s;return(s=(e=this[rawDataSymbol].category)===null||e===void 0?void 0:e.id)!==null&&s!==void 0?s:null}get categoryName(){var e,s;return(s=(e=this[rawDataSymbol].category)===null||e===void 0?void 0:e.name)!==null&&s!==void 0?s:null}async getCategory(){var e;const s=(e=this[rawDataSymbol].category)===null||e===void 0?void 0:e.id;return s?await this._client.games.getGameById(s):null}get isRecurring(){return this[rawDataSymbol].is_recurring}};__decorate([Enumerable(!1)],HelixScheduleSegment.prototype,"_client",void 0);HelixScheduleSegment=__decorate([rtfm("api","HelixScheduleSegment","id")],HelixScheduleSegment);let HelixPaginatedScheduleSegmentRequest=class extends HelixPaginatedRequest{constructor(e,s,o){super({url:"schedule",query:createScheduleQuery(e,o)},s,h=>new HelixScheduleSegment(h,s),25)}async _fetchData(e={}){var s;const o=await super._fetchData(e);return{data:(s=o.data.segments)!==null&&s!==void 0?s:[],pagination:o.pagination}}};HelixPaginatedScheduleSegmentRequest=__decorate([rtfm("api","HelixPaginatedScheduleSegmentRequest")],HelixPaginatedScheduleSegmentRequest);let HelixSchedule=class extends DataObject{constructor(e,s){super(e),this._client=s}get segments(){var e,s;return(s=(e=this[rawDataSymbol].segments)===null||e===void 0?void 0:e.map(o=>new HelixScheduleSegment(o,this._client)))!==null&&s!==void 0?s:[]}get broadcasterId(){return this[rawDataSymbol].broadcaster_id}get broadcasterName(){return this[rawDataSymbol].broadcaster_login}get broadcasterDisplayName(){return this[rawDataSymbol].broadcaster_name}async getBroadcaster(){return checkRelationAssertion(await this._client.users.getUserById(this[rawDataSymbol].broadcaster_id))}get vacationStartDate(){var e;const s=(e=this[rawDataSymbol].vacation)===null||e===void 0?void 0:e.start_time;return s?new Date(s):null}get vacationEndDate(){var e;const s=(e=this[rawDataSymbol].vacation)===null||e===void 0?void 0:e.end_time;return s?new Date(s):null}};__decorate([Enumerable(!1)],HelixSchedule.prototype,"_client",void 0);HelixSchedule=__decorate([rtfm("api","HelixSchedule","broadcasterId")],HelixSchedule);class HelixScheduleApi extends BaseApi{async getSchedule(e,s){const o=await this._client.callApi({type:"helix",url:"schedule",userId:extractUserId(e),query:{...createScheduleQuery(e,s),...createPaginationQuery(s)}});return{data:new HelixSchedule(o.data,this._client),cursor:o.pagination.cursor}}getScheduleSegmentsPaginated(e,s){return new HelixPaginatedScheduleSegmentRequest(e,this._client,s)}async getScheduleSegmentsByIds(e,s){var o,h;return(h=(o=(await this._client.callApi({type:"helix",url:"schedule",userId:extractUserId(e),query:createGetByIdsQuery(e,s)})).data.segments)===null||o===void 0?void 0:o.map($=>new HelixScheduleSegment($,this._client)))!==null&&h!==void 0?h:[]}async getScheduleSegmentById(e,s){const o=await this.getScheduleSegmentsByIds(e,[s]);return o.length?o[0]:null}async getScheduleAsIcal(e){return await this._client.callApi({type:"helix",url:"schedule/icalendar",query:createBroadcasterQuery(e)})}async updateScheduleSettings(e,s){await this._client.callApi({type:"helix",url:"schedule/settings",method:"PATCH",userId:extractUserId(e),scopes:["channel:manage:schedule"],query:createScheduleSettingsUpdateQuery(e,s)})}async createScheduleSegment(e,s){const o=await this._client.callApi({type:"helix",url:"schedule/segment",method:"POST",userId:extractUserId(e),scopes:["channel:manage:schedule"],query:createBroadcasterQuery(e),jsonBody:createScheduleSegmentBody(s)});return new HelixScheduleSegment(o.data.segments[0],this._client)}async updateScheduleSegment(e,s,o){const h=await this._client.callApi({type:"helix",url:"schedule/segment",method:"PATCH",userId:extractUserId(e),scopes:["channel:manage:schedule"],query:createScheduleSegmentModifyQuery(e,s),jsonBody:createScheduleSegmentUpdateBody(o)});return new HelixScheduleSegment(h.data.segments[0],this._client)}async deleteScheduleSegment(e,s){await this._client.callApi({type:"helix",url:"schedule/segment",method:"DELETE",userId:extractUserId(e),scopes:["channel:manage:schedule"],query:createScheduleSegmentModifyQuery(e,s)})}}function createSearchChannelsQuery(i,e){var s;return{query:i,live_only:(s=e.liveOnly)===null||s===void 0?void 0:s.toString()}}let HelixChannelSearchResult=class extends DataObject{constructor(e,s){super(e),this._client=s}get language(){return this[rawDataSymbol].broadcaster_language}get id(){return this[rawDataSymbol].id}get name(){return this[rawDataSymbol].broadcaster_login}get displayName(){return this[rawDataSymbol].display_name}async getUser(){return checkRelationAssertion(await this._client.users.getUserById(this[rawDataSymbol].id))}get gameId(){return this[rawDataSymbol].game_id}get gameName(){return this[rawDataSymbol].game_name}async getGame(){return this[rawDataSymbol].game_id?checkRelationAssertion(await this._client.games.getGameById(this[rawDataSymbol].game_id)):null}get isLive(){return this[rawDataSymbol].is_live}get tags(){return this[rawDataSymbol].tags}get thumbnailUrl(){return this[rawDataSymbol].thumbnail_url}get startDate(){return this[rawDataSymbol].is_live?new Date(this[rawDataSymbol].started_at):null}};__decorate([Enumerable(!1)],HelixChannelSearchResult.prototype,"_client",void 0);HelixChannelSearchResult=__decorate([rtfm("api","HelixChannelSearchResult","id")],HelixChannelSearchResult);let HelixSearchApi=class extends BaseApi{async searchCategories(e,s){const o=await this._client.callApi({type:"helix",url:"search/categories",query:{query:e,...createPaginationQuery(s)}});return createPaginatedResult(o,HelixGame,this._client)}searchCategoriesPaginated(e){return new HelixPaginatedRequest({url:"search/categories",query:{query:e}},this._client,s=>new HelixGame(s,this._client))}async searchChannels(e,s={}){const o=await this._client.callApi({type:"helix",url:"search/channels",query:{...createSearchChannelsQuery(e,s),...createPaginationQuery(s)}});return createPaginatedResult(o,HelixChannelSearchResult,this._client)}searchChannelsPaginated(e,s={}){return new HelixPaginatedRequest({url:"search/channels",query:createSearchChannelsQuery(e,s)},this._client,o=>new HelixChannelSearchResult(o,this._client))}};HelixSearchApi=__decorate([rtfm("api","HelixSearchApi")],HelixSearchApi);class StreamNotLiveError extends CustomError{constructor(e){super("Your stream needs to be live to do this",e)}}function createStreamQuery(i){return{game_id:i.game,language:i.language,type:i.type,user_id:i.userId,user_login:i.userName}}function createStreamMarkerBody(i,e){return{user_id:extractUserId(i),description:e}}function createVideoQuery(i){return{video_id:i}}let HelixStream=class extends DataObject{constructor(e,s){super(e),this._client=s}get id(){return this[rawDataSymbol].id}get userId(){return this[rawDataSymbol].user_id}get userName(){return this[rawDataSymbol].user_login}get userDisplayName(){return this[rawDataSymbol].user_name}async getUser(){return checkRelationAssertion(await this._client.users.getUserById(this[rawDataSymbol].user_id))}get gameId(){return this[rawDataSymbol].game_id}get gameName(){return this[rawDataSymbol].game_name}async getGame(){return this[rawDataSymbol].game_id?checkRelationAssertion(await this._client.games.getGameById(this[rawDataSymbol].game_id)):null}get type(){return this[rawDataSymbol].type}get title(){return this[rawDataSymbol].title}get viewers(){return this[rawDataSymbol].viewer_count}get startDate(){return new Date(this[rawDataSymbol].started_at)}get language(){return this[rawDataSymbol].language}get thumbnailUrl(){return this[rawDataSymbol].thumbnail_url}getThumbnailUrl(e,s){return this[rawDataSymbol].thumbnail_url.replace("{width}",e.toString()).replace("{height}",s.toString())}get tags(){return this[rawDataSymbol].tags}get isMature(){return this[rawDataSymbol].is_mature}};__decorate([Enumerable(!1)],HelixStream.prototype,"_client",void 0);HelixStream=__decorate([rtfm("api","HelixStream","id")],HelixStream);let HelixStreamMarker=class extends DataObject{constructor(e,s){super(e),this._client=s}get id(){return this[rawDataSymbol].id}get creationDate(){return new Date(this[rawDataSymbol].created_at)}get description(){return this[rawDataSymbol].description}get positionInSeconds(){return this[rawDataSymbol].position_seconds}};__decorate([Enumerable(!1)],HelixStreamMarker.prototype,"_client",void 0);HelixStreamMarker=__decorate([rtfm("api","HelixStreamMarker","id")],HelixStreamMarker);let HelixStreamMarkerWithVideo=class extends HelixStreamMarker{constructor(e,s,o){super(e,o),this._videoId=s}get url(){return this[rawDataSymbol].URL}get videoId(){return this._videoId}async getVideo(){return checkRelationAssertion(await this._client.videos.getVideoById(this._videoId))}};HelixStreamMarkerWithVideo=__decorate([rtfm("api","HelixStreamMarkerWithVideo","id")],HelixStreamMarkerWithVideo);var HelixStreamApi_1;let HelixStreamApi=HelixStreamApi_1=class extends BaseApi{constructor(){super(...arguments),this._getStreamByUserIdBatcher=new HelixRequestBatcher({url:"streams"},"user_id","user_id",this._client,e=>new HelixStream(e,this._client)),this._getStreamByUserNameBatcher=new HelixRequestBatcher({url:"streams"},"user_login","user_login",this._client,e=>new HelixStream(e,this._client))}async getStreams(e={}){const s=await this._client.callApi({url:"streams",type:"helix",query:{...createStreamQuery(e),...createPaginationQuery(e)}});return createPaginatedResult(s,HelixStream,this._client)}getStreamsPaginated(e={}){return new HelixPaginatedRequest({url:"streams",query:createStreamQuery(e)},this._client,s=>new HelixStream(s,this._client))}async getStreamsByUserNames(e){return(await this.getStreams({userName:e.map(extractUserName)})).data}async getStreamByUserName(e){var s;return(s=(await this.getStreamsByUserNames([e]))[0])!==null&&s!==void 0?s:null}async getStreamByUserNameBatched(e){return await this._getStreamByUserNameBatcher.request(extractUserName(e))}async getStreamsByUserIds(e){return(await this.getStreams({userId:e.map(extractUserId)})).data}async getStreamByUserId(e){const s=extractUserId(e),o=await this._client.callApi({url:"streams",type:"helix",userId:s,query:createStreamQuery({userId:s})});return mapNullable(o.data[0],h=>new HelixStream(h,this._client))}async getStreamByUserIdBatched(e){return await this._getStreamByUserIdBatcher.request(extractUserId(e))}async getStreamMarkersForUser(e,s){var o;const h=await this._client.callApi({url:"streams/markers",type:"helix",query:{...createUserQuery(e),...createPaginationQuery(s)},userId:extractUserId(e),scopes:["user:read:broadcast"],canOverrideScopedUserContext:!0});return{data:flatten(h.data.map(_=>HelixStreamApi_1._mapGetStreamMarkersResult(_,this._client))),cursor:(o=h.pagination)===null||o===void 0?void 0:o.cursor}}getStreamMarkersForUserPaginated(e){return new HelixPaginatedRequest({url:"streams/markers",query:createUserQuery(e),userId:extractUserId(e),scopes:["user:read:broadcast"],canOverrideScopedUserContext:!0},this._client,s=>HelixStreamApi_1._mapGetStreamMarkersResult(s,this._client))}async getStreamMarkersForVideo(e,s,o){var h;const _=await this._client.callApi({url:"streams/markers",type:"helix",query:{...createVideoQuery(s),...createPaginationQuery(o)},userId:extractUserId(e),scopes:["user:read:broadcast"],canOverrideScopedUserContext:!0});return{data:flatten(_.data.map($=>HelixStreamApi_1._mapGetStreamMarkersResult($,this._client))),cursor:(h=_.pagination)===null||h===void 0?void 0:h.cursor}}getStreamMarkersForVideoPaginated(e,s){return new HelixPaginatedRequest({url:"streams/markers",query:createVideoQuery(s),userId:extractUserId(e),scopes:["user:read:broadcast"],canOverrideScopedUserContext:!0},this._client,o=>HelixStreamApi_1._mapGetStreamMarkersResult(o,this._client))}async createStreamMarker(e,s){try{const o=await this._client.callApi({url:"streams/markers",method:"POST",type:"helix",userId:extractUserId(e),scopes:["channel:manage:broadcast"],canOverrideScopedUserContext:!0,jsonBody:createStreamMarkerBody(e,s)});return new HelixStreamMarker(o.data[0],this._client)}catch(o){throw o instanceof HttpStatusCodeError&&o.statusCode===404?new StreamNotLiveError({cause:o}):o}}async getStreamKey(e){const s=extractUserId(e);return(await this._client.callApi({type:"helix",url:"streams/key",userId:s,scopes:["channel:read:stream_key"],query:createBroadcasterQuery(e)})).data[0].stream_key}async getFollowedStreams(e,s){const o=extractUserId(e),h=await this._client.callApi({type:"helix",url:"streams/followed",userId:o,scopes:["user:read:follows"],query:{...createSingleKeyQuery("user_id",o),...createPaginationQuery(s)}});return createPaginatedResult(h,HelixStream,this._client)}getFollowedStreamsPaginated(e){const s=extractUserId(e);return new HelixPaginatedRequest({url:"streams/followed",userId:s,scopes:["user:read:follows"],query:createSingleKeyQuery("user_id",s)},this._client,o=>new HelixStream(o,this._client))}static _mapGetStreamMarkersResult(e,s){return e.videos.reduce((o,h)=>[...o,...h.markers.map(_=>new HelixStreamMarkerWithVideo(_,h.video_id,s))],[])}};__decorate([Enumerable(!1)],HelixStreamApi.prototype,"_getStreamByUserIdBatcher",void 0);__decorate([Enumerable(!1)],HelixStreamApi.prototype,"_getStreamByUserNameBatcher",void 0);HelixStreamApi=HelixStreamApi_1=__decorate([rtfm("api","HelixStreamApi")],HelixStreamApi);function createSubscriptionCheckQuery(i,e){return{broadcaster_id:extractUserId(i),user_id:extractUserId(e)}}let HelixUserSubscription=class extends DataObject{constructor(e,s){super(e),this._client=s}get broadcasterId(){return this[rawDataSymbol].broadcaster_id}get broadcasterName(){return this[rawDataSymbol].broadcaster_login}get broadcasterDisplayName(){return this[rawDataSymbol].broadcaster_name}async getBroadcaster(){return await this._client.users.getUserById(this[rawDataSymbol].broadcaster_id)}get isGift(){return this[rawDataSymbol].is_gift}get tier(){return this[rawDataSymbol].tier}};__decorate([Enumerable(!1)],HelixUserSubscription.prototype,"_client",void 0);HelixUserSubscription=__decorate([rtfm("api","HelixUserSubscription","broadcasterId")],HelixUserSubscription);let HelixSubscription=class extends HelixUserSubscription{get broadcasterId(){return this[rawDataSymbol].broadcaster_id}get broadcasterName(){return this[rawDataSymbol].broadcaster_login}get broadcasterDisplayName(){return this[rawDataSymbol].broadcaster_name}async getBroadcaster(){return checkRelationAssertion(await this._client.users.getUserById(this[rawDataSymbol].broadcaster_id))}get gifterId(){return this[rawDataSymbol].is_gift?this[rawDataSymbol].gifter_id:null}get gifterName(){return this[rawDataSymbol].is_gift?this[rawDataSymbol].gifter_login:null}get gifterDisplayName(){return this[rawDataSymbol].is_gift?this[rawDataSymbol].gifter_name:null}async getGifter(){return this[rawDataSymbol].is_gift?checkRelationAssertion(await this._client.users.getUserById(this[rawDataSymbol].gifter_id)):null}get userId(){return this[rawDataSymbol].user_id}get userName(){return this[rawDataSymbol].user_login}get userDisplayName(){return this[rawDataSymbol].user_name}async getUser(){return checkRelationAssertion(await this._client.users.getUserById(this[rawDataSymbol].user_id))}};HelixSubscription=__decorate([rtfm("api","HelixSubscription","userId")],HelixSubscription);let HelixPaginatedSubscriptionsRequest=class extends HelixPaginatedRequestWithTotal{constructor(e,s){super({url:"subscriptions",scopes:["channel:read:subscriptions"],userId:extractUserId(e),query:createBroadcasterQuery(e)},s,o=>new HelixSubscription(o,s))}async getPoints(){var e;return((e=this._currentData)!==null&&e!==void 0?e:await this._fetchData({query:{after:void 0}})).points}};HelixPaginatedSubscriptionsRequest=__decorate([rtfm("api","HelixPaginatedSubscriptionsRequest")],HelixPaginatedSubscriptionsRequest);let HelixSubscriptionApi=class extends BaseApi{async getSubscriptions(e,s){const o=await this._client.callApi({url:"subscriptions",scopes:["channel:read:subscriptions"],type:"helix",userId:extractUserId(e),query:{...createBroadcasterQuery(e),...createPaginationQuery(s)}});return{...createPaginatedResultWithTotal(o,HelixSubscription,this._client),points:o.points}}getSubscriptionsPaginated(e){return new HelixPaginatedSubscriptionsRequest(e,this._client)}async getSubscriptionsForUsers(e,s){return(await this._client.callApi({type:"helix",url:"subscriptions",userId:extractUserId(e),scopes:["channel:read:subscriptions"],query:createChannelUsersCheckQuery(e,s)})).data.map(h=>new HelixSubscription(h,this._client))}async getSubscriptionForUser(e,s){const o=await this.getSubscriptionsForUsers(e,[s]);return o.length?o[0]:null}async checkUserSubscription(e,s){try{const o=await this._client.callApi({type:"helix",url:"subscriptions/user",userId:extractUserId(e),scopes:["user:read:subscriptions"],query:createSubscriptionCheckQuery(s,e)});return new HelixUserSubscription(o.data[0],this._client)}catch(o){if(o instanceof HttpStatusCodeError&&o.statusCode===404)return null;throw o}}};HelixSubscriptionApi=__decorate([rtfm("api","HelixSubscriptionApi")],HelixSubscriptionApi);let HelixTeam=class extends DataObject{constructor(e,s){super(e),this._client=s}get id(){return this[rawDataSymbol].id}get name(){return this[rawDataSymbol].team_name}get displayName(){return this[rawDataSymbol].team_display_name}get backgroundImageUrl(){return this[rawDataSymbol].background_image_url}get bannerUrl(){return this[rawDataSymbol].banner}get creationDate(){return new Date(this[rawDataSymbol].created_at)}get updateDate(){return new Date(this[rawDataSymbol].updated_at)}get info(){return this[rawDataSymbol].info}get logoThumbnailUrl(){return this[rawDataSymbol].thumbnail_url}async getUserRelations(){return(await this._client.teams.getTeamById(this.id)).userRelations}};__decorate([Enumerable(!1)],HelixTeam.prototype,"_client",void 0);HelixTeam=__decorate([rtfm("api","HelixTeam","id")],HelixTeam);let HelixTeamWithUsers=class extends HelixTeam{get userRelations(){return this[rawDataSymbol].users.map(e=>new HelixUserRelation(e,this._client))}};HelixTeamWithUsers=__decorate([rtfm("api","HelixTeamWithUsers","id")],HelixTeamWithUsers);let HelixTeamApi=class extends BaseApi{async getTeamsForBroadcaster(e){var s,o;return(o=(s=(await this._client.callApi({type:"helix",url:"teams/channel",userId:extractUserId(e),query:createBroadcasterQuery(e)})).data)===null||s===void 0?void 0:s.map(_=>new HelixTeam(_,this._client)))!==null&&o!==void 0?o:[]}async getTeamById(e){try{const s=await this._client.callApi({type:"helix",url:"teams",query:{id:e}});return new HelixTeamWithUsers(s.data[0],this._client)}catch(s){if(s instanceof HttpStatusCodeError&&s.statusCode===500)return null;throw s}}async getTeamByName(e){try{const s=await this._client.callApi({type:"helix",url:"teams",query:{name:e}});return new HelixTeamWithUsers(s.data[0],this._client)}catch(s){if(s instanceof HttpStatusCodeError&&s.statusCode===404)return null;throw s}}};HelixTeamApi=__decorate([rtfm("api","HelixTeamApi")],HelixTeamApi);function createUserBlockCreateQuery(i,e){return{target_user_id:extractUserId(i),source_context:e.sourceContext,reason:e.reason}}function createUserBlockDeleteQuery(i){return{target_user_id:extractUserId(i)}}class HelixBaseExtension extends DataObject{get id(){return this[rawDataSymbol].id}get version(){return this[rawDataSymbol].version}get name(){return this[rawDataSymbol].name}}let HelixInstalledExtension=class extends HelixBaseExtension{constructor(e,s,o){super(o),this._slotType=e,this._slotId=s}get slotType(){return this._slotType}get slotId(){return this._slotId}};HelixInstalledExtension=__decorate([rtfm("api","HelixInstalledExtension","id")],HelixInstalledExtension);let HelixInstalledExtensionList=class extends DataObject{getExtensionAtSlot(e,s){const o=this[rawDataSymbol][e][s];return o.active?new HelixInstalledExtension(e,s,o):null}getExtensionsForSlotType(e){return[...Object.entries(this[rawDataSymbol][e])].filter(s=>s[1].active).map(([s,o])=>new HelixInstalledExtension(e,s,o))}getAllExtensions(){return[...Object.entries(this[rawDataSymbol])].flatMap(([e,s])=>[...Object.entries(s)].filter(o=>o[1].active).map(([o,h])=>new HelixInstalledExtension(e,o,h)))}};HelixInstalledExtensionList=__decorate([rtfm("api","HelixInstalledExtensionList")],HelixInstalledExtensionList);let HelixUserExtension=class extends HelixBaseExtension{get canActivate(){return this[rawDataSymbol].can_activate}get types(){return this[rawDataSymbol].type}};HelixUserExtension=__decorate([rtfm("api","HelixUserExtension","id")],HelixUserExtension);let HelixUser=class extends DataObject{constructor(e,s){super(e),this._client=s}get id(){return this[rawDataSymbol].id}get name(){return this[rawDataSymbol].login}get displayName(){return this[rawDataSymbol].display_name}get description(){return this[rawDataSymbol].description}get type(){return this[rawDataSymbol].type}get broadcasterType(){return this[rawDataSymbol].broadcaster_type}get profilePictureUrl(){return this[rawDataSymbol].profile_image_url}get offlinePlaceholderUrl(){return this[rawDataSymbol].offline_image_url}get creationDate(){return new Date(this[rawDataSymbol].created_at)}async getStream(){return await this._client.streams.getStreamByUserId(this)}async getFollowedChannels(){return await this._client.channels.getFollowedChannels(this)}async getFollowedChannel(e){var s;return(s=(await this._client.channels.getFollowedChannels(this,e)).data[0])!==null&&s!==void 0?s:null}async follows(e){return await this.getFollowedChannel(e)!==null}async getChannelFollowers(){return await this._client.channels.getChannelFollowers(this)}async getChannelFollower(e){var s;return(s=(await this._client.channels.getChannelFollowers(this,e)).data[0])!==null&&s!==void 0?s:null}async isFollowedBy(e){return await this.getChannelFollower(e)!==null}async getSubscriptionTo(e){return await this._client.subscriptions.checkUserSubscription(this,e)}async isSubscribedTo(e){return await this.getSubscriptionTo(e)!==null}async getSubscriber(e){return await this._client.subscriptions.getSubscriptionForUser(this,e)}async hasSubscriber(e){return await this.getSubscriber(e)!==null}};__decorate([Enumerable(!1)],HelixUser.prototype,"_client",void 0);HelixUser=__decorate([rtfm("api","HelixUser","id")],HelixUser);let HelixPrivilegedUser=class extends HelixUser{get email(){return this[rawDataSymbol].email}async setDescription(e){return await this._client.users.updateAuthenticatedUser(this,{description:e})}};HelixPrivilegedUser=__decorate([rtfm("api","HelixPrivilegedUser","id")],HelixPrivilegedUser);let HelixUserBlock=class extends DataObject{constructor(e,s){super(e),this._client=s}get userId(){return this[rawDataSymbol].user_id}get userName(){return this[rawDataSymbol].user_login}get userDisplayName(){return this[rawDataSymbol].display_name}async getUser(){return checkRelationAssertion(await this._client.users.getUserById(this[rawDataSymbol].user_id))}};__decorate([Enumerable(!1)],HelixUserBlock.prototype,"_client",void 0);HelixUserBlock=__decorate([rtfm("api","HelixUserBlock","userId")],HelixUserBlock);let HelixUserApi=class extends BaseApi{constructor(){super(...arguments),this._getUserByIdBatcher=new HelixRequestBatcher({url:"users"},"id","id",this._client,e=>new HelixUser(e,this._client)),this._getUserByNameBatcher=new HelixRequestBatcher({url:"users"},"login","login",this._client,e=>new HelixUser(e,this._client))}async getUsersByIds(e){return await this._getUsers("id",e.map(extractUserId))}async getUsersByNames(e){return await this._getUsers("login",e.map(extractUserName))}async getUserById(e){const s=extractUserId(e),o=await this._client.callApi({type:"helix",url:"users",userId:s,query:{id:s}});return mapNullable(o.data[0],h=>new HelixUser(h,this._client))}async getUserByIdBatched(e){return await this._getUserByIdBatcher.request(extractUserId(e))}async getUserByName(e){const s=await this._getUsers("login",[extractUserName(e)]);return s.length?s[0]:null}async getUserByNameBatched(e){return await this._getUserByNameBatcher.request(extractUserName(e))}async getAuthenticatedUser(e,s=!1){var o;const h=await this._client.callApi({type:"helix",url:"users",forceType:"user",userId:extractUserId(e),scopes:s?["user:read:email"]:void 0});if(!(!((o=h.data)===null||o===void 0)&&o.length))throw new HellFreezesOverError("Could not get authenticated user");return new HelixPrivilegedUser(h.data[0],this._client)}async updateAuthenticatedUser(e,s){const o=await this._client.callApi({type:"helix",url:"users",method:"PUT",userId:extractUserId(e),scopes:["user:edit"],query:{description:s.description}});return new HelixPrivilegedUser(o.data[0],this._client)}async getBlocks(e,s){const o=await this._client.callApi({type:"helix",url:"users/blocks",userId:extractUserId(e),scopes:["user:read:blocked_users"],query:{...createBroadcasterQuery(e),...createPaginationQuery(s)}});return createPaginatedResult(o,HelixUserBlock,this._client)}getBlocksPaginated(e){return new HelixPaginatedRequest({url:"users/blocks",userId:extractUserId(e),scopes:["user:read:blocked_users"],query:createBroadcasterQuery(e)},this._client,s=>new HelixUserBlock(s,this._client))}async createBlock(e,s,o={}){await this._client.callApi({type:"helix",url:"users/blocks",method:"PUT",userId:extractUserId(e),scopes:["user:manage:blocked_users"],query:createUserBlockCreateQuery(s,o)})}async deleteBlock(e,s){await this._client.callApi({type:"helix",url:"users/blocks",method:"DELETE",userId:extractUserId(e),scopes:["user:manage:blocked_users"],query:createUserBlockDeleteQuery(s)})}async getExtensionsForAuthenticatedUser(e,s=!1){return(await this._client.callApi({type:"helix",url:"users/extensions/list",userId:extractUserId(e),scopes:s?["user:edit:broadcast"]:["user:read:broadcast","user:edit:broadcast"]})).data.map(h=>new HelixUserExtension(h))}async getActiveExtensions(e,s=!1){const o=extractUserId(e),h=await this._client.callApi({type:"helix",url:"users/extensions",userId:o,scopes:s?["user:read:broadcast","user:edit:broadcast"]:void 0,query:createSingleKeyQuery("user_id",o)});return new HelixInstalledExtensionList(h.data)}async updateActiveExtensionsForAuthenticatedUser(e,s){const o=await this._client.callApi({type:"helix",url:"users/extensions",method:"PUT",userId:extractUserId(e),scopes:["user:edit:broadcast"],jsonBody:{data:s}});return new HelixInstalledExtensionList(o.data)}async _getUsers(e,s){if(s.length===0)return[];const o={[e]:s};return(await this._client.callApi({type:"helix",url:"users",query:o})).data.map(_=>new HelixUser(_,this._client))}};__decorate([Enumerable(!1)],HelixUserApi.prototype,"_getUserByIdBatcher",void 0);__decorate([Enumerable(!1)],HelixUserApi.prototype,"_getUserByNameBatcher",void 0);HelixUserApi=__decorate([rtfm("api","HelixUserApi")],HelixUserApi);let HelixVideo=class extends DataObject{constructor(e,s){super(e),this._client=s}get id(){return this[rawDataSymbol].id}get userId(){return this[rawDataSymbol].user_id}get userName(){return this[rawDataSymbol].user_login}get userDisplayName(){return this[rawDataSymbol].user_name}async getUser(){return checkRelationAssertion(await this._client.users.getUserById(this[rawDataSymbol].user_id))}get title(){return this[rawDataSymbol].title}get description(){return this[rawDataSymbol].description}get creationDate(){return new Date(this[rawDataSymbol].created_at)}get publishDate(){return new Date(this[rawDataSymbol].published_at)}get url(){return this[rawDataSymbol].url}get thumbnailUrl(){return this[rawDataSymbol].thumbnail_url}getThumbnailUrl(e,s){return this[rawDataSymbol].thumbnail_url.replace("%{width}",e.toString()).replace("%{height}",s.toString())}get isPublic(){return this[rawDataSymbol].viewable==="public"}get views(){return this[rawDataSymbol].view_count}get language(){return this[rawDataSymbol].language}get type(){return this[rawDataSymbol].type}get duration(){return this[rawDataSymbol].duration}get durationInSeconds(){const e=this[rawDataSymbol].duration.match(/\d+[hms]/g);if(!e)throw new HellFreezesOverError(`Could not parse duration string: ${this[rawDataSymbol].duration}`);return e.map(s=>{const o=/(\d+)([hms])/.exec(s);if(!o)throw new HellFreezesOverError(`Could not parse partial duration string: ${s}`);const[,h,_]=o;return parseInt(h,10)*{h:3600,m:60,s:1}[_]}).reduce((s,o)=>s+o)}get streamId(){return this[rawDataSymbol].stream_id}get mutedSegmentData(){var e,s;return(s=(e=this[rawDataSymbol].muted_segments)===null||e===void 0?void 0:e.slice())!==null&&s!==void 0?s:[]}isMutedAt(e,s,o=!1){if(this[rawDataSymbol].muted_segments===null)return!1;if(s==null)return this[rawDataSymbol].muted_segments.some(_=>_.offset<=e&&e<=_.offset+_.duration);const h=e+s;return o?this[rawDataSymbol].muted_segments.some(_=>{const $=_.offset+_.duration;return e<$&&_.offset<h}):this[rawDataSymbol].muted_segments.some(_=>{const $=_.offset+_.duration;return _.offset<=e&&h<=$})}};__decorate([Enumerable(!1)],HelixVideo.prototype,"_client",void 0);__decorate([CachedGetter()],HelixVideo.prototype,"durationInSeconds",null);HelixVideo=__decorate([Cacheable,rtfm("api","HelixVideo","id")],HelixVideo);var HelixVideoApi_1;let HelixVideoApi=HelixVideoApi_1=class extends BaseApi{constructor(){super(...arguments),this._getVideoByIdBatcher=new HelixRequestBatcher({url:"videos"},"id","id",this._client,e=>new HelixVideo(e,this._client))}async getVideosByIds(e){return(await this._getVideos("id",e)).data}async getVideoById(e){const s=await this.getVideosByIds([e]);return s.length?s[0]:null}async getVideoByIdBatched(e){return await this._getVideoByIdBatcher.request(e)}async getVideosByUser(e,s={}){const o=extractUserId(e);return await this._getVideos("user_id",[o],s)}getVideosByUserPaginated(e,s={}){const o=extractUserId(e);return this._getVideosPaginated("user_id",[o],s)}async getVideosByGame(e,s={}){return await this._getVideos("game_id",[e],s)}getVideosByGamePaginated(e,s={}){return this._getVideosPaginated("game_id",[e],s)}async deleteVideosByIds(e,s){await this._client.callApi({type:"helix",url:"videos",method:"DELETE",scopes:["channel:manage:videos"],userId:extractUserId(e),query:{id:s}})}async _getVideos(e,s,o={}){if(!s.length)return{data:[]};const h=await this._client.callApi({type:"helix",url:"videos",userId:e==="user_id"?s[0]:void 0,query:{...HelixVideoApi_1._makeVideosQuery(e,s,o),...createPaginationQuery(o)}});return createPaginatedResult(h,HelixVideo,this._client)}_getVideosPaginated(e,s,o={}){return new HelixPaginatedRequest({url:"videos",userId:e==="user_id"?s[0]:void 0,query:HelixVideoApi_1._makeVideosQuery(e,s,o)},this._client,h=>new HelixVideo(h,this._client))}static _makeVideosQuery(e,s,o={}){const{language:h,period:_,orderBy:$,type:j}=o;return{[e]:s,language:h,period:_,sort:$,type:j}}};__decorate([Enumerable(!1)],HelixVideoApi.prototype,"_getVideoByIdBatcher",void 0);HelixVideoApi=HelixVideoApi_1=__decorate([rtfm("api","HelixVideoApi")],HelixVideoApi);function createWhisperQuery(i,e){return{from_user_id:extractUserId(i),to_user_id:extractUserId(e)}}let HelixWhisperApi=class extends BaseApi{async sendWhisper(e,s,o){await this._client.callApi({type:"helix",url:"whispers",method:"POST",userId:extractUserId(e),scopes:["user:manage:whispers"],query:createWhisperQuery(e,s),jsonBody:{message:o}})}};HelixWhisperApi=__decorate([rtfm("api","HelixWhisperApi")],HelixWhisperApi);class ApiReportedRequest{constructor(e,s,o){this._options=e,this._httpStatus=s,this._resolvedUserId=o}get options(){return this._options}get httpStatus(){return this._httpStatus}get resolvedUserId(){return this._resolvedUserId}}let BaseApiClient=class extends EventEmitter{constructor(e,s,o){super(),this.onRequest=this.registerEvent(),this._config=e,this._logger=s,this._rateLimiter=o}async requestScopesForUser(e,s){await this._config.authProvider.getAccessTokenForUser(e,...s.map(o=>[o]))}async getTokenInfo(){try{const e=await this.callApi({type:"auth",url:"validate"});return new TokenInfo(e)}catch(e){throw e instanceof HttpStatusCodeError&&e.statusCode===401?new InvalidTokenError({cause:e}):e}}async callApi(e){var s;const{authProvider:o}=this._config;if(!((s=e.auth)!==null&&s!==void 0?s:!0))return await callTwitchApi(e,o.clientId,void 0,void 0,this._config.fetchOptions);let _=!1;if(e.forceType)switch(e.forceType){case"app":{if(!o.getAppAccessToken)throw new Error("Tried to make an API call that requires an app access token but your auth provider does not support that");const _e=await o.getAppAccessToken();return await this._callApiUsingInitialToken(e,_e)}case"user":{_=!0;break}default:throw new HellFreezesOverError(`Unknown forced token type: ${e.forceType}`)}if(e.scopes&&(_=!0),_){const _e=e.canOverrideScopedUserContext?this._getUserIdFromRequestContext(e.userId):e.userId;if(!_e)throw new Error("Tried to make an API call with a user context but no context user ID");const et=await o.getAccessTokenForUser(_e,e.scopes);if(!et)throw new Error(`Tried to make an API call with a user context for user ID ${_e} but no token was found`);if(accessTokenIsExpired(et)&&o.refreshAccessTokenForUser){const tt=await o.refreshAccessTokenForUser(_e);return await this._callApiUsingInitialToken(e,tt,!0)}return await this._callApiUsingInitialToken(e,et)}const $=this._getUserIdFromRequestContext(e.userId),j=$===null?await o.getAnyAccessToken():await o.getAnyAccessToken($??e.userId);if(accessTokenIsExpired(j)&&j.userId&&o.refreshAccessTokenForUser){const _e=await o.refreshAccessTokenForUser(j.userId);return await this._callApiUsingInitialToken(e,_e,!0)}return await this._callApiUsingInitialToken(e,j)}get bits(){return new HelixBitsApi(this)}get channels(){return new HelixChannelApi(this)}get channelPoints(){return new HelixChannelPointsApi(this)}get charity(){return new HelixCharityApi(this)}get chat(){return new HelixChatApi(this)}get clips(){return new HelixClipApi(this)}get contentClassificationLabels(){return new HelixContentClassificationLabelApi(this)}get entitlements(){return new HelixEntitlementApi(this)}get eventSub(){return new HelixEventSubApi(this)}get extensions(){return new HelixExtensionsApi(this)}get games(){return new HelixGameApi(this)}get hypeTrain(){return new HelixHypeTrainApi(this)}get goals(){return new HelixGoalApi(this)}get moderation(){return new HelixModerationApi(this)}get polls(){return new HelixPollApi(this)}get predictions(){return new HelixPredictionApi(this)}get raids(){return new HelixRaidApi(this)}get schedule(){return new HelixScheduleApi(this)}get search(){return new HelixSearchApi(this)}get streams(){return new HelixStreamApi(this)}get subscriptions(){return new HelixSubscriptionApi(this)}get teams(){return new HelixTeamApi(this)}get users(){return new HelixUserApi(this)}get videos(){return new HelixVideoApi(this)}get whispers(){return new HelixWhisperApi(this)}get rateLimiterStats(){return this._rateLimiter instanceof ResponseBasedRateLimiter?this._rateLimiter.stats:null}get _authProvider(){return this._config.authProvider}get _batchDelay(){var e;return(e=this._config.batchDelay)!==null&&e!==void 0?e:0}_getUserIdFromRequestContext(e){return e}async _callApiUsingInitialToken(e,s,o=!1){var h;const{authProvider:_}=this._config,{authorizationType:$}=_;let j=await this._callApiInternal(e,_.clientId,s.accessToken,$);if(j.status===401&&!o){if(s.userId){if(_.refreshAccessTokenForUser){const _e=await _.refreshAccessTokenForUser(s.userId);j=await this._callApiInternal(e,_.clientId,_e.accessToken,$)}}else if(_.getAppAccessToken){const _e=await _.getAppAccessToken(!0);j=await this._callApiInternal(e,_.clientId,_e.accessToken,$)}}return this.emit(this.onRequest,new ApiReportedRequest(e,j.status,(h=s.userId)!==null&&h!==void 0?h:null)),await handleTwitchApiResponseError(j,e),await transformTwitchApiResponse(j)}async _callApiInternal(e,s,o,h){var _,$,j;const{fetchOptions:_e}=this._config,et=(_=e.type)!==null&&_!==void 0?_:"helix";this._logger.debug(`Calling ${et} API: ${($=e.method)!==null&&$!==void 0?$:"GET"} ${e.url}`),this._logger.trace(`Query: ${JSON.stringify(e.query)}`),e.jsonBody&&this._logger.trace(`Request body: ${JSON.stringify(e.jsonBody)}`);const tt=retry.operation({retries:3,minTimeout:500,factor:2}),{promise:nt,resolve:rt,reject:st}=promiseWithResolvers();tt.attempt(async()=>{try{const ct=et==="helix"?await this._rateLimiter.request({options:e,clientId:s,accessToken:o,authorizationType:h,fetchOptions:_e}):await callTwitchApiRaw(e,s,o,h,_e);!ct.ok&&ct.status>=500&&ct.status<600&&await handleTwitchApiResponseError(ct,e),rt(ct)}catch(ct){if(tt.retry(ct))return;st(tt.mainError())}});const lt=await nt;return this._logger.debug(`Called ${et} API: ${(j=e.method)!==null&&j!==void 0?j:"GET"} ${e.url} - result: ${lt.status}`),lt}};__decorate([CachedGetter()],BaseApiClient.prototype,"bits",null);__decorate([CachedGetter()],BaseApiClient.prototype,"channels",null);__decorate([CachedGetter()],BaseApiClient.prototype,"channelPoints",null);__decorate([CachedGetter()],BaseApiClient.prototype,"charity",null);__decorate([CachedGetter()],BaseApiClient.prototype,"chat",null);__decorate([CachedGetter()],BaseApiClient.prototype,"clips",null);__decorate([CachedGetter()],BaseApiClient.prototype,"contentClassificationLabels",null);__decorate([CachedGetter()],BaseApiClient.prototype,"entitlements",null);__decorate([CachedGetter()],BaseApiClient.prototype,"eventSub",null);__decorate([CachedGetter()],BaseApiClient.prototype,"extensions",null);__decorate([CachedGetter()],BaseApiClient.prototype,"games",null);__decorate([CachedGetter()],BaseApiClient.prototype,"hypeTrain",null);__decorate([CachedGetter()],BaseApiClient.prototype,"goals",null);__decorate([CachedGetter()],BaseApiClient.prototype,"moderation",null);__decorate([CachedGetter()],BaseApiClient.prototype,"polls",null);__decorate([CachedGetter()],BaseApiClient.prototype,"predictions",null);__decorate([CachedGetter()],BaseApiClient.prototype,"raids",null);__decorate([CachedGetter()],BaseApiClient.prototype,"schedule",null);__decorate([CachedGetter()],BaseApiClient.prototype,"search",null);__decorate([CachedGetter()],BaseApiClient.prototype,"streams",null);__decorate([CachedGetter()],BaseApiClient.prototype,"subscriptions",null);__decorate([CachedGetter()],BaseApiClient.prototype,"teams",null);__decorate([CachedGetter()],BaseApiClient.prototype,"users",null);__decorate([CachedGetter()],BaseApiClient.prototype,"videos",null);__decorate([CachedGetter()],BaseApiClient.prototype,"whispers",null);BaseApiClient=__decorate([Cacheable,rtfm("api","ApiClient")],BaseApiClient);let NoContextApiClient=class extends BaseApiClient{_getUserIdFromRequestContext(){return null}};NoContextApiClient=__decorate([rtfm("api","ApiClient")],NoContextApiClient);let UserContextApiClient=class extends BaseApiClient{constructor(e,s,o,h){super(e,s,o),this._userId=h}_getUserIdFromRequestContext(){return this._userId}};UserContextApiClient=__decorate([rtfm("api","ApiClient")],UserContextApiClient);let ApiClient=class extends BaseApiClient{constructor(e){if(!e.authProvider)throw new ConfigError("No auth provider given. Please supply the `authProvider` option.");const s={name:"twurple:api:rate-limiter",...e.logger};super(e,createLogger({name:"twurple:api:client",...e.logger}),isNode?new PartitionedRateLimiter({getPartitionKey:o=>{var h;return(h=o.userId)!==null&&h!==void 0?h:null},createChild:()=>new HelixRateLimiter({logger:s})}):new PartitionedTimeBasedRateLimiter({logger:s,bucketSize:800,timeFrame:64e3,doRequest:async({options:o,clientId:h,accessToken:_,authorizationType:$,fetchOptions:j})=>await callTwitchApiRaw(o,h,_,$,j),getPartitionKey:o=>{var h;return(h=o.userId)!==null&&h!==void 0?h:null}}))}async asUser(e,s){const o=new UserContextApiClient(this._config,this._logger,this._rateLimiter,extractUserId(e));return await s(o)}async asIntent(e,s){if(!this._authProvider.getAccessTokenForIntent)throw new Error("Trying to use intents with an auth provider that does not support them");for(const o of e){const h=await this._authProvider.getAccessTokenForIntent(o);if(h){const _=new UserContextApiClient(this._config,this._logger,this._rateLimiter,h.userId);return await s(_)}}throw new Error(`Intents [${e.join(", ")}] not found in auth provider`)}async withoutUser(e){const s=new NoContextApiClient(this._config,this._logger,this._rateLimiter);return await e(s)}};ApiClient=__decorate([rtfm("api","ApiClient")],ApiClient);class CustomAuthProvider{constructor(e="",s=""){ar(this,"_clientId",auth.twitch.clientId);ar(this,"_scopes",auth.twitch.scopes);ar(this,"_accessToken");ar(this,"_key");this._accessToken={accessToken:e,refreshToken:null,scope:this._scopes,expiresIn:null,obtainmentTimestamp:Date.now()},this._key=s}get clientId(){return this._clientId}getCurrentScopesForUser(){return this._scopes}async getAccessTokenForUser(e,...s){return this._getAccessToken(s)}async getAnyAccessToken(){return this._getAccessToken()}async refreshAccessTokenForUser(){const e=await getAccessToken("twitch",this._key);return this._accessToken.accessToken=e,this._accessToken.obtainmentTimestamp=Date.now(),this._getAccessToken()}async _getAccessToken(e){this._checkScopes(e);const{[rawDataSymbol]:{expires_in:s},userId:o}=await getTokenInfo(this._accessToken.accessToken,this._clientId);return this._accessToken.expiresIn=s||null,{...this._accessToken,userId:o}}_checkScopes(e){if(e!=null&&e.length){const s=new Set(this._scopes);e.forEach(o=>{if(!(!o||!o.length)&&o.every(h=>!s.has(h)))throw new MissingScopesError(o)})}}}class MissingScopesError extends Error{constructor(e){const s=`This token does not have one of the requested scopes: [${e.join(", ")}]`;super(s),this.name="MissingScopesError"}}function useTwitchApi(){const{data:i}=useAccessToken("twitch"),{keys:e}=useClient(),s=new CustomAuthProvider(i,e.twitch);return new ApiClient({authProvider:s})}function useTwitchBroadcaster(){const{data:i}=useAccessToken("twitch"),e=useTwitchApi();return useQuery({enabled:!!i,queryKey:["twitch","broadcaster",i||null],queryFn:async()=>{const{clientId:s}=auth.twitch,{userId:o}=await getTokenInfo(i,s);if(!o)throw Error("Twitch broadcaster not found");const h=await e.users.getUserById(o);if(!h)throw Error("Twitch broadcaster not found");return{id:h.id,userName:h.name,displayName:h.displayName,image:h.profilePictureUrl,url:`https://www.twitch.tv/${h.name}`}},...infiniteCache})}function useChannelPointRewards(){const{data:i}=useTwitchBroadcaster(),e=useTwitchApi();return useQuery({enabled:!!i,queryKey:["twitch","channelPointRewards",i==null?void 0:i.id],queryFn:async()=>{const s=new Map;return(await e.channelPoints.getCustomRewards(i.id).catch(()=>[])).forEach(h=>{s.set(h.id,h)}),s},...infiniteCache})}function useCheermotes(){const{data:i}=useTwitchBroadcaster(),e=useTwitchApi();return useQuery({enabled:!!i,queryKey:["twitch","cheermotes",i==null?void 0:i.id],queryFn:async()=>{const s=await e.bits.getCheermotes(i.id);return new Cheermotes(s)},...infiniteCache})}class Cheermotes{constructor(e){ar(this,"cheermoteList");this.cheermoteList=e}getAllNames(){return this.cheermoteList.getPossibleNames()}get(e,s){return{name:e,amount:s,color:this.cheerColor(e,s),images:{default:this.buildCheermoteUrls(e,s),static:this.buildCheermoteUrls(e,s,!0)}}}cheerColor(e,s){return this.cheermoteList.getCheermoteDisplayInfo(e,s,{background:"light",scale:"1",state:"static"}).color}buildCheermoteUrls(e,s,o=!1){const h=this.cheermoteList;function _($){return h.getCheermoteDisplayInfo(e,s,{background:"light",scale:$,state:o?"static":"animated"}).url}return{x1:_("1"),x2:_("2"),x4:_("4")}}}function useCheerPart(){const{data:i}=useCheermotes();function e(s,o){const{name:h,amount:_,position:$,length:j}=s;return{type:"cheer",text:o.slice($,$+j),cheer:i.get(h,_)}}return e}const bttvApi=axios$1.create({baseURL:"https://api.betterttv.net/3/cached"});async function getChannelEmotes$1(i,e){const s=new Map,o=await bttvApi.get(`/users/${i}/${e}`).then(j=>j.data).catch(()=>null);if(!o)return s;const{channelEmotes:h,sharedEmotes:_}=o;if(!h||!_)return s;function $(j){j.forEach(_e=>{s.set(_e.code,{id:_e.id,name:_e.code,images:{default:buildEmoteUrls$3(_e.id),static:buildEmoteUrls$3(_e.id,!0)},source:"betterttv"})})}return $(h),$(_),s}function buildEmoteUrls$3(i,e=!1){function s(o){return`https://cdn.betterttv.net/emote/${i}${e?"/static":""}/${o}x`}return{x1:s(1),x2:s(2),x4:s(3)}}const ffzApi=axios$1.create({baseURL:"https://api.frankerfacez.com/v1"});async function getChannelEmotes(i,e){const s=new Map,o=await ffzApi.get(`/room/${platformUrlTransformer(i)}/${e}`).then(_=>_.data).catch(()=>null);if(!o)return s;const{sets:h}=o;return h&&Object.keys(h).forEach(_=>{h[_].emoticons.forEach($=>{s.set($.name,{id:$.id.toString(),name:$.name,images:{default:buildEmoteUrls$2($),static:buildEmoteUrls$2($,!0)},source:"frankerfacez"})})}),s}function buildEmoteUrls$2(i,e=!1){let s=i.urls[1],o=i.urls[2]||s,h=i.urls[4]||o;return!e&&i.animated&&(s=i.animated[1],o=i.animated[2]||s,h=i.animated[4]||o),{x1:s,x2:o,x4:h}}function platformUrlTransformer(i){switch(i){case"twitch":return"id";case"youtube":return"yt";default:throw Error(`Unhandled platform "${i}" in FFZ Platform URL Transformer`)}}function useThirdPartyEmotes$1(){const{data:i}=useTwitchBroadcaster();return useQuery({enabled:!!i,queryKey:["twitch","thirdPartyEmotes",i==null?void 0:i.id],queryFn:async()=>{const e=new Map;return(await Promise.all([getChannelEmotes$1("twitch",i.id),getChannelEmotes("twitch",i.id)])).forEach(o=>{o.forEach((h,_)=>{e.set(_,h)})}),e},retry:1,retryOnMount:!1,gcTime:1/0,staleTime:1/0,refetchOnMount:!1,refetchOnWindowFocus:!1,refetchOnReconnect:!1})}function useEmotePart(){const{data:i}=useThirdPartyEmotes$1();function e(s,o){const{position:h,length:_,id:$,name:j}=s,_e=o.slice(h,h+_),et=i.get(_e);return et?{type:"emote",text:_e,emote:et}:{type:"emote",text:_e,emote:{id:$,name:j,images:{default:buildEmoteUrls$1($),static:buildEmoteUrls$1($,!0)},source:"twitch"}}}return e}function buildEmoteUrls$1(i,e=!1){function s(o){return buildEmoteImageUrl(i,{animationSettings:e?"static":"default",backgroundType:"light",size:o})}return{x1:s("1.0"),x2:s("2.0"),x4:s("3.0")}}function useTextPart(){const{data:i}=useThirdPartyEmotes$1();function e(s){const o=[],{text:h}=s,_=createEmoteRegex(Array.from(i.keys()));return h.split(_).forEach($=>{if($==="")return;const j=i.get($);j?o.push({type:"emote",text:$,emote:j}):o.push({type:"text",text:$})}),o}return e}function createEmoteRegex(i){const e=i.map(escapeRegExp).join("|"),s=String.raw`(?<=\s|[.,!]|^)(${e})(?=\s|[.,!]|$)`;return new RegExp(s,"g")}function escapeRegExp(i){return i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function useText(){const{data:i}=useCheermotes(),e=useTextPart(),s=useCheerPart(),o=useEmotePart();function h(_,$,j=!1){if(!_)return[];const _e=parseChatMessage(_,$,j?i.getAllNames():void 0),et=[];return _e.forEach(tt=>{switch(tt.type){default:case"text":et.push(...e(tt));break;case"cheer":et.push(s(tt,_));break;case"emote":et.push(o(tt,_));break}}),et}return h}function useBadges(){const{data:i}=useTwitchBroadcaster(),e=useTwitchApi();return useQuery({enabled:!!i,queryKey:["twitch","badges",i==null?void 0:i.id],queryFn:async()=>{const[s,o]=await Promise.all([e.chat.getGlobalBadges(),e.chat.getChannelBadges(i.id)]);return new Badges(s,o)},...infiniteCache})}class Badges{constructor(e,s){ar(this,"badgeMap",new Map);this.set(e),this.set(s)}transform(e){const s=[];return e.forEach((o,h)=>{const _=this.get(h,o);_&&s.push(_)}),s}get(e,s=e==="subscriber"||e==="founder"?"0":"1"){var h,_;const o=(_=(h=this.badgeMap.get(e))==null?void 0:h.get(s))==null?void 0:_.getImageUrl(4);if(o)return{id:e,image:o}}set(e){e.forEach(s=>{const o=new Map;s.versions.forEach(h=>{o.set(h.id,h)}),this.badgeMap.set(s.id,o)})}}function useFollowDate(){const{data:i}=useTwitchBroadcaster(),e=useTwitchApi(),s=useQueryClient();async function o(h){return i?await s.fetchQuery({queryKey:["twitch","followDate",h],queryFn:async()=>{if(h===i.id)return new Date(0);const _=await e.channels.getChannelFollowers(i.id,h),[$]=_.data;return $?$.followDate:null},staleTime:1*60*60*1e3,gcTime:2*60*60*1e3,retry:1}):null}return{getFollowDate:o}}function usePronouns(){const{data:i}=useAllPronouns(),e=useQueryClient();async function s(o){return i?await e.fetchQuery({queryKey:["twitch","pronouns","user",o],queryFn:async()=>{const h=await getUserPronouns(o);return h?i.get(h):null},staleTime:5*60*1e3,gcTime:1*60*60*1e3,retry:0}):null}return{getPronouns:s}}function useAllPronouns(){return useQuery({queryKey:["twitch","pronouns","all"],queryFn:async()=>getAllPronouns(),...infiniteCache})}const pronounsApi=axios$1.create({baseURL:"https://pronouns.alejo.io/api"});async function getUserPronouns(i){const e=await pronounsApi.get(`/users/${i}`).then(o=>o.data).catch(()=>null);if(!e)return null;const[s]=e;return s?s.pronoun_id:null}async function getAllPronouns(){const i=new Map;return(await pronounsApi.get("/pronouns").then(s=>s.data)).forEach(({name:s,display:o})=>{i.set(s,o)}),i}class Random{static number(e,s){return Math.random()*(s-e)+e}static integer(e,s){return Math.floor(Math.random()*(s-e+1))+e}static chance(e){return Math.random()<e/100}static boolean(){return this.chance(50)}static index(e){return Math.floor(Math.random()*e.length)}static item(e){return e[this.index(e)]}}function useUserColor(){const i=useQueryClient();async function e(s,o){return await i.fetchQuery({queryKey:["twitch","user",s,"color"],queryFn:()=>o||Random.item(defaultColors),staleTime:1/0,gcTime:1/0})}return e}const defaultColors=["red","blue","green","firebrick","coral","yellowgreen","orangered","seagreen","goldenrod","chocolate","cadetblue","dodgerblue","hotpink","blueviolet","springgreen"];function useUser(){const{getPronouns:i}=usePronouns(),{getFollowDate:e}=useFollowDate(),{data:s}=useBadges(),o=useUserColor();async function h(_){const{userId:$,userName:j,displayName:_e,badges:et,color:tt,isBroadcaster:nt,isMod:rt,isArtist:st,isVip:lt,isFounder:ct,isSubscriber:ut}=_;return{id:$,userName:j,displayName:_e,pronouns:await i(j),badges:s.transform(et),color:await o($,tt),roles:{broadcaster:nt,moderator:rt,artist:st,vip:lt,founder:ct,subscriber:ut},followDate:await e($)}}return h}function useMessage$1(){const{data:i}=useChannelPointRewards(),e=useText(),s=useUser();async function o(h,_,$){if(_ instanceof UserNotice&&($=_.text),!$)return;const{type:j}=h,_e={id:_.id,first:_.tags.get("first-msg")==="1",date:_.date,text:$,parts:e($,_.emoteOffsets,j==="cheer"),user:await s(_.userInfo),tags:_.tags,...h};if(j!=="basic")return _e;if(_.tags.get("msg-id")==="highlighted-message")return{..._e,type:"highlight"};const et=_.tags.get("custom-reward-id");if(et){const rt=i.get(et);if(rt){const st={id:rt.id,name:rt.title,cost:rt.cost,image:rt.getImageUrl(4),color:rt.backgroundColor};return{..._e,type:"redeem",redeem:st}}}function tt(rt){return _.tags.get(`reply-parent-${rt}`)||""}const nt=tt("msg-id");if(nt){const rt={id:nt,text:tt("msg-body"),user:{id:tt("user-id"),userName:tt("user-login"),displayName:tt("display-name")}};return{..._e,type:"reply",reply:rt}}return _e}return o}const source="twitch";function useChatClient$1(){const{data:i}=useTwitchBroadcaster(),{isPlatformReady:e}=usePlatformReady(),s=useClient(),{addEvent:o,removeEvent:h,removeUser:_,removeMessages:$}=useEventListDispatch(),j=useMessage$1(),_e=reactExports.useRef(new ChatClient),et=e("twitch");reactExports.useEffect(()=>{if(!et)return;const tt=_e.current;!tt.isConnected&&!tt.isConnecting&&(tt.connect(),tt.join(i.userName));function nt(ut){ut&&o({type:"message",id:ut.id,userId:ut.user.id,message:ut,source})}function rt(ut){h("message",ut),s.sendEvent({type:"remove-message",messageId:ut,source})}function st(){$(),s.sendEvent({type:"remove-messages",source})}function lt(ut){ut&&(_(ut),s.sendEvent({type:"remove-user",userId:ut,source}))}const ct=[];return ct.push(tt.onMessage(async(ut,ot,it,at)=>{const{bits:dt}=at,yt=await j(dt?{type:"cheer",cheer:{amount:dt}}:{type:"basic"},at,it);nt(yt)}),tt.onAction(async(ut,ot,it,at)=>{const dt=await j({type:"action"},at,it);nt(dt)}),tt.onResub(async(ut,ot,it,at)=>{const dt={type:"resub",resub:{months:it.months,tier:it.plan}},ht=await j(dt,at);nt(ht)}),tt.onAnnouncement(async(ut,ot,it,at)=>{const dt={type:"announcement",announcement:{color:it.color}},ht=await j(dt,at);nt(ht)}),tt.onChatClear(()=>{st()}),tt.onTimeout((ut,ot,it,at)=>{lt(at.targetUserId)}),tt.onBan((ut,ot,it)=>{lt(it.targetUserId)}),tt.onMessageRemove((ut,ot)=>{rt(ot)})),()=>{ct.forEach(ut=>{ut&&tt.removeListener(ut)})}},[et,s,o,h,_,$,j,i])}function useChannelEmotes(){const{data:i}=useTwitchBroadcaster(),e=useTwitchApi();return useQuery({enabled:!!i,queryKey:["twitch","channelEmotes",i==null?void 0:i.id],queryFn:async()=>(await e.chat.getChannelEmotes(i.id)).map(o=>{const{id:h,name:_}=o;return{id:h,name:_,images:{default:buildEmoteUrls(h),static:buildEmoteUrls(h,!0)},source:"twitch"}}),...infiniteCache})}function buildEmoteUrls(i,e=!1){function s(o){return buildEmoteImageUrl(i,{animationSettings:e?"static":"default",backgroundType:"light",size:o})}return{x1:s("1.0"),x2:s("2.0"),x4:s("3.0")}}function Twitch(){const{data:i,status:e}=useTwitchBroadcaster(),{status:s}=useBadges(),{status:o}=useChannelEmotes(),{status:h}=useChannelPointRewards(),{status:_}=useCheermotes(),{status:$}=useAllPronouns(),{status:j}=useThirdPartyEmotes$1(),{isPlatformReady:_e}=usePlatformReady(),{setPlatformReady:et}=usePlatformReadyDispatch();useChatClient$1();const tt=[e,s,o,h,_,$,j].some(nt=>nt==="pending");return reactExports.useEffect(()=>{tt||et("twitch")},[tt]),_e("twitch")?jsxRuntimeExports.jsx(SuccessBanner,{broadcaster:i,platform:"twitch",staticPosition:!0}):jsxRuntimeExports.jsx(LoadingBanner,{staticPosition:!0,message:"Key verified! Loading Twitch data...",items:[{message:"Loading broadcaster...",status:e},{message:"Loading badges...",status:s},{message:"Loading channel emotes...",status:o},{message:"Loading channel point rewards...",status:h},{message:"Loading cheermotes...",status:_},{message:"Loading pronouns...",status:$},{message:"Loading third party emotes...",status:j}]})}var gapi$1=window.gapi=window.gapi||{};gapi$1._bs=new Date().getTime();(function(){var aa=typeof Object.defineProperties=="function"?Object.defineProperty:function(i,e,s){return i==Array.prototype||i==Object.prototype||(i[e]=s.value),i},da=function(i){i=[typeof globalThis=="object"&&globalThis,i,typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global];for(var e=0;e<i.length;++e){var s=i[e];if(s&&s.Math==Math)return s}throw Error("Cannot find global object")},ea=da(this),fa=function(i,e){if(e)e:{var s=ea;i=i.split(".");for(var o=0;o<i.length-1;o++){var h=i[o];if(!(h in s))break e;s=s[h]}i=i[i.length-1],o=s[i],e=e(o),e!=o&&e!=null&&aa(s,i,{configurable:!0,writable:!0,value:e})}},ha=function(i){var e=0;return function(){return e<i.length?{done:!1,value:i[e++]}:{done:!0}}};fa("Symbol",function(i){if(i)return i;var e=function(h,_){this.ba=h,aa(this,"description",{configurable:!0,writable:!0,value:_})};e.prototype.toString=function(){return this.ba};var s=0,o=function(h){if(this instanceof o)throw new TypeError("Symbol is not a constructor");return new e("jscomp_symbol_"+(h||"")+"_"+s++,h)};return o}),fa("Symbol.iterator",function(i){if(i)return i;i=Symbol("Symbol.iterator");for(var e="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),s=0;s<e.length;s++){var o=ea[e[s]];typeof o=="function"&&typeof o.prototype[i]!="function"&&aa(o.prototype,i,{configurable:!0,writable:!0,value:function(){return ia(ha(this))}})}return i});var ia=function(i){return i={next:i},i[Symbol.iterator]=function(){return this},i},ja=function(i,e){i instanceof String&&(i+="");var s=0,o=!1,h={next:function(){if(!o&&s<i.length){var _=s++;return{value:e(_,i[_]),done:!1}}return o=!0,{done:!0,value:void 0}}};return h[Symbol.iterator]=function(){return h},h};fa("Array.prototype.keys",function(i){return i||function(){return ja(this,function(e){return e})}});var m=this||self,ka=function(i){var e=typeof i;return e!="object"?e:i?Array.isArray(i)?"array":e:"null"},la=function(i,e,s){return i.call.apply(i.bind,arguments)},ma=function(i,e,s){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var h=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(h,o),i.apply(e,h)}}return function(){return i.apply(e,arguments)}},na=function(i,e,s){return na=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?la:ma,na.apply(null,arguments)},oa=function(i,e){function s(){}s.prototype=e.prototype,i.ma=e.prototype,i.prototype=new s,i.prototype.constructor=i,i.A=function(o,h,_){for(var $=Array(arguments.length-2),j=2;j<arguments.length;j++)$[j-2]=arguments[j];return e.prototype[h].apply(o,$)}},pa=function(i){return i},qa=function(i){var e=null,s=m.trustedTypes;if(!s||!s.createPolicy)return e;try{e=s.createPolicy(i,{createHTML:pa,createScript:pa,createScriptURL:pa})}catch(o){m.console&&m.console.error(o.message)}return e};function q(i){if(Error.captureStackTrace)Error.captureStackTrace(this,q);else{var e=Error().stack;e&&(this.stack=e)}i&&(this.message=String(i))}oa(q,Error),q.prototype.name="CustomError";var ra=function(i,e){i=i.split("%s");for(var s="",o=i.length-1,h=0;h<o;h++)s+=i[h]+(h<e.length?e[h]:"%s");q.call(this,s+i[o])};oa(ra,q),ra.prototype.name="AssertionError";var sa=function(i,e,s,o){var h="Assertion failed";if(s){h+=": "+s;var _=o}else i&&(h+=": "+i,_=e);throw new ra(""+h,_||[])},ta=function(i,e,s){return i||sa("",null,e,Array.prototype.slice.call(arguments,2)),i},ua=function(i,e){throw new ra("Failure"+(i?": "+i:""),Array.prototype.slice.call(arguments,1))},va=function(i,e,s){typeof i!="string"&&sa("Expected string but got %s: %s.",[ka(i),i],e,Array.prototype.slice.call(arguments,2))},xa=function(i,e){e:{try{var s=i&&i.ownerDocument,o=s&&(s.defaultView||s.parentWindow);if(o=o||m,o.Element&&o.Location){var h=o;break e}}catch{}h=null}if(h&&typeof h[e]<"u"&&(!i||!(i instanceof h[e])&&(i instanceof h.Location||i instanceof h.Element))){if(h=typeof i,h=="object"&&i!=null||h=="function")try{var _=i.constructor.displayName||i.constructor.name||Object.prototype.toString.call(i)}catch{_="<object could not be stringified>"}else _=i===void 0?"undefined":i===null?"null":typeof i;ua("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,_)}return i},ya,t=function(i,e){this.P=i===za&&e||"",this.ca=Aa};t.prototype.J=!0,t.prototype.H=function(){return this.P},t.prototype.toString=function(){return"Const{"+this.P+"}"};var Ba=function(i){return i instanceof t&&i.constructor===t&&i.ca===Aa?i.P:(ua("expected object of type Const, got '"+i+"'"),"type_error:Const")},Aa={},za={},v=function(i,e){this.N=e===Ca?i:""};v.prototype.J=!0,v.prototype.H=function(){return this.N.toString()},v.prototype.toString=function(){return"SafeUrl{"+this.N+"}"};var Da=function(i){return i instanceof v&&i.constructor===v?i.N:(ua("expected object of type SafeUrl, got '"+i+"' of type "+ka(i)),"type_error:SafeUrl")},Ea=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i,Fa=function(i){return i instanceof v?i:(i=typeof i=="object"&&i.J?i.H():String(i),ta(Ea.test(i),"%s does not match the safe URL pattern",i)||(i="about:invalid#zClosurez"),new v(i,Ca))},Ca={},w=function(i,e,s){this.M=s===Ga?i:""};w.prototype.J=!0,w.prototype.H=function(){return this.M.toString()},w.prototype.toString=function(){return"SafeHtml{"+this.M+"}"};var Ha=function(i){return i instanceof w&&i.constructor===w?i.M:(ua("expected object of type SafeHtml, got '"+i+"' of type "+ka(i)),"type_error:SafeHtml")},Ga={},Ia=new w(m.trustedTypes&&m.trustedTypes.emptyHTML||"",0,Ga),Ja={MATH:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},Ka=function(i){var e=!1,s;return function(){return e||(s=i(),e=!0),s}}(function(){if(typeof document>"u")return!1;var i=document.createElement("div"),e=document.createElement("div");return e.appendChild(document.createElement("div")),i.appendChild(e),i.firstChild?(e=i.firstChild.firstChild,i.innerHTML=Ha(Ia),!e.parentElement):!1}),x=window,z=document,La=x.location,Ma=function(){},Na=/\[native code\]/,A=function(i,e,s){return i[e]=i[e]||s},Oa=function(i){for(var e=0;e<this.length;e++)if(this[e]===i)return e;return-1},Pa=function(i){i=i.sort();for(var e=[],s=void 0,o=0;o<i.length;o++){var h=i[o];h!=s&&e.push(h),s=h}return e},Qa=/&/g,Ra=/</g,Sa=/>/g,Ua=/"/g,Va=/'/g,Wa=function(i){return String(i).replace(Qa,"&amp;").replace(Ra,"&lt;").replace(Sa,"&gt;").replace(Ua,"&quot;").replace(Va,"&#39;")},B=function(){var i;if((i=Object.create)&&Na.test(i))i=i(null);else{i={};for(var e in i)i[e]=void 0}return i},C=function(i,e){return Object.prototype.hasOwnProperty.call(i,e)},Xa=function(i){if(Na.test(Object.keys))return Object.keys(i);var e=[],s;for(s in i)C(i,s)&&e.push(s);return e},D=function(i,e){i=i||{};for(var s in i)C(i,s)&&(e[s]=i[s])},Ya=function(i){return function(){x.setTimeout(i,0)}},E=function(i,e){if(!i)throw Error(e||"")},F=A(x,"gapi",{}),H=function(i,e,s){var o=new RegExp("([#].*&|[#])"+e+"=([^&#]*)","g");if(e=new RegExp("([?#].*&|[?#])"+e+"=([^&#]*)","g"),i=i&&(o.exec(i)||e.exec(i)))try{s=decodeURIComponent(i[2])}catch{}return s},Za=new RegExp(/^/.source+/([a-zA-Z][-+.a-zA-Z0-9]*:)?/.source+/(\/\/[^\/?#]*)?/.source+/([^?#]*)?/.source+/(\?([^#]*))?/.source+/(#((#|[^#])*))?/.source+/$/.source),$a=/[\ud800-\udbff][\udc00-\udfff]|[^!-~]/g,ab=new RegExp(/(%([^0-9a-fA-F%]|[0-9a-fA-F]([^0-9a-fA-F%])?)?)*/.source+/%($|[^0-9a-fA-F]|[0-9a-fA-F]($|[^0-9a-fA-F]))/.source,"g"),bb=/%([a-f]|[0-9a-fA-F][a-f])/g,cb=/^(https?|ftp|file|chrome-extension):$/i,I=function(i){i=String(i),i=i.replace($a,function(h){try{return encodeURIComponent(h)}catch{return encodeURIComponent(h.replace(/^[^%]+$/g,"�"))}}).replace(ab,function(h){return h.replace(/%/g,"%25")}).replace(bb,function(h){return h.toUpperCase()}),i=i.match(Za)||[];var e=B(),s=function(h){return h.replace(/\\/g,"%5C").replace(/\^/g,"%5E").replace(/`/g,"%60").replace(/\{/g,"%7B").replace(/\|/g,"%7C").replace(/\}/g,"%7D")},o=!!(i[1]||"").match(cb);return e.A=s((i[1]||"")+(i[2]||"")+(i[3]||(i[2]&&o?"/":""))),o=function(h){return s(h.replace(/\?/g,"%3F").replace(/#/g,"%23"))},e.query=i[5]?[o(i[5])]:[],e.g=i[7]?[o(i[7])]:[],e},db=function(i){return i.A+(0<i.query.length?"?"+i.query.join("&"):"")+(0<i.g.length?"#"+i.g.join("&"):"")},eb=function(i,e){var s=[];if(i){for(var o in i)if(C(i,o)&&i[o]!=null){var h=e?e(i[o]):i[o];s.push(encodeURIComponent(o)+"="+encodeURIComponent(h))}}return s},fb=function(i,e,s,o){return i=I(i),i.query.push.apply(i.query,eb(e,o)),i.g.push.apply(i.g,eb(s,o)),db(i)},gb=new RegExp(/\/?\??#?/.source+"("+/[\/?#]/i.source+"|"+/[\uD800-\uDBFF]/i.source+"|"+/%[c-f][0-9a-f](%[89ab][0-9a-f]){0,2}(%[89ab]?)?/i.source+"|"+/%[0-9a-f]?/i.source+")$","i"),hb=function(i,e){var s=I(e);e=s.A,s.query.length&&(e+="?"+s.query.join("")),s.g.length&&(e+="#"+s.g.join(""));var o="";2e3<e.length&&(o=e,e=e.substr(0,2e3),e=e.replace(gb,""),o=o.substr(e.length));var h=i.createElement("div");if(i=i.createElement("a"),s=I(e),e=s.A,s.query.length&&(e+="?"+s.query.join("")),s.g.length&&(e+="#"+s.g.join("")),e=new v(e,Ca),xa(i,"HTMLAnchorElement"),e=e instanceof v?e:Fa(e),i.href=Da(e),h.appendChild(i),e=h.innerHTML,s=new t(za,"Assignment to self."),va(Ba(s),"must provide justification"),ta(!/^[\s\xa0]*$/.test(Ba(s)),"must provide non-empty justification"),ya===void 0&&(ya=qa("gapi#html")),e=(s=ya)?s.createHTML(e):e,e=new w(e,null,Ga),h.tagName&&Ja[h.tagName.toUpperCase()])throw Error("goog.dom.safe.setInnerHtml cannot be used to set content of "+h.tagName+".");if(Ka())for(;h.lastChild;)h.removeChild(h.lastChild);return h.innerHTML=Ha(e),e=String(h.firstChild.href),h.parentNode&&h.parentNode.removeChild(h),s=I(e+o),o=s.A,s.query.length&&(o+="?"+s.query.join("")),s.g.length&&(o+="#"+s.g.join("")),o},ib=/^https?:\/\/[^\/%\\?#\s]+\/[^\s]*$/i,jb=function(i,e,s,o){x[s+"EventListener"]?x[s+"EventListener"](i,e,!1):x[o+"tachEvent"]&&x[o+"tachEvent"]("on"+i,e)},kb=function(){var i=z.readyState;return i==="complete"||i==="interactive"&&navigator.userAgent.indexOf("MSIE")==-1},nb=function(i){var e=lb;if(!kb())try{e()}catch{}mb(i)},mb=function(i){if(kb())i();else{var e=!1,s=function(){if(!e)return e=!0,i.apply(this,arguments)};x.addEventListener?(x.addEventListener("load",s,!1),x.addEventListener("DOMContentLoaded",s,!1)):x.attachEvent&&(x.attachEvent("onreadystatechange",function(){kb()&&s.apply(this,arguments)}),x.attachEvent("onload",s))}},ob=function(i){for(;i.firstChild;)i.removeChild(i.firstChild)},pb={button:!0,div:!0,span:!0},K;K=A(x,"___jsl",B()),A(K,"I",0),A(K,"hel",10);var qb=function(i){return K.dpo?K.h:H(i,"jsh",K.h)},rb=function(i){var e=A(K,"sws",[]);e.push.apply(e,i)},sb=function(i){return A(K,"watt",B())[i]},tb=function(i){var e=A(K,"PQ",[]);K.PQ=[];var s=e.length;if(s===0)i();else for(var o=0,h=function(){++o===s&&i()},_=0;_<s;_++)e[_](h)},ub=function(i){return A(A(K,"H",B()),i,B())},vb=A(K,"perf",B()),wb=A(vb,"g",B()),xb=A(vb,"i",B());A(vb,"r",[]),B(),B();var yb=function(i,e,s){var o=vb.r;typeof o=="function"?o(i,e,s):o.push([i,e,s])},L=function(i,e,s){wb[i]=!e&&wb[i]||s||new Date().getTime(),yb(i)},Ab=function(i,e,s){e&&0<e.length&&(e=zb(e),s&&0<s.length&&(e+="___"+zb(s)),28<e.length&&(e=e.substr(0,28)+(e.length-28)),s=e,e=A(xb,"_p",B()),A(e,s,B())[i]=new Date().getTime(),yb(i,"_p",s))},zb=function(i){return i.join("__").replace(/\./g,"_").replace(/\-/g,"_").replace(/,/g,"_")},Bb=B(),N=[],O=function(i){throw Error("Bad hint"+(i?": "+i:""))};N.push(["jsl",function(i){for(var e in i)if(C(i,e)){var s=i[e];typeof s=="object"?K[e]=A(K,e,[]).concat(s):A(K,e,s)}(e=i.u)&&(i=A(K,"us",[]),i.push(e),(e=/^https:(.*)$/.exec(e))&&i.push("http:"+e[1]))}]);var Cb=/^(\/[a-zA-Z0-9_\-]+)+$/,Db=[/\/amp\//,/\/amp$/,/^\/amp$/],Eb=/^[a-zA-Z0-9\-_\.,!]+$/,Fb=/^gapi\.loaded_[0-9]+$/,Gb=/^[a-zA-Z0-9,._-]+$/,Kb=function(i,e,s,o){var h=i.split(";"),_=h.shift(),$=Bb[_],j=null;return $?j=$(h,e,s,o):O("no hint processor for: "+_),j||O("failed to generate load url"),e=j,s=e.match(Hb),(o=e.match(Ib))&&o.length===1&&Jb.test(e)&&s&&s.length===1||O("failed sanity: "+i),j},Nb=function(i,e,s,o){i=Lb(i),Fb.test(s)||O("invalid_callback"),e=Mb(e),o=o&&o.length?Mb(o):null;var h=function(_){return encodeURIComponent(_).replace(/%2C/g,",")};return[encodeURIComponent(i.pathPrefix).replace(/%2C/g,",").replace(/%2F/g,"/"),"/k=",h(i.version),"/m=",h(e),o?"/exm="+h(o):"","/rt=j/sv=1/d=1/ed=1",i.S?"/am="+h(i.S):"",i.Z?"/rs="+h(i.Z):"",i.aa?"/t="+h(i.aa):"","/cb=",h(s)].join("")},Lb=function(i){i.charAt(0)!=="/"&&O("relative path");for(var e=i.substring(1).split("/"),s=[];e.length;){if(i=e.shift(),!i.length||i.indexOf(".")==0)O("empty/relative directory");else if(0<i.indexOf("=")){e.unshift(i);break}s.push(i)}i={};for(var o=0,h=e.length;o<h;++o){var _=e[o].split("="),$=decodeURIComponent(_[0]),j=decodeURIComponent(_[1]);_.length==2&&$&&j&&(i[$]=i[$]||j)}for(e="/"+s.join("/"),Cb.test(e)||O("invalid_prefix"),s=0,o=Db.length;s<o;++s)Db[s].test(e)&&O("invalid_prefix");return s=Ob(i,"k",!0),o=Ob(i,"am"),h=Ob(i,"rs"),i=Ob(i,"t"),{pathPrefix:e,version:s,S:o,Z:h,aa:i}},Mb=function(i){for(var e=[],s=0,o=i.length;s<o;++s){var h=i[s].replace(/\./g,"_").replace(/-/g,"_");Gb.test(h)&&e.push(h)}return e.join(",")},Ob=function(i,e,s){if(i=i[e],!i&&s&&O("missing: "+e),i){if(Eb.test(i))return i;O("invalid: "+e)}return null},Jb=/^https?:\/\/[a-z0-9_.-]+\.google(rs)?\.com(:\d+)?\/[a-zA-Z0-9_.,!=\-\/]+$/,Ib=/\/cb=/g,Hb=/\/\//g,Pb=function(){var i=qb(La.href);if(!i)throw Error("Bad hint");return i};Bb.m=function(i,e,s,o){return(i=i[0])||O("missing_hint"),"https://apis.google.com"+Nb(i,e,s,o)};var Qb=decodeURI("%73cript"),Rb=/^[-+_0-9\/A-Za-z]+={0,2}$/,Sb=function(i,e){for(var s=[],o=0;o<i.length;++o){var h=i[o];h&&0>Oa.call(e,h)&&s.push(h)}return s},Tb=function(){var i=K.nonce;return i!==void 0?i&&i===String(i)&&i.match(Rb)?i:K.nonce=null:z.querySelector&&(i=z.querySelector("script[nonce]"))?(i=i.nonce||i.getAttribute("nonce")||"",i&&i===String(i)&&i.match(Rb)?K.nonce=i:K.nonce=null):null},Wb=function(i){if(z.readyState!="loading")Ub(i);else{var e=Tb(),s="";e!==null&&(s=' nonce="'+e+'"'),i="<"+Qb+' src="'+encodeURI(i)+'"'+s+"></"+Qb+">",z.write(Vb?Vb.createHTML(i):i)}},Ub=function(i){var e=z.createElement(Qb);e.setAttribute("src",Vb?Vb.createScriptURL(i):i),i=Tb(),i!==null&&e.setAttribute("nonce",i),e.async="true",(i=z.getElementsByTagName(Qb)[0])?i.parentNode.insertBefore(e,i):(z.head||z.body||z.documentElement).appendChild(e)},Xb=function(i,e){var s=e&&e._c;if(s)for(var o=0;o<N.length;o++){var h=N[o][0],_=N[o][1];_&&C(s,h)&&_(s[h],i,e)}},Zb=function(i,e,s){Yb(function(){var o=e===qb(La.href)?A(F,"_",B()):B();o=A(ub(e),"_",o),i(o)},s)},ac=function(i,e){var s=e||{};typeof e=="function"&&(s={},s.callback=e),Xb(i,s),e=i?i.split(":"):[];var o=s.h||Pb(),h=A(K,"ah",B());if(h["::"]&&e.length){i=[];for(var _=null;_=e.shift();){var $=_.split(".");$=h[_]||h[$[1]&&"ns:"+$[0]||""]||o;var j=i.length&&i[i.length-1]||null,_e=j;j&&j.hint==$||(_e={hint:$,V:[]},i.push(_e)),_e.V.push(_)}var et=i.length;if(1<et){var tt=s.callback;tt&&(s.callback=function(){--et==0&&tt()})}for(;e=i.shift();)$b(e.V,s,e.hint)}else $b(e||[],s,o)},$b=function(i,e,s){i=Pa(i)||[];var o=e.callback,h=e.config,_=e.timeout,$=e.ontimeout,j=e.onerror,_e=void 0;typeof j=="function"&&(_e=j);var et=null,tt=!1;if(_&&!$||!_&&$)throw"Timeout requires both the timeout parameter and ontimeout parameter to be set";j=A(ub(s),"r",[]).sort();var nt=A(ub(s),"L",[]).sort(),rt=[].concat(j),st=function(it,at){if(tt)return 0;x.clearTimeout(et),nt.push.apply(nt,lt);var dt=((F||{}).config||{}).update;if(dt?dt(h):h&&A(K,"cu",[]).push(h),at){Ab("me0",it,rt);try{Zb(at,s,_e)}finally{Ab("me1",it,rt)}}return 1};0<_&&(et=x.setTimeout(function(){tt=!0,$()},_));var lt=Sb(i,nt);if(lt.length){lt=Sb(i,j);var ct=A(K,"CP",[]),ut=ct.length;if(ct[ut]=function(it){if(!it)return 0;Ab("ml1",lt,rt);var at=function(ht){ct[ut]=null,st(lt,it)&&tb(function(){o&&o(),ht()})},dt=function(){var ht=ct[ut+1];ht&&ht()};0<ut&&ct[ut-1]?ct[ut]=function(){at(dt)}:at(dt)},lt.length){var ot="loaded_"+K.I++;F[ot]=function(it){ct[ut](it),F[ot]=null},i=Kb(s,lt,"gapi."+ot,j),j.push.apply(j,lt),Ab("ml0",lt,rt),e.sync||x.___gapisync?Wb(i):Ub(i)}else ct[ut](Ma)}else st(lt)&&o&&o()},Vb=qa("gapi#gapi"),Yb=function(i,e){if(K.hee&&0<K.hel)try{return i()}catch(s){e&&e(s),K.hel--,ac("debug_error",function(){try{window.___jsl.hefn(s)}catch{throw s}})}else try{return i()}catch(s){throw e&&e(s),s}};F.load=function(i,e){return Yb(function(){return ac(i,e)})};var bc=function(i){var e=window.___jsl=window.___jsl||{};return e[i]=e[i]||[],e[i]},cc=function(i){var e=window.___jsl=window.___jsl||{};return e.cfg=!i&&e.cfg||{},e.cfg},dc=function(i){return typeof i=="object"&&/\[native code\]/.test(i.push)},P=function(i,e,s){if(e&&typeof e=="object")for(var o in e)!Object.prototype.hasOwnProperty.call(e,o)||s&&o==="___goc"&&typeof e[o]>"u"||(i[o]&&e[o]&&typeof i[o]=="object"&&typeof e[o]=="object"&&!dc(i[o])&&!dc(e[o])?P(i[o],e[o]):e[o]&&typeof e[o]=="object"?(i[o]=dc(e[o])?[]:{},P(i[o],e[o])):i[o]=e[o])},ec=function(i){if(i&&!/^\s+$/.test(i)){for(;i.charCodeAt(i.length-1)==0;)i=i.substring(0,i.length-1);try{var e=window.JSON.parse(i)}catch{}if(typeof e=="object")return e;try{e=new Function("return ("+i+`
)`)()}catch{}if(typeof e=="object")return e;try{e=new Function("return ({"+i+`
})`)()}catch{}return typeof e=="object"?e:{}}},fc=function(i,e){var s={___goc:void 0};i.length&&i[i.length-1]&&Object.hasOwnProperty.call(i[i.length-1],"___goc")&&typeof i[i.length-1].___goc>"u"&&(s=i.pop()),P(s,e),i.push(s)},gc=function(i){cc(!0);var e=window.___gcfg,s=bc("cu"),o=window.___gu;e&&e!==o&&(fc(s,e),window.___gu=e),e=bc("cu");var h=document.scripts||document.getElementsByTagName("script")||[];o=[];var _=[];_.push.apply(_,bc("us"));for(var $=0;$<h.length;++$)for(var j=h[$],_e=0;_e<_.length;++_e)j.src&&j.src.indexOf(_[_e])==0&&o.push(j);for(o.length==0&&0<h.length&&h[h.length-1].src&&o.push(h[h.length-1]),h=0;h<o.length;++h)o[h].getAttribute("gapi_processed")||(o[h].setAttribute("gapi_processed",!0),(_=o[h])?($=_.nodeType,_=$==3||$==4?_.nodeValue:_.textContent||_.innerText||_.innerHTML||""):_=void 0,(_=ec(_))&&e.push(_));for(i&&fc(s,i),o=bc("cd"),i=0,e=o.length;i<e;++i)P(cc(),o[i],!0);for(o=bc("ci"),i=0,e=o.length;i<e;++i)P(cc(),o[i],!0);for(i=0,e=s.length;i<e;++i)P(cc(),s[i],!0)},Q=function(i){var e=cc();if(!i)return e;i=i.split("/");for(var s=0,o=i.length;e&&typeof e=="object"&&s<o;++s)e=e[i[s]];return s===i.length&&e!==void 0?e:void 0},hc=function(i,e){var s;if(typeof i=="string"){var o=s={};i=i.split("/");for(var h=0,_=i.length;h<_-1;++h){var $={};o=o[i[h]]=$}o[i[h]]=e}else s=i;gc(s)},ic=function(){var i=window.__GOOGLEAPIS;i&&(i.googleapis&&!i["googleapis.config"]&&(i["googleapis.config"]=i.googleapis),A(K,"ci",[]).push(i),window.__GOOGLEAPIS=void 0)},jc={callback:1,clientid:1,cookiepolicy:1,openidrealm:-1,includegrantedscopes:-1,requestvisibleactions:1,scope:1},kc=!1,lc=B(),mc=function(){if(!kc){for(var i=document.getElementsByTagName("meta"),e=0;e<i.length;++e){var s=i[e].name.toLowerCase();if(s.lastIndexOf("google-signin-",0)==0){s=s.substring(14);var o=i[e].content;jc[s]&&o&&(lc[s]=o)}}if(window.self!==window.top){i=document.location.toString();for(var h in jc)0<jc[h]&&(e=H(i,h,""))&&(lc[h]=e)}kc=!0}return h=B(),D(lc,h),h},nc=function(i){return!!(i.clientid&&i.scope&&i.callback)},oc=window.console,pc=function(i){oc&&oc.log&&oc.log(i)},qc=function(){return!!K.oa},rc=function(){},R=A(K,"rw",B()),sc=function(i){for(var e in R)i(R[e])},tc=function(i,e){(i=R[i])&&i.state<e&&(i.state=e)},vc=/^https?:\/\/(?:\w|[\-\.])+\.google\.(?:\w|[\-:\.])+(?:\/[^\?#]*)?\/u\/(\d)\//,wc=/^https?:\/\/(?:\w|[\-\.])+\.google\.(?:\w|[\-:\.])+(?:\/[^\?#]*)?\/b\/(\d{10,21})\//,xc=function(i){var e=Q("googleapis.config/sessionIndex");if(typeof e=="string"&&254<e.length&&(e=null),e==null&&(e=window.__X_GOOG_AUTHUSER),typeof e=="string"&&254<e.length&&(e=null),e==null){var s=window.google;s&&(e=s.authuser)}return typeof e=="string"&&254<e.length&&(e=null),e==null&&(i=i||window.location.href,e=H(i,"authuser")||null,e==null&&(e=(e=i.match(vc))?e[1]:null)),e==null?null:(e=String(e),254<e.length&&(e=null),e)},yc=function(i){var e=Q("googleapis.config/sessionDelegate");return typeof e=="string"&&21<e.length&&(e=null),e==null&&(e=(i=(i||window.location.href).match(wc))?i[1]:null),e==null?null:(e=String(e),21<e.length&&(e=null),e)},zc,S,T=void 0,U=function(i){try{return m.JSON.parse.call(m.JSON,i)}catch{return!1}},V=function(i){return Object.prototype.toString.call(i)},Ac=V(0),Bc=V(new Date(0)),Cc=V(!0),Dc=V(""),Ec=V({}),Fc=V([]),W=function(i,e){if(e){for(var s=0,o=e.length;s<o;++s)if(i===e[s])throw new TypeError("Converting circular structure to JSON")}if(o=typeof i,o!=="undefined"){s=Array.prototype.slice.call(e||[],0),s[s.length]=i,e=[];var h=V(i);if(i!=null&&typeof i.toJSON=="function"&&(Object.prototype.hasOwnProperty.call(i,"toJSON")||(h!==Fc||i.constructor!==Array&&i.constructor!==Object)&&(h!==Ec||i.constructor!==Array&&i.constructor!==Object)&&h!==Dc&&h!==Ac&&h!==Cc&&h!==Bc))return W(i.toJSON.call(i),s);if(i==null)e[e.length]="null";else if(h===Ac)i=Number(i),isNaN(i)||isNaN(i-i)?i="null":i===-0&&0>1/i&&(i="-0"),e[e.length]=String(i);else if(h===Cc)e[e.length]=String(!!Number(i));else{if(h===Bc)return W(i.toISOString.call(i),s);if(h===Fc&&V(i.length)===Ac){e[e.length]="[";var _=0;for(o=Number(i.length)>>0;_<o;++_)_&&(e[e.length]=","),e[e.length]=W(i[_],s)||"null";e[e.length]="]"}else if(h==Dc&&V(i.length)===Ac){for(e[e.length]='"',_=0,s=Number(i.length)>>0;_<s;++_)o=String.prototype.charAt.call(i,_),h=String.prototype.charCodeAt.call(i,_),e[e.length]=o==="\b"?"\\b":o==="\f"?"\\f":o===`
`?"\\n":o==="\r"?"\\r":o==="	"?"\\t":o==="\\"||o==='"'?"\\"+o:31>=h?"\\u"+(h+65536).toString(16).substr(1):32<=h&&65535>=h?o:"�";e[e.length]='"'}else if(o==="object"){e[e.length]="{",o=0;for(_ in i)Object.prototype.hasOwnProperty.call(i,_)&&(h=W(i[_],s),h!==void 0&&(o++&&(e[e.length]=","),e[e.length]=W(_),e[e.length]=":",e[e.length]=h));e[e.length]="}"}else return}return e.join("")}},Gc=/[\0-\x07\x0b\x0e-\x1f]/,Hc=/^([^"]*"([^\\"]|\\.)*")*[^"]*"([^"\\]|\\.)*[\0-\x1f]/,Ic=/^([^"]*"([^\\"]|\\.)*")*[^"]*"([^"\\]|\\.)*\\[^\\\/"bfnrtu]/,Jc=/^([^"]*"([^\\"]|\\.)*")*[^"]*"([^"\\]|\\.)*\\u([0-9a-fA-F]{0,3}[^0-9a-fA-F])/,Kc=/"([^\0-\x1f\\"]|\\[\\\/"bfnrt]|\\u[0-9a-fA-F]{4})*"/g,Lc=/-?(0|[1-9][0-9]*)(\.[0-9]+)?([eE][-+]?[0-9]+)?/g,Mc=/[ \t\n\r]+/g,Nc=/[^"]:/,Oc=/""/g,Pc=/true|false|null/g,Qc=/00/,Rc=/[\{]([^0\}]|0[^:])/,Sc=/(^|\[)[,:]|[,:](\]|\}|[,:]|$)/,Tc=/[^\[,:][\[\{]/,Uc=/^(\{|\}|\[|\]|,|:|0)+/,Vc=/\u2028/g,Wc=/\u2029/g,Xc=function(a){if(a=String(a),Gc.test(a)||Hc.test(a)||Ic.test(a)||Jc.test(a))return!1;var b=a.replace(Kc,'""');if(b=b.replace(Lc,"0"),b=b.replace(Mc,""),Nc.test(b)||(b=b.replace(Oc,"0"),b=b.replace(Pc,"0"),Qc.test(b)||Rc.test(b)||Sc.test(b)||Tc.test(b)||!b||(b=b.replace(Uc,""))))return!1;a=a.replace(Vc,"\\u2028").replace(Wc,"\\u2029"),b=void 0;try{b=T?[U(a)]:eval(`(function (var_args) {
  return Array.prototype.slice.call(arguments, 0);
})(
`+a+`
)`)}catch(i){return!1}return b&&b.length===1?b[0]:!1},Yc=function(){var i=((m.document||{}).scripts||[]).length;if((zc===void 0||T===void 0||S!==i)&&S!==-1){zc=T=!1,S=-1;try{try{T=!!m.JSON&&m.JSON.stringify.call(m.JSON,{a:[3,!0,new Date(0)],c:function(){}})==='{"a":[3,true,"1970-01-01T00:00:00.000Z"]}'&&U("true")===!0&&U('[{"a":3}]')[0].a===3}catch{}zc=T&&!U("[00]")&&!U('"\x07"')&&!U('"\\0"')&&!U('"\\v"')}finally{S=i}}},Zc=function(i){return S===-1?!1:(Yc(),(zc?U:Xc)(i))},$c=function(i){if(S!==-1)return Yc(),T?m.JSON.stringify.call(m.JSON,i):W(i)},ad=!Date.prototype.toISOString||typeof Date.prototype.toISOString!="function"||new Date(0).toISOString()!=="1970-01-01T00:00:00.000Z",bd=function(){var i=Date.prototype.getUTCFullYear.call(this);return[0>i?"-"+String(1e6-i).substr(1):9999>=i?String(1e4+i).substr(1):"+"+String(1e6+i).substr(1),"-",String(101+Date.prototype.getUTCMonth.call(this)).substr(1),"-",String(100+Date.prototype.getUTCDate.call(this)).substr(1),"T",String(100+Date.prototype.getUTCHours.call(this)).substr(1),":",String(100+Date.prototype.getUTCMinutes.call(this)).substr(1),":",String(100+Date.prototype.getUTCSeconds.call(this)).substr(1),".",String(1e3+Date.prototype.getUTCMilliseconds.call(this)).substr(1),"Z"].join("")};Date.prototype.toISOString=ad?bd:Date.prototype.toISOString;var cd=function(){this.j=-1},dd=function(){this.j=64,this.b=[],this.G=[],this.da=[],this.C=[],this.C[0]=128;for(var i=1;i<this.j;++i)this.C[i]=0;this.D=this.o=0,this.reset()};oa(dd,cd),dd.prototype.reset=function(){this.b[0]=1732584193,this.b[1]=4023233417,this.b[2]=2562383102,this.b[3]=271733878,this.b[4]=3285377520,this.D=this.o=0};var ed=function(i,e,s){s||(s=0);var o=i.da;if(typeof e=="string")for(var h=0;16>h;h++)o[h]=e.charCodeAt(s)<<24|e.charCodeAt(s+1)<<16|e.charCodeAt(s+2)<<8|e.charCodeAt(s+3),s+=4;else for(h=0;16>h;h++)o[h]=e[s]<<24|e[s+1]<<16|e[s+2]<<8|e[s+3],s+=4;for(h=16;80>h;h++){var _=o[h-3]^o[h-8]^o[h-14]^o[h-16];o[h]=(_<<1|_>>>31)&4294967295}e=i.b[0],s=i.b[1];var $=i.b[2],j=i.b[3],_e=i.b[4];for(h=0;80>h;h++){if(40>h)if(20>h){_=j^s&($^j);var et=1518500249}else _=s^$^j,et=1859775393;else 60>h?(_=s&$|j&(s|$),et=2400959708):(_=s^$^j,et=3395469782);_=(e<<5|e>>>27)+_+_e+et+o[h]&4294967295,_e=j,j=$,$=(s<<30|s>>>2)&4294967295,s=e,e=_}i.b[0]=i.b[0]+e&4294967295,i.b[1]=i.b[1]+s&4294967295,i.b[2]=i.b[2]+$&4294967295,i.b[3]=i.b[3]+j&4294967295,i.b[4]=i.b[4]+_e&4294967295};dd.prototype.update=function(i,e){if(i!=null){e===void 0&&(e=i.length);for(var s=e-this.j,o=0,h=this.G,_=this.o;o<e;){if(_==0)for(;o<=s;)ed(this,i,o),o+=this.j;if(typeof i=="string"){for(;o<e;)if(h[_]=i.charCodeAt(o),++_,++o,_==this.j){ed(this,h),_=0;break}}else for(;o<e;)if(h[_]=i[o],++_,++o,_==this.j){ed(this,h),_=0;break}}this.o=_,this.D+=e}},dd.prototype.digest=function(){var i=[],e=8*this.D;56>this.o?this.update(this.C,56-this.o):this.update(this.C,this.j-(this.o-56));for(var s=this.j-1;56<=s;s--)this.G[s]=e&255,e/=256;for(ed(this,this.G),s=e=0;5>s;s++)for(var o=24;0<=o;o-=8)i[e]=this.b[s]>>o&255,++e;return i};var fd=function(){this.O=new dd};fd.prototype.reset=function(){this.O.reset()};var gd=x.crypto,hd=!1,id=0,jd=0,kd=1,ld=0,md="",nd=function(i){i=i||x.event;var e=i.screenX+i.clientX<<16;e+=i.screenY+i.clientY,e*=new Date().getTime()%1e6,kd=kd*e%ld,0<id&&++jd==id&&jb("mousemove",nd,"remove","de")},od=function(i){var e=new fd;i=unescape(encodeURIComponent(i));for(var s=[],o=0,h=i.length;o<h;++o)s.push(i.charCodeAt(o));for(e.O.update(s),e=e.O.digest(),i="",s=0;s<e.length;s++)i+="0123456789ABCDEF".charAt(Math.floor(e[s]/16))+"0123456789ABCDEF".charAt(e[s]%16);return i};hd=!!gd&&typeof gd.getRandomValues=="function",hd||(ld=1e6*(screen.width*screen.width+screen.height),md=od(z.cookie+"|"+z.location+"|"+new Date().getTime()+"|"+Math.random()),id=Q("random/maxObserveMousemove")||0,id!=0&&jb("mousemove",nd,"add","at"));var pd=function(){var i=kd;return i+=parseInt(md.substr(0,20),16),md=od(md),i/(ld+Math.pow(16,20))},qd=function(){var i=new x.Uint32Array(1);return gd.getRandomValues(i),+("0."+i[0])},rd=function(){var i=K.onl;if(!i){i=B(),K.onl=i;var e=B();i.e=function(s){var o=e[s];o&&(delete e[s],o())},i.a=function(s,o){e[s]=o},i.r=function(s){delete e[s]}}return i},sd=function(i,e){return e=e.onload,typeof e=="function"?(rd().a(i,e),e):null},td=function(i){return E(/^\w+$/.test(i),"Unsupported id - "+i),rd(),'onload="window.___jsl.onl.e(&#34;'+i+'&#34;)"'},ud=function(i){rd().r(i)},vd={allowtransparency:"true",frameborder:"0",hspace:"0",marginheight:"0",marginwidth:"0",scrolling:"no",style:"",tabindex:"0",vspace:"0",width:"100%"},wd={allowtransparency:!0,onload:!0},xd=0,yd=function(i){E(!i||ib.test(i),"Illegal url for new iframe - "+i)},zd=function(i,e,s,o,h){yd(s.src);var _,$=sd(o,s),j=$?td(o):"";try{document.all&&(_=i.createElement('<iframe frameborder="'+Wa(String(s.frameborder))+'" scrolling="'+Wa(String(s.scrolling))+'" '+j+' name="'+Wa(String(s.name))+'"/>'))}catch{}finally{_||(_=i.createElement("iframe"),$&&(_.onload=function(){_.onload=null,$.call(this)},ud(o)))}_.setAttribute("ng-non-bindable","");for(var _e in s)i=s[_e],_e==="style"&&typeof i=="object"?D(i,_.style):wd[_e]||_.setAttribute(_e,String(i));return(_e=h&&h.beforeNode||null)||h&&h.dontclear||ob(e),e.insertBefore(_,_e),_=_e?_e.previousSibling:e.lastChild,s.allowtransparency&&(_.allowTransparency=!0),_},Ad=/^:[\w]+$/,Bd=/:([a-zA-Z_]+):/g,Cd=function(){var i=xc()||"0",e=yc(),s=xc(void 0)||i,o=yc(void 0),h="";s&&(h+="u/"+encodeURIComponent(String(s))+"/"),o&&(h+="b/"+encodeURIComponent(String(o))+"/"),s=h||null,(h=(o=Q("isLoggedIn")===!1)?"_/im/":"")&&(s="");var _=Q("iframes/:socialhost:"),$=Q("iframes/:im_socialhost:");return{socialhost:_,ctx_socialhost:o?$:_,session_index:i,session_delegate:e,session_prefix:s,im_prefix:h}},Dd=function(i,e){return Cd()[e]||""},Ed=function(i){return function(e,s){return i?Cd()[s]||i[s]||"":Cd()[s]||""}},Fd=function(i){var e;return i.match(/^https?%3A/i)&&(e=decodeURIComponent(i)),hb(document,e||i)},Gd=function(i){i=i||"canonical";for(var e=document.getElementsByTagName("link"),s=0,o=e.length;s<o;s++){var h=e[s],_=h.getAttribute("rel");if(_&&_.toLowerCase()==i&&(h=h.getAttribute("href"))&&(h=Fd(h))&&h.match(/^https?:\/\/[\w\-_\.]+/i)!=null)return h}return window.location.href},Hd={se:"0"},Id={post:!0},Jd={style:"position:absolute;top:-10000px;width:450px;margin:0px;border-style:none"},Kd="onPlusOne _ready _close _open _resizeMe _renderstart oncircled drefresh erefresh".split(" "),Ld=A(K,"WI",B()),Md=function(i,e,s){var o,h={},_=o=i;i=="plus"&&e.action&&(o=i+"_"+e.action,_=i+"/"+e.action),(o=Q("iframes/"+o+"/url"))||(o=":im_socialhost:/:session_prefix::im_prefix:_/widget/render/"+_+"?usegapi=1");for(var $ in Hd)h[$]=$+"/"+(e[$]||Hd[$])+"/";if(h=hb(z,o.replace(Bd,Ed(h))),$="iframes/"+i+"/params/",_={},D(e,_),(o=Q("lang")||Q("gwidget/lang"))&&(_.hl=o),Id[i]||(_.origin=window.location.origin||window.location.protocol+"//"+window.location.host),_.exp=Q($+"exp"),$=Q($+"location"))for(o=0;o<$.length;o++){var j=$[o];_[j]=x.location[j]}switch(i){case"plus":case"follow":$=_.href,o=e.action?void 0:"publisher",$=($=typeof $=="string"?$:void 0)?Fd($):Gd(o),_.url=$,delete _.href;break;case"plusone":$=($=e.href)?Fd($):Gd(),_.url=$,$=e.db,o=Q(),$==null&&o&&($=o.db,$==null&&($=o.gwidget&&o.gwidget.db)),_.db=$||void 0,$=e.ecp,o=Q(),$==null&&o&&($=o.ecp,$==null&&($=o.gwidget&&o.gwidget.ecp)),_.ecp=$||void 0,delete _.href;break;case"signin":_.url=Gd()}K.ILI&&(_.iloader="1"),delete _["data-onload"],delete _.rd;for(var _e in Hd)_[_e]&&delete _[_e];_.gsrc=Q("iframes/:source:"),_e=Q("inline/css"),typeof _e<"u"&&0<s&&_e>=s&&(_.ic="1"),_e=/^#|^fr-/,s={};for(var et in _)C(_,et)&&_e.test(et)&&(s[et.replace(_e,"")]=_[et],delete _[et]);et=Q("iframes/"+i+"/params/si")=="q"?_:s,_e=mc();for(var tt in _e)!C(_e,tt)||C(_,tt)||C(s,tt)||(et[tt]=_e[tt]);tt=[].concat(Kd),(et=Q("iframes/"+i+"/methods"))&&typeof et=="object"&&Na.test(et.push)&&(tt=tt.concat(et));for(var nt in e)C(e,nt)&&/^on/.test(nt)&&(i!="plus"||nt!="onconnect")&&(tt.push(nt),delete _[nt]);return delete _.callback,s._methods=tt.join(","),fb(h,_,s)},Nd=["style","data-gapiscan"],Pd=function(i){for(var e=B(),s=i.nodeName.toLowerCase().indexOf("g:")!=0,o=0,h=i.attributes.length;o<h;o++){var _=i.attributes[o],$=_.name,j=_.value;0<=Oa.call(Nd,$)||s&&$.indexOf("data-")!=0||j==="null"||"specified"in _&&!_.specified||(s&&($=$.substr(5)),e[$.toLowerCase()]=j)}return i=i.style,(s=Od(i&&i.height))&&(e.height=String(s)),(i=Od(i&&i.width))&&(e.width=String(i)),e},Od=function(i){var e=void 0;return typeof i=="number"?e=i:typeof i=="string"&&(e=parseInt(i,10)),e},Rd=function(){var i=K.drw;sc(function(e){if(i!==e.id&&e.state!=4&&e.type!="share"){var s=e.id,o=e.type,h=e.url;e=e.userParams;var _=z.getElementById(s);if(_){var $=Md(o,e,0);$?(_=_.parentNode,h.replace(/#.*/,"").replace(/(\?|&)ic=1/,"")!==$.replace(/#.*/,"").replace(/(\?|&)ic=1/,"")&&(e.dontclear=!0,e.rd=!0,e.ri=!0,e.type=o,Qd(_,e),(o=R[_.lastChild.id])&&(o.oid=s),tc(s,4))):delete R[s]}else delete R[s]}})},Sd,Td,X,Ud,Vd,Wd=/(?:^|\s)g-((\S)*)(?:$|\s)/,Xd={plusone:!0,autocomplete:!0,profile:!0,signin:!0,signin2:!0};Sd=A(K,"SW",B()),Td=A(K,"SA",B()),X=A(K,"SM",B()),Ud=A(K,"FW",[]),Vd=null;var Zd=function(i,e){Yd(void 0,!1,i,e)},Yd=function(i,e,s,o){L("ps0",!0),s=(typeof s=="string"?document.getElementById(s):s)||z;var h=z.documentMode;if(s.querySelectorAll&&(!h||8<h)){h=o?[o]:Xa(Sd).concat(Xa(Td)).concat(Xa(X));for(var _=[],$=0;$<h.length;$++){var j=h[$];_.push(".g-"+j,"g\\:"+j)}h=s.querySelectorAll(_.join(","))}else h=s.getElementsByTagName("*");for(s=B(),_=0;_<h.length;_++){$=h[_];var _e=$;j=o;var et=_e.nodeName.toLowerCase(),tt=void 0;if(_e.getAttribute("data-gapiscan"))j=null;else{var nt=et.indexOf("g:");nt==0?tt=et.substr(2):(nt=(nt=String(_e.className||_e.getAttribute("class")))&&Wd.exec(nt))&&(tt=nt[1]),j=!tt||!(Sd[tt]||Td[tt]||X[tt])||j&&tt!==j?null:tt}j&&(Xd[j]||$.nodeName.toLowerCase().indexOf("g:")==0||Xa(Pd($)).length!=0)&&($.setAttribute("data-gapiscan",!0),A(s,j,[]).push($))}if(e)for(var rt in s)for(e=s[rt],o=0;o<e.length;o++)e[o].setAttribute("data-onload",!0);for(var st in s)Ud.push(st);if(L("ps1",!0),(rt=Ud.join(":"))||i)try{F.load(rt,i)}catch(ct){pc(ct);return}if($d(Vd||{}))for(var lt in s){for(i=s[lt],st=0,e=i.length;st<e;st++)i[st].removeAttribute("data-gapiscan");ae(lt)}else{o=[];for(lt in s)for(i=s[lt],st=0,e=i.length;st<e;st++)h=i[st],be(lt,h,Pd(h),o,e);ce(rt,o)}},de=function(i){var e=A(F,i,{});e.go||(e.go=function(s){return Zd(s,i)},e.render=function(s,o){return o=o||{},o.type=i,Qd(s,o)})},ee=function(i){Sd[i]=!0},fe=function(i){Td[i]=!0},ge=function(i){X[i]=!0},ae=function(i,e){var s=sb(i);e&&s?(s(e),(s=e.iframeNode)&&s.setAttribute("data-gapiattached",!0)):F.load(i,function(){var o=sb(i),h=e&&e.iframeNode,_=e&&e.userParams;h&&o?(o(e),h.setAttribute("data-gapiattached",!0)):(o=F[i].go,i=="signin2"?o(h,_):o(h&&h.parentNode,_))})},$d=function(){return!1},ce=function(){},be=function(i,e,s,o,h,_,$){switch(he(e,i,_)){case 0:i=X[i]?i+"_annotation":i,o={},o.iframeNode=e,o.userParams=s,ae(i,o);break;case 1:if(e.parentNode){for(var j in s)if((_=C(s,j))&&(_=s[j],_=!!_&&typeof _=="object"&&(!_.toString||_.toString===Object.prototype.toString||_.toString===Array.prototype.toString)),_)try{s[j]=$c(s[j])}catch{delete s[j]}if(_=!0,s.dontclear&&(_=!1),delete s.dontclear,rc(),j=Md(i,s,h),h=$||{},h.allowPost=1,h.attributes=Jd,h.dontclear=!_,$={},$.userParams=s,$.url=j,$.type=i,s.rd)var _e=e;else _e=document.createElement("div"),e.setAttribute("data-gapistub",!0),_e.style.cssText="position:absolute;width:450px;left:-10000px;",e.parentNode.insertBefore(_e,e);$.siteElement=_e,_e.id||(e=_e,A(Ld,i,0),_="___"+i+"_"+Ld[i]++,e.id=_),e=B(),e[">type"]=i,D(s,e),_=j,s=_e,j=h||{},e=j.attributes||{},E(!(j.allowPost||j.forcePost)||!e.onload,"onload is not supported by post iframe (allowPost or forcePost)"),h=e=_,Ad.test(e)&&(h=Q("iframes/"+h.substring(1)+"/url"),E(!!h,"Unknown iframe url config for - "+e)),_=hb(z,h.replace(Bd,Dd)),e=s.ownerDocument||z,_e=0;do h=j.id||["I",xd++,"_",new Date().getTime()].join("");while(e.getElementById(h)&&5>++_e);E(5>_e,"Error creating iframe id"),_e={};var et={};e.documentMode&&9>e.documentMode&&(_e.hostiemode=e.documentMode),D(j.queryParams||{},_e),D(j.fragmentParams||{},et);var tt=j.pfname,nt=B();Q("iframes/dropLegacyIdParam")||(nt.id=h),nt._gfid=h,nt.parent=e.location.protocol+"//"+e.location.host;var rt=H(e.location.href,"parent");if(tt=tt||"",!tt&&rt&&(rt=H(e.location.href,"_gfid","")||H(e.location.href,"id",""),tt=H(e.location.href,"pfname",""),tt=rt?tt+"/"+rt:""),tt||(rt=Zc(H(e.location.href,"jcp","")))&&typeof rt=="object"&&(tt=(tt=rt.id)?rt.pfname+"/"+tt:""),nt.pfname=tt,j.connectWithJsonParam&&(rt={},rt.jcp=$c(nt),nt=rt),rt=H(_,"rpctoken")||_e.rpctoken||et.rpctoken,rt||(rt=j.rpctoken||String(Math.round(1e8*(hd?qd():pd()))),nt.rpctoken=rt),j.rpctoken=rt,D(nt,j.connectWithQueryParams?_e:et),rt=e.location.href,nt=B(),(tt=H(rt,"_bsh",K.bsh))&&(nt._bsh=tt),(rt=qb(rt))&&(nt.jsh=rt),j.hintInFragment?D(nt,et):D(nt,_e),_=fb(_,_e,et,j.paramsSerializer),et=B(),D(vd,et),D(j.attributes,et),et.name=et.id=h,et.src=_,j.eurl=_,_e=j||{},nt=!!_e.allowPost,_e.forcePost||nt&&2e3<_.length){if(_e=I(_),et.src="",j.dropDataPostorigin||(et["data-postorigin"]=_),_=zd(e,s,et,h),navigator.userAgent.indexOf("WebKit")!=-1){var st=_.contentWindow.document;st.open(),et=st.createElement("div"),nt={},rt=h+"_inner",nt.name=rt,nt.src="",nt.style="display:none",zd(e,et,nt,rt,j)}for(et=(j=_e.query[0])?j.split("&"):[],j=[],nt=0;nt<et.length;nt++)rt=et[nt].split("=",2),j.push([decodeURIComponent(rt[0]),decodeURIComponent(rt[1])]);for(_e.query=[],et=db(_e),E(ib.test(et),"Invalid URL: "+et),_e=e.createElement("form"),_e.method="POST",_e.target=h,_e.style.display="none",h=et instanceof v?et:Fa(et),xa(_e,"HTMLFormElement").action=Da(h),h=0;h<j.length;h++)et=e.createElement("input"),et.type="hidden",et.name=j[h][0],et.value=j[h][1],_e.appendChild(et);s.appendChild(_e),_e.submit(),_e.parentNode.removeChild(_e),st&&st.close(),st=_}else st=zd(e,s,et,h,j);$.iframeNode=st,$.id=st.getAttribute("id"),st=$.id,s=B(),s.id=st,s.userParams=$.userParams,s.url=$.url,s.type=$.type,s.state=1,R[st]=s,st=$}else st=null;st&&(($=st.id)&&o.push($),ae(i,st))}},he=function(i,e,s){if(i&&i.nodeType===1&&e){if(s)return 1;if(X[e]){if(pb[i.nodeName.toLowerCase()])return(i=i.innerHTML)&&i.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")?0:1}else{if(Td[e])return 0;if(Sd[e])return 1}}return null},Qd=function(i,e){var s=e.type;delete e.type;var o=(typeof i=="string"?document.getElementById(i):i)||void 0;if(o){i={};for(var h in e)C(e,h)&&(i[h.toLowerCase()]=e[h]);i.rd=1,(e=!!i.ri)&&delete i.ri,h=[],be(s,o,i,h,0,e,void 0),ce(s,h)}else pc("gapi."+s+".render: missing element "+typeof i=="string"?i:"")};A(F,"platform",{}).go=Zd,$d=function(i){for(var e=["_c","jsl","h"],s=0;s<e.length&&i;s++)i=i[e[s]];return e=qb(La.href),!i||i.indexOf("n;")!=0&&e.indexOf("n;")!=0&&i!==e},ce=function(i,e){ie(i,e)};var lb=function(i){Yd(i,!0)},je=function(i,e){e=e||[];for(var s=0;s<e.length;++s)i(e[s]);for(i=0;i<e.length;i++)de(e[i])};N.push(["platform",function(i,e,s){if(Vd=s,e&&Ud.push(e),je(ee,i),je(fe,s._c.annotation),je(ge,s._c.bimodal),ic(),gc(),Q("parsetags")!="explicit"){if(rb(i),nc(mc())&&!Q("disableRealtimeCallback")&&rc(),s&&(i=s.callback)){var o=Ya(i);delete s.callback}nb(function(){lb(o)})}}]),F._pl=!0;var ke=function(i){if(i=(i=R[i])?i.oid:void 0,i){var e=z.getElementById(i);e&&e.parentNode.removeChild(e),delete R[i],ke(i)}},le=/^\{h:'/,me=/^!_/,ne="",ie=function(i,e){function s(){jb("message",o,"remove","de")}function o(_){var $=_.data,j=_.origin;if(oe($,e)){var _e=h;h=!1,_e&&L("rqe"),pe(i,function(){_e&&L("rqd"),s();for(var et=A(K,"RPMQ",[]),tt=0;tt<et.length;tt++)et[tt]({data:$,origin:j})})}}if(e.length!==0){ne=H(La.href,"pfname","");var h=!0;jb("message",o,"add","at"),ac(i,s)}},oe=function(i,e){if(i=String(i),le.test(i))return!0;var s=!1;if(me.test(i)&&(s=!0,i=i.substr(2)),!/^\{/.test(i))return!1;var o=Zc(i);if(!o)return!1;if(i=o.f,o.s&&i&&Oa.call(e,i)!=-1){if((o.s==="_renderstart"||o.s===ne+"/"+i+"::_renderstart")&&(o=o.a&&o.a[s?0:1],e=z.getElementById(i),tc(i,2),o&&e&&o.width&&o.height)){e:{if(s=e.parentNode,i=o||{},qc()){var h=e.id;if(h){if(o=(o=R[h])?o.state:void 0,o===1||o===4)break e;ke(h)}}(o=s.nextSibling)&&o.getAttribute&&o.getAttribute("data-gapistub")&&(s.parentNode.removeChild(o),s.style.cssText=""),o=i.width;var _=i.height,$=s.style;$.textIndent="0",$.margin="0",$.padding="0",$.background="transparent",$.borderStyle="none",$.cssFloat="none",$.styleFloat="none",$.lineHeight="normal",$.fontSize="1px",$.verticalAlign="baseline",s=s.style,s.display="inline-block",$=e.style,$.position="static",$.left="0",$.top="0",$.visibility="visible",o&&(s.width=$.width=o+"px"),_&&(s.height=$.height=_+"px"),i.verticalAlign&&(s.verticalAlign=i.verticalAlign),h&&tc(h,3)}e["data-csi-wdt"]=new Date().getTime()}return!0}return!1},pe=function(i,e){ac(i,e)},qe=function(i,e){this.L=i,i=e||{},this.fa=Number(i.maxAge)||0,this.U=i.domain,this.X=i.path,this.ga=!!i.secure};qe.prototype.read=function(){for(var i=this.L+"=",e=document.cookie.split(/;\s*/),s=0;s<e.length;++s){var o=e[s];if(o.indexOf(i)==0)return o.substr(i.length)}},qe.prototype.write=function(i,e){if(!re.test(this.L))throw"Invalid cookie name";if(!se.test(i))throw"Invalid cookie value";if(i=this.L+"="+i,this.U&&(i+=";domain="+this.U),this.X&&(i+=";path="+this.X),e=typeof e=="number"?e:this.fa,0<=e){var s=new Date;s.setSeconds(s.getSeconds()+e),i+=";expires="+s.toUTCString()}return this.ga&&(i+=";secure"),document.cookie=i,!0},qe.prototype.clear=function(){this.write("",0)};var se=/^[-+/_=.:|%&a-zA-Z0-9@]*$/,re=/^[A-Z_][A-Z0-9_]{0,63}$/;qe.iterate=function(i){for(var e=document.cookie.split(/;\s*/),s=0;s<e.length;++s){var o=e[s].split("="),h=o.shift();i(h,o.join("="))}};var te=function(i){this.B=i};te.prototype.read=function(){if(Y.hasOwnProperty(this.B))return Y[this.B]},te.prototype.write=function(i){return Y[this.B]=i,!0},te.prototype.clear=function(){delete Y[this.B]};var Y={};te.iterate=function(i){for(var e in Y)Y.hasOwnProperty(e)&&i(e,Y[e])};var ue=window.location.protocol==="https:",ve=ue||window.location.protocol==="http:"?qe:te,we=function(i){var e=i.substr(1),s="",o=window.location.hostname;if(e!==""){if(s=parseInt(e,10),isNaN(s)||(e=o.split("."),e.length<s-1))return null;e.length==s-1&&(o="."+o)}else o="";return{i:i.charAt(0)=="S",domain:o,l:s}},xe=function(){var i,e=null;return ve.iterate(function(s,o){s.indexOf("G_AUTHUSER_")===0&&(s=we(s.substring(11)),!i||s.i&&!i.i||s.i==i.i&&s.l>i.l)&&(i=s,e=o)}),{ea:i,F:e}},ye=function(i){if(i.indexOf("GCSC")!==0)return null;var e={W:!1};if(i=i.substr(4),!i)return e;var s=i.charAt(0);i=i.substr(1);var o=i.lastIndexOf("_");if(o==-1)return e;var h=we(i.substr(o+1));return h==null||(i=i.substring(0,o),i.charAt(0)!=="_")?e:(o=s==="E"&&h.i,!o&&(s!=="U"||h.i)||o&&!ue?e:{W:!0,i:o,ja:i.substr(1),domain:h.domain,l:h.l})},ze=function(i){return i?(i=i.split("="),i[1]?i[1].split("|"):[]):[]},Ae=function(i){return i=i.split(":"),{clientId:i[0].split("=")[1],ia:ze(i[1]),la:ze(i[2]),ka:ze(i[3])}},Be=function(){var i=xe(),e=i.ea;if(i=i.F,i!==null){var s;if(ve.iterate(function(_,$){(_=ye(_))&&_.W&&_.i==e.i&&_.l==e.l&&(s=$)}),s){var o=Ae(s),h=o&&o.ia[Number(i)];if(o=o&&o.clientId,h)return{F:i,ha:h,clientId:o}}}return null},Z=function(){this.T=Ce};Z.prototype.$=function(){this.K||(this.v=0,this.K=!0,this.Y())},Z.prototype.Y=function(){this.K&&(this.T()?this.v=this.R:this.v=Math.min(2*(this.v||this.R),120),window.setTimeout(na(this.Y,this),1e3*this.v))},Z.prototype.v=0,Z.prototype.R=2,Z.prototype.T=null,Z.prototype.K=!1;var Ee=null;qc=function(){return K.oa=!0},rc=function(){K.oa=!0;var i=Be();(i=i&&i.F)&&hc("googleapis.config/sessionIndex",i),Ee||(Ee=A(K,"ss",new Z)),i=Ee,i.$&&i.$()};var Ce=function(){var i=Be(),e=i&&i.ha||null,s=i&&i.clientId;return ac("auth",{callback:function(){var o=x.gapi.auth,h={client_id:s,session_state:e};o.checkSessionState(h,function(_){var $=h.session_state,j=Q("isLoggedIn");_=Q("debug/forceIm")?!1:$&&_||!$&&!_,(j=j!=_)&&(hc("isLoggedIn",_),rc(),Rd(),_||((_=o.signOut)?_():(_=o.setToken)&&_(null))),_=mc();var _e=Q("savedUserState");$=o._guss(_.cookiepolicy),_e=_e!=$&&typeof _e<"u",hc("savedUserState",$),(j||_e)&&nc(_)&&!Q("disableRealtimeCallback")&&o._pimf(_,!0)})}}),!0};L("bs0",!0,window.gapi._bs),L("bs1",!0),delete window.gapi._bs}).call(globalThis);gapi$1.load("",{callback:window.gapi_onload,_c:{jsl:{ci:{deviceType:"desktop","oauth-flow":{authUrl:"https://accounts.google.com/o/oauth2/auth",proxyUrl:"https://accounts.google.com/o/oauth2/postmessageRelay",disableOpt:!0,idpIframeUrl:"https://accounts.google.com/o/oauth2/iframe",usegapi:!1},debug:{reportExceptionRate:.05,forceIm:!1,rethrowException:!1,host:"https://apis.google.com"},enableMultilogin:!0,"googleapis.config":{auth:{useFirstPartyAuthV2:!0}},isPlusUser:!1,inline:{css:1},disableRealtimeCallback:!1,drive_share:{skipInitCommand:!0},csi:{rate:.01},client:{cors:!1},isLoggedIn:!0,signInDeprecation:{rate:0},include_granted_scopes:!0,llang:"pt",iframes:{youtube:{params:{location:["search","hash"]},url:":socialhost:/:session_prefix:_/widget/render/youtube?usegapi=1",methods:["scroll","openwindow"]},ytsubscribe:{url:"https://www.youtube.com/subscribe_embed?usegapi=1"},plus_circle:{params:{url:""},url:":socialhost:/:session_prefix::se:_/widget/plus/circle?usegapi=1"},plus_share:{params:{url:""},url:":socialhost:/:session_prefix::se:_/+1/sharebutton?plusShare=true&usegapi=1"},rbr_s:{params:{url:""},url:":socialhost:/:session_prefix::se:_/widget/render/recobarsimplescroller"},":source:":"3p",playemm:{url:"https://play.google.com/work/embedded/search?usegapi=1&usegapi=1"},savetoandroidpay:{url:"https://pay.google.com/gp/v/widget/save"},blogger:{params:{location:["search","hash"]},url:":socialhost:/:session_prefix:_/widget/render/blogger?usegapi=1",methods:["scroll","openwindow"]},evwidget:{params:{url:""},url:":socialhost:/:session_prefix:_/events/widget?usegapi=1"},partnersbadge:{url:"https://www.gstatic.com/partners/badge/templates/badge.html?usegapi=1"},dataconnector:{url:"https://dataconnector.corp.google.com/:session_prefix:ui/widgetview?usegapi=1"},surveyoptin:{url:"https://www.google.com/shopping/customerreviews/optin?usegapi=1"},":socialhost:":"https://apis.google.com",shortlists:{url:""},hangout:{url:"https://talkgadget.google.com/:session_prefix:talkgadget/_/widget"},plus_followers:{params:{url:""},url:":socialhost:/_/im/_/widget/render/plus/followers?usegapi=1"},post:{params:{url:""},url:":socialhost:/:session_prefix::im_prefix:_/widget/render/post?usegapi=1"},":gplus_url:":"https://plus.google.com",signin:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/signin?usegapi=1",methods:["onauth"]},rbr_i:{params:{url:""},url:":socialhost:/:session_prefix::se:_/widget/render/recobarinvitation"},share:{url:":socialhost:/:session_prefix::im_prefix:_/widget/render/share?usegapi=1"},plusone:{params:{count:"",size:"",url:""},url:":socialhost:/:session_prefix::se:_/+1/fastbutton?usegapi=1"},comments:{params:{location:["search","hash"]},url:":socialhost:/:session_prefix:_/widget/render/comments?usegapi=1",methods:["scroll","openwindow"]},":im_socialhost:":"https://plus.googleapis.com",backdrop:{url:"https://clients3.google.com/cast/chromecast/home/widget/backdrop?usegapi=1"},visibility:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/visibility?usegapi=1"},autocomplete:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/autocomplete"},additnow:{url:"https://apis.google.com/marketplace/button?usegapi=1",methods:["launchurl"]},":signuphost:":"https://plus.google.com",ratingbadge:{url:"https://www.google.com/shopping/customerreviews/badge?usegapi=1"},appcirclepicker:{url:":socialhost:/:session_prefix:_/widget/render/appcirclepicker"},follow:{url:":socialhost:/:session_prefix:_/widget/render/follow?usegapi=1"},community:{url:":ctx_socialhost:/:session_prefix::im_prefix:_/widget/render/community?usegapi=1"},sharetoclassroom:{url:"https://classroom.google.com/sharewidget?usegapi=1"},ytshare:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/ytshare?usegapi=1"},plus:{url:":socialhost:/:session_prefix:_/widget/render/badge?usegapi=1"},family_creation:{params:{url:""},url:"https://families.google.com/webcreation?usegapi=1&usegapi=1"},commentcount:{url:":socialhost:/:session_prefix:_/widget/render/commentcount?usegapi=1"},configurator:{url:":socialhost:/:session_prefix:_/plusbuttonconfigurator?usegapi=1"},zoomableimage:{url:"https://ssl.gstatic.com/microscope/embed/"},appfinder:{url:"https://workspace.google.com/:session_prefix:marketplace/appfinder?usegapi=1"},savetowallet:{url:"https://pay.google.com/gp/v/widget/save"},person:{url:":socialhost:/:session_prefix:_/widget/render/person?usegapi=1"},savetodrive:{url:"https://drive.google.com/savetodrivebutton?usegapi=1",methods:["save"]},page:{url:":socialhost:/:session_prefix:_/widget/render/page?usegapi=1"},card:{url:":socialhost:/:session_prefix:_/hovercard/card"}}},h:"m;/_/scs/apps-static/_/js/k=oz.gapi.pt_BR.l4Bv_WkVC6g.O/am=wQE/d=1/ct=zgms/rs=AGLTcCOuH5S2uqmF6E8zOW7n3yiqiwhzNQ/m=__features__",u:"https://apis.google.com/js/platform.js",hee:!0,fp:"821a251b140e4add32f87f4a7a08f044a59aa0e9",dpo:!1},platform:["additnow","backdrop","blogger","comments","commentcount","community","donation","family_creation","follow","hangout","health","page","partnersbadge","person","playemm","playreview","plus","plusone","post","ratingbadge","savetoandroidpay","savetodrive","savetowallet","sharetoclassroom","shortlists","signin2","surveyoptin","visibility","youtube","ytsubscribe","zoomableimage"],fp:"821a251b140e4add32f87f4a7a08f044a59aa0e9",annotation:["interactivepost","recobar","signin2","autocomplete","profile"],bimodal:["signin","share"]}});const loadGapiInsideDOM=async function(){return new Promise(i=>{const e=document.getElementsByTagName("script")[0],s=document.createElement("script");s.id="google-platform",s.src="//apis.google.com/js/platform.js",s.async=!0,s.defer=!0,e.parentNode.insertBefore(s,e),s.onload=async()=>{i(window.gapi)}})};function useYoutubeApi(){const{data:i}=useAccessToken("google");return useQuery({enabled:!!i,queryKey:["youtube","api",i],queryFn:async()=>(await gapiClientLoad(),gapi.client.setToken({access_token:i}),gapi.client),...infiniteCache})}let gapiClientLoadPromise;async function gapiClientLoad(){return gapiClientLoadPromise||(gapiClientLoadPromise=new Promise(i=>{loadGapiInsideDOM().then(()=>{gapi.load("client",()=>{gapi.client.init({discoveryDocs:["https://youtube.googleapis.com/$discovery/rest?version=v3"]}).then(()=>i())})})}),gapiClientLoadPromise)}function useYoutubeBroadcaster(){const{data:i}=useAccessToken("google"),{data:e}=useYoutubeApi();return useQuery({enabled:!!i&&!!e,queryKey:["youtube","broadcaster",i||null],queryFn:async()=>{var tt,nt,rt;const s=await gapi.client.youtube.channels.list({mine:!0,part:["id","snippet"]}),{items:o}=s.result;if(!o||!o.length)throw new YouTubeChannelNotFoundError;const[h]=o,{id:_,snippet:$}=h;if(!_||!$)throw new YouTubeChannelNotFoundError;const{title:j,thumbnails:_e,customUrl:et}=$;if(!j)throw new YouTubeChannelNotFoundError;return{id:_,userName:et||"",displayName:j,image:((tt=_e==null?void 0:_e.medium)==null?void 0:tt.url)||((nt=_e==null?void 0:_e.standard)==null?void 0:nt.url)||((rt=_e==null?void 0:_e.default)==null?void 0:rt.url)||"",url:et?`https://www.youtube.com/${et}`:""}},...infiniteCache})}class YouTubeChannelNotFoundError extends Error{constructor(){const e="YouTube channel not found";super(e),this.name="YouTubeChannelNotFoundError"}}function useMessage(){function i(e){return{id:e.id,type:"basic",user:{id:e.authorDetails.channelId,displayName:e.authorDetails.displayName,url:e.authorDetails.channelUrl,image:e.authorDetails.profileImageUrl,roles:{broadcaster:e.authorDetails.isChatOwner,moderator:e.authorDetails.isChatModerator,member:e.authorDetails.isChatSponsor},subscriptionDate:null},text:e.snippet.displayMessage,parts:[{type:"text",text:e.snippet.displayMessage}],date:new Date(e.snippet.publishedAt)}}return i}function useLiveChatId(){const{data:i}=useYoutubeBroadcaster(),{data:e}=useYoutubeApi(),[s,o]=reactExports.useState(),h=useQuery({enabled:!!e,queryKey:["youtube","liveChatId",i==null?void 0:i.id],queryFn:async()=>{const _=await e.youtube.liveBroadcasts.list({mine:!0,part:["snippet","status"],maxResults:1}),{items:$}=_.result;if(!$||!$.length)throw new YouTubeLiveBroadcastNotFoundError;const[j]=$,{snippet:_e,status:et}=j;if(!_e||!et)throw new YouTubeLiveBroadcastNotFoundError;const{lifeCycleStatus:tt}=et;if(tt!=="live")throw new YouTubeLiveBroadcastNotFoundError;const{liveChatId:nt}=_e;if(!nt)throw new YouTubeLiveChatNotFoundError;return nt},gcTime:1/0,staleTime:1/0,retry:!0,retryDelay:()=>(o(new Date(Date.now()+6e4)),6e4),retryOnMount:!1,refetchOnMount:!1,refetchOnWindowFocus:!1,refetchOnReconnect:!1});return{retryDate:s,...h}}class YouTubeLiveBroadcastNotFoundError extends Error{constructor(){const e="YouTube live broadcast not found, retrying in 1 minute";super(e),this.name="YouTubeLiveBroadcastNotFoundError"}}class YouTubeLiveChatNotFoundError extends Error{constructor(){const e="YouTube live chat not found, retrying in 1 minute";super(e),this.name="YouTubeLiveChatNotFoundError"}}const MAX_POLLING_INTERVAL=5*1e3;function useLiveChat(){const{data:i}=useLiveChatId(),{data:e}=useYoutubeApi(),[s,o]=reactExports.useState(0);return useInfiniteQuery({enabled:!!e&&!!i,queryKey:["youtube","liveChat",i||null],queryFn:async({pageParam:h})=>{const _=await e.youtube.liveChatMessages.list({liveChatId:i,part:["id","snippet","authorDetails"],pageToken:h}),{items:$=[],pollingIntervalMillis:j=0,nextPageToken:_e}=_.result,et=$.length?0:s+1;o(et);const tt=et*1e3,nt=Math.max(j,Math.min(j+tt,MAX_POLLING_INTERVAL));return{nextPageToken:_e,pollingInterval:nt,messages:$}},initialPageParam:"",getNextPageParam:h=>h.nextPageToken,maxPages:2,gcTime:1/0,staleTime:1/0,retry:0,retryOnMount:!1,refetchOnMount:!1,refetchOnWindowFocus:!1,refetchOnReconnect:!1})}function useChatClient(){const{data:i,fetchNextPage:e}=useLiveChat(),{addEvent:s}=useEventListDispatch(),o=useMessage();function h(_){_&&s({type:"message",id:_.id,userId:_.user.id,message:_,source:"youtube"})}reactExports.useEffect(()=>{if(!i||!i.pages.length)return;const _=i.pages[i.pages.length-1],{pollingInterval:$,messages:j}=_;j.forEach(_e=>{const{id:et,snippet:tt,authorDetails:nt}=_e;if(!(!et||!tt||!nt))switch(tt.type){case"textMessageEvent":h(o(_e));break;case"superChatEvent":break;case"superStickerEvent":break;case"newSponsorEvent":break;case"memberMilestoneChatEvent":break;case"membershipGiftingEvent":break;case"giftMembershipReceivedEvent":break;case"messageDeletedEvent":break;case"userBannedEvent":break;default:return}}),setTimeout(()=>{e()},$)},[i,e])}function useCountdown(i=new Date){const[e,s]=reactExports.useState(timeLeft(i));return reactExports.useEffect(()=>{const o=setInterval(()=>{s(timeLeft(i))},1e3);return()=>clearInterval(o)},[i]),Math.floor(e/1e3)}function timeLeft(i){return Math.max(i.getTime()-Date.now(),0)}function Chat(){const{data:i}=useYoutubeBroadcaster(),{status:e,retryDate:s}=useLiveChatId(),o=useCountdown(s);return useChatClient(),e!=="success"?s&&o>0?jsxRuntimeExports.jsx(LoadingBanner,{message:`YouTube live broadcast not found. Searching again in ${o} seconds...`}):jsxRuntimeExports.jsx(LoadingBanner,{message:"Searching for your YouTube live broadcast..."}):jsxRuntimeExports.jsx(SuccessBanner,{broadcaster:i,platform:"youtube",staticPosition:!0})}function useThirdPartyEmotes(){const{data:i}=useYoutubeBroadcaster();return useQuery({enabled:!!i,queryKey:["youtube","thirdPartyEmotes",i==null?void 0:i.id],queryFn:async()=>{const e=new Map;return(await Promise.all([getChannelEmotes$1("youtube",i.id)])).forEach(o=>{o.forEach((h,_)=>{e.set(_,h)})}),e},retry:1,retryOnMount:!1,gcTime:1/0,staleTime:1/0,refetchOnMount:!1,refetchOnWindowFocus:!1,refetchOnReconnect:!1})}function YouTube(){const{status:i}=useYoutubeBroadcaster(),{status:e}=useThirdPartyEmotes(),{isPlatformReady:s}=usePlatformReady(),{setPlatformReady:o}=usePlatformReadyDispatch(),h=[i,e].some(_=>_==="pending");return reactExports.useEffect(()=>{h||setTimeout(()=>{o("youtube")},1.5*1e3)},[h,o]),s("youtube")?jsxRuntimeExports.jsx(Chat,{}):jsxRuntimeExports.jsx(LoadingBanner,{staticPosition:!0,message:"Key verified! Loading YouTube data...",items:[{message:"Loading broadcaster...",status:i},{message:"Loading third party emotes...",status:e}]})}function promisifyRequest(i){return new Promise((e,s)=>{i.oncomplete=i.onsuccess=()=>e(i.result),i.onabort=i.onerror=()=>s(i.error)})}function createStore(i,e){const s=indexedDB.open(i);s.onupgradeneeded=()=>s.result.createObjectStore(e);const o=promisifyRequest(s);return(h,_)=>o.then($=>_($.transaction(e,h).objectStore(e)))}let defaultGetStoreFunc;function defaultGetStore(){return defaultGetStoreFunc||(defaultGetStoreFunc=createStore("keyval-store","keyval")),defaultGetStoreFunc}function get(i,e=defaultGetStore()){return e("readonly",s=>promisifyRequest(s.get(i)))}function set(i,e,s=defaultGetStore()){return s("readwrite",o=>(o.put(e,i),promisifyRequest(o.transaction)))}function setMany(i,e=defaultGetStore()){return e("readwrite",s=>(i.forEach(o=>s.put(o[1],o[0])),promisifyRequest(s.transaction)))}function getMany(i,e=defaultGetStore()){return e("readonly",s=>Promise.all(i.map(o=>promisifyRequest(s.get(o)))))}function update(i,e,s=defaultGetStore()){return s("readwrite",o=>new Promise((h,_)=>{o.get(i).onsuccess=function(){try{o.put(e(this.result),i),h(promisifyRequest(o.transaction))}catch($){_($)}}}))}function del(i,e=defaultGetStore()){return e("readwrite",s=>(s.delete(i),promisifyRequest(s.transaction)))}function delMany(i,e=defaultGetStore()){return e("readwrite",s=>(i.forEach(o=>s.delete(o)),promisifyRequest(s.transaction)))}function clear(i=defaultGetStore()){return i("readwrite",e=>(e.clear(),promisifyRequest(e.transaction)))}function eachCursor(i,e){return i.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},promisifyRequest(i.transaction)}function keys(i=defaultGetStore()){return i("readonly",e=>{if(e.getAllKeys)return promisifyRequest(e.getAllKeys());const s=[];return eachCursor(e,o=>s.push(o.key)).then(()=>s)})}function values(i=defaultGetStore()){return i("readonly",e=>{if(e.getAll)return promisifyRequest(e.getAll());const s=[];return eachCursor(e,o=>s.push(o.value)).then(()=>s)})}function entries(i=defaultGetStore()){return i("readonly",e=>{if(e.getAll&&e.getAllKeys)return Promise.all([promisifyRequest(e.getAllKeys()),promisifyRequest(e.getAll())]).then(([o,h])=>o.map((_,$)=>[_,h[$]]));const s=[];return i("readonly",o=>eachCursor(o,h=>s.push([h.key,h.value])).then(()=>s))})}class Storage{constructor(e){ar(this,"_store");e&&this._createStore(e)}use(e){if(!e)throw new CreateStorageError;this._createStore(`widget-${e}`)}get(e){return this._throwIfStoreMissing(),get(e,this._store)}getMany(e){return this._throwIfStoreMissing(),getMany(e,this._store)}set(e,s){return this._throwIfStoreMissing(),set(e,s,this._store)}setMany(e){return this._throwIfStoreMissing(),setMany(e,this._store)}update(e,s){return this._throwIfStoreMissing(),update(e,s,this._store)}del(e){return this._throwIfStoreMissing(),del(e,this._store)}delMany(e){return this._throwIfStoreMissing(),delMany(e,this._store)}clear(){return this._throwIfStoreMissing(),clear(this._store)}keys(){return this._throwIfStoreMissing(),keys(this._store)}values(){return this._throwIfStoreMissing(),values(this._store)}entries(){return this._throwIfStoreMissing(),entries(this._store)}_createStore(e){this._store=createStore(`slime2-${e}-db`,`slime2-${e}-store`)}_throwIfStoreMissing(){if(!this._store)throw new MissingStorageError}}const widgetStorage=new Storage;class CreateStorageError extends Error{constructor(){const e="Parameters missing from slime2.storage.create()";super(e),this.name="CreateStorageError"}}class MissingStorageError extends Error{constructor(){const e="Storage must be created using slime2.storage.create('storage-name') before use.";super(e),this.name="MissingStorageError"}}function App(){const{status:i,error:e}=useAccessToken("twitch"),{status:s,error:o}=useAccessToken("google"),h=reactExports.useRef(!1),{onEvent:_,setKey:$,setPlatform:j,setMaxEvents:_e,setEventDelay:et,setEventExpiration:tt,setWidgetSettingsPage:nt}=useClientDispatch(),{platforms:rt}=useClient();if(reactExports.useEffect(()=>{h.current||(globalThis.slime2={onEvent:_,setKey:$,setPlatform:j,setMaxEvents:_e,setEventDelay:et,setEventExpiration:tt,setWidgetSettingsPage:nt,storage:widgetStorage,color:Slime2Color,random:Random,cloneTemplate},dispatchEvent(new CustomEvent("slime2:ready")),h.current=!0)},[]),rt.includes("twitch")){if(e instanceof KeyNotFoundError)return jsxRuntimeExports.jsx(ErrorBanner,{message:"Twitch key not found."});if(e instanceof KeyInvalidError)return jsxRuntimeExports.jsx(ErrorBanner,{message:"Twitch key expired."})}if(rt.includes("youtube")){if(o instanceof KeyNotFoundError)return jsxRuntimeExports.jsx(ErrorBanner,{message:"YouTube key not found."});if(o instanceof KeyInvalidError)return jsxRuntimeExports.jsx(ErrorBanner,{message:"YouTube key expired."})}return!!rt.length&&[i,s].some(lt=>lt==="pending")?jsxRuntimeExports.jsx(LoadingBanner,{message:"Verifying Key..."}):jsxRuntimeExports.jsxs("div",{className:"absolute inset-x-0",children:[i==="success"&&jsxRuntimeExports.jsx(Twitch,{}),s==="success"&&jsxRuntimeExports.jsx(YouTube,{})]})}var imagesloaded={exports:{}},evEmitter={exports:{}},hasRequiredEvEmitter;function requireEvEmitter(){return hasRequiredEvEmitter||(hasRequiredEvEmitter=1,function(i){(function(e,s){i.exports?i.exports=s():e.EvEmitter=s()})(typeof window<"u"?window:commonjsGlobal,function(){function e(){}let s=e.prototype;return s.on=function(o,h){if(!o||!h)return this;let _=this._events=this._events||{},$=_[o]=_[o]||[];return $.includes(h)||$.push(h),this},s.once=function(o,h){if(!o||!h)return this;this.on(o,h);let _=this._onceEvents=this._onceEvents||{},$=_[o]=_[o]||{};return $[h]=!0,this},s.off=function(o,h){let _=this._events&&this._events[o];if(!_||!_.length)return this;let $=_.indexOf(h);return $!=-1&&_.splice($,1),this},s.emitEvent=function(o,h){let _=this._events&&this._events[o];if(!_||!_.length)return this;_=_.slice(0),h=h||[];let $=this._onceEvents&&this._onceEvents[o];for(let j of _)$&&$[j]&&(this.off(o,j),delete $[j]),j.apply(this,h);return this},s.allOff=function(){return delete this._events,delete this._onceEvents,this},e})}(evEmitter)),evEmitter.exports}/*!
 * imagesLoaded v5.0.0
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */(function(i){(function(e,s){i.exports?i.exports=s(e,requireEvEmitter()):e.imagesLoaded=s(e,e.EvEmitter)})(typeof window<"u"?window:commonjsGlobal,function(s,o){let h=s.jQuery,_=s.console;function $(rt){return Array.isArray(rt)?rt:typeof rt=="object"&&typeof rt.length=="number"?[...rt]:[rt]}function j(rt,st,lt){if(!(this instanceof j))return new j(rt,st,lt);let ct=rt;if(typeof rt=="string"&&(ct=document.querySelectorAll(rt)),!ct){_.error(`Bad element for imagesLoaded ${ct||rt}`);return}this.elements=$(ct),this.options={},typeof st=="function"?lt=st:Object.assign(this.options,st),lt&&this.on("always",lt),this.getImages(),h&&(this.jqDeferred=new h.Deferred),setTimeout(this.check.bind(this))}j.prototype=Object.create(o.prototype),j.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)};const _e=[1,9,11];j.prototype.addElementImages=function(rt){rt.nodeName==="IMG"&&this.addImage(rt),this.options.background===!0&&this.addElementBackgroundImages(rt);let{nodeType:st}=rt;if(!st||!_e.includes(st))return;let lt=rt.querySelectorAll("img");for(let ct of lt)this.addImage(ct);if(typeof this.options.background=="string"){let ct=rt.querySelectorAll(this.options.background);for(let ut of ct)this.addElementBackgroundImages(ut)}};const et=/url\((['"])?(.*?)\1\)/gi;j.prototype.addElementBackgroundImages=function(rt){let st=getComputedStyle(rt);if(!st)return;let lt=et.exec(st.backgroundImage);for(;lt!==null;){let ct=lt&&lt[2];ct&&this.addBackground(ct,rt),lt=et.exec(st.backgroundImage)}},j.prototype.addImage=function(rt){let st=new tt(rt);this.images.push(st)},j.prototype.addBackground=function(rt,st){let lt=new nt(rt,st);this.images.push(lt)},j.prototype.check=function(){if(this.progressedCount=0,this.hasAnyBroken=!1,!this.images.length){this.complete();return}let rt=(st,lt,ct)=>{setTimeout(()=>{this.progress(st,lt,ct)})};this.images.forEach(function(st){st.once("progress",rt),st.check()})},j.prototype.progress=function(rt,st,lt){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!rt.isLoaded,this.emitEvent("progress",[this,rt,st]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,rt),this.progressedCount===this.images.length&&this.complete(),this.options.debug&&_&&_.log(`progress: ${lt}`,rt,st)},j.prototype.complete=function(){let rt=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(rt,[this]),this.emitEvent("always",[this]),this.jqDeferred){let st=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[st](this)}};function tt(rt){this.img=rt}tt.prototype=Object.create(o.prototype),tt.prototype.check=function(){if(this.getIsImageComplete()){this.confirm(this.img.naturalWidth!==0,"naturalWidth");return}this.proxyImage=new Image,this.img.crossOrigin&&(this.proxyImage.crossOrigin=this.img.crossOrigin),this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.currentSrc||this.img.src},tt.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},tt.prototype.confirm=function(rt,st){this.isLoaded=rt;let{parentNode:lt}=this.img,ct=lt.nodeName==="PICTURE"?lt:this.img;this.emitEvent("progress",[this,ct,st])},tt.prototype.handleEvent=function(rt){let st="on"+rt.type;this[st]&&this[st](rt)},tt.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},tt.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},tt.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)};function nt(rt,st){this.url=rt,this.element=st,this.img=new Image}return nt.prototype=Object.create(tt.prototype),nt.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(this.img.naturalWidth!==0,"naturalWidth"),this.unbindEvents())},nt.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},nt.prototype.confirm=function(rt,st){this.isLoaded=rt,this.emitEvent("progress",[this,this.element,st])},j.makeJQueryPlugin=function(rt){rt=rt||s.jQuery,rt&&(h=rt,h.fn.imagesLoaded=function(st,lt){return new j(this,st,lt).jqDeferred.promise(h(this))})},j.makeJQueryPlugin(),j})})(imagesloaded);var imagesloadedExports=imagesloaded.exports;const imagesLoaded=getDefaultExportFromCjs(imagesloadedExports);function Event(i){const e=useClient(),{removeEvent:s}=useEventListDispatch(),o=reactExports.useRef(null),h=reactExports.useRef(),_=reactExports.useRef(!1),[$,j]=reactExports.useState();function _e(){s(i.type,i.id)}return reactExports.useEffect(()=>{if(_.current)return;async function et(){_.current=!0;const tt=await e.sendEvent({...i});h.current=tt||{};const{fragment:nt}=h.current;j(nt?generateInnerHTML(nt):"")}et()},[]),reactExports.useEffect(()=>{if(!o.current||!h.current||!$)return;const{callback:et}=h.current;function tt(rt,st){setTimeout(()=>{if(!st||!st.animationTime)_e();else{const{animationTime:lt,animationClass:ct,animationFunction:ut}=st;ct&&nt.classList.add(ct),ut&&ut(nt),setTimeout(_e,lt)}},rt)}const nt=o.current.firstElementChild;imagesLoaded(nt,()=>{et&&et(nt);const{eventExpiration:rt,eventExpirationOptions:st}=e;rt&&tt(rt,st)})},[$]),$===""&&_e(),$?jsxRuntimeExports.jsx("div",{className:"slime2-event","data-event-id":i.id,"data-event-type":i.type,"data-event-user-id":i.userId,"data-event-source":i.source,dangerouslySetInnerHTML:{__html:$},ref:o}):null}const MemoEvent=reactExports.memo(Event);function EventList(){const i=useEventList();function e(){return i.map(s=>{const o=`${s.type}-${s.id}`;return jsxRuntimeExports.jsx(MemoEvent,{...s},o)})}return jsxRuntimeExports.jsx("div",{id:"slime2-event-list",children:e()})}function useMousePosition(){const[i,e]=reactExports.useState({x:0,y:0});return reactExports.useEffect(()=>{function s(o){e({x:o.clientX,y:o.clientY})}return addEventListener("mousemove",s),()=>{removeEventListener("mousemove",s)}},[]),i}function useWindowList(){return reactExports.useContext(WindowListContext)}function useWindowListDispatch(){const i=reactExports.useContext(WindowListDispatchContext),e=useMousePosition();function s(_){i({type:"add",window:{..._,initialMousePosition:e}})}function o(_){i({type:"remove",id:_})}function h(_){i({type:"top",id:_})}return{openWindow:s,closeWindow:o,sendWindowToTop:h}}const initialState=[],WindowListContext=reactExports.createContext(initialState),WindowListDispatchContext=reactExports.createContext(emptyFunction$1);function windowListReducer(i,e){switch(e.type){case"add":return!!i.find(o=>o.id===e.window.id)?i:[...i,e.window];case"remove":return i.filter(s=>s.id!==e.id);case"top":{const s=i.findIndex(o=>o.id===e.id);return s===-1||s===i.length-1?i:[...i.filter(o=>o.id!==e.id),i[s]]}}}function useEmulateTwitchMessage(){const{addEvent:i}=useEventListDispatch(),{data:e}=useThirdPartyEmotes$1(),{data:s}=useChannelEmotes(),{data:o}=useCheermotes(),{data:h}=useBadges(),{data:_}=useAllPronouns(),{isPlatformReady:$}=usePlatformReady(),j=useUserColor();async function _e(){if(!$("twitch"))return;const et=Array.from(_.values()),tt=[...s,...Array.from(e.values())],nt=new Date,rt=Random.chance(5),st="test message",lt=`long test message${" long test message".repeat(5)}`,ct="LongTestMessage".repeat(7);let ut=st;Random.chance(5)&&(ut=lt),Random.chance(5)&&(ut=ct),ut=`${ut}${Random.item(TEST_PUNCTUATION)}`;let ot=ut;rt&&(ut=`${ut} (first time chat)`);const it=[],at={id:`test-user-${nt.getTime()}`,userName:"testuser",displayName:"testUser",pronouns:Random.boolean()?null:Random.item(et),badges:[],color:await j("testuser"),roles:{broadcaster:!1,moderator:!1,artist:!1,vip:!1,founder:!1,subscriber:!1},followDate:new Date(0)},dt=Random.boolean()?"user":Random.item(TEST_ROLES),ht=h.get(dt==="artist"?"artist-badge":dt);dt!=="user"&&ht&&(at.badges=[ht],at.roles[dt]=!0,(dt==="founder"||dt==="broadcaster")&&(at.roles.subscriber=!0),at.userName=`test${dt}`,at.displayName=`test${dt.charAt(0).toUpperCase()}${dt.slice(1)}`,at.color=await j(at.userName));let yt={type:"basic"};if(Random.boolean()){const gt=Random.item(TEST_MESSAGE_TYPES);switch(gt){case"action":ut=`${ut} (/me action message)`,ot=ut,yt={type:gt};break;case"highlight":ut=`${ut} (highlighted message)`,ot=ut,yt={type:gt};break;case"cheer":{const St=Random.item(TEST_CHEER_AMOUNTS),Rt="Cheer";yt={type:gt,cheer:{amount:St}};const At=`${Rt}${St}`;ot=`${ut} (cheer message)`,ut=`${At} ${ot}`,it.unshift({type:"text",text:" "}),it.unshift({type:"cheer",text:At,cheer:o.get(Rt,St)})}break;case"reply":yt={type:gt,reply:{id:`test-reply-${nt.getTime()}`,text:"test message being replied to",user:{id:`test-user-reply-${nt.getTime()}`,userName:"testreplyuser",displayName:"testReplyUser"}}},ut=`${ut} (reply message)`,ot=ut;break;case"redeem":yt={type:gt,redeem:{id:`test-redeem-${nt.getTime()}`,name:"Test Redeem",image:"https://static-cdn.jtvnw.net/custom-reward-images/default-4.png",color:"#FFC6FF",cost:Random.integer(1,1e4)}},ut=`${ut} (channel point redemption requiring text)`,ot=ut;break;case"resub":yt={type:gt,resub:{months:Random.integer(1,24),tier:Random.item(TEST_RESUB_TIERS)}},ut=`${ut} (resub message)`,ot=ut;break;case"announcement":(dt==="broadcaster"||dt==="moderator")&&(yt={type:gt,announcement:{color:Random.item(TEST_ANNOUNCEMENT_COLORS)}},ut=`${ut} (announcement message)`,ot=ut);break}}if(Random.boolean()&&tt.length){const gt=Random.item(tt);it.unshift({type:"text",text:" "}),it.unshift({type:"emote",emote:gt,text:gt.name}),ut=`${gt.name} ${ut}`}yt.type==="basic"&&Random.chance(20)&&(ut="hi",ot=ut),it.push({type:"text",text:ot});const _t={...yt,id:`test-message-${nt.getTime()}`,first:rt,date:nt,user:at,text:ut,parts:it,tags:new Map([["test","1"]])};i({type:"message",id:_t.id,userId:_t.user.id,message:_t,source:"twitch",emulated:!0})}return _e}const TEST_ROLES=["broadcaster","moderator","artist","vip","founder","subscriber"],TEST_MESSAGE_TYPES=["action","highlight","cheer","reply","redeem","resub","announcement"],TEST_RESUB_TIERS=["1000","2000","3000","Prime"],TEST_ANNOUNCEMENT_COLORS=["PRIMARY","BLUE","GREEN","ORANGE","PURPLE"],TEST_CHEER_AMOUNTS=[1,5,10,50,100,500,1e3,5e3,1e4],TEST_PUNCTUATION=["",".","...","!","?","!!","!?","?!"];function WidgetField(i){switch(i.type){case"text-input":return jsxRuntimeExports.jsx(TextInputField,{...i});case"text-area-input":return jsxRuntimeExports.jsx(TextAreaInputField,{...i});default:return null}}function TextInputField({defaultValue:i,keyName:e,label:s=""}){return jsxRuntimeExports.jsxs("label",{className:"block ",children:[s,jsxRuntimeExports.jsx("input",{className:"block w-full rounded border-2 border-emerald-800 px-2 outline-offset-4 focus:outline-2 focus:outline-emerald-500",defaultValue:i,name:e})]})}function TextAreaInputField({defaultValue:i,keyName:e,label:s=""}){return jsxRuntimeExports.jsxs("label",{className:"block ",children:[s,jsxRuntimeExports.jsx("textarea",{className:" scrollbar-track-emerald-800/25 scrollbar active:scrollbar-thumb-emerald-600 scrollbar-track-rounded-none scrollbar-thumb-rounded-none hover:scrollbar-thumb-emerald-700 scrollbar-thumb-emerald-800 block min-h-[150px] w-full resize-none overflow-auto rounded border-2 border-emerald-800 px-2 outline-offset-4 hover:resize-y focus:outline-2 focus:outline-emerald-500",defaultValue:i,name:e})]})}function WidgetSettings(){const i=[{type:"text-input",key:"test",label:"Test",defaultValue:"test"},{type:"text-input",key:"test2",label:"Test2",defaultValue:"test2"},{type:"text-area-input",key:"test3",label:"Test3",defaultValue:"test3"}];for(let e=0;e<100;e++)i.push({type:"text-area-input",key:`more-${e}`,label:`More-${e}`,defaultValue:"aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"});return jsxRuntimeExports.jsx("div",{className:"flex flex-col gap-4  px-2 pb-2 pt-1",children:i.map(e=>{const{key:s,...o}=e;return jsxRuntimeExports.jsx(WidgetField,{keyName:s,...o},s)})})}function MainSettings(){const i=useEmulateTwitchMessage(),{isPlatformReady:e}=usePlatformReady(),s=e("twitch"),{openWindow:o}=useWindowListDispatch();return jsxRuntimeExports.jsxs("div",{className:"flex flex-col justify-center gap-2 p-3",children:[jsxRuntimeExports.jsx("button",{onClick:i,className:clsx$1("flex justify-center overflow-hidden rounded-2xl border-2 border-emerald-800 bg-gradient-to-b from-lime-600 to-emerald-700 px-3 py-1 text-center",s&&"btn-shadow-i hover:from-lime-500 hover:to-emerald-600 focus:outline-offset-8",!s&&"grayscale"),disabled:!s,children:jsxRuntimeExports.jsx("span",{className:"font-grandstander font-semibold text-lime-100 text-shadow text-shadow-c-black/75 text-shadow-y-px",children:s?"Send Test Message":"Loading..."})}),jsxRuntimeExports.jsx("button",{onClick:()=>o({id:"widget-settings",title:"Widget Settings",className:"w-96",children:jsxRuntimeExports.jsx(WidgetSettings,{})}),className:clsx$1("flex justify-center overflow-hidden rounded-2xl border-2 border-emerald-800 bg-gradient-to-b from-lime-600 to-emerald-700 px-3 py-1 text-center",s&&"btn-shadow-i hover:from-lime-500 hover:to-emerald-600 focus:outline-offset-8",!s&&"grayscale"),disabled:!s,children:jsxRuntimeExports.jsx("span",{className:"font-grandstander font-semibold text-lime-100 text-shadow text-shadow-c-black/75 text-shadow-y-px",children:s?"Widget Settings":"Loading..."})})]})}function WindowListProvider({children:i}){const[e,s]=reactExports.useReducer(windowListReducer,[{id:"main",title:"Settings",children:jsxRuntimeExports.jsx(MainSettings,{})}]);return jsxRuntimeExports.jsx(WindowListContext.Provider,{value:e,children:jsxRuntimeExports.jsx(WindowListDispatchContext.Provider,{value:s,children:i})})}var cjs={exports:{}},Draggable$2={},propTypes={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function i(o,h,_,$,j,_e){if(_e!==ReactPropTypesSecret){var et=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw et.name="Invariant Violation",et}}i.isRequired=i;function e(){return i}var s={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:e,element:i,elementType:i,instanceOf:e,node:i,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return s.PropTypes=s,s};propTypes.exports=factoryWithThrowingShims();var propTypesExports=propTypes.exports;const PropTypes=getDefaultExportFromCjs(propTypesExports);function r(i){var e,s,o="";if(typeof i=="string"||typeof i=="number")o+=i;else if(typeof i=="object")if(Array.isArray(i))for(e=0;e<i.length;e++)i[e]&&(s=r(i[e]))&&(o&&(o+=" "),o+=s);else for(e in i)i[e]&&(o&&(o+=" "),o+=e);return o}function clsx(){for(var i,e,s=0,o="";s<arguments.length;)(i=arguments[s++])&&(e=r(i))&&(o&&(o+=" "),o+=e);return o}const clsx_m=Object.freeze(Object.defineProperty({__proto__:null,clsx,default:clsx},Symbol.toStringTag,{value:"Module"})),require$$3=getAugmentedNamespace(clsx_m);var domFns={},shims={};Object.defineProperty(shims,"__esModule",{value:!0});shims.dontSetMe=dontSetMe;shims.findInArray=findInArray;shims.int=int;shims.isFunction=isFunction;shims.isNum=isNum;function findInArray(i,e){for(let s=0,o=i.length;s<o;s++)if(e.apply(e,[i[s],s,i]))return i[s]}function isFunction(i){return typeof i=="function"||Object.prototype.toString.call(i)==="[object Function]"}function isNum(i){return typeof i=="number"&&!isNaN(i)}function int(i){return parseInt(i,10)}function dontSetMe(i,e,s){if(i[e])return new Error("Invalid prop ".concat(e," passed to ").concat(s," - do not set this, set it on the child."))}var getPrefix$1={};Object.defineProperty(getPrefix$1,"__esModule",{value:!0});getPrefix$1.browserPrefixToKey=browserPrefixToKey;getPrefix$1.browserPrefixToStyle=browserPrefixToStyle;getPrefix$1.default=void 0;getPrefix$1.getPrefix=getPrefix;const prefixes=["Moz","Webkit","O","ms"];function getPrefix(){var i;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const s=(i=window.document)===null||i===void 0||(i=i.documentElement)===null||i===void 0?void 0:i.style;if(!s||e in s)return"";for(let o=0;o<prefixes.length;o++)if(browserPrefixToKey(e,prefixes[o])in s)return prefixes[o];return""}function browserPrefixToKey(i,e){return e?"".concat(e).concat(kebabToTitleCase(i)):i}function browserPrefixToStyle(i,e){return e?"-".concat(e.toLowerCase(),"-").concat(i):i}function kebabToTitleCase(i){let e="",s=!0;for(let o=0;o<i.length;o++)s?(e+=i[o].toUpperCase(),s=!1):i[o]==="-"?s=!0:e+=i[o];return e}getPrefix$1.default=getPrefix();Object.defineProperty(domFns,"__esModule",{value:!0});domFns.addClassName=addClassName;domFns.addEvent=addEvent;domFns.addUserSelectStyles=addUserSelectStyles;domFns.createCSSTransform=createCSSTransform;domFns.createSVGTransform=createSVGTransform;domFns.getTouch=getTouch;domFns.getTouchIdentifier=getTouchIdentifier;domFns.getTranslation=getTranslation;domFns.innerHeight=innerHeight;domFns.innerWidth=innerWidth;domFns.matchesSelector=matchesSelector;domFns.matchesSelectorAndParentsTo=matchesSelectorAndParentsTo;domFns.offsetXYFromParent=offsetXYFromParent;domFns.outerHeight=outerHeight;domFns.outerWidth=outerWidth;domFns.removeClassName=removeClassName;domFns.removeEvent=removeEvent;domFns.removeUserSelectStyles=removeUserSelectStyles;var _shims$2=shims,_getPrefix=_interopRequireWildcard$1(getPrefix$1);function _getRequireWildcardCache$1(i){if(typeof WeakMap!="function")return null;var e=new WeakMap,s=new WeakMap;return(_getRequireWildcardCache$1=function(o){return o?s:e})(i)}function _interopRequireWildcard$1(i,e){if(!e&&i&&i.__esModule)return i;if(i===null||typeof i!="object"&&typeof i!="function")return{default:i};var s=_getRequireWildcardCache$1(e);if(s&&s.has(i))return s.get(i);var o={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var _ in i)if(_!=="default"&&Object.prototype.hasOwnProperty.call(i,_)){var $=h?Object.getOwnPropertyDescriptor(i,_):null;$&&($.get||$.set)?Object.defineProperty(o,_,$):o[_]=i[_]}return o.default=i,s&&s.set(i,o),o}let matchesSelectorFunc="";function matchesSelector(i,e){return matchesSelectorFunc||(matchesSelectorFunc=(0,_shims$2.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(s){return(0,_shims$2.isFunction)(i[s])})),(0,_shims$2.isFunction)(i[matchesSelectorFunc])?i[matchesSelectorFunc](e):!1}function matchesSelectorAndParentsTo(i,e,s){let o=i;do{if(matchesSelector(o,e))return!0;if(o===s)return!1;o=o.parentNode}while(o);return!1}function addEvent(i,e,s,o){if(!i)return;const h={capture:!0,...o};i.addEventListener?i.addEventListener(e,s,h):i.attachEvent?i.attachEvent("on"+e,s):i["on"+e]=s}function removeEvent(i,e,s,o){if(!i)return;const h={capture:!0,...o};i.removeEventListener?i.removeEventListener(e,s,h):i.detachEvent?i.detachEvent("on"+e,s):i["on"+e]=null}function outerHeight(i){let e=i.clientHeight;const s=i.ownerDocument.defaultView.getComputedStyle(i);return e+=(0,_shims$2.int)(s.borderTopWidth),e+=(0,_shims$2.int)(s.borderBottomWidth),e}function outerWidth(i){let e=i.clientWidth;const s=i.ownerDocument.defaultView.getComputedStyle(i);return e+=(0,_shims$2.int)(s.borderLeftWidth),e+=(0,_shims$2.int)(s.borderRightWidth),e}function innerHeight(i){let e=i.clientHeight;const s=i.ownerDocument.defaultView.getComputedStyle(i);return e-=(0,_shims$2.int)(s.paddingTop),e-=(0,_shims$2.int)(s.paddingBottom),e}function innerWidth(i){let e=i.clientWidth;const s=i.ownerDocument.defaultView.getComputedStyle(i);return e-=(0,_shims$2.int)(s.paddingLeft),e-=(0,_shims$2.int)(s.paddingRight),e}function offsetXYFromParent(i,e,s){const h=e===e.ownerDocument.body?{left:0,top:0}:e.getBoundingClientRect(),_=(i.clientX+e.scrollLeft-h.left)/s,$=(i.clientY+e.scrollTop-h.top)/s;return{x:_,y:$}}function createCSSTransform(i,e){const s=getTranslation(i,e,"px");return{[(0,_getPrefix.browserPrefixToKey)("transform",_getPrefix.default)]:s}}function createSVGTransform(i,e){return getTranslation(i,e,"")}function getTranslation(i,e,s){let{x:o,y:h}=i,_="translate(".concat(o).concat(s,",").concat(h).concat(s,")");if(e){const $="".concat(typeof e.x=="string"?e.x:e.x+s),j="".concat(typeof e.y=="string"?e.y:e.y+s);_="translate(".concat($,", ").concat(j,")")+_}return _}function getTouch(i,e){return i.targetTouches&&(0,_shims$2.findInArray)(i.targetTouches,s=>e===s.identifier)||i.changedTouches&&(0,_shims$2.findInArray)(i.changedTouches,s=>e===s.identifier)}function getTouchIdentifier(i){if(i.targetTouches&&i.targetTouches[0])return i.targetTouches[0].identifier;if(i.changedTouches&&i.changedTouches[0])return i.changedTouches[0].identifier}function addUserSelectStyles(i){if(!i)return;let e=i.getElementById("react-draggable-style-el");e||(e=i.createElement("style"),e.type="text/css",e.id="react-draggable-style-el",e.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,e.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,i.getElementsByTagName("head")[0].appendChild(e)),i.body&&addClassName(i.body,"react-draggable-transparent-selection")}function removeUserSelectStyles(i){if(i)try{if(i.body&&removeClassName(i.body,"react-draggable-transparent-selection"),i.selection)i.selection.empty();else{const e=(i.defaultView||window).getSelection();e&&e.type!=="Caret"&&e.removeAllRanges()}}catch{}}function addClassName(i,e){i.classList?i.classList.add(e):i.className.match(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)")))||(i.className+=" ".concat(e))}function removeClassName(i,e){i.classList?i.classList.remove(e):i.className=i.className.replace(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)"),"g"),"")}var positionFns={};Object.defineProperty(positionFns,"__esModule",{value:!0});positionFns.canDragX=canDragX;positionFns.canDragY=canDragY;positionFns.createCoreData=createCoreData;positionFns.createDraggableData=createDraggableData;positionFns.getBoundPosition=getBoundPosition;positionFns.getControlPosition=getControlPosition;positionFns.snapToGrid=snapToGrid;var _shims$1=shims,_domFns$1=domFns;function getBoundPosition(i,e,s){if(!i.props.bounds)return[e,s];let{bounds:o}=i.props;o=typeof o=="string"?o:cloneBounds(o);const h=findDOMNode(i);if(typeof o=="string"){const{ownerDocument:_}=h,$=_.defaultView;let j;if(o==="parent"?j=h.parentNode:j=_.querySelector(o),!(j instanceof $.HTMLElement))throw new Error('Bounds selector "'+o+'" could not find an element.');const _e=j,et=$.getComputedStyle(h),tt=$.getComputedStyle(_e);o={left:-h.offsetLeft+(0,_shims$1.int)(tt.paddingLeft)+(0,_shims$1.int)(et.marginLeft),top:-h.offsetTop+(0,_shims$1.int)(tt.paddingTop)+(0,_shims$1.int)(et.marginTop),right:(0,_domFns$1.innerWidth)(_e)-(0,_domFns$1.outerWidth)(h)-h.offsetLeft+(0,_shims$1.int)(tt.paddingRight)-(0,_shims$1.int)(et.marginRight),bottom:(0,_domFns$1.innerHeight)(_e)-(0,_domFns$1.outerHeight)(h)-h.offsetTop+(0,_shims$1.int)(tt.paddingBottom)-(0,_shims$1.int)(et.marginBottom)}}return(0,_shims$1.isNum)(o.right)&&(e=Math.min(e,o.right)),(0,_shims$1.isNum)(o.bottom)&&(s=Math.min(s,o.bottom)),(0,_shims$1.isNum)(o.left)&&(e=Math.max(e,o.left)),(0,_shims$1.isNum)(o.top)&&(s=Math.max(s,o.top)),[e,s]}function snapToGrid(i,e,s){const o=Math.round(e/i[0])*i[0],h=Math.round(s/i[1])*i[1];return[o,h]}function canDragX(i){return i.props.axis==="both"||i.props.axis==="x"}function canDragY(i){return i.props.axis==="both"||i.props.axis==="y"}function getControlPosition(i,e,s){const o=typeof e=="number"?(0,_domFns$1.getTouch)(i,e):null;if(typeof e=="number"&&!o)return null;const h=findDOMNode(s),_=s.props.offsetParent||h.offsetParent||h.ownerDocument.body;return(0,_domFns$1.offsetXYFromParent)(o||i,_,s.props.scale)}function createCoreData(i,e,s){const o=!(0,_shims$1.isNum)(i.lastX),h=findDOMNode(i);return o?{node:h,deltaX:0,deltaY:0,lastX:e,lastY:s,x:e,y:s}:{node:h,deltaX:e-i.lastX,deltaY:s-i.lastY,lastX:i.lastX,lastY:i.lastY,x:e,y:s}}function createDraggableData(i,e){const s=i.props.scale;return{node:e.node,x:i.state.x+e.deltaX/s,y:i.state.y+e.deltaY/s,deltaX:e.deltaX/s,deltaY:e.deltaY/s,lastX:i.state.x,lastY:i.state.y}}function cloneBounds(i){return{left:i.left,top:i.top,right:i.right,bottom:i.bottom}}function findDOMNode(i){const e=i.findDOMNode();if(!e)throw new Error("<DraggableCore>: Unmounted during event!");return e}var DraggableCore$2={},log$1={};Object.defineProperty(log$1,"__esModule",{value:!0});log$1.default=log;function log(){}Object.defineProperty(DraggableCore$2,"__esModule",{value:!0});DraggableCore$2.default=void 0;var React=_interopRequireWildcard(reactExports),_propTypes=_interopRequireDefault(propTypesExports),_reactDom=_interopRequireDefault(reactDomExports),_domFns=domFns,_positionFns=positionFns,_shims=shims,_log=_interopRequireDefault(log$1);function _interopRequireDefault(i){return i&&i.__esModule?i:{default:i}}function _getRequireWildcardCache(i){if(typeof WeakMap!="function")return null;var e=new WeakMap,s=new WeakMap;return(_getRequireWildcardCache=function(o){return o?s:e})(i)}function _interopRequireWildcard(i,e){if(!e&&i&&i.__esModule)return i;if(i===null||typeof i!="object"&&typeof i!="function")return{default:i};var s=_getRequireWildcardCache(e);if(s&&s.has(i))return s.get(i);var o={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var _ in i)if(_!=="default"&&Object.prototype.hasOwnProperty.call(i,_)){var $=h?Object.getOwnPropertyDescriptor(i,_):null;$&&($.get||$.set)?Object.defineProperty(o,_,$):o[_]=i[_]}return o.default=i,s&&s.set(i,o),o}function _defineProperty(i,e,s){return e=_toPropertyKey(e),e in i?Object.defineProperty(i,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[e]=s,i}function _toPropertyKey(i){var e=_toPrimitive(i,"string");return typeof e=="symbol"?e:String(e)}function _toPrimitive(i,e){if(typeof i!="object"||i===null)return i;var s=i[Symbol.toPrimitive];if(s!==void 0){var o=s.call(i,e||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}const eventsFor={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let dragEventFor=eventsFor.mouse,DraggableCore$1=class extends React.Component{constructor(){super(...arguments),_defineProperty(this,"dragging",!1),_defineProperty(this,"lastX",NaN),_defineProperty(this,"lastY",NaN),_defineProperty(this,"touchIdentifier",null),_defineProperty(this,"mounted",!1),_defineProperty(this,"handleDragStart",e=>{if(this.props.onMouseDown(e),!this.props.allowAnyClick&&typeof e.button=="number"&&e.button!==0)return!1;const s=this.findDOMNode();if(!s||!s.ownerDocument||!s.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:o}=s;if(this.props.disabled||!(e.target instanceof o.defaultView.Node)||this.props.handle&&!(0,_domFns.matchesSelectorAndParentsTo)(e.target,this.props.handle,s)||this.props.cancel&&(0,_domFns.matchesSelectorAndParentsTo)(e.target,this.props.cancel,s))return;e.type==="touchstart"&&e.preventDefault();const h=(0,_domFns.getTouchIdentifier)(e);this.touchIdentifier=h;const _=(0,_positionFns.getControlPosition)(e,h,this);if(_==null)return;const{x:$,y:j}=_,_e=(0,_positionFns.createCoreData)(this,$,j);(0,_log.default)("DraggableCore: handleDragStart: %j",_e),(0,_log.default)("calling",this.props.onStart),!(this.props.onStart(e,_e)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,_domFns.addUserSelectStyles)(o),this.dragging=!0,this.lastX=$,this.lastY=j,(0,_domFns.addEvent)(o,dragEventFor.move,this.handleDrag),(0,_domFns.addEvent)(o,dragEventFor.stop,this.handleDragStop))}),_defineProperty(this,"handleDrag",e=>{const s=(0,_positionFns.getControlPosition)(e,this.touchIdentifier,this);if(s==null)return;let{x:o,y:h}=s;if(Array.isArray(this.props.grid)){let j=o-this.lastX,_e=h-this.lastY;if([j,_e]=(0,_positionFns.snapToGrid)(this.props.grid,j,_e),!j&&!_e)return;o=this.lastX+j,h=this.lastY+_e}const _=(0,_positionFns.createCoreData)(this,o,h);if((0,_log.default)("DraggableCore: handleDrag: %j",_),this.props.onDrag(e,_)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const _e=document.createEvent("MouseEvents");_e.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(_e)}return}this.lastX=o,this.lastY=h}),_defineProperty(this,"handleDragStop",e=>{if(!this.dragging)return;const s=(0,_positionFns.getControlPosition)(e,this.touchIdentifier,this);if(s==null)return;let{x:o,y:h}=s;if(Array.isArray(this.props.grid)){let _e=o-this.lastX||0,et=h-this.lastY||0;[_e,et]=(0,_positionFns.snapToGrid)(this.props.grid,_e,et),o=this.lastX+_e,h=this.lastY+et}const _=(0,_positionFns.createCoreData)(this,o,h);if(this.props.onStop(e,_)===!1||this.mounted===!1)return!1;const j=this.findDOMNode();j&&this.props.enableUserSelectHack&&(0,_domFns.removeUserSelectStyles)(j.ownerDocument),(0,_log.default)("DraggableCore: handleDragStop: %j",_),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,j&&((0,_log.default)("DraggableCore: Removing handlers"),(0,_domFns.removeEvent)(j.ownerDocument,dragEventFor.move,this.handleDrag),(0,_domFns.removeEvent)(j.ownerDocument,dragEventFor.stop,this.handleDragStop))}),_defineProperty(this,"onMouseDown",e=>(dragEventFor=eventsFor.mouse,this.handleDragStart(e))),_defineProperty(this,"onMouseUp",e=>(dragEventFor=eventsFor.mouse,this.handleDragStop(e))),_defineProperty(this,"onTouchStart",e=>(dragEventFor=eventsFor.touch,this.handleDragStart(e))),_defineProperty(this,"onTouchEnd",e=>(dragEventFor=eventsFor.touch,this.handleDragStop(e)))}componentDidMount(){this.mounted=!0;const e=this.findDOMNode();e&&(0,_domFns.addEvent)(e,eventsFor.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const e=this.findDOMNode();if(e){const{ownerDocument:s}=e;(0,_domFns.removeEvent)(s,eventsFor.mouse.move,this.handleDrag),(0,_domFns.removeEvent)(s,eventsFor.touch.move,this.handleDrag),(0,_domFns.removeEvent)(s,eventsFor.mouse.stop,this.handleDragStop),(0,_domFns.removeEvent)(s,eventsFor.touch.stop,this.handleDragStop),(0,_domFns.removeEvent)(e,eventsFor.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,_domFns.removeUserSelectStyles)(s)}}findDOMNode(){var e,s;return(e=this.props)!==null&&e!==void 0&&e.nodeRef?(s=this.props)===null||s===void 0||(s=s.nodeRef)===null||s===void 0?void 0:s.current:_reactDom.default.findDOMNode(this)}render(){return React.cloneElement(React.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};DraggableCore$2.default=DraggableCore$1;_defineProperty(DraggableCore$1,"displayName","DraggableCore");_defineProperty(DraggableCore$1,"propTypes",{allowAnyClick:_propTypes.default.bool,children:_propTypes.default.node.isRequired,disabled:_propTypes.default.bool,enableUserSelectHack:_propTypes.default.bool,offsetParent:function(i,e){if(i[e]&&i[e].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:_propTypes.default.arrayOf(_propTypes.default.number),handle:_propTypes.default.string,cancel:_propTypes.default.string,nodeRef:_propTypes.default.object,onStart:_propTypes.default.func,onDrag:_propTypes.default.func,onStop:_propTypes.default.func,onMouseDown:_propTypes.default.func,scale:_propTypes.default.number,className:_shims.dontSetMe,style:_shims.dontSetMe,transform:_shims.dontSetMe});_defineProperty(DraggableCore$1,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(i){Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"DraggableCore",{enumerable:!0,get:function(){return _e.default}}),i.default=void 0;var e=rt(reactExports),s=tt(propTypesExports),o=tt(reactDomExports),h=tt(require$$3),_=domFns,$=positionFns,j=shims,_e=tt(DraggableCore$2),et=tt(log$1);function tt(it){return it&&it.__esModule?it:{default:it}}function nt(it){if(typeof WeakMap!="function")return null;var at=new WeakMap,dt=new WeakMap;return(nt=function(ht){return ht?dt:at})(it)}function rt(it,at){if(!at&&it&&it.__esModule)return it;if(it===null||typeof it!="object"&&typeof it!="function")return{default:it};var dt=nt(at);if(dt&&dt.has(it))return dt.get(it);var ht={},yt=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var _t in it)if(_t!=="default"&&Object.prototype.hasOwnProperty.call(it,_t)){var gt=yt?Object.getOwnPropertyDescriptor(it,_t):null;gt&&(gt.get||gt.set)?Object.defineProperty(ht,_t,gt):ht[_t]=it[_t]}return ht.default=it,dt&&dt.set(it,ht),ht}function st(){return st=Object.assign?Object.assign.bind():function(it){for(var at=1;at<arguments.length;at++){var dt=arguments[at];for(var ht in dt)Object.prototype.hasOwnProperty.call(dt,ht)&&(it[ht]=dt[ht])}return it},st.apply(this,arguments)}function lt(it,at,dt){return at=ct(at),at in it?Object.defineProperty(it,at,{value:dt,enumerable:!0,configurable:!0,writable:!0}):it[at]=dt,it}function ct(it){var at=ut(it,"string");return typeof at=="symbol"?at:String(at)}function ut(it,at){if(typeof it!="object"||it===null)return it;var dt=it[Symbol.toPrimitive];if(dt!==void 0){var ht=dt.call(it,at||"default");if(typeof ht!="object")return ht;throw new TypeError("@@toPrimitive must return a primitive value.")}return(at==="string"?String:Number)(it)}class ot extends e.Component{static getDerivedStateFromProps(at,dt){let{position:ht}=at,{prevPropsPosition:yt}=dt;return ht&&(!yt||ht.x!==yt.x||ht.y!==yt.y)?((0,et.default)("Draggable: getDerivedStateFromProps %j",{position:ht,prevPropsPosition:yt}),{x:ht.x,y:ht.y,prevPropsPosition:{...ht}}):null}constructor(at){super(at),lt(this,"onDragStart",(dt,ht)=>{if((0,et.default)("Draggable: onDragStart: %j",ht),this.props.onStart(dt,(0,$.createDraggableData)(this,ht))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),lt(this,"onDrag",(dt,ht)=>{if(!this.state.dragging)return!1;(0,et.default)("Draggable: onDrag: %j",ht);const yt=(0,$.createDraggableData)(this,ht),_t={x:yt.x,y:yt.y,slackX:0,slackY:0};if(this.props.bounds){const{x:St,y:Rt}=_t;_t.x+=this.state.slackX,_t.y+=this.state.slackY;const[At,kt]=(0,$.getBoundPosition)(this,_t.x,_t.y);_t.x=At,_t.y=kt,_t.slackX=this.state.slackX+(St-_t.x),_t.slackY=this.state.slackY+(Rt-_t.y),yt.x=_t.x,yt.y=_t.y,yt.deltaX=_t.x-this.state.x,yt.deltaY=_t.y-this.state.y}if(this.props.onDrag(dt,yt)===!1)return!1;this.setState(_t)}),lt(this,"onDragStop",(dt,ht)=>{if(!this.state.dragging||this.props.onStop(dt,(0,$.createDraggableData)(this,ht))===!1)return!1;(0,et.default)("Draggable: onDragStop: %j",ht);const _t={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:St,y:Rt}=this.props.position;_t.x=St,_t.y=Rt}this.setState(_t)}),this.state={dragging:!1,dragged:!1,x:at.position?at.position.x:at.defaultPosition.x,y:at.position?at.position.y:at.defaultPosition.y,prevPropsPosition:{...at.position},slackX:0,slackY:0,isElementSVG:!1},at.position&&!(at.onDrag||at.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var at,dt;return(at=(dt=this.props)===null||dt===void 0||(dt=dt.nodeRef)===null||dt===void 0?void 0:dt.current)!==null&&at!==void 0?at:o.default.findDOMNode(this)}render(){const{axis:at,bounds:dt,children:ht,defaultPosition:yt,defaultClassName:_t,defaultClassNameDragging:gt,defaultClassNameDragged:St,position:Rt,positionOffset:At,scale:kt,...Dt}=this.props;let ft={},wt=null;const Mt=!!!Rt||this.state.dragging,bt=Rt||yt,xt={x:(0,$.canDragX)(this)&&Mt?this.state.x:bt.x,y:(0,$.canDragY)(this)&&Mt?this.state.y:bt.y};this.state.isElementSVG?wt=(0,_.createSVGTransform)(xt,At):ft=(0,_.createCSSTransform)(xt,At);const Pt=(0,h.default)(ht.props.className||"",_t,{[gt]:this.state.dragging,[St]:this.state.dragged});return e.createElement(_e.default,st({},Dt,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),e.cloneElement(e.Children.only(ht),{className:Pt,style:{...ht.props.style,...ft},transform:wt}))}}i.default=ot,lt(ot,"displayName","Draggable"),lt(ot,"propTypes",{..._e.default.propTypes,axis:s.default.oneOf(["both","x","y","none"]),bounds:s.default.oneOfType([s.default.shape({left:s.default.number,right:s.default.number,top:s.default.number,bottom:s.default.number}),s.default.string,s.default.oneOf([!1])]),defaultClassName:s.default.string,defaultClassNameDragging:s.default.string,defaultClassNameDragged:s.default.string,defaultPosition:s.default.shape({x:s.default.number,y:s.default.number}),positionOffset:s.default.shape({x:s.default.oneOfType([s.default.number,s.default.string]),y:s.default.oneOfType([s.default.number,s.default.string])}),position:s.default.shape({x:s.default.number,y:s.default.number}),className:j.dontSetMe,style:j.dontSetMe,transform:j.dontSetMe}),lt(ot,"defaultProps",{..._e.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(Draggable$2);const{default:Draggable,DraggableCore}=Draggable$2;cjs.exports=Draggable;cjs.exports.default=Draggable;cjs.exports.DraggableCore=DraggableCore;var cjsExports=cjs.exports;const Draggable$1=getDefaultExportFromCjs(cjsExports);function _extends(){return _extends=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(i[o]=s[o])}return i},_extends.apply(this,arguments)}function _objectWithoutProperties(i,e){if(i==null)return{};var s=_objectWithoutPropertiesLoose(i,e),o,h;if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(i);for(h=0;h<_.length;h++)o=_[h],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(i,o)&&(s[o]=i[o])}return s}function _objectWithoutPropertiesLoose(i,e){if(i==null)return{};var s={},o=Object.keys(i),h,_;for(_=0;_<o.length;_++)h=o[_],!(e.indexOf(h)>=0)&&(s[h]=i[h]);return s}var X=reactExports.forwardRef(function(i,e){var s=i.color,o=s===void 0?"currentColor":s,h=i.size,_=h===void 0?24:h,$=_objectWithoutProperties(i,["color","size"]);return React$1.createElement("svg",_extends({ref:e,xmlns:"http://www.w3.org/2000/svg",width:_,height:_,viewBox:"0 0 24 24",fill:"none",stroke:o,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},$),React$1.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),React$1.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))});X.propTypes={color:PropTypes.string,size:PropTypes.oneOfType([PropTypes.string,PropTypes.number])};X.displayName="X";const X$1=X;function Window({id:i,title:e,children:s,className:o,initialMousePosition:h}){const{closeWindow:_,sendWindowToTop:$}=useWindowListDispatch(),j=reactExports.useRef(null),_e=h?{x:Math.min(h.x+20,window.innerWidth/2),y:20}:{x:40,y:40};function et(){_(i)}function tt(){$(i)}return jsxRuntimeExports.jsx(Draggable$1,{handle:".draggable-handle",cancel:".draggable-cancel",defaultPosition:_e,nodeRef:j,onMouseDown:tt,bounds:"parent",children:jsxRuntimeExports.jsxs("div",{ref:j,className:clsx$1("window-shadow pointer-events-auto !fixed z-[999] flex max-h-[80%] max-w-[90%] flex-col overflow-hidden rounded-md border-2 border-emerald-800 bg-lime-100 font-fredoka opacity-50 last:opacity-100 only:opacity-100 hover:opacity-100",o),children:[jsxRuntimeExports.jsx(WindowTitle,{close:h?et:void 0,children:e}),jsxRuntimeExports.jsx(WindowContent,{children:s})]})})}function WindowTitle({children:i,close:e}){return jsxRuntimeExports.jsxs("div",{className:" title-shadow-i pointer-events-none flex rounded-t-lg  ",children:[jsxRuntimeExports.jsx("div",{className:" draggable-handle pointer-events-auto flex-1 cursor-move items-center gap-2 rounded-tl-sm bg-gradient-to-b from-lime-600 to-emerald-700 py-0.5 pl-2 pr-1 text-lime-100",children:jsxRuntimeExports.jsx("p",{className:" font-medium text-shadow text-shadow-c-black/75 text-shadow-y-px",children:i})}),e&&jsxRuntimeExports.jsx("button",{className:"draggable-cancel pointer-events-auto flex items-center justify-center bg-gradient-to-b from-rose-600 to-red-700 px-2 py-px text-rose-100 hover:from-red-400 hover:to-rose-600",onClick:e,children:jsxRuntimeExports.jsx(X$1,{size:30,strokeWidth:3,className:"drop-shadow drop-shadow-c-black/75 drop-shadow-y-px"})})]})}function WindowContent({children:i}){return jsxRuntimeExports.jsx("div",{className:"scrollbar active:scrollbar-thumb-emerald-600 hover:scrollbar-thumb-emerald-700 scrollbar-track-rounded-full scrollbar-thumb-rounded-full scrollbar-track-emerald-800/25 scrollbar-thumb-emerald-800 m-1 flex-1 overflow-auto",children:i})}function Settings(){const[i,e]=reactExports.useState(),s=useWindowList();return reactExports.useEffect(()=>{function o(){e(!1)}function h(){e(!0)}return document.addEventListener("mousemove",o),document.addEventListener("mouseleave",h),()=>{document.removeEventListener("mousemove",o),document.removeEventListener("mouseleave",h)}},[]),i===void 0?null:jsxRuntimeExports.jsx("div",{id:"slime2-windows",className:clsx$1(i?"slime2-window-exit":"slime2-window-enter","pointer-events-none absolute left-0 top-0 h-screen w-screen p-2"),children:s.map(o=>reactExports.createElement(Window,{...o,key:o.id}))})}function WindowedSettings(){return jsxRuntimeExports.jsx(WindowListProvider,{children:jsxRuntimeExports.jsx(Settings,{})})}function ClientProvider({children:i}){const[e,s]=reactExports.useReducer(clientReducer,initialState$3);return jsxRuntimeExports.jsx(ClientContext.Provider,{value:e,children:jsxRuntimeExports.jsx(ClientDispatchContext.Provider,{value:s,children:i})})}function EventListProvider({children:i}){const[e,s]=reactExports.useReducer(eventListReducer,initialState$1);return jsxRuntimeExports.jsx(EventListContext.Provider,{value:e,children:jsxRuntimeExports.jsx(EventListDispatchContext.Provider,{value:s,children:i})})}function PlatformReadyProvider({children:i}){const[e,s]=reactExports.useReducer(platformReadyReducer,initialState$2);return jsxRuntimeExports.jsx(PlatformReadyContext.Provider,{value:e,children:jsxRuntimeExports.jsx(PlatformReadyDispatchContext.Provider,{value:s,children:i})})}const main="",root=client.createRoot(document.getElementById("slime2-root")),queryClient=new QueryClient;root.render(jsxRuntimeExports.jsx(React$1.StrictMode,{children:jsxRuntimeExports.jsx(ClientProvider,{children:jsxRuntimeExports.jsx(QueryClientProvider,{client:queryClient,children:jsxRuntimeExports.jsx(PlatformReadyProvider,{children:jsxRuntimeExports.jsxs(EventListProvider,{children:[jsxRuntimeExports.jsx(EventList,{}),jsxRuntimeExports.jsx(App,{}),jsxRuntimeExports.jsx(WindowedSettings,{})]})})})})}));
